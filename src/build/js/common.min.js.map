{"version":3,"sources":["webpack:///common.min.js","webpack:///webpack/bootstrap f325d697c382b7c8e513","webpack:///./src/app.js","webpack:///./src/utils/locaStorage.js","webpack:///./~/.npminstall/framework7/1.4.2/framework7/dist/js/framework7.js","webpack:///./src/middlewares/customAjax.js","webpack:///./src/config/index.js","webpack:///./src/js/home.js","webpack:///./src/utils/template.js","webpack:///./src/utils/time.js","webpack:///./src/utils/string.js","webpack:///./src/js/search.js","webpack:///./src/js/filter.js","webpack:///./src/utils/district.js","webpack:///./src/js/selldetail.js","webpack:///./src/js/buydetail.js","webpack:///./src/js/release.js","webpack:///./src/utils/nativeEvent.js","webpack:///./src/js/releaseSelectType.js","webpack:///./src/js/releaseInfo.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_locaStorage","_framework","_framework2","_customAjax","_home","_search","_filter","_selldetail","_buydetail","_release","_releaseSelectType","_releaseInfo","f7","swipeBackPage","imagesLazyLoadThreshold","pushState","animateNavBackIcon","modalTitle","$$","Dom7","window","currentDevice","device","mainView","addView","dynamicNavbar","router","load","url","trigger","onPageInit","page","name","on","back","animatePages","homeInit","searchInit","filterInit","selldetailInit","buydetailInit","releaseInit","releaseSelectTypeInit","releaseInfoInit","_typeof","Symbol","iterator","constructor","get","key","localStorage","getItem","value","JSON","parse","set","val","stringify","setItem","remove","removeItem","Object","defineProperty","Framework7","params","createPageCallback","callbackName","capitalized","replace","match","toUpperCase","app","pageName","callback","onPage","handleInfiniteScroll","virtualList","inf","$","this","scrollTop","scrollHeight","height","offsetHeight","distance","getAttribute","virtualListContainer","find","onTop","hasClass","indexOf","parseInt","length","f7VirtualList","reachEnd","_fixIpadBodyScrolLeft","ipad","document","body","scrollLeft","setTimeout","version","cache","cacheIgnore","cacheIgnoreGetParameters","cacheDuration","preloadPreviousPage","uniqueHistory","uniqueHistoryIgnoreGetParameters","dynamicPageUrl","allowDuplicateUrls","pushStateRoot","undefined","pushStateNoAnimation","pushStateSeparator","pushStateOnLoad","fastClicks","fastClicksDistanceThreshold","fastClicksDelayBetweenClicks","tapHold","tapHoldDelay","tapHoldPreventClicks","activeState","activeStateElements","swipeBackPageThreshold","swipeBackPageActiveArea","swipeBackPageAnimateShadow","swipeBackPageAnimateOpacity","ajaxLinks","externalLinks","sortable","hideNavbarOnPageScroll","hideToolbarOnPageScroll","hideTabbarOnPageScroll","showBarsOnPageScrollEnd","showBarsOnPageScrollTop","swipeout","swipeoutActionsNoFold","swipeoutNoFollow","smartSelectOpenIn","smartSelectBackText","smartSelectPopupCloseText","smartSelectPickerCloseText","smartSelectSearchbar","smartSelectBackOnSelect","scrollTopOnNavbarClick","scrollTopOnStatusbarClick","swipePanel","swipePanelActiveArea","swipePanelCloseOpposite","swipePanelOnlyClose","swipePanelNoFollow","swipePanelThreshold","panelsCloseByOutside","modalButtonOk","modalButtonCancel","modalUsernamePlaceholder","modalPasswordPlaceholder","modalCloseByOutside","actionsCloseByOutside","popupCloseByOutside","modalPreloaderTitle","modalStack","imagesLazyLoadSequential","viewClass","viewMainClass","viewsClass","notificationCloseOnClick","notificationCloseIcon","notificationCloseButtonText","templates","template7Data","template7Pages","precompileTemplates","material","materialPageLoadDelay","materialPreloaderSvg","materialPreloaderHtml","materialRipple","materialRippleElements","init","param","t7","Template7","_compiledTemplates","touchEvents","start","support","touch","move","end","ls","rtl","css","attr","statusbarOverlay","addClass","removeClass","views","View","selector","i","defaults","domCache","linksView","reloadPages","def","view","container","main","contentCache","pagesCache","f7View","pagesContainer","initialPages","initialPagesUrl","initialNavbars","push","eq","allowPageChange","docLocation","location","href","history","viewURL","split","currentPage","currentPageData","activePage","f7PageData","navbarInnerContainer","isScrolling","viewContainerWidth","touchesDiff","touchStartTime","activeNavElements","previousNavElements","activeNavBackIcon","previousNavBackIcon","pageShadow","el","isTouched","isMoved","touchesStart","previousPage","allowViewTouchMove","activeNavbar","previousNavbar","handleTouchStart","e","swipeoutOpenedEl","x","type","targetTouches","pageX","y","pageY","Date","getTime","handleTouchMove","Math","abs","f7PreventSwipeBack","preventSwipeBack","cancel","width","target","parents","is","notFromBorder","offset","left","android","append","closeModal","f7PreventPanelSwipe","preventDefault","inverter","percentage","callbackData","onSwipeBackMove","activePageTranslate","previousPageTranslate","pixelRatio","round","transform","style","opacity","className","activeNavTranslate","f7NavbarRightOffset","previousNavTranslate","f7NavbarLeftOffset","handleTouchEnd","boxShadow","timeDiff","pageChanged","each","translate","sliding","pageBackCallback","pageContainer","position","newPage","oldPage","swipeBack","pageAnimCallback","onSwipeBackBeforeChange","onSwipeBackBeforeReset","transitionEnd","afterBack","onSwipeBackAfterChange","onSwipeBackAfterReset","attachEvents","detach","action","detachEvents","options","loadPage","loadContent","content","reloadPage","reload","reloadContent","reloadPreviousPage","reloadPrevious","reloadPreviousContent","refreshPage","ignoreCache","refreshPreviousPage","hideNavbar","showNavbar","hideToolbar","showToolbar","pushStateUrl","pushStateUrlSplit","pushStateAnimatePages","historyState","state","destroy","pluginHook","getCurrentView","index","popoverView","popupView","panelView","appViews","appView","children","currentViews","navbarInitCallback","navbarContainer","parent","f7NavbarInitialized","navbarData","innerContainer","pageData","eventData","navbar","reinitNavbar","initNavbar","navbarRemoveCallback","initSearchbar","initNavbarWithCallback","viewContainer","pages","sizeNavbars","navbarInner","n","currLeft","diff","right","center","subnavbar","noLeft","noRight","leftWidth","outerWidth","rightWidth","centerWidth","navbarStyles","styles","navbarWidth","offsetWidth","paddingLeft","paddingRight","onLeft","requiredLeft","activeNavbarBackLink","offsetLeft","centerLeft","toolbarContainer","toolbar","Searchbar","removeDiacritics","str","a","diacriticsMap","preventSubmit","input","clearButton","cancelButton","searchList","searchIn","searchBy","found","notFound","overlay","ignore","customSearch","hideDividers","hideGroups","s","active","isVirtualList","defaultDiacriticsRemovalap","base","letters","j","cancelMarginProp","cancelButtonHasMargin","setCancelButtonMargin","transition","show","clientLeft","triggerEvent","eventName","enable","_enable","query","ios","disable","_disable","blur","clear","focus","handleInput","trim","search","previousQuery","internal","foundItems","resetFilter","hide","searchAll","items","searchByItem","values","toLowerCase","compareWithText","itemText","text","join","wordsMatch","title","nextElements","nextAll","nextEl","group","notHidden","filterItems","method","f7Searchbar","searchbar","onBeforeRemove","sb","dataset","once","Messagebar","textarea","maxHeight","pageContent","pageContentPadding","initialBarHeight","initialAreaHeight","sizeTextarea","clientHeight","newAreaHeight","newBarHeight","maxBarHeight","onBottom","bottom","padding-bottom","textareaTimeout","handleTextarea","clearTimeout","f7Messagebar","messagebar","initPageMessagebar","pageBeforeRemove","mb","off","removeFromCache","splice","xhr","_url","time","ajax","beforeSend","onAjaxStart","complete","status","responseText","onAjaxComplete","error","onAjaxError","pageCallbacks","pageNames","returnCallbacks","callbacks","removeIndex","toString","pageCallbacksNames","triggerPageCallbacks","allPagesCallbacks","pageInitCallback","f7PageInitialized","pageQuery","parseUrlQuery","from","context","fromPage","oldNavbarInnerContainer","reinitPage","onPageReinit","preloadOnly","onPageBeforeInit","initPage","pageRemoveCallback","pageContext","onPageBeforeRemove","onPageAfterBack","onPageBack","onPageAfterAnimation","tabBar","onPageBeforeAnimation","initPageMessages","initFormsStorage","initSmartSelects","initPageSwiper","initPullToRefresh","initPageInfiniteScroll","initPageScrollToolbars","initImagesLazyLoad","initPageProgressbar","initPageResizableTextarea","initPageMaterialPreloader","initPageMaterialInputs","initPageMaterialTabbar","reinitPageSwiper","reinitLazyLoad","initPageWithCallback","temporaryDom","createElement","findElement","notCached","leftPage","rightPage","direction","removeClasses","prepareNavbar","newNavbarInner","oldNavbarInner","newNavbarPosition","slidingOffset","animateNavbars","leftNavbarInner","rightNavbarInner","rightText","preprocess","next","pluginProcess","preroute","template7Render","t7_ctx","t7_template","t7_rendered_content","contextName","template","template7Cache","compile","_ctx_path","_ctx","data","pageNameMatch","templateName","url_query","_load","afterAnimation","pushStateClearQueue","historyBecameUnique","pagesInView","reloadPosition","t7_rendered","isDynamicPage","innerHTML","ci","f7RelatedNavbar","f7RelatedPage","newPageName","viewIndex","lastUrl","_history","lastIndexOf","slice","prev","insertBefore","insertAfter","animationEnd","proceed","abort","_back","animateBack","parseNewPage","setPages","navbarInners","force","pageToRemove","navbarToRemove","removeNavbar","unshift","manipulateDom","newNavbar","previousURL","pop","inners","oldNavbar","pageUrl","preloadUrl","_modalTemplateTempDiv","modalStackClearQueue","shift","modal","modalHTML","modalTemplate","buttonsHTML","buttons","bold","titleHTML","textHTML","afterTextHTML","afterText","noButtons","verticalButtons","modalButtonsHTML","cssClass","close","onClick","openModal","alert","callbackOk","arguments","confirm","callbackCancel","prompt","modalLogin","username","password","modalPassword","showPreloader","hidePreloader","showIndicator","hideIndicator","actions","groupSelector","buttonSelector","toPopover","isArray","actionsToPopoverTemplate","modalActionsToPopoverTemplate","actionsToPopover","popoverHTML","popover","modalActionsTemplate","button","buttonClass","label","color","bg","disabled","groups","groupIndex","clickTarget","buttonIndex","buttonParams","removeOnClose","sizePopover","top","modalAngle","modalAngleLeft","modalAngleTop","modalWidth","modalHeight","modalAngleSize","targetWidth","targetHeight","outerHeight","targetOffset","targetParentPage","windowHeight","windowWidth","modalTop","modalLeft","modalPosition","diffX","diffY","max","min","_modal","childNodes","classList","add","popup","pickerModal","loginScreen","isModal","removeData","isPopup","isLoginScreen","isPickerModal","marginTop","isPopover","setProgressbar","progress","speed","progressbar","showProgressbar","parseFloat","hideProgressbar","allowPanelOpen","openPanel","panelPosition","panelTransitionEnd","transitionEndTarget","panel","display","closePanel","effect","activePanel","initSwipePanels","side","opened","innerWidth","panelOverlay","panelWidth","threshold","overlayOpacity","edge","loadImage","onLoad","src","imageIsLoading","imagesSequence","image","Image","onload","onerror","lazyHandler","lazyLoadImages","isElementInViewport","rect","getBoundingClientRect","innerHeight","placeholderSrc","imagesLazyLoadPlaceholder","f7DestroyImagesLazyLoad","destroyImagesLazyLoad","reinitImagesLazyLoad","html","Messages","autoLayout","newMessagesFirst","messageTemplate","layout","message","isSent","appendMessage","props","animate","addMessage","prependMessage","addMessages","newMessages","newMessagesHTML","hasImage","heightBefore","scrollBefore","scrollMessages","messages","messagesToReturn","removeMessage","removeMessages","clean","duration","newScroll","currentScroll","f7Messages","allowSwipeout","initSwipeout","swipeoutEl","swipeOutEl","swipeOutContent","actionsRight","actionsLeft","actionsLeftWidth","actionsRightWidth","buttonsLeft","buttonsRight","overswipeRightButton","overswipeLeftButton","noFoldLeft","noFoldRight","openedActions","buttonOffset","swipeoutClose","swipeoutOpen","overswipeLeft","overswipeRight","$button","pow","_buttonOffset","actionsWidth","noFold","newTranslate","click","closed","dir","swipeOutActions","swipeOutActionsWidth","onSwipeoutClose","closeTO","swipeoutDelete","virtualIndex","f7VirtualListIndex","deleteItem","sortableToggle","sortableContainer","toggleClass","sortableOpen","sortableClose","initSortable","touchStartY","sortingEl","sortingItems","minTop","offsetTop","maxTop","sortingElHeight","currentEl","currentElOffset","currentElHeight","sortingElOffset","oldIndex","newIndex","moveItem","selects","smartSelect","$select","select","valueText","selected","textContent","itemAfter","selectedText","smartSelectAddOption","option","selectName","smartSelectOpen","reLayout","scrollToInput","newPaddingBottom","paddingTop","paddingBottom","pageHeight","picker","pageScrollHeight","inputTop","closeOnHTMLClick","checkMaxLength","selectedOptions","maxLength","checked","handleInputs","virtualListInstance","smartSelectItemTemplate","virtualListHeight","item","openIn","inputName","optionText","backOnSelect","inputType","pageInit","detail","f7SmartSelectPicker","closeText","smartSelectData","pageTitle","backText","pickerCloseText","popupCloseText","formTheme","smartSelectFormTheme","navbarTheme","smartSelectNavbarTheme","toolbarTheme","smartSelectToolbarTheme","pickerHeight","smartSelectPickerHeight","$selectData","optionHasMedia","optionImage","optionIcon","optionGroup","optionGroupLabel","optionIsLabel","previousGroup","optionColor","optionClassName","optionData","multiple","optionClass","groupLabel","isLabel","icon","hasMedia","checkbox","smartSelectItem","inputsHTML","navbarHTML","navbarLayout","toolbarHTML","noNavbar","noToolbar","noTabbar","smartSelectToolbar","smartSelectToolbarTemplate","inPicker","smartSelectNavbar","smartSelectNavbarTemplate","inPopup","inPage","leftTemplate","smartSelectPopupCloseTemplate","smartSelectBackTemplate","searchbarPlaceholder","searchbarCancel","useSearchbar","searchbarHTML","pageHTML","VirtualList","listBlock","cols","dynamicHeightBufferSize","showFilteredItemsOnly","vl","filteredItems","updatableScroll","osVersion","ul","displayDomCache","tempDomElement","lastRepaintY","fragment","createDocumentFragment","indexes","resetScrollTop","update","rowsPerScreen","rowsBefore","rowsAfter","rowsToRender","listHeight","maxBufferHeight","dynamicHeight","setListSize","heights","itemHeight","ceil","render","forceScrollTop","fromIndex","toIndex","heightBeforeFirstItem","heightBeforeLastItem","itemTop","topPosition","currentFromIndex","currentToIndex","renderItem","onItemBeforeInsert","appendChild","onBeforeClear","onItemsBeforeInsert","onItemsAfterInsert","scrollToItem","listTop","handleScroll","handleResize","appendItems","appendItem","replaceAllItems","replaceItem","prependItems","newCache","cached","prependItem","cachedIndex","leftIndex","rightIndex","indexShift","insertItemBefore","deleteItems","prevIndex","deletedItem","deleteAllItems","clearCache","reinitVirtualList","vlists","vlistInstance","os","pullStarted","wasScrolled","touchId","identifier","touches","dynamicTriggerDistance","triggerDistance","startTranslate","useTranslate","refresh","event","changedTouches","done","pullToRefreshDone","destroyPullToRefresh","eventsTarget","hasNavbar","f7DestroyPullToRefresh","pullToRefreshTrigger","pullToRefreshContent","attachInfiniteScroll","infiniteContent","detachInfiniteScroll","scrollContent","bottomBarHeight","navbarHidden","toolbarHidden","tabbarHidden","tabbar","previousScroll","hasToolbar","hasTabbar","hideTabbar","toolbarHeight","tabbarHeight","f7ScrollToolbarsHandler","destroyScrollToolbars","handler","materialTabbarSetHighlight","activeLink","tabLinkWidth","highlightTranslate","tabbarSetHighlight","showTab","tab","tabLink","newTab","tabs","isAnimatedTabs","tabTranslate","swiper","isSwipeableTabs","activeIndex","slideTo","oldTab","oldTabLink","oldTabId","accordionToggle","accordionClose","accordionOpen","list","expandedItem","initFastClicks","findActivableElement","activable","isInsideScrollableView","prop","activeTimeout","rippleTimeout","addActive","activableElement","removeActive","isFormElement","nodes","nodeName","androidNeedsBlur","noBlur","activeElement","targetNeedsFastClick","$el","targetNeedsFocus","tag","skipInputs","readOnly","targetNeedsPrevent","prevent","handleMouseDown","which","touchStartX","rippleTouchStart","handleMouseMove","rippleTouchMove","handleMouseUp","rippleTouchEnd","findRippleElement","needsRipple","rippleParent","createRipple","box","diameter","rippleWave","prepend","rippleTransform","removeRipple","toRemove","removeTimeout","rippleTarget","sendClick","evt","createEvent","eventType","targetElement","initMouseEvent","screenX","screenY","clientX","clientY","forwardedTouchEvent","dispatchEvent","tapHoldFired","tapHoldTimeout","needsFastClickTimeOut","needsFastClick","trackClick","selection","getSelection","rangeCount","focusNode","isCollapsed","activeSelection","scrollParent","f7ScrollTop","timeStamp","lastClickTime","_isMoved","cancelable","webView","handleTouchCancel","handleClick","allowClick","stopImmediatePropagation","stopPropagation","androidChrome","addEventListener","initClickEvents","handleScrollTop","clicked","isLink","handleClicks","open","clickedData","pickerToClose","pickerToOpen","isTabLink","confirmTitle","closeOnCancel","accordionItem","validUrl","preventScrolling","initResize","resize","orientationchange","minimalUi","orientation","formsData","formStoreData","formId","formJSON","formDeleteData","formGetData","formToJSON","form","formData","skipTypes","skipNames","formFromJSON","storeForm","forms","contentType","FormData","serializeObject","success","resizeTextarea","resizableTextarea","f7DestroyResizableTextarea","destroyResizableTextarea","textareas","itemInput","notInputs","initMaterialWatchInputs","addFocusState","els","removeFocusState","watchChangeState","pushStateQueue","queue","stateUrl","stateContent","statePageName","initPushState","handlePopState","blockPopstate","readyState","Swiper","destroySwiperOnRemove","slider","destroySwiper","swipers","onSlideChangeStart","slides","_slider","sliders","sliderInstance","PhotoBrowser","pb","photos","initialSlide","spaceBetween","zoom","maxZoom","minZoom","exposition","expositionHideCaptions","theme","swipeToClose","backLinkText","ofText","loop","lazyLoading","lazyLoadingInPrevNext","lazyLoadingOnTransitionStart","iconsColorClass","iconsColor","preloaderColorClass","photoTemplate","photoLazyTemplate","lazyPhotoTemplate","objectTemplate","captionTemplate","navbarTemplate","toolbarTemplate","htmlTemplate","openIndex","onPopupClose","onOpen","swiperContainer","onClose","swiperWrapper","gestureSlide","gestureImg","gestureImgWrap","onSliderTransitionStart","current","total","loopedSlides","isBeginning","isEnd","captions","captionsContainer","captionIndex","previousSlideVideo","previousIndex","pause","onTransitionStart","onSliderTransitionEnd","scale","currentScale","onTransitionEnd","sliderSettings","nextButton","prevButton","indexButton","preloadImages","onTap","toggleExposition","onDoubleTap","toggleZoom","onSlideChangeEnd","onLazyImageLoad","slide","img","onLazyImageReady","onTouchStart","swipeCloseTouchStart","onTouchMoveOpposite","swipeCloseTouchMove","onTouchEnd","swipeCloseTouchEnd","onSlideGestureStart","onSlideGestureChange","onSlideGestureEnd","onSlideTouchStart","onSlideTouchMove","onSlideTouchEnd","exposed","enableExposition","disableExposition","isScaling","touchX","touchY","offsetX","offsetY","translateX","translateY","imageWidth","imageHeight","scaledWidth","scaledHeight","translateMinX","translateMinY","translateMaxX","translateMaxY","imageTouchesStart","imageIsTouched","imageIsMoved","imageCurrentX","imageCurrentY","imageMinX","imageMinY","imageMaxX","imageMaxY","imageStartX","imageStartY","velocityPrevPositionX","velocityPrevTime","velocityX","velocityPrevPositionY","velocityY","imageTouchesCurrent","getTranslate","floor","now","momentumDurationX","momentumDurationY","momentumDistanceX","newPositionX","momentumDistanceY","newPositionY","momentumDuration","swipeToCloseDiff","swipeToCloseStart","swipeToCloseCurrent","swipeToCloseActiveSlide","swipeToCloseTimeStart","swipeToCloseIsTouched","allowSwipeToClose","swipeToCloseStarted","onSwipeToClose","photoBrowser","Autocomplete","handleInputValue","source","itemsHTML","limit","regExp","RegExp","itemValue","valueProperty","dropdownItemTemplate","textProperty","dropdownPlaceholderText","dropdownPlaceholderTemplate","dropdown","handleDropdownClick","clickedItem","updateInputValueOnSelect","onChange","searchbarPlaceholderText","searchbarCancelText","notFoundText","expandInput","preloaderColor","preloader","opener","itemTemplate","dropdownTemplate","positionDropDown","inputOffset","listBlockOffset","updateValues","valuesHTML","onSearch","aValue","isValues","initEvents","autocomplete","Picker","convertToPopover","onlyInPopover","inline","inPopover","resizeCols","divider","calcSize","setValue","openOnInput","onPickerClose","destroyPickerCol","updateValuesOnMomentum","updateValuesOnTouchmove","rotateEffect","momentumRatio","freeMode","closeByOutsideClick","inputReadOnly","toolbarCloseText","initialized","originBug","navigator","userAgent","arrValues","valueIndex","updateValue","forceValues","newValue","newDisplayValue","displayValue","formatValue","initPickerCol","colElement","updateItems","updateDuringScroll","animationFrameId","requestAnimationFrame","col","touchCurrentY","allowItemClick","currentTranslate","wrapper","cancelAnimationFrame","returnTo","minTranslate","maxTranslate","velocityTranslate","prevTranslate","velocityTime","touchEndTime","velocity","colContainer","colIndex","wrapperHeight","itemsHeight","replaceValues","displayValues","destroyEvents","newItemsHTML","columnHTML","colWidth","colHeight","valueCallbacks","newActiveIndex","previousActiveIndex","selectedItem","itemOffsetTop","translateOffset","itemOffset","itemsFit","angle","f7DestroyPickerCol","onlyItems","columnItemsHTML","textAlign","pickerHTML","pickerClass","colsHTML","f7Picker","Calendar","formatDate","date","year","getFullYear","month","getMonth","month1","day","getDate","weekDay","getDay","dateFormat","substring","monthNames","monthNamesShort","dayNames","dayNamesShort","destroyCalendarEvents","firstDay","weekendDays","rangePicker","minDate","maxDate","events","rangesClasses","touchMove","closeOnSelect","monthPicker","monthPickerTemplate","yearPicker","yearPickerTemplate","weekHeader","headerPlaceholder","header","footer","headerTemplate","footerTemplate","isH","animating","addValue","inValuesIndex","sort","b","onlyHeader","inputValue","valueDate","initCalendarEvents","monthsTranslate","touchCurrentX","wrapperWidth","resetMonth","nextMonth","prevMonth","handleDayClick","dateYear","dateMonth","dateDay","onDayClick","prevYear","nextYear","f7DestroyCalendarEvents","dateInRange","dayDate","range","to","daysInMonth","d","monthHTML","daysInPrevMonth","firstDayOfMonthIndex","k","hasEvent","currentValues","rows","dayIndex","today","setHours","rowHTML","dayNumber","weekDayIndex","dayYear","dayMonth","updateCurrentMonthYear","currentMonth","months","currentYear","onMonthChangeStart","currentIndex","onMonthYearChangeStart","onMonthChangeEnd","rebuildBoth","nextMonthHTML","prevMonthHTML","newMonthHTML","setMonthsTranslate","onMonthAdd","onMonthYearChangeEnd","prevMonthTranslate","currentMonthTranslate","nextMonthTranslate","nextDate","nextDateTime","transitionEndCallback","prevDate","prevDateTime","setYearMonth","targetDate","currentDate","monthTranslate","wrapperTranslate","layoutDate","currentMonthHTML","monthsHTML","weekHeaderHTML","dayName","headerHTML","footerHTML","f7Calendar","calendar","_tempNotificationElement","addNotification","media","notificationMedia","notificationTitle","subtitle","notificationSubtitle","closeIcon","hold","notificationHold","closeOnClick","notificationTemplate","notification","closeNotification","additionalClass","initTemplate7Templates","_plugins","initPlugins","plugin","plugins","hook","hooks","pluginPrevent","prevents","process","processed","getDeviceInfo","onAppInit","arr","_this","tempParent","toCreate","querySelectorAll","getElementById","nodeType","prototype","classes","contains","toggle","attrs","setAttribute","attrName","removeAttr","removeAttribute","propName","dom7ElementDataStorage","dataKey","attributes","toCamelCase","_transform","elStyle","webkitTransform","MsTransform","msTransform","MozTransform","OTransform","webkitTransitionDuration","MsTransitionDuration","msTransitionDuration","MozTransitionDuration","OTransitionDuration","transitionDuration","targetSelector","listener","capture","handleLiveEvent","dom7LiveListeners","liveListener","removeEventListener","proxy","dom","CustomEvent","bubbles","initEvent","fireCallBack","includeMargins","getPropertyValue","clientTop","pageYOffset","pageXOffset","getComputedStyle","filter","matchedItems","_html","_text","compareWith","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","child","previousSibling","returnIndex","newChild","tempDiv","firstChild","appendTo","prependTo","before","parentNode","cloneNode","after","nextSibling","nextElementSibling","nextEls","previousElementSibling","prevAll","prevEls","unique","closest","foundElements","removeChild","toAdd","createMethod","notTrigger","shortcuts","globalAjaxOptions","ajaxSetup","optionName","optionValue","_jsonpRequests","fireAjaxCallback","async","user","headers","xhrFields","statusCode","processData","dataType","timeout","globalOptionName","globalOptionValue","defaultValue","paramsPrefix","_method","stringData","abortTimeout","callbackSplit","requestUrl","addVars","script","querySelector","XMLHttpRequest","requestParameters","postData","postDataInstances","ArrayBuffer","Blob","Document","boundary","setRequestHeader","_data","_newData","headerName","headerCallback","crossDomain","test","$2","host","fieldName","fieldValue","xhrTimeout","responseData","err","parseerror","responseType","response","send","onabort","methods","apply","hasOwnProperty","var_name","_parents","encodeURIComponent","var_value","resultArray","separator","newParents","toPush","string","group1","axis","matrix","curTransform","curStyle","transformMatrix","WebKitCSSMatrix","map","m41","m42","webkitRequestAnimationFrame","mozRequestAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","supportTouch","DocumentTouch","fn","scrollTo","easing","startTime","easeProgress","cos","PI","animateTop","currentTop","newTop","animateLeft","currentLeft","newLeft","maxLeft","scrollWidth","ua","ipod","iphone","osVersionArr","statusBar","screen","classNames","devicePixelRatio","major","isFunction","func","helperToSlices","shiftIndex","helperParts","slices","part","hashParts","hashName","hashContent","hash","stringToBlocks","blocks","_blocks","block","helperSlices","helperName","isPartial","helperContext","helperHash","helperContent","elseContent","toSkip","foundClosed","foundElse","depth","inverseContent","getCompileFn","getCompileInverse","getCompileVar","ctx","variable","parts","levelsUp","newDepth","isFinite","getCompiledArguments","contextArray","t","Error","resultString","compiledArguments","helpers","eval","compiled","partials","_partial","partialName","root","escape","if","inverse","unless","ret","reverse","first","last","with","delimiter","delimeter","js","expression","js_compare","condition","instance","rendered","registerHelper","unregisterHelper","registerPartial","unregisterPartial","autoplay","autoplayTimeoutId","fixLoop","_slideNext","emit","autoplayStopOnLast","stopAutoplay","_slideTo","findElementInEvent","_el","initObserver","ObserverFunc","MutationObserver","WebkitMutationObserver","observer","mutations","forEach","mutation","onResize","observe","childList","characterData","observers","setParallaxTransform","pX","pY","rtlFactor","isHorizontal","normalizeEventName","touchEventsTarget","autoplayDisableOnInteraction","iOSEdgeSwipeDetection","iOSEdgeSwipeThreshold","freeModeMomentum","freeModeMomentumRatio","freeModeMomentumBounce","freeModeMomentumBounceRatio","freeModeSticky","freeModeMinimumVelocity","autoHeight","setWrapperSize","virtualTranslate","coverflow","rotate","stretch","modifier","slideShadows","flip","limitRotation","cube","shadow","shadowOffset","shadowScale","fade","crossFade","parallax","scrollbar","scrollbarHide","scrollbarDraggable","scrollbarSnapOnRelease","keyboardControl","mousewheelControl","mousewheelReleaseOnEdges","mousewheelInvert","mousewheelForceToAxis","mousewheelSensitivity","hashnav","breakpoints","slidesPerView","slidesPerColumn","slidesPerColumnFill","slidesPerGroup","centeredSlides","slidesOffsetBefore","slidesOffsetAfter","roundLengths","touchRatio","touchAngle","simulateTouch","shortSwipes","longSwipes","longSwipesRatio","longSwipesMs","followFinger","onlyExternal","touchMoveStopPropagation","uniqueNavElements","pagination","paginationElement","paginationClickable","paginationHide","paginationBulletRender","paginationProgressRender","paginationFractionRender","paginationCustomRender","paginationType","resistance","resistanceRatio","watchSlidesProgress","watchSlidesVisibility","grabCursor","preventClicks","preventClicksPropagation","slideToClickedSlide","lazyLoadingInPrevNextAmount","updateOnImagesReady","loopAdditionalSlides","control","controlInverse","controlBy","allowSwipeToPrev","allowSwipeToNext","swipeHandler","noSwiping","noSwipingClass","slideClass","slideActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slidePrevClass","wrapperClass","bulletClass","bulletActiveClass","buttonDisabledClass","paginationCurrentClass","paginationTotalClass","paginationHiddenClass","paginationProgressbarClass","observeParents","a11y","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","runCallbacksOnInit","initialVirtualTranslate","originalParams","jQuery","deepParam","deepDef","Zepto","currentBreakpoint","getActiveBreakpoint","point","breakpoint","points","setBreakpoint","breakPointsParams","needsReLoop","destroyLoop","reLoop","flexbox","transforms3d","paginationContainer","wrongRTL","lockSwipeToNext","lockSwipeToPrev","lockSwipes","unlockSwipeToNext","unlockSwipeToPrev","unlockSwipes","cursor","imagesToLoad","imagesLoaded","imgElement","srcset","checkForComplete","onReady","_onReady","currentSrc","autoplaying","autoplayPaused","startAutoplay","pauseAutoplay","snapGrid","updateAutoHeight","newHeight","updateContainerSize","clientWidth","size","updateSlidesSize","slidesGrid","slidesSizesGrid","slidePosition","prevSlideSize","virtualSize","marginLeft","marginRight","marginBottom","slidesNumberEvenToRows","slideSize","slidesPerRow","numFullColumns","newSlideOrderIndex","column","row","-webkit-box-ordinal-group","-moz-box-ordinal-group","-ms-flex-order","-webkit-order","order","margin-top","swiperSlideSize","newSlidesGrid","updateSlidesOffset","swiperSlideOffset","updateSlidesProgress","offsetCenter","slideProgress","slideBefore","slideAfter","isVisible","updateProgress","translatesDiff","wasBeginning","wasEnd","updateActiveIndex","snapIndex","updateClasses","activeSlide","nextSlide","prevSlide","bullets","scaleX","scaleY","updatePagination","paginationHTML","numberOfBullets","initPagination","updateTranslate","forceSetTranslate","setWrapperTranslate","translated","controller","spline","forceUpdatePagination","slideChangedBySlideTo","lazy","desktopEvents","pointerEnabled","msPointerEnabled","actionDom","moveCapture","nested","browser","ie","onTouchMove","onClickNext","onEnterKey","onClickPrev","onClickIndex","slideNext","slidePrev","updateClickedSlide","slideFound","clickedSlide","clickedIndex","realIndex","slideToIndex","allowTouchCallbacks","allowThresholdMove","clickTimeout","allowMomentumBounce","formElements","velocities","startX","startY","currentX","currentY","isTouchEvent","startMoving","originalEvent","swipeDirection","preventedByNestedSwiper","atan2","ieTouch","getWrapperTranslate","setWrapperTransition","disableParentSwiper","currentPos","lastMoveEvent","velocityEvent","momentumDistance","newPosition","afterBouncePosition","doBounce","bounceAmount","slideReset","stopIndex","groupSize","ratio","slideIndex","runCallbacks","setHash","_slidePrev","byController","effects","setTransition","z","setTranslate","initObservers","containerParents","disconnectObservers","disconnect","createLoop","prependSlides","appendSlides","updatePosition","appendSlide","prependSlide","removeSlide","slidesIndexes","indexToRemove","removeAllSlides","tx","ty","slideOpacity","eventTriggered","triggerEvents","rotateY","rotateX","zIndex","shadowBefore","shadowAfter","cubeShadow","wrapperRotate","slideAngle","tz","-webkit-transform-origin","-moz-transform-origin","-ms-transform-origin","transform-origin","shadowAngle","multiplier","sin","scale1","scale2","zFactor","isSafari","isUiWebView","slideOffset","offsetMultiplier","translateZ","slideTransform","ws","perspectiveOrigin","initialImageLoaded","loadImageInSlide","loadInDuplicate","_img","background","slideOriginalIndex","originalSlide","duplicatedSlide","amount","spv","maxIndex","minIndex","setDragPosition","pointerPosition","track","dragSize","positionMin","moveDivider","positionMax","dragStart","dragTimeout","drag","dragMove","returnValue","dragEnd","enableDraggable","disableDraggable","trackSize","newPos","newSize","LinearSpline","lastIndex","i1","i3","interpolate","x2","binarySearch","guess","array","getInterpolateFunction","setControlledTranslate","controlledTranslate","controlled","setControlledTransition","parallaxDuration","callPlugins","emitterEventListeners","_handler","makeFocusable","addRole","role","addLabel","keyCode","notify","liveRegion","bullet","enableKeyboardControl","enableMousewheelControl","cleanupStyles","deleteInstance","disableKeyboardControl","disableMousewheelControl","msMaxTouchPoints","maxTouchPoints","Modernizr","csstransforms3d","div","_classCallCheck","Constructor","TypeError","_createClass","defineProperties","descriptor","enumerable","configurable","writable","protoProps","staticProps","_config","_config2","_locaStorage2","CustomClass","api","res","cacheKeyMaxLen","apiCategory","isMandatory","noCache","saveKey","getKey","newData","getData","cacheData","CustomAjax","configs","backgroundImgUrl","pageSize","cacheMaxLen","demandInfo","getDemandInfoList","getFishTypeList/5","getDemandInfo","userAddDemandInfo","fishType","getChildrenFishTypeList","catType","catListHtml","_template","home","cat","_string","butListHtml","buy","_customAjax2","ptrContent","_time","imge_path","price","fish_type_name","specifications","create_time","contact_name","province_name","city_name","personal_authentication_state","enterprise_authentication_state","timeDifference","stock","isV","link","li","selldetail","cert","path","parant_id","parant_name","searchResultNull","districtRender","postcode","unix","unixs","getHours","getMinutes","unixMonth","getSeconds","unixday","todayZero","currentUnix","todayZeroUnix","yestedayZeroUnix","qiantianZeroUnix","unixDefi","temp","hourt","centerShowTime","sevenZeroUnix","mint","hideVal","searchButton","searchVal","listHtml","oninput","hrefFilterPage","_page$query","keyvalue","release","cityId","searchBtn","allFishTypeChild","searchValue","currentFishId","currentCityId","pageNo","_type","isInfinite","loading","pullToRefresh","releaseFishName","parentFishInfo","listCallback","fishTypeRootCallback","typeHtml","fishTypeChildCallback","ele","rootId","categoryFish","innerText","clickTab","type_","rootDistrict","_district2","province","districtHtml","city","index_","districtItem","_type_","tabText","childId","_district","isReleaseForMe","certList","_data$data","userInfo","business_license_url","user_ishCertificate_list","locaUserId","provinceName","describe","cityName","fishTypeName","createTime","imgePath","contactName","requirementPhone","enterpriseAuthenticationTime","personalAuthenticationState","enterpriseAuthenticationState","imgUrl","certHtml","console","log","_id","_nativeEvent2","apiCount","contactUs","_nativeEvent","_device","JS_UMengToCount","yudada","_device2","JS_MakeCall","_device3","JS_ChooseAddress","nativeEvent","fishId","fishName","parentFishId","parentFishName","coordinate","phoneNumber","getAdreesSys","longitude","latitude","address","eventChooseAddress","getCityId","_index","cityItem","subInfoTest","spec","phone","_getCityId","provinceId","fishParentTypeId","fishParentTypeName","fishTypeId"],"mappings":"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E,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,aAKpBhzE,KAAQ,MACRgzE,SAAY,SACZuD,OAEQv2E,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,OACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,aAKpBhzE,KAAQ,MACRgzE,SAAY,SACZuD,OAEQv2E,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,aAKpBhzE,KAAQ,MACRgzE,SAAY,SACZuD,OAEQv2E,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,OACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,aAKpBhzE,KAAQ,MACRgzE,SAAY,SACZuD,OAEQv2E,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,aAKpBhzE,KAAQ,MACRgzE,SAAY,SACZuD,OAEQv2E,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,OACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,aAKpBhzE,KAAQ,MACRgzE,SAAY,SACZuD,OAEQv2E,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,WAGZhzE,KAAQ,MACRgzE,SAAY,aAKpBhzE,KAAQ,MACRgzE,SAAY,SACZuD,OAEQv2E,KAAQ,MACRgzE,SAAY,WAGZhzE,KA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","file":"common.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"js\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _locaStorage = __webpack_require__(1);\n\t\n\tvar _locaStorage2 = _interopRequireDefault(_locaStorage);\n\t\n\tvar _framework = __webpack_require__(2);\n\t\n\tvar _framework2 = _interopRequireDefault(_framework);\n\t\n\tvar _customAjax = __webpack_require__(3);\n\t\n\tvar _customAjax2 = _interopRequireDefault(_customAjax);\n\t\n\tvar _home = __webpack_require__(5);\n\t\n\tvar _search = __webpack_require__(9);\n\t\n\tvar _filter = __webpack_require__(10);\n\t\n\tvar _selldetail = __webpack_require__(12);\n\t\n\tvar _buydetail = __webpack_require__(13);\n\t\n\tvar _release = __webpack_require__(14);\n\t\n\tvar _releaseSelectType = __webpack_require__(16);\n\t\n\tvar _releaseInfo = __webpack_require__(17);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// init f7\n\tvar f7 = new _framework2.default({\n\t    swipeBackPage: true,\n\t    imagesLazyLoadThreshold: 300,\n\t    pushState: true,\n\t    animateNavBackIcon: true,\n\t    modalTitle: 'Yudada'\n\t});\n\t// import _ from 'lodash';\n\t// import store from './utils/locaStorage'\n\t\n\tvar $$ = Dom7;\n\twindow.currentDevice = f7.device;\n\tvar mainView = f7.addView('.view-main', {\n\t    dynamicNavbar: true\n\t});\n\t// load index\n\tmainView.router.load({\n\t    url: 'views/home.html'\n\t});\n\t\n\t/*\n\t * Trigger lazy load img.\n\t */\n\t$$('img.lazy').trigger('lazy');\n\t\n\t/*\n\t * some kinds of loading style.\n\t * 1: app.showIndicator() \n\t * 2: app.showPreloader() \n\t * 3: app.showPreloader('My text...') \n\t * hide: app.hide*\n\t */\n\t\n\tvar initEvent = f7.onPageInit('*', function (page) {\n\t    // show loading.\n\t    if (page.name !== 'home' && page.name) {}\n\t    // f7.showIndicator();\n\t\n\t    // if(page.name in ['home', 'search', 'filter']){\n\t    //     mainView.hideNavbar();\n\t    // }\n\t    $$('.link-back').on('click', function () {\n\t        mainView.router.back({\n\t            animatePages: true\n\t        });\n\t    });\n\t    page.name === 'home' && (0, _home.homeInit)(f7, mainView, page);\n\t    page.name === 'search' && (0, _search.searchInit)(f7, mainView, page);\n\t    page.name === 'filter' && (0, _filter.filterInit)(f7, mainView, page);\n\t    page.name === 'selldetail' && (0, _selldetail.selldetailInit)(f7, mainView, page);\n\t    page.name === 'buydetail' && (0, _buydetail.buydetailInit)(f7, mainView, page);\n\t    page.name === 'release' && (0, _release.releaseInit)(f7, mainView, page);\n\t    page.name === 'releaseSelectType' && (0, _releaseSelectType.releaseSelectTypeInit)(f7, mainView, page);\n\t    page.name === 'releaseInfo' && (0, _releaseInfo.releaseInfoInit)(f7, mainView, page);\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tmodule.exports = {\n\t    get: function get(key) {\n\t        if (!window.localStorage.getItem(key)) {\n\t            return;\n\t        }\n\t        var value = window.localStorage.getItem(key);\n\t\n\t        return JSON.parse(value);\n\t    },\n\t    set: function set(key, val) {\n\t        if (!key) {\n\t            return;\n\t        }\n\t        var value = void 0;\n\t        if ((typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object') {\n\t            value = JSON.stringify(val);\n\t        } else {\n\t            value = val;\n\t        }\n\t        window.localStorage.setItem(key, val);\n\t    },\n\t    remove: function remove(key) {\n\t        window.localStorage.removeItem(key);\n\t    }\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t/**\n\t * Framework7 1.4.2\n\t * Full Featured Mobile HTML Framework For Building iOS & Android Apps\n\t * \n\t * http://www.idangero.us/framework7\n\t * \n\t * Copyright 2016, Vladimir Kharlampidi\n\t * The iDangero.us\n\t * http://www.idangero.us/\n\t * \n\t * Licensed under MIT\n\t * \n\t * Released on: February 27, 2016\n\t */\n\t\n\t'use strict';\n\t/*===========================\n\tFramework 7\n\t===========================*/\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tvar Framework7 = function Framework7(params) {\n\t    // App\n\t    var app = this;\n\t\n\t    // Version\n\t    app.version = '1.4.2';\n\t\n\t    // Default Parameters\n\t    app.params = {\n\t        cache: true,\n\t        cacheIgnore: [],\n\t        cacheIgnoreGetParameters: false,\n\t        cacheDuration: 1000 * 60 * 10, // Ten minutes\n\t        preloadPreviousPage: true,\n\t        uniqueHistory: false,\n\t        uniqueHistoryIgnoreGetParameters: false,\n\t        dynamicPageUrl: 'content-{{index}}',\n\t        allowDuplicateUrls: false,\n\t        router: true,\n\t        // Push State\n\t        pushState: false,\n\t        pushStateRoot: undefined,\n\t        pushStateNoAnimation: false,\n\t        pushStateSeparator: '#!/',\n\t        pushStateOnLoad: true,\n\t        // Fast clicks\n\t        fastClicks: true,\n\t        fastClicksDistanceThreshold: 10,\n\t        fastClicksDelayBetweenClicks: 50,\n\t        // Tap Hold\n\t        tapHold: false,\n\t        tapHoldDelay: 750,\n\t        tapHoldPreventClicks: true,\n\t        // Active State\n\t        activeState: true,\n\t        activeStateElements: 'a, button, label, span',\n\t        // Animate Nav Back Icon\n\t        animateNavBackIcon: false,\n\t        // Swipe Back\n\t        swipeBackPage: true,\n\t        swipeBackPageThreshold: 0,\n\t        swipeBackPageActiveArea: 30,\n\t        swipeBackPageAnimateShadow: true,\n\t        swipeBackPageAnimateOpacity: true,\n\t        // Ajax\n\t        ajaxLinks: undefined, // or CSS selector\n\t        // External Links\n\t        externalLinks: '.external', // CSS selector\n\t        // Sortable\n\t        sortable: true,\n\t        // Scroll toolbars\n\t        hideNavbarOnPageScroll: false,\n\t        hideToolbarOnPageScroll: false,\n\t        hideTabbarOnPageScroll: false,\n\t        showBarsOnPageScrollEnd: true,\n\t        showBarsOnPageScrollTop: true,\n\t        // Swipeout\n\t        swipeout: true,\n\t        swipeoutActionsNoFold: false,\n\t        swipeoutNoFollow: false,\n\t        // Smart Select Back link template\n\t        smartSelectOpenIn: 'page', // or 'popup' or 'picker'\n\t        smartSelectBackText: 'Back',\n\t        smartSelectPopupCloseText: 'Close',\n\t        smartSelectPickerCloseText: 'Done',\n\t        smartSelectSearchbar: false,\n\t        smartSelectBackOnSelect: false,\n\t        // Tap Navbar or Statusbar to scroll to top\n\t        scrollTopOnNavbarClick: false,\n\t        scrollTopOnStatusbarClick: false,\n\t        // Panels\n\t        swipePanel: false, // or 'left' or 'right'\n\t        swipePanelActiveArea: 0,\n\t        swipePanelCloseOpposite: true,\n\t        swipePanelOnlyClose: false,\n\t        swipePanelNoFollow: false,\n\t        swipePanelThreshold: 0,\n\t        panelsCloseByOutside: true,\n\t        // Modals\n\t        modalButtonOk: 'OK',\n\t        modalButtonCancel: 'Cancel',\n\t        modalUsernamePlaceholder: 'Username',\n\t        modalPasswordPlaceholder: 'Password',\n\t        modalTitle: 'Framework7',\n\t        modalCloseByOutside: false,\n\t        actionsCloseByOutside: true,\n\t        popupCloseByOutside: true,\n\t        modalPreloaderTitle: 'Loading... ',\n\t        modalStack: true,\n\t        // Lazy Load\n\t        imagesLazyLoadThreshold: 0,\n\t        imagesLazyLoadSequential: true,\n\t        // Name space\n\t        viewClass: 'view',\n\t        viewMainClass: 'view-main',\n\t        viewsClass: 'views',\n\t        // Notifications defaults\n\t        notificationCloseOnClick: false,\n\t        notificationCloseIcon: true,\n\t        notificationCloseButtonText: 'Close',\n\t        // Animate Pages\n\t        animatePages: true,\n\t        // Template7\n\t        templates: {},\n\t        template7Data: {},\n\t        template7Pages: false,\n\t        precompileTemplates: false,\n\t        // Material\n\t        material: false,\n\t        materialPageLoadDelay: 0,\n\t        materialPreloaderSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"75\" width=\"75\" viewbox=\"0 0 75 75\"><circle cx=\"37.5\" cy=\"37.5\" r=\"33.5\" stroke-width=\"8\"/></svg>',\n\t        materialPreloaderHtml: '<span class=\"preloader-inner\">' + '<span class=\"preloader-inner-gap\"></span>' + '<span class=\"preloader-inner-left\">' + '<span class=\"preloader-inner-half-circle\"></span>' + '</span>' + '<span class=\"preloader-inner-right\">' + '<span class=\"preloader-inner-half-circle\"></span>' + '</span>' + '</span>',\n\t        materialRipple: true,\n\t        materialRippleElements: '.ripple, a.link, a.item-link, .button, .modal-button, .tab-link, .label-radio, .label-checkbox, .actions-modal-button, a.searchbar-clear, a.floating-button, .floating-button > a, .speed-dial-buttons a',\n\t        // Auto init\n\t        init: true\n\t    };\n\t\n\t    // Extend defaults with parameters\n\t    for (var param in params) {\n\t        app.params[param] = params[param];\n\t    }\n\t\n\t    // DOM lib\n\t    var $ = Dom7;\n\t\n\t    // Template7 lib\n\t    var t7 = Template7;\n\t    app._compiledTemplates = {};\n\t\n\t    // Touch events\n\t    app.touchEvents = {\n\t        start: app.support.touch ? 'touchstart' : 'mousedown',\n\t        move: app.support.touch ? 'touchmove' : 'mousemove',\n\t        end: app.support.touch ? 'touchend' : 'mouseup'\n\t    };\n\t\n\t    // Link to local storage\n\t    app.ls = window.localStorage;\n\t\n\t    // RTL\n\t    app.rtl = $('body').css('direction') === 'rtl';\n\t    if (app.rtl) $('html').attr('dir', 'rtl');\n\t\n\t    // Overwrite statusbar overlay\n\t    if (typeof app.params.statusbarOverlay !== 'undefined') {\n\t        if (app.params.statusbarOverlay) $('html').addClass('with-statusbar-overlay');else $('html').removeClass('with-statusbar-overlay');\n\t    }\n\t\n\t    /*======================================================\n\t    ************   Views   ************\n\t    ======================================================*/\n\t    app.views = [];\n\t    var View = function View(selector, params) {\n\t        var defaults = {\n\t            dynamicNavbar: false,\n\t            domCache: false,\n\t            linksView: undefined,\n\t            reloadPages: false,\n\t            uniqueHistory: app.params.uniqueHistory,\n\t            uniqueHistoryIgnoreGetParameters: app.params.uniqueHistoryIgnoreGetParameters,\n\t            allowDuplicateUrls: app.params.allowDuplicateUrls,\n\t            swipeBackPage: app.params.swipeBackPage,\n\t            swipeBackPageAnimateShadow: app.params.swipeBackPageAnimateShadow,\n\t            swipeBackPageAnimateOpacity: app.params.swipeBackPageAnimateOpacity,\n\t            swipeBackPageActiveArea: app.params.swipeBackPageActiveArea,\n\t            swipeBackPageThreshold: app.params.swipeBackPageThreshold,\n\t            animatePages: app.params.animatePages,\n\t            preloadPreviousPage: app.params.preloadPreviousPage\n\t        };\n\t        var i;\n\t\n\t        // Params\n\t        params = params || {};\n\t\n\t        // Disable dynamic navbar for material theme\n\t        if (params.dynamicNavbar && app.params.material) params.dynamicNavbar = false;\n\t\n\t        // Extend params with defaults\n\t        for (var def in defaults) {\n\t            if (typeof params[def] === 'undefined') {\n\t                params[def] = defaults[def];\n\t            }\n\t        }\n\t        // View\n\t        var view = this;\n\t        view.params = params;\n\t\n\t        // Selector\n\t        view.selector = selector;\n\t\n\t        // Container\n\t        var container = $(selector);\n\t        view.container = container[0];\n\t\n\t        // Fix Selector\n\t\n\t        if (typeof selector !== 'string') {\n\t            // Supposed to be HTMLElement or Dom7\n\t            selector = (container.attr('id') ? '#' + container.attr('id') : '') + (container.attr('class') ? '.' + container.attr('class').replace(/ /g, '.').replace('.active', '') : '');\n\t            view.selector = selector;\n\t        }\n\t\n\t        // Is main\n\t        view.main = container.hasClass(app.params.viewMainClass);\n\t\n\t        // Content cache\n\t        view.contentCache = {};\n\t\n\t        // Pages cache\n\t        view.pagesCache = {};\n\t\n\t        // Store View in element for easy access\n\t        container[0].f7View = view;\n\t\n\t        // Pages\n\t        view.pagesContainer = container.find('.pages')[0];\n\t        view.initialPages = [];\n\t        view.initialPagesUrl = [];\n\t        view.initialNavbars = [];\n\t        if (view.params.domCache) {\n\t            var initialPages = container.find('.page');\n\t            for (i = 0; i < initialPages.length; i++) {\n\t                view.initialPages.push(initialPages[i]);\n\t                view.initialPagesUrl.push('#' + initialPages.eq(i).attr('data-page'));\n\t            }\n\t            if (view.params.dynamicNavbar) {\n\t                var initialNavbars = container.find('.navbar-inner');\n\t                for (i = 0; i < initialNavbars.length; i++) {\n\t                    view.initialNavbars.push(initialNavbars[i]);\n\t                }\n\t            }\n\t        }\n\t\n\t        view.allowPageChange = true;\n\t\n\t        // Location\n\t        var docLocation = document.location.href;\n\t\n\t        // History\n\t        view.history = [];\n\t        var viewURL = docLocation;\n\t        var pushStateSeparator = app.params.pushStateSeparator;\n\t        var pushStateRoot = app.params.pushStateRoot;\n\t        if (app.params.pushState && view.main) {\n\t            if (pushStateRoot) {\n\t                viewURL = pushStateRoot;\n\t            } else {\n\t                if (viewURL.indexOf(pushStateSeparator) >= 0 && viewURL.indexOf(pushStateSeparator + '#') < 0) viewURL = viewURL.split(pushStateSeparator)[0];\n\t            }\n\t        }\n\t\n\t        // Active Page\n\t        var currentPage, currentPageData;\n\t        if (!view.activePage) {\n\t            currentPage = $(view.pagesContainer).find('.page-on-center');\n\t            if (currentPage.length === 0) {\n\t                currentPage = $(view.pagesContainer).find('.page:not(.cached)');\n\t                currentPage = currentPage.eq(currentPage.length - 1);\n\t            }\n\t            if (currentPage.length > 0) {\n\t                currentPageData = currentPage[0].f7PageData;\n\t            }\n\t        }\n\t\n\t        // View startup URL\n\t        if (view.params.domCache && currentPage) {\n\t            view.url = container.attr('data-url') || view.params.url || '#' + currentPage.attr('data-page');\n\t            view.pagesCache[view.url] = currentPage.attr('data-page');\n\t        } else view.url = container.attr('data-url') || view.params.url || viewURL;\n\t\n\t        // Update current page Data\n\t        if (currentPageData) {\n\t            currentPageData.view = view;\n\t            currentPageData.url = view.url;\n\t            if (view.params.domCache && view.params.dynamicNavbar && !currentPageData.navbarInnerContainer) {\n\t                currentPageData.navbarInnerContainer = view.initialNavbars[view.initialPages.indexOf(currentPageData.container)];\n\t            }\n\t            view.activePage = currentPageData;\n\t            currentPage[0].f7PageData = currentPageData;\n\t        }\n\t\n\t        // Store to history main view's url\n\t        if (view.url) {\n\t            view.history.push(view.url);\n\t        }\n\t\n\t        // Touch events\n\t        var isTouched = false,\n\t            isMoved = false,\n\t            touchesStart = {},\n\t            isScrolling,\n\t            activePage = [],\n\t            previousPage = [],\n\t            viewContainerWidth,\n\t            touchesDiff,\n\t            allowViewTouchMove = true,\n\t            touchStartTime,\n\t            activeNavbar = [],\n\t            previousNavbar = [],\n\t            activeNavElements,\n\t            previousNavElements,\n\t            activeNavBackIcon,\n\t            previousNavBackIcon,\n\t            dynamicNavbar,\n\t            pageShadow,\n\t            el;\n\t\n\t        view.handleTouchStart = function (e) {\n\t            if (!allowViewTouchMove || !view.params.swipeBackPage || isTouched || app.swipeoutOpenedEl || !view.allowPageChange) return;\n\t            isMoved = false;\n\t            isTouched = true;\n\t            isScrolling = undefined;\n\t            touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n\t            touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n\t            touchStartTime = new Date().getTime();\n\t            dynamicNavbar = view.params.dynamicNavbar && container.find('.navbar-inner').length > 1;\n\t        };\n\t\n\t        view.handleTouchMove = function (e) {\n\t            if (!isTouched) return;\n\t            var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n\t            var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\t            if (typeof isScrolling === 'undefined') {\n\t                isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\n\t            }\n\t            if (isScrolling || e.f7PreventSwipeBack || app.preventSwipeBack) {\n\t                isTouched = false;\n\t                return;\n\t            }\n\t            if (!isMoved) {\n\t                var cancel = false;\n\t                // Calc values during first move fired\n\t                viewContainerWidth = container.width();\n\t                var target = $(e.target);\n\t                var swipeout = target.hasClass('swipeout') ? target : target.parents('.swipeout');\n\t                if (swipeout.length > 0) {\n\t                    if (!app.rtl && swipeout.find('.swipeout-actions-left').length > 0) cancel = true;\n\t                    if (app.rtl && swipeout.find('.swipeout-actions-right').length > 0) cancel = true;\n\t                }\n\t                activePage = target.is('.page') ? target : target.parents('.page');\n\t                if (activePage.hasClass('no-swipeback')) cancel = true;\n\t                previousPage = container.find('.page-on-left:not(.cached)');\n\t                var notFromBorder = touchesStart.x - container.offset().left > view.params.swipeBackPageActiveArea;\n\t                if (app.rtl) {\n\t                    notFromBorder = touchesStart.x < container.offset().left - container[0].scrollLeft + viewContainerWidth - view.params.swipeBackPageActiveArea;\n\t                } else {\n\t                    notFromBorder = touchesStart.x - container.offset().left > view.params.swipeBackPageActiveArea;\n\t                }\n\t                if (notFromBorder) cancel = true;\n\t                if (previousPage.length === 0 || activePage.length === 0) cancel = true;\n\t                if (cancel) {\n\t                    isTouched = false;\n\t                    return;\n\t                }\n\t\n\t                if (view.params.swipeBackPageAnimateShadow && !app.device.android) {\n\t                    pageShadow = activePage.find('.swipeback-page-shadow');\n\t                    if (pageShadow.length === 0) {\n\t                        pageShadow = $('<div class=\"swipeback-page-shadow\"></div>');\n\t                        activePage.append(pageShadow);\n\t                    }\n\t                }\n\t\n\t                if (dynamicNavbar) {\n\t                    activeNavbar = container.find('.navbar-on-center:not(.cached)');\n\t                    previousNavbar = container.find('.navbar-on-left:not(.cached)');\n\t                    activeNavElements = activeNavbar.find('.left, .center, .right, .subnavbar, .fading');\n\t                    previousNavElements = previousNavbar.find('.left, .center, .right, .subnavbar, .fading');\n\t                    if (app.params.animateNavBackIcon) {\n\t                        activeNavBackIcon = activeNavbar.find('.left.sliding .back .icon');\n\t                        previousNavBackIcon = previousNavbar.find('.left.sliding .back .icon');\n\t                    }\n\t                }\n\t\n\t                // Close/Hide Any Picker\n\t                if ($('.picker-modal.modal-in').length > 0) {\n\t                    app.closeModal($('.picker-modal.modal-in'));\n\t                }\n\t            }\n\t            e.f7PreventPanelSwipe = true;\n\t            isMoved = true;\n\t            e.preventDefault();\n\t\n\t            // RTL inverter\n\t            var inverter = app.rtl ? -1 : 1;\n\t\n\t            // Touches diff\n\t            touchesDiff = (pageX - touchesStart.x - view.params.swipeBackPageThreshold) * inverter;\n\t            if (touchesDiff < 0) touchesDiff = 0;\n\t            var percentage = touchesDiff / viewContainerWidth;\n\t\n\t            // Swipe Back Callback\n\t            var callbackData = {\n\t                percentage: percentage,\n\t                activePage: activePage[0],\n\t                previousPage: previousPage[0],\n\t                activeNavbar: activeNavbar[0],\n\t                previousNavbar: previousNavbar[0]\n\t            };\n\t            if (view.params.onSwipeBackMove) {\n\t                view.params.onSwipeBackMove(callbackData);\n\t            }\n\t            container.trigger('swipeBackMove', callbackData);\n\t\n\t            // Transform pages\n\t            var activePageTranslate = touchesDiff * inverter;\n\t            var previousPageTranslate = (touchesDiff / 5 - viewContainerWidth / 5) * inverter;\n\t            if (app.device.pixelRatio === 1) {\n\t                activePageTranslate = Math.round(activePageTranslate);\n\t                previousPageTranslate = Math.round(previousPageTranslate);\n\t            }\n\t\n\t            activePage.transform('translate3d(' + activePageTranslate + 'px,0,0)');\n\t            if (view.params.swipeBackPageAnimateShadow && !app.device.android) pageShadow[0].style.opacity = 1 - 1 * percentage;\n\t\n\t            previousPage.transform('translate3d(' + previousPageTranslate + 'px,0,0)');\n\t            if (view.params.swipeBackPageAnimateOpacity) previousPage[0].style.opacity = 0.9 + 0.1 * percentage;\n\t\n\t            // Dynamic Navbars Animation\n\t            if (dynamicNavbar) {\n\t                var i;\n\t                for (i = 0; i < activeNavElements.length; i++) {\n\t                    el = $(activeNavElements[i]);\n\t                    if (!el.is('.subnavbar.sliding')) el[0].style.opacity = 1 - percentage * 1.3;\n\t                    if (el[0].className.indexOf('sliding') >= 0) {\n\t                        var activeNavTranslate = percentage * el[0].f7NavbarRightOffset;\n\t                        if (app.device.pixelRatio === 1) activeNavTranslate = Math.round(activeNavTranslate);\n\t                        el.transform('translate3d(' + activeNavTranslate + 'px,0,0)');\n\t                        if (app.params.animateNavBackIcon) {\n\t                            if (el[0].className.indexOf('left') >= 0 && activeNavBackIcon.length > 0) {\n\t                                activeNavBackIcon.transform('translate3d(' + -activeNavTranslate + 'px,0,0)');\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t                for (i = 0; i < previousNavElements.length; i++) {\n\t                    el = $(previousNavElements[i]);\n\t                    if (!el.is('.subnavbar.sliding')) el[0].style.opacity = percentage * 1.3 - 0.3;\n\t                    if (el[0].className.indexOf('sliding') >= 0) {\n\t                        var previousNavTranslate = el[0].f7NavbarLeftOffset * (1 - percentage);\n\t                        if (app.device.pixelRatio === 1) previousNavTranslate = Math.round(previousNavTranslate);\n\t                        el.transform('translate3d(' + previousNavTranslate + 'px,0,0)');\n\t                        if (app.params.animateNavBackIcon) {\n\t                            if (el[0].className.indexOf('left') >= 0 && previousNavBackIcon.length > 0) {\n\t                                previousNavBackIcon.transform('translate3d(' + -previousNavTranslate + 'px,0,0)');\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t        };\n\t\n\t        view.handleTouchEnd = function (e) {\n\t            if (!isTouched || !isMoved) {\n\t                isTouched = false;\n\t                isMoved = false;\n\t                return;\n\t            }\n\t            isTouched = false;\n\t            isMoved = false;\n\t            if (touchesDiff === 0) {\n\t                $([activePage[0], previousPage[0]]).transform('').css({ opacity: '', boxShadow: '' });\n\t                if (dynamicNavbar) {\n\t                    activeNavElements.transform('').css({ opacity: '' });\n\t                    previousNavElements.transform('').css({ opacity: '' });\n\t                    if (activeNavBackIcon && activeNavBackIcon.length > 0) activeNavBackIcon.transform('');\n\t                    if (previousNavBackIcon && activeNavBackIcon.length > 0) previousNavBackIcon.transform('');\n\t                }\n\t                return;\n\t            }\n\t            var timeDiff = new Date().getTime() - touchStartTime;\n\t            var pageChanged = false;\n\t            // Swipe back to previous page\n\t            if (timeDiff < 300 && touchesDiff > 10 || timeDiff >= 300 && touchesDiff > viewContainerWidth / 2) {\n\t                activePage.removeClass('page-on-center').addClass('page-on-right');\n\t                previousPage.removeClass('page-on-left').addClass('page-on-center');\n\t                if (dynamicNavbar) {\n\t                    activeNavbar.removeClass('navbar-on-center').addClass('navbar-on-right');\n\t                    previousNavbar.removeClass('navbar-on-left').addClass('navbar-on-center');\n\t                }\n\t                pageChanged = true;\n\t            }\n\t            // Reset custom styles\n\t            // Add transitioning class for transition-duration\n\t            $([activePage[0], previousPage[0]]).transform('').css({ opacity: '', boxShadow: '' }).addClass('page-transitioning');\n\t            if (dynamicNavbar) {\n\t                activeNavElements.css({ opacity: '' }).each(function () {\n\t                    var translate = pageChanged ? this.f7NavbarRightOffset : 0;\n\t                    var sliding = $(this);\n\t                    sliding.transform('translate3d(' + translate + 'px,0,0)');\n\t                    if (app.params.animateNavBackIcon) {\n\t                        if (sliding.hasClass('left') && activeNavBackIcon.length > 0) {\n\t                            activeNavBackIcon.addClass('page-transitioning').transform('translate3d(' + -translate + 'px,0,0)');\n\t                        }\n\t                    }\n\t                }).addClass('page-transitioning');\n\t\n\t                previousNavElements.transform('').css({ opacity: '' }).each(function () {\n\t                    var translate = pageChanged ? 0 : this.f7NavbarLeftOffset;\n\t                    var sliding = $(this);\n\t                    sliding.transform('translate3d(' + translate + 'px,0,0)');\n\t                    if (app.params.animateNavBackIcon) {\n\t                        if (sliding.hasClass('left') && previousNavBackIcon.length > 0) {\n\t                            previousNavBackIcon.addClass('page-transitioning').transform('translate3d(' + -translate + 'px,0,0)');\n\t                        }\n\t                    }\n\t                }).addClass('page-transitioning');\n\t            }\n\t            allowViewTouchMove = false;\n\t            view.allowPageChange = false;\n\t            // Swipe Back Callback\n\t            var callbackData = {\n\t                activePage: activePage[0],\n\t                previousPage: previousPage[0],\n\t                activeNavbar: activeNavbar[0],\n\t                previousNavbar: previousNavbar[0]\n\t            };\n\t            if (pageChanged) {\n\t                // Update View's URL\n\t                var url = view.history[view.history.length - 2];\n\t                view.url = url;\n\t\n\t                // Page before animation callback\n\t                app.pageBackCallback('before', view, { pageContainer: activePage[0], url: url, position: 'center', newPage: previousPage, oldPage: activePage, swipeBack: true });\n\t                app.pageAnimCallback('before', view, { pageContainer: previousPage[0], url: url, position: 'left', newPage: previousPage, oldPage: activePage, swipeBack: true });\n\t\n\t                if (view.params.onSwipeBackBeforeChange) {\n\t                    view.params.onSwipeBackBeforeChange(callbackData);\n\t                }\n\t                container.trigger('swipeBackBeforeChange', callbackData);\n\t            } else {\n\t                if (view.params.onSwipeBackBeforeReset) {\n\t                    view.params.onSwipeBackBeforeReset(callbackData);\n\t                }\n\t                container.trigger('swipeBackBeforeReset', callbackData);\n\t            }\n\t\n\t            activePage.transitionEnd(function () {\n\t                $([activePage[0], previousPage[0]]).removeClass('page-transitioning');\n\t                if (dynamicNavbar) {\n\t                    activeNavElements.removeClass('page-transitioning').css({ opacity: '' });\n\t                    previousNavElements.removeClass('page-transitioning').css({ opacity: '' });\n\t                    if (activeNavBackIcon && activeNavBackIcon.length > 0) activeNavBackIcon.removeClass('page-transitioning');\n\t                    if (previousNavBackIcon && previousNavBackIcon.length > 0) previousNavBackIcon.removeClass('page-transitioning');\n\t                }\n\t                allowViewTouchMove = true;\n\t                view.allowPageChange = true;\n\t                if (pageChanged) {\n\t                    if (app.params.pushState && view.main) history.back();\n\t                    // Page after animation callback\n\t                    app.pageBackCallback('after', view, { pageContainer: activePage[0], url: url, position: 'center', newPage: previousPage, oldPage: activePage, swipeBack: true });\n\t                    app.pageAnimCallback('after', view, { pageContainer: previousPage[0], url: url, position: 'left', newPage: previousPage, oldPage: activePage, swipeBack: true });\n\t                    app.router.afterBack(view, activePage, previousPage);\n\t\n\t                    if (view.params.onSwipeBackAfterChange) {\n\t                        view.params.onSwipeBackAfterChange(callbackData);\n\t                    }\n\t                    container.trigger('swipeBackAfterChange', callbackData);\n\t                } else {\n\t                    if (view.params.onSwipeBackAfterReset) {\n\t                        view.params.onSwipeBackAfterReset(callbackData);\n\t                    }\n\t                    container.trigger('swipeBackAfterReset', callbackData);\n\t                }\n\t                if (pageShadow && pageShadow.length > 0) pageShadow.remove();\n\t            });\n\t        };\n\t        view.attachEvents = function (detach) {\n\t            var action = detach ? 'off' : 'on';\n\t            container[action](app.touchEvents.start, view.handleTouchStart);\n\t            container[action](app.touchEvents.move, view.handleTouchMove);\n\t            container[action](app.touchEvents.end, view.handleTouchEnd);\n\t        };\n\t        view.detachEvents = function () {\n\t            view.attachEvents(true);\n\t        };\n\t\n\t        // Init\n\t        if (view.params.swipeBackPage && !app.params.material) {\n\t            view.attachEvents();\n\t        }\n\t\n\t        // Add view to app\n\t        app.views.push(view);\n\t        if (view.main) app.mainView = view;\n\t\n\t        // Router \n\t        view.router = {\n\t            load: function load(options) {\n\t                return app.router.load(view, options);\n\t            },\n\t            back: function back(options) {\n\t                return app.router.back(view, options);\n\t            },\n\t            // Shortcuts\n\t            loadPage: function loadPage(options) {\n\t                options = options || {};\n\t                if (typeof options === 'string') {\n\t                    var url = options;\n\t                    options = {};\n\t                    if (url && url.indexOf('#') === 0 && view.params.domCache) {\n\t                        options.pageName = url.split('#')[1];\n\t                    } else options.url = url;\n\t                }\n\t                return app.router.load(view, options);\n\t            },\n\t            loadContent: function loadContent(content) {\n\t                return app.router.load(view, { content: content });\n\t            },\n\t            reloadPage: function reloadPage(url) {\n\t                return app.router.load(view, { url: url, reload: true });\n\t            },\n\t            reloadContent: function reloadContent(content) {\n\t                return app.router.load(view, { content: content, reload: true });\n\t            },\n\t            reloadPreviousPage: function reloadPreviousPage(url) {\n\t                return app.router.load(view, { url: url, reloadPrevious: true, reload: true });\n\t            },\n\t            reloadPreviousContent: function reloadPreviousContent(content) {\n\t                return app.router.load(view, { content: content, reloadPrevious: true, reload: true });\n\t            },\n\t            refreshPage: function refreshPage() {\n\t                var options = {\n\t                    url: view.url,\n\t                    reload: true,\n\t                    ignoreCache: true\n\t                };\n\t                if (options.url && options.url.indexOf('#') === 0) {\n\t                    if (view.params.domCache && view.pagesCache[options.url]) {\n\t                        options.pageName = view.pagesCache[options.url];\n\t                        options.url = undefined;\n\t                        delete options.url;\n\t                    } else if (view.contentCache[options.url]) {\n\t                        options.content = view.contentCache[options.url];\n\t                        options.url = undefined;\n\t                        delete options.url;\n\t                    }\n\t                }\n\t                return app.router.load(view, options);\n\t            },\n\t            refreshPreviousPage: function refreshPreviousPage() {\n\t                var options = {\n\t                    url: view.history[view.history.length - 2],\n\t                    reload: true,\n\t                    reloadPrevious: true,\n\t                    ignoreCache: true\n\t                };\n\t                if (options.url && options.url.indexOf('#') === 0 && view.params.domCache && view.pagesCache[options.url]) {\n\t                    options.pageName = view.pagesCache[options.url];\n\t                    options.url = undefined;\n\t                    delete options.url;\n\t                }\n\t                return app.router.load(view, options);\n\t            }\n\t        };\n\t\n\t        // Aliases for temporary backward compatibility\n\t        view.loadPage = view.router.loadPage;\n\t        view.loadContent = view.router.loadContent;\n\t        view.reloadPage = view.router.reloadPage;\n\t        view.reloadContent = view.router.reloadContent;\n\t        view.reloadPreviousPage = view.router.reloadPreviousPage;\n\t        view.reloadPreviousContent = view.router.reloadPreviousContent;\n\t        view.refreshPage = view.router.refreshPage;\n\t        view.refreshPreviousPage = view.router.refreshPreviousPage;\n\t        view.back = view.router.back;\n\t\n\t        // Bars methods\n\t        view.hideNavbar = function () {\n\t            return app.hideNavbar(container.find('.navbar'));\n\t        };\n\t        view.showNavbar = function () {\n\t            return app.showNavbar(container.find('.navbar'));\n\t        };\n\t        view.hideToolbar = function () {\n\t            return app.hideToolbar(container.find('.toolbar'));\n\t        };\n\t        view.showToolbar = function () {\n\t            return app.showToolbar(container.find('.toolbar'));\n\t        };\n\t\n\t        // Push State on load\n\t        if (app.params.pushState && app.params.pushStateOnLoad && view.main) {\n\t            var pushStateUrl;\n\t            var pushStateUrlSplit = docLocation.split(pushStateSeparator)[1];\n\t            if (pushStateRoot) {\n\t                pushStateUrl = docLocation.split(app.params.pushStateRoot + pushStateSeparator)[1];\n\t            } else if (pushStateSeparator && docLocation.indexOf(pushStateSeparator) >= 0 && docLocation.indexOf(pushStateSeparator + '#') < 0) {\n\t                pushStateUrl = pushStateUrlSplit;\n\t            }\n\t            var pushStateAnimatePages = app.params.pushStateNoAnimation ? false : undefined;\n\t            var historyState = history.state;\n\t            if (pushStateUrl) {\n\t                if (pushStateUrl.indexOf('#') >= 0 && view.params.domCache && historyState && historyState.pageName && 'viewIndex' in historyState) {\n\t                    app.router.load(view, { pageName: historyState.pageName, url: historyState.url, animatePages: pushStateAnimatePages, pushState: false });\n\t                } else if (pushStateUrl.indexOf('#') >= 0 && view.params.domCache && view.initialPagesUrl.indexOf(pushStateUrl) >= 0) {\n\t                    app.router.load(view, { pageName: pushStateUrl.replace('#', ''), animatePages: pushStateAnimatePages, pushState: false });\n\t                } else app.router.load(view, { url: pushStateUrl, animatePages: pushStateAnimatePages, pushState: false });\n\t            } else if (view.params.domCache && docLocation.indexOf(pushStateSeparator + '#') >= 0) {\n\t                if (historyState && historyState.pageName && 'viewIndex' in historyState) {\n\t                    app.router.load(view, { pageName: historyState.pageName, url: historyState.url, animatePages: pushStateAnimatePages, pushState: false });\n\t                } else if (pushStateSeparator && pushStateUrlSplit.indexOf('#') === 0) {\n\t                    if (view.initialPagesUrl.indexOf(pushStateUrlSplit)) {\n\t                        app.router.load(view, { pageName: pushStateUrlSplit.replace('#', ''), animatePages: pushStateAnimatePages, pushState: false });\n\t                    }\n\t                }\n\t            }\n\t        }\n\t\n\t        // Destroy\n\t        view.destroy = function () {\n\t            view.detachEvents();\n\t            view = undefined;\n\t        };\n\t\n\t        // Plugin hook\n\t        app.pluginHook('addView', view);\n\t\n\t        // Return view\n\t        return view;\n\t    };\n\t\n\t    app.addView = function (selector, params) {\n\t        return new View(selector, params);\n\t    };\n\t\n\t    app.getCurrentView = function (index) {\n\t        var popoverView = $('.popover.modal-in .view');\n\t        var popupView = $('.popup.modal-in .view');\n\t        var panelView = $('.panel.active .view');\n\t        var appViews = $('.views');\n\t        // Find active view as tab\n\t        var appView = appViews.children('.view');\n\t        // Propably in tabs or split view\n\t        if (appView.length > 1) {\n\t            if (appView.hasClass('tab')) {\n\t                // Tabs\n\t                appView = appViews.children('.view.active');\n\t            } else {\n\t                // Split View, leave appView intact\n\t            }\n\t        }\n\t        if (popoverView.length > 0 && popoverView[0].f7View) return popoverView[0].f7View;\n\t        if (popupView.length > 0 && popupView[0].f7View) return popupView[0].f7View;\n\t        if (panelView.length > 0 && panelView[0].f7View) return panelView[0].f7View;\n\t        if (appView.length > 0) {\n\t            if (appView.length === 1 && appView[0].f7View) return appView[0].f7View;\n\t            if (appView.length > 1) {\n\t                var currentViews = [];\n\t                for (var i = 0; i < appView.length; i++) {\n\t                    if (appView[i].f7View) currentViews.push(appView[i].f7View);\n\t                }\n\t                if (currentViews.length > 0 && typeof index !== 'undefined') return currentViews[index];\n\t                if (currentViews.length > 1) return currentViews;\n\t                if (currentViews.length === 1) return currentViews[0];\n\t                return undefined;\n\t            }\n\t        }\n\t        return undefined;\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Navbars && Toolbars   ************\n\t    ======================================================*/\n\t    // On Navbar Init Callback\n\t    app.navbarInitCallback = function (view, pageContainer, navbarContainer, navbarInnerContainer) {\n\t        if (!navbarContainer && navbarInnerContainer) navbarContainer = $(navbarInnerContainer).parent('.navbar')[0];\n\t        if (navbarInnerContainer.f7NavbarInitialized && view && !view.params.domCache) return;\n\t        var navbarData = {\n\t            container: navbarContainer,\n\t            innerContainer: navbarInnerContainer\n\t        };\n\t        var pageData = pageContainer && pageContainer.f7PageData;\n\t\n\t        var eventData = {\n\t            page: pageData,\n\t            navbar: navbarData\n\t        };\n\t\n\t        if (navbarInnerContainer.f7NavbarInitialized && (view && view.params.domCache || !view && $(navbarContainer).parents('.popup, .popover, .login-screen, .modal, .actions-modal, .picker-modal').length > 0)) {\n\t            // Reinit Navbar\n\t            app.reinitNavbar(navbarContainer, navbarInnerContainer);\n\t\n\t            // Plugin hook\n\t            app.pluginHook('navbarReinit', eventData);\n\t\n\t            // Event\n\t            $(navbarInnerContainer).trigger('navbarReinit', eventData);\n\t            return;\n\t        }\n\t        navbarInnerContainer.f7NavbarInitialized = true;\n\t        // Before Init\n\t        app.pluginHook('navbarBeforeInit', navbarData, pageData);\n\t        $(navbarInnerContainer).trigger('navbarBeforeInit', eventData);\n\t\n\t        // Initialize Navbar\n\t        app.initNavbar(navbarContainer, navbarInnerContainer);\n\t\n\t        // On init\n\t        app.pluginHook('navbarInit', navbarData, pageData);\n\t        $(navbarInnerContainer).trigger('navbarInit', eventData);\n\t    };\n\t    // Navbar Remove Callback\n\t    app.navbarRemoveCallback = function (view, pageContainer, navbarContainer, navbarInnerContainer) {\n\t        if (!navbarContainer && navbarInnerContainer) navbarContainer = $(navbarInnerContainer).parent('.navbar')[0];\n\t        var navbarData = {\n\t            container: navbarContainer,\n\t            innerContainer: navbarInnerContainer\n\t        };\n\t        var pageData = pageContainer.f7PageData;\n\t\n\t        var eventData = {\n\t            page: pageData,\n\t            navbar: navbarData\n\t        };\n\t        app.pluginHook('navbarBeforeRemove', navbarData, pageData);\n\t        $(navbarInnerContainer).trigger('navbarBeforeRemove', eventData);\n\t    };\n\t    app.initNavbar = function (navbarContainer, navbarInnerContainer) {\n\t        // Init Subnavbar Searchbar\n\t        if (app.initSearchbar) app.initSearchbar(navbarInnerContainer);\n\t    };\n\t    app.reinitNavbar = function (navbarContainer, navbarInnerContainer) {\n\t        // Re init navbar methods\n\t    };\n\t    app.initNavbarWithCallback = function (navbarContainer) {\n\t        navbarContainer = $(navbarContainer);\n\t        var viewContainer = navbarContainer.parents('.' + app.params.viewClass);\n\t        var view;\n\t        if (viewContainer.length === 0) return;\n\t        if (navbarContainer.parents('.navbar-through').length === 0 && viewContainer.find('.navbar-through').length === 0) return;\n\t        view = viewContainer[0].f7View || undefined;\n\t\n\t        navbarContainer.find('.navbar-inner').each(function () {\n\t            var navbarInnerContainer = this;\n\t            var pageContainer;\n\t            if ($(navbarInnerContainer).attr('data-page')) {\n\t                // For dom cache\n\t                pageContainer = viewContainer.find('.page[data-page=\"' + $(navbarInnerContainer).attr('data-page') + '\"]')[0];\n\t            }\n\t            if (!pageContainer) {\n\t                var pages = viewContainer.find('.page');\n\t                if (pages.length === 1) {\n\t                    pageContainer = pages[0];\n\t                } else {\n\t                    viewContainer.find('.page').each(function () {\n\t                        if (this.f7PageData && this.f7PageData.navbarInnerContainer === navbarInnerContainer) {\n\t                            pageContainer = this;\n\t                        }\n\t                    });\n\t                }\n\t            }\n\t            app.navbarInitCallback(view, pageContainer, navbarContainer[0], navbarInnerContainer);\n\t        });\n\t    };\n\t\n\t    // Size Navbars\n\t    app.sizeNavbars = function (viewContainer) {\n\t        if (app.params.material) return;\n\t        var navbarInner = viewContainer ? $(viewContainer).find('.navbar .navbar-inner:not(.cached)') : $('.navbar .navbar-inner:not(.cached)');\n\t        navbarInner.each(function () {\n\t            var n = $(this);\n\t            if (n.hasClass('cached')) return;\n\t            var left = app.rtl ? n.find('.right') : n.find('.left'),\n\t                right = app.rtl ? n.find('.left') : n.find('.right'),\n\t                center = n.find('.center'),\n\t                subnavbar = n.find('.subnavbar'),\n\t                noLeft = left.length === 0,\n\t                noRight = right.length === 0,\n\t                leftWidth = noLeft ? 0 : left.outerWidth(true),\n\t                rightWidth = noRight ? 0 : right.outerWidth(true),\n\t                centerWidth = center.outerWidth(true),\n\t                navbarStyles = n.styles(),\n\t                navbarWidth = n[0].offsetWidth - parseInt(navbarStyles.paddingLeft, 10) - parseInt(navbarStyles.paddingRight, 10),\n\t                onLeft = n.hasClass('navbar-on-left'),\n\t                currLeft,\n\t                diff;\n\t\n\t            if (noRight) {\n\t                currLeft = navbarWidth - centerWidth;\n\t            }\n\t            if (noLeft) {\n\t                currLeft = 0;\n\t            }\n\t            if (!noLeft && !noRight) {\n\t                currLeft = (navbarWidth - rightWidth - centerWidth + leftWidth) / 2;\n\t            }\n\t            var requiredLeft = (navbarWidth - centerWidth) / 2;\n\t            if (navbarWidth - leftWidth - rightWidth > centerWidth) {\n\t                if (requiredLeft < leftWidth) {\n\t                    requiredLeft = leftWidth;\n\t                }\n\t                if (requiredLeft + centerWidth > navbarWidth - rightWidth) {\n\t                    requiredLeft = navbarWidth - rightWidth - centerWidth;\n\t                }\n\t                diff = requiredLeft - currLeft;\n\t            } else {\n\t                diff = 0;\n\t            }\n\t            // RTL inverter\n\t            var inverter = app.rtl ? -1 : 1;\n\t\n\t            if (center.hasClass('sliding')) {\n\t                center[0].f7NavbarLeftOffset = -(currLeft + diff) * inverter;\n\t                center[0].f7NavbarRightOffset = (navbarWidth - currLeft - diff - centerWidth) * inverter;\n\t                if (onLeft) {\n\t                    if (app.params.animateNavBackIcon) {\n\t                        var activeNavbarBackLink = n.parent().find('.navbar-on-center').find('.left.sliding .back .icon ~ span');\n\t                        if (activeNavbarBackLink.length > 0) {\n\t                            center[0].f7NavbarLeftOffset += activeNavbarBackLink[0].offsetLeft;\n\t                        }\n\t                    }\n\t                    center.transform('translate3d(' + center[0].f7NavbarLeftOffset + 'px, 0, 0)');\n\t                }\n\t            }\n\t            if (!noLeft && left.hasClass('sliding')) {\n\t                if (app.rtl) {\n\t                    left[0].f7NavbarLeftOffset = -(navbarWidth - left[0].offsetWidth) / 2 * inverter;\n\t                    left[0].f7NavbarRightOffset = leftWidth * inverter;\n\t                } else {\n\t                    left[0].f7NavbarLeftOffset = -leftWidth;\n\t                    left[0].f7NavbarRightOffset = (navbarWidth - left[0].offsetWidth) / 2;\n\t                    if (app.params.animateNavBackIcon && left.find('.back .icon').length > 0) {\n\t                        left[0].f7NavbarRightOffset -= left.find('.back .icon')[0].offsetWidth;\n\t                    }\n\t                }\n\t                if (onLeft) left.transform('translate3d(' + left[0].f7NavbarLeftOffset + 'px, 0, 0)');\n\t            }\n\t            if (!noRight && right.hasClass('sliding')) {\n\t                if (app.rtl) {\n\t                    right[0].f7NavbarLeftOffset = -rightWidth * inverter;\n\t                    right[0].f7NavbarRightOffset = (navbarWidth - right[0].offsetWidth) / 2 * inverter;\n\t                } else {\n\t                    right[0].f7NavbarLeftOffset = -(navbarWidth - right[0].offsetWidth) / 2;\n\t                    right[0].f7NavbarRightOffset = rightWidth;\n\t                }\n\t                if (onLeft) right.transform('translate3d(' + right[0].f7NavbarLeftOffset + 'px, 0, 0)');\n\t            }\n\t            if (subnavbar.length && subnavbar.hasClass('sliding')) {\n\t                subnavbar[0].f7NavbarLeftOffset = app.rtl ? subnavbar[0].offsetWidth : -subnavbar[0].offsetWidth;\n\t                subnavbar[0].f7NavbarRightOffset = -subnavbar[0].f7NavbarLeftOffset;\n\t            }\n\t\n\t            // Center left\n\t            var centerLeft = diff;\n\t            if (app.rtl && noLeft && noRight && center.length > 0) centerLeft = -centerLeft;\n\t            center.css({ left: centerLeft + 'px' });\n\t        });\n\t    };\n\t\n\t    // Hide/Show Navbars/Toolbars\n\t    app.hideNavbar = function (navbarContainer) {\n\t        $(navbarContainer).addClass('navbar-hidden');\n\t        return true;\n\t    };\n\t    app.showNavbar = function (navbarContainer) {\n\t        var navbar = $(navbarContainer);\n\t        navbar.addClass('navbar-hiding').removeClass('navbar-hidden').transitionEnd(function () {\n\t            navbar.removeClass('navbar-hiding');\n\t        });\n\t        return true;\n\t    };\n\t    app.hideToolbar = function (toolbarContainer) {\n\t        $(toolbarContainer).addClass('toolbar-hidden');\n\t        return true;\n\t    };\n\t    app.showToolbar = function (toolbarContainer) {\n\t        var toolbar = $(toolbarContainer);\n\t        toolbar.addClass('toolbar-hiding').removeClass('toolbar-hidden').transitionEnd(function () {\n\t            toolbar.removeClass('toolbar-hiding');\n\t        });\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Searchbar   ************\n\t    ======================================================*/\n\t    var Searchbar = function Searchbar(container, params) {\n\t        var defaults = {\n\t            input: null,\n\t            clearButton: null,\n\t            cancelButton: null,\n\t            searchList: null,\n\t            searchIn: '.item-title',\n\t            searchBy: '',\n\t            found: null,\n\t            notFound: null,\n\t            overlay: null,\n\t            ignore: '.searchbar-ignore',\n\t            customSearch: false,\n\t            removeDiacritics: false,\n\t            hideDividers: true,\n\t            hideGroups: true\n\t        };\n\t        params = params || {};\n\t        for (var def in defaults) {\n\t            if (typeof params[def] === 'undefined' || params[def] === null) {\n\t                params[def] = defaults[def];\n\t            }\n\t        }\n\t\n\t        // Instance\n\t        var s = this;\n\t\n\t        // Material\n\t        s.material = app.params.material;\n\t\n\t        // Params\n\t        s.params = params;\n\t\n\t        // Container\n\t        container = $(container);\n\t        s.container = container;\n\t\n\t        // Active\n\t        s.active = false;\n\t\n\t        // Input\n\t        s.input = s.params.input ? $(s.params.input) : s.container.find('input[type=\"search\"]');\n\t        s.clearButton = s.params.clearButton ? $(s.params.clearButton) : s.container.find('.searchbar-clear');\n\t        s.cancelButton = s.params.cancelButton ? $(s.params.cancelButton) : s.container.find('.searchbar-cancel');\n\t\n\t        // Search List\n\t        s.searchList = $(s.params.searchList);\n\t\n\t        // Is Virtual List\n\t        s.isVirtualList = s.searchList.hasClass('virtual-list');\n\t\n\t        // Is In Page\n\t        s.pageContainer = s.container.parents('.page').eq(0);\n\t\n\t        // Overlay\n\t        if (!s.params.overlay) {\n\t            s.overlay = s.pageContainer.length > 0 ? s.pageContainer.find('.searchbar-overlay') : $('.searchbar-overlay');\n\t        } else {\n\t            s.overlay = $(s.params.overlay);\n\t        }\n\t        // Found and not found\n\t        if (!s.params.found) {\n\t            s.found = s.pageContainer.length > 0 ? s.pageContainer.find('.searchbar-found') : $('.searchbar-found');\n\t        } else {\n\t            s.found = $(s.params.found);\n\t        }\n\t        if (!s.params.notFound) {\n\t            s.notFound = s.pageContainer.length > 0 ? s.pageContainer.find('.searchbar-not-found') : $('.searchbar-not-found');\n\t        } else {\n\t            s.notFound = $(s.params.notFound);\n\t        }\n\t\n\t        // Diacritics\n\t        var defaultDiacriticsRemovalap = [{ base: 'A', letters: 'A' }, { base: 'AA', letters: '' }, { base: 'AE', letters: '' }, { base: 'AO', letters: '' }, { base: 'AU', letters: '' }, { base: 'AV', letters: '' }, { base: 'AY', letters: '' }, { base: 'B', letters: 'B' }, { base: 'C', letters: 'C' }, { base: 'D', letters: 'D' }, { base: 'DZ', letters: '' }, { base: 'Dz', letters: '' }, { base: 'E', letters: 'E' }, { base: 'F', letters: 'F' }, { base: 'G', letters: 'G' }, { base: 'H', letters: 'H' }, { base: 'I', letters: 'I' }, { base: 'J', letters: 'J' }, { base: 'K', letters: 'K' }, { base: 'L', letters: 'L' }, { base: 'LJ', letters: '' }, { base: 'Lj', letters: '' }, { base: 'M', letters: 'M' }, { base: 'N', letters: 'N' }, { base: 'NJ', letters: '' }, { base: 'Nj', letters: '' }, { base: 'O', letters: 'O' }, { base: 'OI', letters: '' }, { base: 'OO', letters: '' }, { base: 'OU', letters: '' }, { base: 'OE', letters: '' }, { base: 'oe', letters: '' }, { base: 'P', letters: 'P' }, { base: 'Q', letters: 'Q' }, { base: 'R', letters: 'R' }, { base: 'S', letters: 'S' }, { base: 'T', letters: 'T' }, { base: 'TZ', letters: '' }, { base: 'U', letters: 'U' }, { base: 'V', letters: 'V' }, { base: 'VY', letters: '' }, { base: 'W', letters: 'W' }, { base: 'X', letters: 'X' }, { base: 'Y', letters: 'Y' }, { base: 'Z', letters: 'Z' }, { base: 'a', letters: 'a' }, { base: 'aa', letters: '' }, { base: 'ae', letters: '' }, { base: 'ao', letters: '' }, { base: 'au', letters: '' }, { base: 'av', letters: '' }, { base: 'ay', letters: '' }, { base: 'b', letters: 'b' }, { base: 'c', letters: 'c' }, { base: 'd', letters: 'd' }, { base: 'dz', letters: '' }, { base: 'e', letters: 'e' }, { base: 'f', letters: 'f' }, { base: 'g', letters: 'g' }, { base: 'h', letters: 'h' }, { base: 'hv', letters: '' }, { base: 'i', letters: 'i' }, { base: 'j', letters: 'j' }, { base: 'k', letters: 'k' }, { base: 'l', letters: 'l' }, { base: 'lj', letters: '' }, { base: 'm', letters: 'm' }, { base: 'n', letters: 'n' }, { base: 'nj', letters: '' }, { base: 'o', letters: 'o' }, { base: 'oi', letters: '' }, { base: 'ou', letters: '' }, { base: 'oo', letters: '' }, { base: 'p', letters: 'p' }, { base: 'q', letters: 'q' }, { base: 'r', letters: 'r' }, { base: 's', letters: 's' }, { base: 't', letters: 't' }, { base: 'tz', letters: '' }, { base: 'u', letters: 'u' }, { base: 'v', letters: 'v' }, { base: 'vy', letters: '' }, { base: 'w', letters: 'w' }, { base: 'x', letters: 'x' }, { base: 'y', letters: 'y' }, { base: 'z', letters: 'z' }];\n\t\n\t        var diacriticsMap = {};\n\t        for (var i = 0; i < defaultDiacriticsRemovalap.length; i++) {\n\t            var letters = defaultDiacriticsRemovalap[i].letters;\n\t            for (var j = 0; j < letters.length; j++) {\n\t                diacriticsMap[letters[j]] = defaultDiacriticsRemovalap[i].base;\n\t            }\n\t        }\n\t\n\t        function removeDiacritics(str) {\n\t            return str.replace(/[^\\u0000-\\u007E]/g, function (a) {\n\t                return diacriticsMap[a] || a;\n\t            });\n\t        }\n\t\n\t        // Set Cancel button\n\t        var cancelMarginProp = app.rtl ? 'margin-left' : 'margin-right';\n\t        var cancelButtonHasMargin = false;\n\t        s.setCancelButtonMargin = function () {\n\t            s.cancelButton.transition(0).show();\n\t            s.cancelButton.css(cancelMarginProp, -s.cancelButton[0].offsetWidth + 'px');\n\t            var clientLeft = s.cancelButton[0].clientLeft;\n\t            s.cancelButton.transition('');\n\t            cancelButtonHasMargin = true;\n\t        };\n\t\n\t        // Trigger\n\t        s.triggerEvent = function (eventName, callbackName, eventData) {\n\t            s.container.trigger(eventName, eventData);\n\t            if (s.searchList.length > 0) s.searchList.trigger(eventName, eventData);\n\t            if (callbackName && s.params[callbackName]) s.params[callbackName](s, eventData);\n\t        };\n\t\n\t        // Enable/disalbe\n\t        s.enable = function (e) {\n\t            function _enable() {\n\t                if ((s.searchList.length || s.params.customSearch) && !s.container.hasClass('searchbar-active') && !s.query) s.overlay.addClass('searchbar-overlay-active');\n\t                s.container.addClass('searchbar-active');\n\t                if (s.cancelButton.length > 0 && !s.material) {\n\t                    if (!cancelButtonHasMargin) {\n\t                        s.setCancelButtonMargin();\n\t                    }\n\t                    s.cancelButton.css(cancelMarginProp, '0px');\n\t                }\n\t                s.triggerEvent('enableSearch', 'onEnable');\n\t                s.active = true;\n\t            }\n\t            if (app.device.ios && !app.params.material && e && e.type === 'focus') {\n\t                setTimeout(function () {\n\t                    _enable();\n\t                }, 400);\n\t            } else {\n\t                _enable();\n\t            }\n\t        };\n\t\n\t        s.disable = function () {\n\t            s.input.val('').trigger('change');\n\t            s.container.removeClass('searchbar-active searchbar-not-empty');\n\t            if (s.cancelButton.length > 0 && !s.material) s.cancelButton.css(cancelMarginProp, -s.cancelButton[0].offsetWidth + 'px');\n\t\n\t            if (s.searchList.length || s.params.customSearch) s.overlay.removeClass('searchbar-overlay-active');\n\t\n\t            s.active = false;\n\t            function _disable() {\n\t                s.input.blur();\n\t            }\n\t            if (app.device.ios) {\n\t                setTimeout(function () {\n\t                    _disable();\n\t                }, 400);\n\t            } else {\n\t                _disable();\n\t            }\n\t            s.triggerEvent('disableSearch', 'onDisable');\n\t        };\n\t\n\t        // Clear\n\t        s.clear = function (e) {\n\t            if (!s.query && e && $(e.target).hasClass('searchbar-clear')) {\n\t                s.disable();\n\t                return;\n\t            }\n\t            s.input.val('').trigger('change').focus();\n\t            s.triggerEvent('clearSearch', 'onClear');\n\t        };\n\t\n\t        // Search\n\t        s.handleInput = function () {\n\t            setTimeout(function () {\n\t                var value = s.input.val().trim();\n\t                if ((s.searchList.length > 0 || s.params.customSearch) && (s.params.searchIn || s.isVirtualList)) s.search(value, true);\n\t            }, 0);\n\t        };\n\t\n\t        var previousQuery = '';\n\t        var virtualList;\n\t        s.search = function (query, internal) {\n\t            if (query.trim() === previousQuery) return;\n\t            previousQuery = query.trim();\n\t\n\t            if (!internal) {\n\t                if (!s.active) {\n\t                    s.enable();\n\t                }\n\t                s.input.val(query);\n\t            }\n\t            s.query = s.value = query;\n\t            // Add active/inactive classes on overlay\n\t            if (query.length === 0) {\n\t                s.container.removeClass('searchbar-not-empty');\n\t                if (s.searchList.length && s.container.hasClass('searchbar-active')) s.overlay.addClass('searchbar-overlay-active');\n\t            } else {\n\t                s.container.addClass('searchbar-not-empty');\n\t                if (s.searchList.length && s.container.hasClass('searchbar-active')) s.overlay.removeClass('searchbar-overlay-active');\n\t            }\n\t\n\t            if (s.params.customSearch) {\n\t                s.triggerEvent('search', 'onSearch', { query: query });\n\t                return;\n\t            }\n\t\n\t            var foundItems = [];\n\t            if (s.isVirtualList) {\n\t                virtualList = s.searchList[0].f7VirtualList;\n\t                if (query.trim() === '') {\n\t                    virtualList.resetFilter();\n\t                    s.notFound.hide();\n\t                    s.found.show();\n\t                    return;\n\t                }\n\t                if (virtualList.params.searchAll) {\n\t                    foundItems = virtualList.params.searchAll(query, virtualList.items) || [];\n\t                } else if (virtualList.params.searchByItem) {\n\t                    for (var i = 0; i < virtualList.items.length; i++) {\n\t                        if (virtualList.params.searchByItem(query, i, virtualList.params.items[i])) {\n\t                            foundItems.push(i);\n\t                        }\n\t                    }\n\t                }\n\t            } else {\n\t                var values;\n\t                if (s.params.removeDiacritics) values = removeDiacritics(query.trim().toLowerCase()).split(' ');else {\n\t                    values = query.trim().toLowerCase().split(' ');\n\t                }\n\t                s.searchList.find('li').removeClass('hidden-by-searchbar').each(function (index, el) {\n\t                    el = $(el);\n\t                    var compareWithText = [];\n\t                    el.find(s.params.searchIn).each(function () {\n\t                        var itemText = $(this).text().trim().toLowerCase();\n\t                        if (s.params.removeDiacritics) itemText = removeDiacritics(itemText);\n\t                        compareWithText.push(itemText);\n\t                    });\n\t                    compareWithText = compareWithText.join(' ');\n\t                    var wordsMatch = 0;\n\t                    for (var i = 0; i < values.length; i++) {\n\t                        if (compareWithText.indexOf(values[i]) >= 0) wordsMatch++;\n\t                    }\n\t                    if (wordsMatch !== values.length && !(s.params.ignore && el.is(s.params.ignore))) {\n\t                        el.addClass('hidden-by-searchbar');\n\t                    } else {\n\t                        foundItems.push(el[0]);\n\t                    }\n\t                });\n\t\n\t                if (s.params.hideDividers) {\n\t                    s.searchList.find('.item-divider, .list-group-title').each(function () {\n\t                        var title = $(this);\n\t                        var nextElements = title.nextAll('li');\n\t                        var hide = true;\n\t                        for (var i = 0; i < nextElements.length; i++) {\n\t                            var nextEl = $(nextElements[i]);\n\t                            if (nextEl.hasClass('list-group-title') || nextEl.hasClass('item-divider')) break;\n\t                            if (!nextEl.hasClass('hidden-by-searchbar')) {\n\t                                hide = false;\n\t                            }\n\t                        }\n\t                        var ignore = s.params.ignore && title.is(s.params.ignore);\n\t                        if (hide && !ignore) title.addClass('hidden-by-searchbar');else title.removeClass('hidden-by-searchbar');\n\t                    });\n\t                }\n\t                if (s.params.hideGroups) {\n\t                    s.searchList.find('.list-group').each(function () {\n\t                        var group = $(this);\n\t                        var ignore = s.params.ignore && group.is(s.params.ignore);\n\t                        var notHidden = group.find('li:not(.hidden-by-searchbar)');\n\t                        if (notHidden.length === 0 && !ignore) {\n\t                            group.addClass('hidden-by-searchbar');\n\t                        } else {\n\t                            group.removeClass('hidden-by-searchbar');\n\t                        }\n\t                    });\n\t                }\n\t            }\n\t            s.triggerEvent('search', 'onSearch', { query: query, foundItems: foundItems });\n\t            if (foundItems.length === 0) {\n\t                s.notFound.show();\n\t                s.found.hide();\n\t            } else {\n\t                s.notFound.hide();\n\t                s.found.show();\n\t            }\n\t            if (s.isVirtualList) {\n\t                virtualList.filterItems(foundItems);\n\t            }\n\t        };\n\t\n\t        // Events\n\t        function preventSubmit(e) {\n\t            e.preventDefault();\n\t        }\n\t\n\t        s.attachEvents = function (destroy) {\n\t            var method = destroy ? 'off' : 'on';\n\t            s.container[method]('submit', preventSubmit);\n\t            if (!s.material) s.cancelButton[method]('click', s.disable);\n\t            s.overlay[method]('click', s.disable);\n\t            s.input[method]('focus', s.enable);\n\t            s.input[method]('change keydown keypress keyup', s.handleInput);\n\t            s.clearButton[method]('click', s.clear);\n\t        };\n\t        s.detachEvents = function () {\n\t            s.attachEvents(true);\n\t        };\n\t\n\t        // Init Destroy\n\t        s.init = function () {\n\t            s.attachEvents();\n\t        };\n\t        s.destroy = function () {\n\t            if (!s) return;\n\t            s.detachEvents();\n\t            s = null;\n\t        };\n\t\n\t        // Init\n\t        s.init();\n\t\n\t        s.container[0].f7Searchbar = s;\n\t        return s;\n\t    };\n\t    app.searchbar = function (container, params) {\n\t        return new Searchbar(container, params);\n\t    };\n\t    app.initSearchbar = function (container) {\n\t        container = $(container);\n\t        var searchbar = container.hasClass('searchbar') ? container : container.find('.searchbar');\n\t        if (searchbar.length === 0) return;\n\t        if (!searchbar.hasClass('searchbar-init')) return;\n\t\n\t        var sb = app.searchbar(searchbar, searchbar.dataset());\n\t\n\t        function onBeforeRemove() {\n\t            if (sb) sb.destroy();\n\t        }\n\t        if (container.hasClass('page')) {\n\t            container.once('pageBeforeRemove', onBeforeRemove);\n\t        } else if (container.hasClass('navbar-inner')) {\n\t            container.once('navbarBeforeRemove', onBeforeRemove);\n\t        }\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Messagebar   ************\n\t    ======================================================*/\n\t    var Messagebar = function Messagebar(container, params) {\n\t        var defaults = {\n\t            textarea: null,\n\t            maxHeight: null\n\t        };\n\t        params = params || {};\n\t        for (var def in defaults) {\n\t            if (typeof params[def] === 'undefined' || params[def] === null) {\n\t                params[def] = defaults[def];\n\t            }\n\t        }\n\t\n\t        // Instance\n\t        var m = this;\n\t\n\t        // Params\n\t        m.params = params;\n\t\n\t        // Container\n\t        m.container = $(container);\n\t        if (m.container.length === 0) return;\n\t\n\t        // Textarea\n\t        m.textarea = m.params.textarea ? $(m.params.textarea) : m.container.find('textarea');\n\t\n\t        // Is In Page\n\t        m.pageContainer = m.container.parents('.page').eq(0);\n\t        m.pageContent = m.pageContainer.find('.page-content');\n\t\n\t        // Initial Sizes\n\t        m.pageContentPadding = parseInt(m.pageContent.css('padding-bottom'));\n\t        m.initialBarHeight = m.container[0].offsetHeight;\n\t        m.initialAreaHeight = m.textarea[0].offsetHeight;\n\t\n\t        // Resize textarea\n\t        m.sizeTextarea = function () {\n\t            // Reset\n\t            m.textarea.css({ 'height': '' });\n\t\n\t            var height = m.textarea[0].offsetHeight;\n\t            var diff = height - m.textarea[0].clientHeight;\n\t            var scrollHeight = m.textarea[0].scrollHeight;\n\t\n\t            // Update\n\t            if (scrollHeight + diff > height) {\n\t                var newAreaHeight = scrollHeight + diff;\n\t                var newBarHeight = m.initialBarHeight + (newAreaHeight - m.initialAreaHeight);\n\t                var maxBarHeight = m.params.maxHeight || m.container.parents('.view')[0].offsetHeight - 88;\n\t                if (newBarHeight > maxBarHeight) {\n\t                    newBarHeight = parseInt(maxBarHeight, 10);\n\t                    newAreaHeight = newBarHeight - m.initialBarHeight + m.initialAreaHeight;\n\t                }\n\t                m.textarea.css('height', newAreaHeight + 'px');\n\t                m.container.css('height', newBarHeight + 'px');\n\t                var onBottom = m.pageContent[0].scrollTop === m.pageContent[0].scrollHeight - m.pageContent[0].offsetHeight;\n\t                if (m.pageContent.length > 0) {\n\t                    m.pageContent.css('padding-bottom', newBarHeight + 'px');\n\t                    if (m.pageContent.find('.messages-new-first').length === 0 && onBottom) {\n\t                        m.pageContent.scrollTop(m.pageContent[0].scrollHeight - m.pageContent[0].offsetHeight);\n\t                    }\n\t                }\n\t            } else {\n\t                if (m.pageContent.length > 0) {\n\t                    m.container.css({ 'height': '', 'bottom': '' });\n\t                    m.pageContent.css({ 'padding-bottom': '' });\n\t                }\n\t            }\n\t        };\n\t\n\t        // Clear\n\t        m.clear = function () {\n\t            m.textarea.val('').trigger('change');\n\t        };\n\t        m.value = function (value) {\n\t            if (typeof value === 'undefined') return m.textarea.val();else m.textarea.val(value).trigger('change');\n\t        };\n\t\n\t        // Handle textarea\n\t        m.textareaTimeout = undefined;\n\t        m.handleTextarea = function (e) {\n\t            clearTimeout(m.textareaTimeout);\n\t            m.textareaTimeout = setTimeout(function () {\n\t                m.sizeTextarea();\n\t            }, 0);\n\t        };\n\t\n\t        //Events\n\t        function preventSubmit(e) {\n\t            e.preventDefault();\n\t        }\n\t\n\t        m.attachEvents = function (destroy) {\n\t            var method = destroy ? 'off' : 'on';\n\t            m.container[method]('submit', preventSubmit);\n\t            m.textarea[method]('change keydown keypress keyup paste cut', m.handleTextarea);\n\t        };\n\t        m.detachEvents = function () {\n\t            m.attachEvents(true);\n\t        };\n\t\n\t        // Init Destroy\n\t        m.init = function () {\n\t            m.attachEvents();\n\t        };\n\t        m.destroy = function () {\n\t            m.detachEvents();\n\t            m = null;\n\t        };\n\t\n\t        // Init\n\t        m.init();\n\t\n\t        m.container[0].f7Messagebar = m;\n\t        return m;\n\t    };\n\t    app.messagebar = function (container, params) {\n\t        return new Messagebar(container, params);\n\t    };\n\t    app.initPageMessagebar = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        var messagebar = pageContainer.hasClass('messagebar') ? pageContainer : pageContainer.find('.messagebar');\n\t        if (messagebar.length === 0) return;\n\t        if (!messagebar.hasClass('messagebar-init')) return;\n\t        var mb = app.messagebar(messagebar, messagebar.dataset());\n\t\n\t        // Destroy on page remove\n\t        function pageBeforeRemove() {\n\t            mb.destroy();\n\t            pageContainer.off('pageBeforeRemove', pageBeforeRemove);\n\t        }\n\t        if (pageContainer.hasClass('page')) {\n\t            pageContainer.on('pageBeforeRemove', pageBeforeRemove);\n\t        }\n\t    };\n\t\n\t    /*======================================================\n\t    ************   XHR   ************\n\t    ======================================================*/\n\t    // XHR Caching\n\t    app.cache = [];\n\t    app.removeFromCache = function (url) {\n\t        var index = false;\n\t        for (var i = 0; i < app.cache.length; i++) {\n\t            if (app.cache[i].url === url) index = i;\n\t        }\n\t        if (index !== false) app.cache.splice(index, 1);\n\t    };\n\t\n\t    // XHR\n\t    app.xhr = false;\n\t    app.get = function (url, view, ignoreCache, callback) {\n\t        // should we ignore get params or not\n\t        var _url = url;\n\t        if (app.params.cacheIgnoreGetParameters && url.indexOf('?') >= 0) {\n\t            _url = url.split('?')[0];\n\t        }\n\t        if (app.params.cache && !ignoreCache && url.indexOf('nocache') < 0 && app.params.cacheIgnore.indexOf(_url) < 0) {\n\t            // Check is the url cached\n\t            for (var i = 0; i < app.cache.length; i++) {\n\t                if (app.cache[i].url === _url) {\n\t                    // Check expiration\n\t                    if (new Date().getTime() - app.cache[i].time < app.params.cacheDuration) {\n\t                        // Load from cache\n\t                        callback(app.cache[i].content);\n\t                        return false;\n\t                    }\n\t                }\n\t            }\n\t        }\n\t\n\t        app.xhr = $.ajax({\n\t            url: url,\n\t            method: 'GET',\n\t            beforeSend: app.params.onAjaxStart,\n\t            complete: function complete(xhr) {\n\t                if (xhr.status >= 200 && xhr.status < 300 || xhr.status === 0) {\n\t                    if (app.params.cache) {\n\t                        app.removeFromCache(_url);\n\t                        app.cache.push({\n\t                            url: _url,\n\t                            time: new Date().getTime(),\n\t                            content: xhr.responseText\n\t                        });\n\t                    }\n\t                    callback(xhr.responseText, false);\n\t                } else {\n\t                    callback(xhr.responseText, true);\n\t                }\n\t                if (app.params.onAjaxComplete) app.params.onAjaxComplete(xhr);\n\t            },\n\t            error: function error(xhr) {\n\t                callback(xhr.responseText, true);\n\t                if (app.params.onAjaxError) app.params.onAjaxError(xhr);\n\t            }\n\t        });\n\t        if (view) view.xhr = app.xhr;\n\t\n\t        return app.xhr;\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Pages   ************\n\t    ======================================================*/\n\t    // Page Callbacks API\n\t    app.pageCallbacks = {};\n\t\n\t    app.onPage = function (callbackName, pageName, callback) {\n\t        if (pageName && pageName.split(' ').length > 1) {\n\t            var pageNames = pageName.split(' ');\n\t            var returnCallbacks = [];\n\t            for (var i = 0; i < pageNames.length; i++) {\n\t                returnCallbacks.push(app.onPage(callbackName, pageNames[i], callback));\n\t            }\n\t            returnCallbacks.remove = function () {\n\t                for (var i = 0; i < returnCallbacks.length; i++) {\n\t                    returnCallbacks[i].remove();\n\t                }\n\t            };\n\t            returnCallbacks.trigger = function () {\n\t                for (var i = 0; i < returnCallbacks.length; i++) {\n\t                    returnCallbacks[i].trigger();\n\t                }\n\t            };\n\t            return returnCallbacks;\n\t        }\n\t        var callbacks = app.pageCallbacks[callbackName][pageName];\n\t        if (!callbacks) {\n\t            callbacks = app.pageCallbacks[callbackName][pageName] = [];\n\t        }\n\t        app.pageCallbacks[callbackName][pageName].push(callback);\n\t        return {\n\t            remove: function remove() {\n\t                var removeIndex;\n\t                for (var i = 0; i < callbacks.length; i++) {\n\t                    if (callbacks[i].toString() === callback.toString()) {\n\t                        removeIndex = i;\n\t                    }\n\t                }\n\t                if (typeof removeIndex !== 'undefined') callbacks.splice(removeIndex, 1);\n\t            },\n\t            trigger: callback\n\t        };\n\t    };\n\t\n\t    //Create callbacks methods dynamically\n\t    function createPageCallback(callbackName) {\n\t        var capitalized = callbackName.replace(/^./, function (match) {\n\t            return match.toUpperCase();\n\t        });\n\t        app['onPage' + capitalized] = function (pageName, callback) {\n\t            return app.onPage(callbackName, pageName, callback);\n\t        };\n\t    }\n\t\n\t    var pageCallbacksNames = 'beforeInit init reinit beforeAnimation afterAnimation back afterBack beforeRemove'.split(' ');\n\t    for (var i = 0; i < pageCallbacksNames.length; i++) {\n\t        app.pageCallbacks[pageCallbacksNames[i]] = {};\n\t        createPageCallback(pageCallbacksNames[i]);\n\t    }\n\t\n\t    app.triggerPageCallbacks = function (callbackName, pageName, pageData) {\n\t        var allPagesCallbacks = app.pageCallbacks[callbackName]['*'];\n\t        if (allPagesCallbacks) {\n\t            for (var j = 0; j < allPagesCallbacks.length; j++) {\n\t                allPagesCallbacks[j](pageData);\n\t            }\n\t        }\n\t        var callbacks = app.pageCallbacks[callbackName][pageName];\n\t        if (!callbacks || callbacks.length === 0) return;\n\t        for (var i = 0; i < callbacks.length; i++) {\n\t            callbacks[i](pageData);\n\t        }\n\t    };\n\t\n\t    // On Page Init Callback\n\t    app.pageInitCallback = function (view, params) {\n\t        var pageContainer = params.pageContainer;\n\t        if (pageContainer.f7PageInitialized && view && !view.params.domCache) return;\n\t\n\t        var pageQuery = params.query;\n\t        if (!pageQuery) {\n\t            if (params.url && params.url.indexOf('?') > 0) {\n\t                pageQuery = $.parseUrlQuery(params.url || '');\n\t            } else if (pageContainer.f7PageData && pageContainer.f7PageData.query) {\n\t                pageQuery = pageContainer.f7PageData.query;\n\t            } else {\n\t                pageQuery = {};\n\t            }\n\t        }\n\t\n\t        // Page Data\n\t        var pageData = {\n\t            container: pageContainer,\n\t            url: params.url,\n\t            query: pageQuery,\n\t            name: $(pageContainer).attr('data-page'),\n\t            view: view,\n\t            from: params.position,\n\t            context: params.context,\n\t            navbarInnerContainer: params.navbarInnerContainer,\n\t            fromPage: params.fromPage\n\t        };\n\t        if (params.fromPage && !params.fromPage.navbarInnerContainer && params.oldNavbarInnerContainer) {\n\t            params.fromPage.navbarInnerContainer = params.oldNavbarInnerContainer;\n\t        }\n\t\n\t        if (pageContainer.f7PageInitialized && (view && view.params.domCache || !view && $(pageContainer).parents('.popup, .popover, .login-screen, .modal, .actions-modal, .picker-modal').length > 0)) {\n\t            // Reinit Page\n\t            app.reinitPage(pageContainer);\n\t\n\t            // Callbacks\n\t            app.pluginHook('pageReinit', pageData);\n\t            if (app.params.onPageReinit) app.params.onPageReinit(app, pageData);\n\t            app.triggerPageCallbacks('reinit', pageData.name, pageData);\n\t            $(pageData.container).trigger('pageReinit', { page: pageData });\n\t            return;\n\t        }\n\t        pageContainer.f7PageInitialized = true;\n\t\n\t        // Store pagedata in page\n\t        pageContainer.f7PageData = pageData;\n\t\n\t        // Update View's activePage\n\t        if (view && !params.preloadOnly && !params.reloadPrevious) {\n\t            // Add data-page on view\n\t            $(view.container).attr('data-page', pageData.name);\n\t            // Update View active page data\n\t            view.activePage = pageData;\n\t        }\n\t\n\t        // Before Init Callbacks\n\t        app.pluginHook('pageBeforeInit', pageData);\n\t        if (app.params.onPageBeforeInit) app.params.onPageBeforeInit(app, pageData);\n\t        app.triggerPageCallbacks('beforeInit', pageData.name, pageData);\n\t        $(pageData.container).trigger('pageBeforeInit', { page: pageData });\n\t\n\t        // Init page\n\t        app.initPage(pageContainer);\n\t\n\t        // Init Callback\n\t        app.pluginHook('pageInit', pageData);\n\t        if (app.params.onPageInit) app.params.onPageInit(app, pageData);\n\t        app.triggerPageCallbacks('init', pageData.name, pageData);\n\t        $(pageData.container).trigger('pageInit', { page: pageData });\n\t    };\n\t    app.pageRemoveCallback = function (view, pageContainer, position) {\n\t        var pageContext;\n\t        if (pageContainer.f7PageData) pageContext = pageContainer.f7PageData.context;\n\t        // Page Data\n\t        var pageData = {\n\t            container: pageContainer,\n\t            name: $(pageContainer).attr('data-page'),\n\t            view: view,\n\t            url: pageContainer.f7PageData && pageContainer.f7PageData.url,\n\t            query: pageContainer.f7PageData && pageContainer.f7PageData.query,\n\t            navbarInnerContainer: pageContainer.f7PageData && pageContainer.f7PageData.navbarInnerContainer,\n\t            from: position,\n\t            context: pageContext\n\t        };\n\t        // Before Init Callback\n\t        app.pluginHook('pageBeforeRemove', pageData);\n\t        if (app.params.onPageBeforeRemove) app.params.onPageBeforeRemove(app, pageData);\n\t        app.triggerPageCallbacks('beforeRemove', pageData.name, pageData);\n\t        $(pageData.container).trigger('pageBeforeRemove', { page: pageData });\n\t    };\n\t    app.pageBackCallback = function (callback, view, params) {\n\t        // Page Data\n\t        var pageContainer = params.pageContainer;\n\t        var pageContext;\n\t        if (pageContainer.f7PageData) pageContext = pageContainer.f7PageData.context;\n\t\n\t        var pageData = {\n\t            container: pageContainer,\n\t            name: $(pageContainer).attr('data-page'),\n\t            url: pageContainer.f7PageData && pageContainer.f7PageData.url,\n\t            query: pageContainer.f7PageData && pageContainer.f7PageData.query,\n\t            view: view,\n\t            from: params.position,\n\t            context: pageContext,\n\t            navbarInnerContainer: pageContainer.f7PageData && pageContainer.f7PageData.navbarInnerContainer,\n\t            swipeBack: params.swipeBack\n\t        };\n\t\n\t        if (callback === 'after') {\n\t            app.pluginHook('pageAfterBack', pageData);\n\t            if (app.params.onPageAfterBack) app.params.onPageAfterBack(app, pageData);\n\t            app.triggerPageCallbacks('afterBack', pageData.name, pageData);\n\t            $(pageContainer).trigger('pageAfterBack', { page: pageData });\n\t        }\n\t        if (callback === 'before') {\n\t            app.pluginHook('pageBack', pageData);\n\t            if (app.params.onPageBack) app.params.onPageBack(app, pageData);\n\t            app.triggerPageCallbacks('back', pageData.name, pageData);\n\t            $(pageData.container).trigger('pageBack', { page: pageData });\n\t        }\n\t    };\n\t    app.pageAnimCallback = function (callback, view, params) {\n\t        var pageContainer = params.pageContainer;\n\t        var pageContext;\n\t        if (pageContainer.f7PageData) pageContext = pageContainer.f7PageData.context;\n\t\n\t        var pageQuery = params.query;\n\t        if (!pageQuery) {\n\t            if (params.url && params.url.indexOf('?') > 0) {\n\t                pageQuery = $.parseUrlQuery(params.url || '');\n\t            } else if (pageContainer.f7PageData && pageContainer.f7PageData.query) {\n\t                pageQuery = pageContainer.f7PageData.query;\n\t            } else {\n\t                pageQuery = {};\n\t            }\n\t        }\n\t        // Page Data\n\t        var pageData = {\n\t            container: pageContainer,\n\t            url: params.url,\n\t            query: pageQuery,\n\t            name: $(pageContainer).attr('data-page'),\n\t            view: view,\n\t            from: params.position,\n\t            context: pageContext,\n\t            swipeBack: params.swipeBack,\n\t            navbarInnerContainer: pageContainer.f7PageData && pageContainer.f7PageData.navbarInnerContainer,\n\t            fromPage: params.fromPage\n\t        };\n\t        var oldPage = params.oldPage,\n\t            newPage = params.newPage;\n\t\n\t        // Update page date\n\t        pageContainer.f7PageData = pageData;\n\t\n\t        if (callback === 'after') {\n\t            app.pluginHook('pageAfterAnimation', pageData);\n\t            if (app.params.onPageAfterAnimation) app.params.onPageAfterAnimation(app, pageData);\n\t            app.triggerPageCallbacks('afterAnimation', pageData.name, pageData);\n\t            $(pageData.container).trigger('pageAfterAnimation', { page: pageData });\n\t        }\n\t        if (callback === 'before') {\n\t            // Add data-page on view\n\t            $(view.container).attr('data-page', pageData.name);\n\t\n\t            // Update View's activePage\n\t            if (view) view.activePage = pageData;\n\t\n\t            // Hide/show navbar dynamically\n\t            if (newPage.hasClass('no-navbar') && !oldPage.hasClass('no-navbar')) {\n\t                view.hideNavbar();\n\t            }\n\t            if (!newPage.hasClass('no-navbar') && (oldPage.hasClass('no-navbar') || oldPage.hasClass('no-navbar-by-scroll'))) {\n\t                view.showNavbar();\n\t            }\n\t            // Hide/show navbar toolbar\n\t            if (newPage.hasClass('no-toolbar') && !oldPage.hasClass('no-toolbar')) {\n\t                view.hideToolbar();\n\t            }\n\t            if (!newPage.hasClass('no-toolbar') && (oldPage.hasClass('no-toolbar') || oldPage.hasClass('no-toolbar-by-scroll'))) {\n\t                view.showToolbar();\n\t            }\n\t            // Hide/show tabbar\n\t            var tabBar;\n\t            if (newPage.hasClass('no-tabbar') && !oldPage.hasClass('no-tabbar')) {\n\t                tabBar = $(view.container).find('.tabbar');\n\t                if (tabBar.length === 0) tabBar = $(view.container).parents('.' + app.params.viewsClass).find('.tabbar');\n\t                app.hideToolbar(tabBar);\n\t            }\n\t            if (!newPage.hasClass('no-tabbar') && (oldPage.hasClass('no-tabbar') || oldPage.hasClass('no-tabbar-by-scroll'))) {\n\t                tabBar = $(view.container).find('.tabbar');\n\t                if (tabBar.length === 0) tabBar = $(view.container).parents('.' + app.params.viewsClass).find('.tabbar');\n\t                app.showToolbar(tabBar);\n\t            }\n\t\n\t            oldPage.removeClass('no-navbar-by-scroll no-toolbar-by-scroll');\n\t            // Callbacks\n\t            app.pluginHook('pageBeforeAnimation', pageData);\n\t            if (app.params.onPageBeforeAnimation) app.params.onPageBeforeAnimation(app, pageData);\n\t            app.triggerPageCallbacks('beforeAnimation', pageData.name, pageData);\n\t            $(pageData.container).trigger('pageBeforeAnimation', { page: pageData });\n\t        }\n\t    };\n\t\n\t    // Init Page Events and Manipulations\n\t    app.initPage = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        if (pageContainer.length === 0) return;\n\t        // Size navbars on page load\n\t        if (app.sizeNavbars) app.sizeNavbars(pageContainer.parents('.' + app.params.viewClass)[0]);\n\t        // Init messages\n\t        if (app.initPageMessages) app.initPageMessages(pageContainer);\n\t        // Init forms storage\n\t        if (app.initFormsStorage) app.initFormsStorage(pageContainer);\n\t        // Init smart select\n\t        if (app.initSmartSelects) app.initSmartSelects(pageContainer);\n\t        // Init slider\n\t        if (app.initPageSwiper) app.initPageSwiper(pageContainer);\n\t        // Init pull to refres\n\t        if (app.initPullToRefresh) app.initPullToRefresh(pageContainer);\n\t        // Init infinite scroll\n\t        if (app.initPageInfiniteScroll) app.initPageInfiniteScroll(pageContainer);\n\t        // Init searchbar\n\t        if (app.initSearchbar) app.initSearchbar(pageContainer);\n\t        // Init message bar\n\t        if (app.initPageMessagebar) app.initPageMessagebar(pageContainer);\n\t        // Init scroll toolbars\n\t        if (app.initPageScrollToolbars) app.initPageScrollToolbars(pageContainer);\n\t        // Init lazy images\n\t        if (app.initImagesLazyLoad) app.initImagesLazyLoad(pageContainer);\n\t        // Init progress bars\n\t        if (app.initPageProgressbar) app.initPageProgressbar(pageContainer);\n\t        // Init resizeable textareas\n\t        if (app.initPageResizableTextarea) app.initPageResizableTextarea(pageContainer);\n\t        // Init Material Preloader\n\t        if (app.params.material && app.initPageMaterialPreloader) app.initPageMaterialPreloader(pageContainer);\n\t        // Init Material Inputs\n\t        if (app.params.material && app.initPageMaterialInputs) app.initPageMaterialInputs(pageContainer);\n\t        // Init Material Tabbar\n\t        if (app.params.material && app.initPageMaterialTabbar) app.initPageMaterialTabbar(pageContainer);\n\t    };\n\t    app.reinitPage = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        if (pageContainer.length === 0) return;\n\t        // Size navbars on page reinit\n\t        if (app.sizeNavbars) app.sizeNavbars(pageContainer.parents('.' + app.params.viewClass)[0]);\n\t        // Reinit slider\n\t        if (app.reinitPageSwiper) app.reinitPageSwiper(pageContainer);\n\t        // Reinit lazy load\n\t        if (app.reinitLazyLoad) app.reinitLazyLoad(pageContainer);\n\t    };\n\t    app.initPageWithCallback = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        var viewContainer = pageContainer.parents('.' + app.params.viewClass);\n\t        if (viewContainer.length === 0) return;\n\t        var view = viewContainer[0].f7View || undefined;\n\t        var url = view && view.url ? view.url : undefined;\n\t        if (viewContainer && pageContainer.attr('data-page')) {\n\t            viewContainer.attr('data-page', pageContainer.attr('data-page'));\n\t        }\n\t        app.pageInitCallback(view, { pageContainer: pageContainer[0], url: url, position: 'center' });\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Navigation / Router   ************\n\t    ======================================================*/\n\t    app.router = {\n\t        // Temporary DOM Element\n\t        temporaryDom: document.createElement('div'),\n\t\n\t        // Find page or navbar in passed container which are related to View\n\t        findElement: function findElement(selector, container, view, notCached) {\n\t            container = $(container);\n\t            if (notCached) selector = selector + ':not(.cached)';\n\t            var found = container.find(selector);\n\t            if (found.length > 1) {\n\t                if (typeof view.selector === 'string') {\n\t                    // Search in related view\n\t                    found = container.find(view.selector + ' ' + selector);\n\t                }\n\t                if (found.length > 1) {\n\t                    // Search in main view\n\t                    found = container.find('.' + app.params.viewMainClass + ' ' + selector);\n\t                }\n\t            }\n\t            if (found.length === 1) return found;else {\n\t                // Try to find non cached\n\t                if (!notCached) found = app.router.findElement(selector, container, view, true);\n\t                if (found && found.length === 1) return found;else return undefined;\n\t            }\n\t        },\n\t\n\t        // Set pages classess for animationEnd\n\t        animatePages: function animatePages(leftPage, rightPage, direction, view) {\n\t            // Loading new page\n\t            var removeClasses = 'page-on-center page-on-right page-on-left';\n\t            if (direction === 'to-left') {\n\t                leftPage.removeClass(removeClasses).addClass('page-from-center-to-left');\n\t                rightPage.removeClass(removeClasses).addClass('page-from-right-to-center');\n\t            }\n\t            // Go back\n\t            if (direction === 'to-right') {\n\t                leftPage.removeClass(removeClasses).addClass('page-from-left-to-center');\n\t                rightPage.removeClass(removeClasses).addClass('page-from-center-to-right');\n\t            }\n\t        },\n\t\n\t        // Prepare navbar before animarion\n\t        prepareNavbar: function prepareNavbar(newNavbarInner, oldNavbarInner, newNavbarPosition) {\n\t            $(newNavbarInner).find('.sliding').each(function () {\n\t                var sliding = $(this);\n\t                var slidingOffset = newNavbarPosition === 'right' ? this.f7NavbarRightOffset : this.f7NavbarLeftOffset;\n\t\n\t                if (app.params.animateNavBackIcon) {\n\t                    if (sliding.hasClass('left') && sliding.find('.back .icon').length > 0) {\n\t                        sliding.find('.back .icon').transform('translate3d(' + -slidingOffset + 'px,0,0)');\n\t                    }\n\t                }\n\t                sliding.transform('translate3d(' + slidingOffset + 'px,0,0)');\n\t            });\n\t        },\n\t\n\t        // Set navbars classess for animation\n\t        animateNavbars: function animateNavbars(leftNavbarInner, rightNavbarInner, direction, view) {\n\t            // Loading new page\n\t            var removeClasses = 'navbar-on-right navbar-on-center navbar-on-left';\n\t            if (direction === 'to-left') {\n\t                rightNavbarInner.removeClass(removeClasses).addClass('navbar-from-right-to-center');\n\t                rightNavbarInner.find('.sliding').each(function () {\n\t                    var sliding = $(this);\n\t                    sliding.transform('translate3d(0px,0,0)');\n\t                    if (app.params.animateNavBackIcon) {\n\t                        if (sliding.hasClass('left') && sliding.find('.back .icon').length > 0) {\n\t                            sliding.find('.back .icon').transform('translate3d(0px,0,0)');\n\t                        }\n\t                    }\n\t                });\n\t\n\t                leftNavbarInner.removeClass(removeClasses).addClass('navbar-from-center-to-left');\n\t                leftNavbarInner.find('.sliding').each(function () {\n\t                    var sliding = $(this);\n\t                    var rightText;\n\t                    if (app.params.animateNavBackIcon) {\n\t                        if (sliding.hasClass('center') && rightNavbarInner.find('.sliding.left .back .icon').length > 0) {\n\t                            rightText = rightNavbarInner.find('.sliding.left .back span');\n\t                            if (rightText.length > 0) this.f7NavbarLeftOffset += rightText[0].offsetLeft;\n\t                        }\n\t                        if (sliding.hasClass('left') && sliding.find('.back .icon').length > 0) {\n\t                            sliding.find('.back .icon').transform('translate3d(' + -this.f7NavbarLeftOffset + 'px,0,0)');\n\t                        }\n\t                    }\n\t                    sliding.transform('translate3d(' + this.f7NavbarLeftOffset + 'px,0,0)');\n\t                });\n\t            }\n\t            // Go back\n\t            if (direction === 'to-right') {\n\t                leftNavbarInner.removeClass(removeClasses).addClass('navbar-from-left-to-center');\n\t                leftNavbarInner.find('.sliding').each(function () {\n\t                    var sliding = $(this);\n\t                    sliding.transform('translate3d(0px,0,0)');\n\t                    if (app.params.animateNavBackIcon) {\n\t                        if (sliding.hasClass('left') && sliding.find('.back .icon').length > 0) {\n\t                            sliding.find('.back .icon').transform('translate3d(0px,0,0)');\n\t                        }\n\t                    }\n\t                });\n\t\n\t                rightNavbarInner.removeClass(removeClasses).addClass('navbar-from-center-to-right');\n\t                rightNavbarInner.find('.sliding').each(function () {\n\t                    var sliding = $(this);\n\t                    if (app.params.animateNavBackIcon) {\n\t                        if (sliding.hasClass('left') && sliding.find('.back .icon').length > 0) {\n\t                            sliding.find('.back .icon').transform('translate3d(' + -this.f7NavbarRightOffset + 'px,0,0)');\n\t                        }\n\t                    }\n\t                    sliding.transform('translate3d(' + this.f7NavbarRightOffset + 'px,0,0)');\n\t                });\n\t            }\n\t        },\n\t\n\t        preprocess: function preprocess(view, content, url, next) {\n\t            // Plugin hook\n\t            app.pluginHook('routerPreprocess', view, content, url, next);\n\t\n\t            // Preprocess by plugin\n\t            content = app.pluginProcess('preprocess', content);\n\t\n\t            if (view && view.params && view.params.preprocess) {\n\t                content = view.params.preprocess(content, url, next);\n\t                if (typeof content !== 'undefined') {\n\t                    next(content);\n\t                }\n\t            } else if (app.params.preprocess) {\n\t                content = app.params.preprocess(content, url, next);\n\t                if (typeof content !== 'undefined') {\n\t                    next(content);\n\t                }\n\t            } else {\n\t                next(content);\n\t            }\n\t        },\n\t        preroute: function preroute(view, options) {\n\t            app.pluginHook('routerPreroute', view, options);\n\t            if (app.params.preroute && app.params.preroute(view, options) === false || view && view.params.preroute && view.params.preroute(view, options) === false) {\n\t                return true;\n\t            } else {\n\t                return false;\n\t            }\n\t        },\n\t\n\t        template7Render: function template7Render(view, options) {\n\t            var url = options.url,\n\t                content = options.content,\n\t                //initial content\n\t            t7_rendered_content = options.content,\n\t                // will be rendered using Template7\n\t            context = options.context,\n\t                // Context data for Template7\n\t            contextName = options.contextName,\n\t                template = options.template,\n\t                // Template 7 compiled template\n\t            pageName = options.pageName;\n\t\n\t            var t7_ctx, t7_template;\n\t            if (typeof content === 'string') {\n\t                if (url) {\n\t                    if (app.template7Cache[url] && !options.ignoreCache) t7_template = t7.cache[url];else {\n\t                        t7_template = t7.compile(content);\n\t                        t7.cache[url] = t7_template;\n\t                    }\n\t                } else t7_template = t7.compile(content);\n\t            } else if (template) {\n\t                t7_template = template;\n\t            }\n\t\n\t            if (context) t7_ctx = context;else {\n\t                if (contextName) {\n\t                    if (contextName.indexOf('.') >= 0) {\n\t                        var _ctx_path = contextName.split('.');\n\t                        var _ctx = t7.data[_ctx_path[0]];\n\t                        for (var i = 1; i < _ctx_path.length; i++) {\n\t                            if (_ctx_path[i]) _ctx = _ctx[_ctx_path[i]];\n\t                        }\n\t                        t7_ctx = _ctx;\n\t                    } else t7_ctx = t7.data[contextName];\n\t                }\n\t                if (!t7_ctx && url) {\n\t                    t7_ctx = t7.data['url:' + url];\n\t                }\n\t                if (!t7_ctx && typeof content === 'string' && !template) {\n\t                    //try to find by page name in content\n\t                    var pageNameMatch = content.match(/(data-page=[\"'][^\"^']*[\"'])/);\n\t                    if (pageNameMatch) {\n\t                        var page = pageNameMatch[0].split('data-page=')[1].replace(/['\"]/g, '');\n\t                        if (page) t7_ctx = t7.data['page:' + page];\n\t                    }\n\t                }\n\t                if (!t7_ctx && template && t7.templates) {\n\t                    // Try to find matched template name in t7.templates\n\t                    for (var templateName in t7.templates) {\n\t                        if (t7.templates[templateName] === template) t7_ctx = t7.data[templateName];\n\t                    }\n\t                }\n\t                if (!t7_ctx) t7_ctx = {};\n\t            }\n\t\n\t            if (t7_template && t7_ctx) {\n\t                if (typeof t7_ctx === 'function') t7_ctx = t7_ctx();\n\t                if (url) {\n\t                    // Extend data with URL query\n\t                    var query = $.parseUrlQuery(url);\n\t                    t7_ctx.url_query = {};\n\t                    for (var key in query) {\n\t                        t7_ctx.url_query[key] = query[key];\n\t                    }\n\t                }\n\t                t7_rendered_content = t7_template(t7_ctx);\n\t            }\n\t\n\t            return { content: t7_rendered_content, context: t7_ctx };\n\t        }\n\t    };\n\t\n\t    app.router._load = function (view, options) {\n\t        options = options || {};\n\t\n\t        var url = options.url,\n\t            content = options.content,\n\t            //initial content\n\t        t7_rendered = { content: options.content },\n\t            template = options.template,\n\t            // Template 7 compiled template\n\t        pageName = options.pageName,\n\t            viewContainer = $(view.container),\n\t            pagesContainer = $(view.pagesContainer),\n\t            animatePages = options.animatePages,\n\t            newPage,\n\t            oldPage,\n\t            pagesInView,\n\t            i,\n\t            oldNavbarInner,\n\t            newNavbarInner,\n\t            navbar,\n\t            dynamicNavbar,\n\t            reloadPosition,\n\t            isDynamicPage = typeof url === 'undefined' && content || template,\n\t            pushState = options.pushState;\n\t\n\t        if (typeof animatePages === 'undefined') animatePages = view.params.animatePages;\n\t\n\t        // Plugin hook\n\t        app.pluginHook('routerLoad', view, options);\n\t\n\t        // Render with Template7\n\t        if (app.params.template7Pages && typeof content === 'string' || template) {\n\t            t7_rendered = app.router.template7Render(view, options);\n\t            if (t7_rendered.content && !content) {\n\t                content = t7_rendered.content;\n\t            }\n\t        }\n\t\n\t        app.router.temporaryDom.innerHTML = '';\n\t\n\t        // Parse DOM\n\t        if (!pageName) {\n\t            if (typeof content === 'string' || url && typeof content === 'string') {\n\t                app.router.temporaryDom.innerHTML = t7_rendered.content;\n\t            } else {\n\t                if ('length' in content && content.length > 1) {\n\t                    for (var ci = 0; ci < content.length; ci++) {\n\t                        $(app.router.temporaryDom).append(content[ci]);\n\t                    }\n\t                } else {\n\t                    $(app.router.temporaryDom).append(content);\n\t                }\n\t            }\n\t        }\n\t\n\t        // Reload position\n\t        reloadPosition = options.reload && (options.reloadPrevious ? 'left' : 'center');\n\t\n\t        // Find new page\n\t        if (pageName) newPage = pagesContainer.find('.page[data-page=\"' + pageName + '\"]');else {\n\t            newPage = app.router.findElement('.page', app.router.temporaryDom, view);\n\t        }\n\t\n\t        // If page not found exit\n\t        if (!newPage || newPage.length === 0 || pageName && view.activePage && view.activePage.name === pageName) {\n\t            view.allowPageChange = true;\n\t            return;\n\t        }\n\t\n\t        newPage.addClass(options.reload ? 'page-on-' + reloadPosition : 'page-on-right');\n\t\n\t        // Find old page (should be the last one) and remove older pages\n\t        pagesInView = pagesContainer.children('.page:not(.cached)');\n\t\n\t        if (options.reload && options.reloadPrevious && pagesInView.length === 1) {\n\t            view.allowPageChange = true;\n\t            return;\n\t        }\n\t\n\t        if (options.reload) {\n\t            oldPage = pagesInView.eq(pagesInView.length - 1);\n\t        } else {\n\t            if (pagesInView.length > 1) {\n\t                for (i = 0; i < pagesInView.length - 2; i++) {\n\t                    if (!view.params.domCache) {\n\t                        app.pageRemoveCallback(view, pagesInView[i], 'left');\n\t                        $(pagesInView[i]).remove();\n\t                    } else {\n\t                        $(pagesInView[i]).addClass('cached');\n\t                    }\n\t                }\n\t                if (!view.params.domCache) {\n\t                    app.pageRemoveCallback(view, pagesInView[i], 'left');\n\t                    $(pagesInView[i]).remove();\n\t                } else {\n\t                    $(pagesInView[i]).addClass('cached');\n\t                }\n\t            }\n\t            oldPage = pagesContainer.children('.page:not(.cached)');\n\t        }\n\t        if (view.params.domCache) newPage.removeClass('cached');\n\t\n\t        // Dynamic navbar\n\t        if (view.params.dynamicNavbar) {\n\t            dynamicNavbar = true;\n\t            // Find navbar\n\t            if (pageName) {\n\t                newNavbarInner = viewContainer.find('.navbar-inner[data-page=\"' + pageName + '\"]');\n\t            } else {\n\t                newNavbarInner = app.router.findElement('.navbar-inner', app.router.temporaryDom, view);\n\t            }\n\t            if (!newNavbarInner || newNavbarInner.length === 0) {\n\t                dynamicNavbar = false;\n\t            }\n\t            navbar = viewContainer.find('.navbar');\n\t            if (options.reload) {\n\t                oldNavbarInner = navbar.find('.navbar-inner:not(.cached):last-child');\n\t            } else {\n\t                oldNavbarInner = navbar.find('.navbar-inner:not(.cached)');\n\t\n\t                if (oldNavbarInner.length > 0) {\n\t                    for (i = 0; i < oldNavbarInner.length - 1; i++) {\n\t                        if (!view.params.domCache) {\n\t                            app.navbarRemoveCallback(view, pagesInView[i], navbar[0], oldNavbarInner[i]);\n\t                            $(oldNavbarInner[i]).remove();\n\t                        } else $(oldNavbarInner[i]).addClass('cached');\n\t                    }\n\t                    if (!newNavbarInner && oldNavbarInner.length === 1) {\n\t                        if (!view.params.domCache) {\n\t                            app.navbarRemoveCallback(view, pagesInView[0], navbar[0], oldNavbarInner[0]);\n\t                            $(oldNavbarInner[0]).remove();\n\t                        } else $(oldNavbarInner[0]).addClass('cached');\n\t                    }\n\t                    oldNavbarInner = navbar.find('.navbar-inner:not(.cached)');\n\t                }\n\t            }\n\t        }\n\t        if (dynamicNavbar) {\n\t            newNavbarInner.addClass(options.reload ? 'navbar-on-' + reloadPosition : 'navbar-on-right');\n\t            if (view.params.domCache) newNavbarInner.removeClass('cached');\n\t            newPage[0].f7RelatedNavbar = newNavbarInner[0];\n\t            newNavbarInner[0].f7RelatedPage = newPage[0];\n\t        }\n\t\n\t        // save content areas into view's cache\n\t        if (!url) {\n\t            var newPageName = pageName || newPage.attr('data-page');\n\t            if (isDynamicPage) url = '#' + app.params.dynamicPageUrl.replace(/{{name}}/g, newPageName).replace(/{{index}}/g, view.history.length - (options.reload ? 1 : 0));else url = '#' + newPageName;\n\t            if (!view.params.domCache) {\n\t                view.contentCache[url] = content;\n\t            }\n\t            if (view.params.domCache && pageName) {\n\t                view.pagesCache[url] = pageName;\n\t            }\n\t        }\n\t\n\t        // Push State\n\t        if (app.params.pushState && !options.reloadPrevious && view.main) {\n\t            if (typeof pushState === 'undefined') pushState = true;\n\t            var pushStateRoot = app.params.pushStateRoot || '';\n\t            var method = options.reload ? 'replaceState' : 'pushState';\n\t            if (pushState) {\n\t                if (!isDynamicPage && !pageName) {\n\t                    history[method]({ url: url, viewIndex: app.views.indexOf(view) }, '', pushStateRoot + app.params.pushStateSeparator + url);\n\t                } else if (isDynamicPage && content) {\n\t                    history[method]({ content: typeof content === 'string' ? content : '', url: url, viewIndex: app.views.indexOf(view) }, '', pushStateRoot + app.params.pushStateSeparator + url);\n\t                } else if (pageName) {\n\t                    history[method]({ pageName: pageName, url: url, viewIndex: app.views.indexOf(view) }, '', pushStateRoot + app.params.pushStateSeparator + url);\n\t                }\n\t            }\n\t        }\n\t\n\t        // Update View history\n\t        view.url = url;\n\t        if (options.reload) {\n\t            var lastUrl = view.history[view.history.length - (options.reloadPrevious ? 2 : 1)];\n\t            if (lastUrl && lastUrl.indexOf('#') === 0 && lastUrl in view.contentCache && lastUrl !== url && view.history.indexOf(lastUrl) === -1) {\n\t                view.contentCache[lastUrl] = null;\n\t                delete view.contentCache[lastUrl];\n\t            }\n\t            view.history[view.history.length - (options.reloadPrevious ? 2 : 1)] = url;\n\t        } else {\n\t            view.history.push(url);\n\t        }\n\t\n\t        // Unique history\n\t        var historyBecameUnique = false;\n\t        if (view.params.uniqueHistory) {\n\t            var _history = view.history;\n\t            var _url = url;\n\t            if (view.params.uniqueHistoryIgnoreGetParameters) {\n\t                _history = [];\n\t                _url = url.split('?')[0];\n\t                for (i = 0; i < view.history.length; i++) {\n\t                    _history.push(view.history[i].split('?')[0]);\n\t                }\n\t            }\n\t\n\t            if (_history.indexOf(_url) !== _history.lastIndexOf(_url)) {\n\t                view.history = view.history.slice(0, _history.indexOf(_url));\n\t                view.history.push(url);\n\t                historyBecameUnique = true;\n\t            }\n\t        }\n\t        // Dom manipulations\n\t        if (options.reloadPrevious) {\n\t            oldPage = oldPage.prev('.page');\n\t            newPage.insertBefore(oldPage);\n\t            if (dynamicNavbar) {\n\t                oldNavbarInner = oldNavbarInner.prev('.navbar-inner');\n\t                newNavbarInner.insertAfter(oldNavbarInner);\n\t            }\n\t        } else {\n\t            pagesContainer.append(newPage[0]);\n\t            if (dynamicNavbar) navbar.append(newNavbarInner[0]);\n\t        }\n\t        // Remove Old Page And Navbar\n\t        if (options.reload) {\n\t            if (view.params.domCache && view.initialPages.indexOf(oldPage[0]) >= 0) {\n\t                oldPage.addClass('cached');\n\t                if (dynamicNavbar) oldNavbarInner.addClass('cached');\n\t            } else {\n\t                app.pageRemoveCallback(view, oldPage[0], reloadPosition);\n\t                if (dynamicNavbar) app.navbarRemoveCallback(view, oldPage[0], navbar[0], oldNavbarInner[0]);\n\t                oldPage.remove();\n\t                if (dynamicNavbar) oldNavbarInner.remove();\n\t            }\n\t        }\n\t\n\t        // Page Init Events\n\t        app.pageInitCallback(view, {\n\t            pageContainer: newPage[0],\n\t            url: url,\n\t            position: options.reload ? reloadPosition : 'right',\n\t            navbarInnerContainer: dynamicNavbar ? newNavbarInner && newNavbarInner[0] : undefined,\n\t            oldNavbarInnerContainer: dynamicNavbar ? oldNavbarInner && oldNavbarInner[0] : undefined,\n\t            context: t7_rendered.context,\n\t            query: options.query,\n\t            fromPage: oldPage && oldPage.length && oldPage[0].f7PageData,\n\t            reload: options.reload,\n\t            reloadPrevious: options.reloadPrevious\n\t        });\n\t\n\t        // Navbar init event\n\t        if (dynamicNavbar) {\n\t            app.navbarInitCallback(view, newPage[0], navbar[0], newNavbarInner[0], url, options.reload ? reloadPosition : 'right');\n\t        }\n\t\n\t        if (options.reload) {\n\t            view.allowPageChange = true;\n\t            if (historyBecameUnique) view.refreshPreviousPage();\n\t            return;\n\t        }\n\t\n\t        if (dynamicNavbar && animatePages) {\n\t            app.router.prepareNavbar(newNavbarInner, oldNavbarInner, 'right');\n\t        }\n\t        // Force reLayout\n\t        var clientLeft = newPage[0].clientLeft;\n\t\n\t        // Before Anim Callback\n\t        app.pageAnimCallback('before', view, {\n\t            pageContainer: newPage[0],\n\t            url: url,\n\t            position: 'right',\n\t            oldPage: oldPage,\n\t            newPage: newPage,\n\t            query: options.query,\n\t            fromPage: oldPage && oldPage.length && oldPage[0].f7PageData\n\t        });\n\t\n\t        function afterAnimation() {\n\t            view.allowPageChange = true;\n\t            newPage.removeClass('page-from-right-to-center page-on-right page-on-left').addClass('page-on-center');\n\t            oldPage.removeClass('page-from-center-to-left page-on-center page-on-right').addClass('page-on-left');\n\t            if (dynamicNavbar) {\n\t                newNavbarInner.removeClass('navbar-from-right-to-center navbar-on-left navbar-on-right').addClass('navbar-on-center');\n\t                oldNavbarInner.removeClass('navbar-from-center-to-left navbar-on-center navbar-on-right').addClass('navbar-on-left');\n\t            }\n\t            app.pageAnimCallback('after', view, {\n\t                pageContainer: newPage[0],\n\t                url: url,\n\t                position: 'right',\n\t                oldPage: oldPage,\n\t                newPage: newPage,\n\t                query: options.query,\n\t                fromPage: oldPage && oldPage.length && oldPage[0].f7PageData\n\t            });\n\t            if (app.params.pushState && view.main) app.pushStateClearQueue();\n\t            if (!(view.params.swipeBackPage || view.params.preloadPreviousPage)) {\n\t                if (view.params.domCache) {\n\t                    oldPage.addClass('cached');\n\t                    if (dynamicNavbar) oldNavbarInner.addClass('cached');\n\t                } else {\n\t                    if (!(url.indexOf('#') === 0 && newPage.attr('data-page').indexOf('smart-select-') === 0)) {\n\t                        app.pageRemoveCallback(view, oldPage[0], 'left');\n\t                        if (dynamicNavbar) app.navbarRemoveCallback(view, oldPage[0], navbar[0], oldNavbarInner[0]);\n\t                        oldPage.remove();\n\t                        if (dynamicNavbar) oldNavbarInner.remove();\n\t                    }\n\t                }\n\t            }\n\t            if (view.params.uniqueHistory && historyBecameUnique) {\n\t                view.refreshPreviousPage();\n\t            }\n\t        }\n\t        if (animatePages) {\n\t            // Set pages before animation\n\t            if (app.params.material && app.params.materialPageLoadDelay) {\n\t                setTimeout(function () {\n\t                    app.router.animatePages(oldPage, newPage, 'to-left', view);\n\t                }, app.params.materialPageLoadDelay);\n\t            } else {\n\t                app.router.animatePages(oldPage, newPage, 'to-left', view);\n\t            }\n\t\n\t            // Dynamic navbar animation\n\t            if (dynamicNavbar) {\n\t                setTimeout(function () {\n\t                    app.router.animateNavbars(oldNavbarInner, newNavbarInner, 'to-left', view);\n\t                }, 0);\n\t            }\n\t            newPage.animationEnd(function (e) {\n\t                afterAnimation();\n\t            });\n\t        } else {\n\t            if (dynamicNavbar) newNavbarInner.find('.sliding, .sliding .back .icon').transform('');\n\t            afterAnimation();\n\t        }\n\t    };\n\t\n\t    app.router.load = function (view, options) {\n\t        if (app.router.preroute(view, options)) {\n\t            return false;\n\t        }\n\t        options = options || {};\n\t        var url = options.url;\n\t        var content = options.content;\n\t        var pageName = options.pageName;\n\t        if (pageName) {\n\t            if (pageName.indexOf('?') > 0) {\n\t                options.query = $.parseUrlQuery(pageName);\n\t                options.pageName = pageName = pageName.split('?')[0];\n\t            }\n\t        }\n\t        var template = options.template;\n\t        if (view.params.reloadPages === true) options.reload = true;\n\t\n\t        if (!view.allowPageChange) return false;\n\t        if (url && view.url === url && !options.reload && !view.params.allowDuplicateUrls) return false;\n\t        view.allowPageChange = false;\n\t        if (app.xhr && view.xhr && view.xhr === app.xhr) {\n\t            app.xhr.abort();\n\t            app.xhr = false;\n\t        }\n\t        function proceed(content) {\n\t            app.router.preprocess(view, content, url, function (content) {\n\t                options.content = content;\n\t                app.router._load(view, options);\n\t            });\n\t        }\n\t        if (content || pageName) {\n\t            proceed(content);\n\t            return;\n\t        } else if (template) {\n\t            app.router._load(view, options);\n\t            return;\n\t        }\n\t\n\t        if (!options.url || options.url === '#') {\n\t            view.allowPageChange = true;\n\t            return;\n\t        }\n\t        app.get(options.url, view, options.ignoreCache, function (content, error) {\n\t            if (error) {\n\t                view.allowPageChange = true;\n\t                return;\n\t            }\n\t            proceed(content);\n\t        });\n\t    };\n\t\n\t    app.router._back = function (view, options) {\n\t        options = options || {};\n\t        var url = options.url,\n\t            content = options.content,\n\t            t7_rendered = { content: options.content },\n\t            // will be rendered using Template7\n\t        template = options.template,\n\t            // Template 7 compiled template\n\t        animatePages = options.animatePages,\n\t            preloadOnly = options.preloadOnly,\n\t            pushState = options.pushState,\n\t            ignoreCache = options.ignoreCache,\n\t            force = options.force,\n\t            pageName = options.pageName;\n\t\n\t        var viewContainer = $(view.container),\n\t            pagesContainer = $(view.pagesContainer),\n\t            pagesInView = pagesContainer.children('.page:not(.cached)'),\n\t            oldPage,\n\t            newPage,\n\t            oldNavbarInner,\n\t            newNavbarInner,\n\t            navbar,\n\t            navbarInners,\n\t            dynamicNavbar,\n\t            manipulateDom = true;\n\t\n\t        if (typeof animatePages === 'undefined') animatePages = view.params.animatePages;\n\t\n\t        app.pluginHook('routerBack', view, options);\n\t\n\t        // Render with Template7\n\t        if (app.params.template7Pages && typeof content === 'string' || template) {\n\t            t7_rendered = app.router.template7Render(view, options);\n\t            if (t7_rendered.content && !content) {\n\t                content = t7_rendered.content;\n\t            }\n\t        }\n\t\n\t        // Animation\n\t        function afterAnimation() {\n\t            app.pageBackCallback('after', view, {\n\t                pageContainer: oldPage[0],\n\t                url: url,\n\t                position: 'center',\n\t                oldPage: oldPage,\n\t                newPage: newPage\n\t            });\n\t            app.pageAnimCallback('after', view, {\n\t                pageContainer: newPage[0],\n\t                url: url,\n\t                position: 'left',\n\t                oldPage: oldPage,\n\t                newPage: newPage,\n\t                query: options.query,\n\t                fromPage: oldPage && oldPage.length && oldPage[0].f7PageData\n\t            });\n\t            app.router.afterBack(view, oldPage[0], newPage[0]);\n\t        }\n\t        function animateBack() {\n\t            // Page before animation callback\n\t            app.pageBackCallback('before', view, {\n\t                pageContainer: oldPage[0],\n\t                url: url,\n\t                position: 'center',\n\t                oldPage: oldPage,\n\t                newPage: newPage\n\t            });\n\t            app.pageAnimCallback('before', view, {\n\t                pageContainer: newPage[0],\n\t                url: url,\n\t                position: 'left',\n\t                oldPage: oldPage,\n\t                newPage: newPage,\n\t                query: options.query,\n\t                fromPage: oldPage && oldPage.length && oldPage[0].f7PageData\n\t            });\n\t\n\t            if (animatePages) {\n\t                // Set pages before animation\n\t                app.router.animatePages(newPage, oldPage, 'to-right', view);\n\t\n\t                // Dynamic navbar animation\n\t                if (dynamicNavbar) {\n\t                    setTimeout(function () {\n\t                        app.router.animateNavbars(newNavbarInner, oldNavbarInner, 'to-right', view);\n\t                    }, 0);\n\t                }\n\t\n\t                newPage.animationEnd(function () {\n\t                    afterAnimation();\n\t                });\n\t            } else {\n\t                if (dynamicNavbar) newNavbarInner.find('.sliding, .sliding .back .icon').transform('');\n\t                afterAnimation();\n\t            }\n\t        }\n\t\n\t        function parseNewPage() {\n\t            app.router.temporaryDom.innerHTML = '';\n\t            // Parse DOM\n\t            if (typeof content === 'string' || url && typeof content === 'string') {\n\t                app.router.temporaryDom.innerHTML = t7_rendered.content;\n\t            } else {\n\t                if ('length' in content && content.length > 1) {\n\t                    for (var ci = 0; ci < content.length; ci++) {\n\t                        $(app.router.temporaryDom).append(content[ci]);\n\t                    }\n\t                } else {\n\t                    $(app.router.temporaryDom).append(content);\n\t                }\n\t            }\n\t            newPage = app.router.findElement('.page', app.router.temporaryDom, view);\n\t\n\t            if (view.params.dynamicNavbar) {\n\t                // Find navbar\n\t                newNavbarInner = app.router.findElement('.navbar-inner', app.router.temporaryDom, view);\n\t            }\n\t        }\n\t        function setPages() {\n\t            // If pages not found or there are still more than one, exit\n\t            if (!newPage || newPage.length === 0) {\n\t                view.allowPageChange = true;\n\t                return;\n\t            }\n\t            if (view.params.dynamicNavbar && typeof dynamicNavbar === 'undefined') {\n\t                if (!newNavbarInner || newNavbarInner.length === 0) {\n\t                    dynamicNavbar = false;\n\t                } else {\n\t                    dynamicNavbar = true;\n\t                }\n\t            }\n\t\n\t            newPage.addClass('page-on-left').removeClass('cached');\n\t            if (dynamicNavbar) {\n\t                navbar = viewContainer.find('.navbar');\n\t                navbarInners = viewContainer.find('.navbar-inner:not(.cached)');\n\t                newNavbarInner.addClass('navbar-on-left').removeClass('cached');\n\t            }\n\t            // Remove/hide previous page in force mode\n\t            if (force) {\n\t                var pageToRemove, navbarToRemove;\n\t                pageToRemove = $(pagesInView[pagesInView.length - 2]);\n\t\n\t                if (dynamicNavbar) navbarToRemove = $(pageToRemove[0] && pageToRemove[0].f7RelatedNavbar || navbarInners[navbarInners.length - 2]);\n\t                if (view.params.domCache && view.initialPages.indexOf(pageToRemove[0]) >= 0) {\n\t                    if (pageToRemove.length && pageToRemove[0] !== newPage[0]) pageToRemove.addClass('cached');\n\t                    if (dynamicNavbar && navbarToRemove.length && navbarToRemove[0] !== newNavbarInner[0]) {\n\t                        navbarToRemove.addClass('cached');\n\t                    }\n\t                } else {\n\t                    var removeNavbar = dynamicNavbar && navbarToRemove.length;\n\t                    if (pageToRemove.length) {\n\t                        app.pageRemoveCallback(view, pageToRemove[0], 'right');\n\t                        if (removeNavbar) {\n\t                            app.navbarRemoveCallback(view, pageToRemove[0], navbar[0], navbarToRemove[0]);\n\t                        }\n\t                        pageToRemove.remove();\n\t                        if (removeNavbar) navbarToRemove.remove();\n\t                    } else if (removeNavbar) {\n\t                        app.navbarRemoveCallback(view, pageToRemove[0], navbar[0], navbarToRemove[0]);\n\t                        navbarToRemove.remove();\n\t                    }\n\t                }\n\t                pagesInView = pagesContainer.children('.page:not(.cached)');\n\t                if (dynamicNavbar) {\n\t                    navbarInners = viewContainer.find('.navbar-inner:not(.cached)');\n\t                }\n\t                if (view.history.indexOf(url) >= 0) {\n\t                    view.history = view.history.slice(0, view.history.indexOf(url) + 2);\n\t                } else {\n\t                    if (view.history[[view.history.length - 2]]) {\n\t                        view.history[view.history.length - 2] = url;\n\t                    } else {\n\t                        view.history.unshift(url);\n\t                    }\n\t                }\n\t            }\n\t\n\t            oldPage = $(pagesInView[pagesInView.length - 1]);\n\t            if (view.params.domCache) {\n\t                if (oldPage[0] === newPage[0]) {\n\t                    oldPage = pagesContainer.children('.page.page-on-center');\n\t                    if (oldPage.length === 0 && view.activePage) oldPage = $(view.activePage.container);\n\t                }\n\t            }\n\t\n\t            if (dynamicNavbar && !oldNavbarInner) {\n\t                oldNavbarInner = $(navbarInners[navbarInners.length - 1]);\n\t                if (view.params.domCache) {\n\t                    if (oldNavbarInner[0] === newNavbarInner[0]) {\n\t                        oldNavbarInner = navbar.children('.navbar-inner.navbar-on-center:not(.cached)');\n\t                    }\n\t                    if (oldNavbarInner.length === 0) {\n\t                        oldNavbarInner = navbar.children('.navbar-inner[data-page=\"' + oldPage.attr('data-page') + '\"]');\n\t                    }\n\t                }\n\t                if (oldNavbarInner.length === 0 || newNavbarInner[0] === oldNavbarInner[0]) dynamicNavbar = false;\n\t            }\n\t\n\t            if (dynamicNavbar) {\n\t                if (manipulateDom) newNavbarInner.insertBefore(oldNavbarInner);\n\t                newNavbarInner[0].f7RelatedPage = newPage[0];\n\t                newPage[0].f7RelatedNavbar = newNavbarInner[0];\n\t            }\n\t            if (manipulateDom) newPage.insertBefore(oldPage);\n\t\n\t            // Page Init Events\n\t            app.pageInitCallback(view, {\n\t                pageContainer: newPage[0],\n\t                url: url,\n\t                position: 'left',\n\t                navbarInnerContainer: dynamicNavbar ? newNavbarInner[0] : undefined,\n\t                oldNavbarInnerContainer: dynamicNavbar ? oldNavbarInner && oldNavbarInner[0] : undefined,\n\t                context: t7_rendered.context,\n\t                query: options.query,\n\t                fromPage: oldPage && oldPage.length && oldPage[0].f7PageData,\n\t                preloadOnly: preloadOnly\n\t            });\n\t            if (dynamicNavbar) {\n\t                app.navbarInitCallback(view, newPage[0], navbar[0], newNavbarInner[0], url, 'right');\n\t            }\n\t\n\t            if (dynamicNavbar && newNavbarInner.hasClass('navbar-on-left') && animatePages) {\n\t                app.router.prepareNavbar(newNavbarInner, oldNavbarInner, 'left');\n\t            }\n\t\n\t            if (preloadOnly) {\n\t                view.allowPageChange = true;\n\t                return;\n\t            }\n\t\n\t            // Update View's URL\n\t            view.url = url;\n\t\n\t            // Force reLayout\n\t            var clientLeft = newPage[0].clientLeft;\n\t\n\t            animateBack();\n\t\n\t            // Push state\n\t            if (app.params.pushState && view.main) {\n\t                if (typeof pushState === 'undefined') pushState = true;\n\t                if (!preloadOnly && history.state && pushState) {\n\t                    history.back();\n\t                }\n\t            }\n\t            return;\n\t        }\n\t\n\t        // Simple go back when we have pages on left\n\t        if (pagesInView.length > 1 && !force) {\n\t            // Exit if only preloadOnly\n\t            if (preloadOnly) {\n\t                view.allowPageChange = true;\n\t                return;\n\t            }\n\t            // Update View's URL\n\t            view.url = view.history[view.history.length - 2];\n\t            url = view.url;\n\t\n\t            // Define old and new pages\n\t            newPage = $(pagesInView[pagesInView.length - 2]);\n\t            oldPage = $(pagesInView[pagesInView.length - 1]);\n\t\n\t            // Dynamic navbar\n\t            if (view.params.dynamicNavbar) {\n\t                dynamicNavbar = true;\n\t                // Find navbar\n\t                navbarInners = viewContainer.find('.navbar-inner:not(.cached)');\n\t                newNavbarInner = $(navbarInners[0]);\n\t                oldNavbarInner = $(navbarInners[1]);\n\t                if (newNavbarInner.length === 0 || oldNavbarInner.length === 0 || oldNavbarInner[0] === newNavbarInner[0]) {\n\t                    dynamicNavbar = false;\n\t                }\n\t            }\n\t            manipulateDom = false;\n\t            setPages();\n\t            return;\n\t        }\n\t\n\t        if (!force) {\n\t            // Go back when there is no pages on left\n\t            if (!preloadOnly) {\n\t                view.url = view.history[view.history.length - 2];\n\t                url = view.url;\n\t            }\n\t\n\t            if (content) {\n\t                parseNewPage();\n\t                setPages();\n\t                return;\n\t            } else if (pageName) {\n\t                // Get dom cached pages\n\t                newPage = $(viewContainer).find('.page[data-page=\"' + pageName + '\"]');\n\t                if (view.params.dynamicNavbar) {\n\t                    newNavbarInner = $(viewContainer).find('.navbar-inner[data-page=\"' + pageName + '\"]');\n\t                    if (newNavbarInner.length === 0 && newPage[0].f7RelatedNavbar) {\n\t                        newNavbarInner = $(newPage[0].f7RelatedNavbar);\n\t                    }\n\t                    if (newNavbarInner.length === 0 && newPage[0].f7PageData) {\n\t                        newNavbarInner = $(newPage[0].f7PageData.navbarInnerContainer);\n\t                    }\n\t                }\n\t                setPages();\n\t                return;\n\t            } else {\n\t                view.allowPageChange = true;\n\t                return;\n\t            }\n\t        } else {\n\t            if (url && url === view.url || pageName && view.activePage && view.activePage.name === pageName) {\n\t                view.allowPageChange = true;\n\t                return;\n\t            }\n\t            // Go back with force url\n\t            if (content) {\n\t                parseNewPage();\n\t                setPages();\n\t                return;\n\t            } else if (pageName && view.params.domCache) {\n\t                if (pageName) url = '#' + pageName;\n\t\n\t                newPage = $(viewContainer).find('.page[data-page=\"' + pageName + '\"]');\n\t                if (newPage[0].f7PageData && newPage[0].f7PageData.url) {\n\t                    url = newPage[0].f7PageData.url;\n\t                }\n\t                if (view.params.dynamicNavbar) {\n\t                    newNavbarInner = $(viewContainer).find('.navbar-inner[data-page=\"' + pageName + '\"]');\n\t                    if (newNavbarInner.length === 0 && newPage[0].f7RelatedNavbar) {\n\t                        newNavbarInner = $(newPage[0].f7RelatedNavbar);\n\t                    }\n\t                    if (newNavbarInner.length === 0 && newPage[0].f7PageData) {\n\t                        newNavbarInner = $(newPage[0].f7PageData.navbarInnerContainer);\n\t                    }\n\t                }\n\t                setPages();\n\t                return;\n\t            } else {\n\t                view.allowPageChange = true;\n\t                return;\n\t            }\n\t        }\n\t    };\n\t    app.router.back = function (view, options) {\n\t        if (app.router.preroute(view, options)) {\n\t            return false;\n\t        }\n\t        options = options || {};\n\t        var url = options.url;\n\t        var content = options.content;\n\t        var pageName = options.pageName;\n\t        if (pageName) {\n\t            if (pageName.indexOf('?') > 0) {\n\t                options.query = $.parseUrlQuery(pageName);\n\t                options.pageName = pageName = pageName.split('?')[0];\n\t            }\n\t        }\n\t        var force = options.force;\n\t        if (!view.allowPageChange) return false;\n\t        view.allowPageChange = false;\n\t        if (app.xhr && view.xhr && view.xhr === app.xhr) {\n\t            app.xhr.abort();\n\t            app.xhr = false;\n\t        }\n\t        var pagesInView = $(view.pagesContainer).find('.page:not(.cached)');\n\t\n\t        function proceed(content) {\n\t            app.router.preprocess(view, content, url, function (content) {\n\t                options.content = content;\n\t                app.router._back(view, options);\n\t            });\n\t        }\n\t        if (pagesInView.length > 1 && !force) {\n\t            // Simple go back to previos page in view\n\t            app.router._back(view, options);\n\t            return;\n\t        }\n\t        if (!force) {\n\t            url = options.url = view.history[view.history.length - 2];\n\t            if (!url) {\n\t                view.allowPageChange = true;\n\t                return;\n\t            }\n\t            if (url.indexOf('#') === 0 && view.contentCache[url]) {\n\t                proceed(view.contentCache[url]);\n\t                return;\n\t            } else if (url.indexOf('#') === 0 && view.params.domCache) {\n\t                if (!pageName) options.pageName = url.split('#')[1];\n\t                proceed();\n\t                return;\n\t            } else if (url.indexOf('#') !== 0) {\n\t                // Load ajax page\n\t                app.get(options.url, view, options.ignoreCache, function (content, error) {\n\t                    if (error) {\n\t                        view.allowPageChange = true;\n\t                        return;\n\t                    }\n\t                    proceed(content);\n\t                });\n\t                return;\n\t            }\n\t        } else {\n\t            // Go back with force url\n\t            if (!url && content) {\n\t                proceed(content);\n\t                return;\n\t            } else if (!url && pageName) {\n\t                if (pageName) url = '#' + pageName;\n\t                proceed();\n\t                return;\n\t            } else if (url) {\n\t                app.get(options.url, view, options.ignoreCache, function (content, error) {\n\t                    if (error) {\n\t                        view.allowPageChange = true;\n\t                        return;\n\t                    }\n\t                    proceed(content);\n\t                });\n\t                return;\n\t            }\n\t        }\n\t        view.allowPageChange = true;\n\t        return;\n\t    };\n\t\n\t    app.router.afterBack = function (view, oldPage, newPage) {\n\t        // Remove old page and set classes on new one\n\t        oldPage = $(oldPage);\n\t        newPage = $(newPage);\n\t\n\t        if (view.params.domCache && view.initialPages.indexOf(oldPage[0]) >= 0) {\n\t            oldPage.removeClass('page-from-center-to-right').addClass('cached');\n\t        } else {\n\t            app.pageRemoveCallback(view, oldPage[0], 'right');\n\t            oldPage.remove();\n\t        }\n\t\n\t        newPage.removeClass('page-from-left-to-center page-on-left').addClass('page-on-center');\n\t        view.allowPageChange = true;\n\t\n\t        // Update View's History\n\t        var previousURL = view.history.pop();\n\t\n\t        var newNavbar;\n\t\n\t        // Updated dynamic navbar\n\t        if (view.params.dynamicNavbar) {\n\t            var inners = $(view.container).find('.navbar-inner:not(.cached)');\n\t            var oldNavbar = $(oldPage[0].f7RelatedNavbar || inners[1]);\n\t            if (view.params.domCache && view.initialNavbars.indexOf(oldNavbar[0]) >= 0) {\n\t                oldNavbar.removeClass('navbar-from-center-to-right').addClass('cached');\n\t            } else {\n\t                app.navbarRemoveCallback(view, oldPage[0], undefined, oldNavbar[0]);\n\t                oldNavbar.remove();\n\t            }\n\t            newNavbar = $(inners[0]).removeClass('navbar-on-left navbar-from-left-to-center').addClass('navbar-on-center');\n\t        }\n\t\n\t        // Remove pages in dom cache\n\t        if (view.params.domCache) {\n\t            $(view.container).find('.page.cached').each(function () {\n\t                var page = $(this);\n\t                var index = page.index();\n\t                var pageUrl = page[0].f7PageData && page[0].f7PageData.url;\n\t                if (pageUrl && view.history.indexOf(pageUrl) < 0 && view.initialPages.indexOf(this) < 0) {\n\t                    app.pageRemoveCallback(view, page[0], 'right');\n\t                    if (page[0].f7RelatedNavbar && view.params.dynamicNavbar) app.navbarRemoveCallback(view, page[0], undefined, page[0].f7RelatedNavbar);\n\t                    page.remove();\n\t                    if (page[0].f7RelatedNavbar && view.params.dynamicNavbar) $(page[0].f7RelatedNavbar).remove();\n\t                }\n\t            });\n\t        }\n\t\n\t        // Check previous page is content based only and remove it from content cache\n\t        if (!view.params.domCache && previousURL && previousURL.indexOf('#') > -1 && previousURL in view.contentCache &&\n\t        // If the same page is in the history multiple times, don't remove it.\n\t        view.history.indexOf(previousURL) === -1) {\n\t            view.contentCache[previousURL] = null;\n\t            delete view.contentCache[previousURL];\n\t        }\n\t\n\t        if (app.params.pushState && view.main) app.pushStateClearQueue();\n\t\n\t        // Preload previous page\n\t        if (view.params.preloadPreviousPage) {\n\t            if (view.params.domCache && view.history.length > 1) {\n\t                var preloadUrl = view.history[view.history.length - 2];\n\t                var previousPage;\n\t                var previousNavbar;\n\t                if (preloadUrl && view.pagesCache[preloadUrl]) {\n\t                    // Load by page name\n\t                    previousPage = $(view.container).find('.page[data-page=\"' + view.pagesCache[preloadUrl] + '\"]');\n\t                    if (previousPage.next('.page')[0] !== newPage[0]) previousPage.insertBefore(newPage);\n\t                    if (newNavbar) {\n\t                        previousNavbar = $(view.container).find('.navbar-inner[data-page=\"' + view.pagesCache[preloadUrl] + '\"]');\n\t                        if (!previousNavbar || previousNavbar.length === 0) previousNavbar = newNavbar.prev('.navbar-inner.cached');\n\t                        if (previousNavbar.next('.navbar-inner')[0] !== newNavbar[0]) previousNavbar.insertBefore(newNavbar);\n\t                    }\n\t                } else {\n\t                    // Just load previous page\n\t                    previousPage = newPage.prev('.page.cached');\n\t                    if (newNavbar) previousNavbar = newNavbar.prev('.navbar-inner.cached');\n\t                }\n\t                if (previousPage && previousPage.length > 0) previousPage.removeClass('cached page-on-right page-on-center').addClass('page-on-left');\n\t                if (previousNavbar && previousNavbar.length > 0) previousNavbar.removeClass('cached navbar-on-right navbar-on-center').addClass('navbar-on-left');\n\t            } else {\n\t                app.router.back(view, { preloadOnly: true });\n\t            }\n\t        }\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Modals   ************\n\t    ======================================================*/\n\t    var _modalTemplateTempDiv = document.createElement('div');\n\t    app.modalStack = [];\n\t    app.modalStackClearQueue = function () {\n\t        if (app.modalStack.length) {\n\t            app.modalStack.shift()();\n\t        }\n\t    };\n\t    app.modal = function (params) {\n\t        params = params || {};\n\t        var modalHTML = '';\n\t        if (app.params.modalTemplate) {\n\t            if (!app._compiledTemplates.modal) app._compiledTemplates.modal = t7.compile(app.params.modalTemplate);\n\t            modalHTML = app._compiledTemplates.modal(params);\n\t        } else {\n\t            var buttonsHTML = '';\n\t            if (params.buttons && params.buttons.length > 0) {\n\t                for (var i = 0; i < params.buttons.length; i++) {\n\t                    buttonsHTML += '<span class=\"modal-button' + (params.buttons[i].bold ? ' modal-button-bold' : '') + '\">' + params.buttons[i].text + '</span>';\n\t                }\n\t            }\n\t            var titleHTML = params.title ? '<div class=\"modal-title\">' + params.title + '</div>' : '';\n\t            var textHTML = params.text ? '<div class=\"modal-text\">' + params.text + '</div>' : '';\n\t            var afterTextHTML = params.afterText ? params.afterText : '';\n\t            var noButtons = !params.buttons || params.buttons.length === 0 ? 'modal-no-buttons' : '';\n\t            var verticalButtons = params.verticalButtons ? 'modal-buttons-vertical' : '';\n\t            var modalButtonsHTML = params.buttons && params.buttons.length > 0 ? '<div class=\"modal-buttons modal-buttons-' + params.buttons.length + ' ' + verticalButtons + '\">' + buttonsHTML + '</div>' : '';\n\t            modalHTML = '<div class=\"modal ' + noButtons + ' ' + (params.cssClass || '') + '\"><div class=\"modal-inner\">' + (titleHTML + textHTML + afterTextHTML) + '</div>' + modalButtonsHTML + '</div>';\n\t        }\n\t\n\t        _modalTemplateTempDiv.innerHTML = modalHTML;\n\t\n\t        var modal = $(_modalTemplateTempDiv).children();\n\t\n\t        $('body').append(modal[0]);\n\t\n\t        // Add events on buttons\n\t        modal.find('.modal-button').each(function (index, el) {\n\t            $(el).on('click', function (e) {\n\t                if (params.buttons[index].close !== false) app.closeModal(modal);\n\t                if (params.buttons[index].onClick) params.buttons[index].onClick(modal, e);\n\t                if (params.onClick) params.onClick(modal, index);\n\t            });\n\t        });\n\t        app.openModal(modal);\n\t        return modal[0];\n\t    };\n\t    app.alert = function (text, title, callbackOk) {\n\t        if (typeof title === 'function') {\n\t            callbackOk = arguments[1];\n\t            title = undefined;\n\t        }\n\t        return app.modal({\n\t            text: text || '',\n\t            title: typeof title === 'undefined' ? app.params.modalTitle : title,\n\t            buttons: [{ text: app.params.modalButtonOk, bold: true, onClick: callbackOk }]\n\t        });\n\t    };\n\t    app.confirm = function (text, title, callbackOk, callbackCancel) {\n\t        if (typeof title === 'function') {\n\t            callbackCancel = arguments[2];\n\t            callbackOk = arguments[1];\n\t            title = undefined;\n\t        }\n\t        return app.modal({\n\t            text: text || '',\n\t            title: typeof title === 'undefined' ? app.params.modalTitle : title,\n\t            buttons: [{ text: app.params.modalButtonCancel, onClick: callbackCancel }, { text: app.params.modalButtonOk, bold: true, onClick: callbackOk }]\n\t        });\n\t    };\n\t    app.prompt = function (text, title, callbackOk, callbackCancel) {\n\t        if (typeof title === 'function') {\n\t            callbackCancel = arguments[2];\n\t            callbackOk = arguments[1];\n\t            title = undefined;\n\t        }\n\t        return app.modal({\n\t            text: text || '',\n\t            title: typeof title === 'undefined' ? app.params.modalTitle : title,\n\t            afterText: '<div class=\"input-field\"><input type=\"text\" class=\"modal-text-input\"></div>',\n\t            buttons: [{\n\t                text: app.params.modalButtonCancel\n\t            }, {\n\t                text: app.params.modalButtonOk,\n\t                bold: true\n\t            }],\n\t            onClick: function onClick(modal, index) {\n\t                if (index === 0 && callbackCancel) callbackCancel($(modal).find('.modal-text-input').val());\n\t                if (index === 1 && callbackOk) callbackOk($(modal).find('.modal-text-input').val());\n\t            }\n\t        });\n\t    };\n\t    app.modalLogin = function (text, title, callbackOk, callbackCancel) {\n\t        if (typeof title === 'function') {\n\t            callbackCancel = arguments[2];\n\t            callbackOk = arguments[1];\n\t            title = undefined;\n\t        }\n\t        return app.modal({\n\t            text: text || '',\n\t            title: typeof title === 'undefined' ? app.params.modalTitle : title,\n\t            afterText: '<div class=\"input-field modal-input-double\"><input type=\"text\" name=\"modal-username\" placeholder=\"' + app.params.modalUsernamePlaceholder + '\" class=\"modal-text-input\"></div><div class=\"input-field modal-input-double\"><input type=\"password\" name=\"modal-password\" placeholder=\"' + app.params.modalPasswordPlaceholder + '\" class=\"modal-text-input\"></div>',\n\t            buttons: [{\n\t                text: app.params.modalButtonCancel\n\t            }, {\n\t                text: app.params.modalButtonOk,\n\t                bold: true\n\t            }],\n\t            onClick: function onClick(modal, index) {\n\t                var username = $(modal).find('.modal-text-input[name=\"modal-username\"]').val();\n\t                var password = $(modal).find('.modal-text-input[name=\"modal-password\"]').val();\n\t                if (index === 0 && callbackCancel) callbackCancel(username, password);\n\t                if (index === 1 && callbackOk) callbackOk(username, password);\n\t            }\n\t        });\n\t    };\n\t    app.modalPassword = function (text, title, callbackOk, callbackCancel) {\n\t        if (typeof title === 'function') {\n\t            callbackCancel = arguments[2];\n\t            callbackOk = arguments[1];\n\t            title = undefined;\n\t        }\n\t        return app.modal({\n\t            text: text || '',\n\t            title: typeof title === 'undefined' ? app.params.modalTitle : title,\n\t            afterText: '<div class=\"input-field\"><input type=\"password\" name=\"modal-password\" placeholder=\"' + app.params.modalPasswordPlaceholder + '\" class=\"modal-text-input\"></div>',\n\t            buttons: [{\n\t                text: app.params.modalButtonCancel\n\t            }, {\n\t                text: app.params.modalButtonOk,\n\t                bold: true\n\t            }],\n\t            onClick: function onClick(modal, index) {\n\t                var password = $(modal).find('.modal-text-input[name=\"modal-password\"]').val();\n\t                if (index === 0 && callbackCancel) callbackCancel(password);\n\t                if (index === 1 && callbackOk) callbackOk(password);\n\t            }\n\t        });\n\t    };\n\t    app.showPreloader = function (title) {\n\t        return app.modal({\n\t            title: title || app.params.modalPreloaderTitle,\n\t            text: '<div class=\"preloader\">' + (app.params.material ? app.params.materialPreloaderHtml : '') + '</div>',\n\t            cssClass: 'modal-preloader'\n\t        });\n\t    };\n\t    app.hidePreloader = function () {\n\t        app.closeModal('.modal.modal-in');\n\t    };\n\t    app.showIndicator = function () {\n\t        $('body').append('<div class=\"preloader-indicator-overlay\"></div><div class=\"preloader-indicator-modal\"><span class=\"preloader preloader-white\">' + (app.params.material ? app.params.materialPreloaderHtml : '') + '</span></div>');\n\t    };\n\t    app.hideIndicator = function () {\n\t        $('.preloader-indicator-overlay, .preloader-indicator-modal').remove();\n\t    };\n\t    // Action Sheet\n\t    app.actions = function (target, params) {\n\t        var toPopover = false,\n\t            modal,\n\t            groupSelector,\n\t            buttonSelector;\n\t        if (arguments.length === 1) {\n\t            // Actions\n\t            params = target;\n\t        } else {\n\t            // Popover\n\t            if (app.device.ios) {\n\t                if (app.device.ipad) toPopover = true;\n\t            } else {\n\t                if ($(window).width() >= 768) toPopover = true;\n\t            }\n\t        }\n\t        params = params || [];\n\t\n\t        if (params.length > 0 && !$.isArray(params[0])) {\n\t            params = [params];\n\t        }\n\t        var modalHTML;\n\t        if (toPopover) {\n\t            var actionsToPopoverTemplate = app.params.modalActionsToPopoverTemplate || '<div class=\"popover actions-popover\">' + '<div class=\"popover-inner\">' + '{{#each this}}' + '<div class=\"list-block\">' + '<ul>' + '{{#each this}}' + '{{#if label}}' + '<li class=\"actions-popover-label {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}\">{{text}}</li>' + '{{else}}' + '<li><a href=\"#\" class=\"item-link list-button {{#if color}}color-{{color}}{{/if}} {{#if bg}}bg-{{bg}}{{/if}} {{#if bold}}actions-popover-bold{{/if}} {{#if disabled}}disabled{{/if}}\">{{text}}</a></li>' + '{{/if}}' + '{{/each}}' + '</ul>' + '</div>' + '{{/each}}' + '</div>' + '</div>';\n\t            if (!app._compiledTemplates.actionsToPopover) {\n\t                app._compiledTemplates.actionsToPopover = t7.compile(actionsToPopoverTemplate);\n\t            }\n\t            var popoverHTML = app._compiledTemplates.actionsToPopover(params);\n\t            modal = $(app.popover(popoverHTML, target, true));\n\t            groupSelector = '.list-block ul';\n\t            buttonSelector = '.list-button';\n\t        } else {\n\t            if (app.params.modalActionsTemplate) {\n\t                if (!app._compiledTemplates.actions) app._compiledTemplates.actions = t7.compile(app.params.modalActionsTemplate);\n\t                modalHTML = app._compiledTemplates.actions(params);\n\t            } else {\n\t                var buttonsHTML = '';\n\t                for (var i = 0; i < params.length; i++) {\n\t                    for (var j = 0; j < params[i].length; j++) {\n\t                        if (j === 0) buttonsHTML += '<div class=\"actions-modal-group\">';\n\t                        var button = params[i][j];\n\t                        var buttonClass = button.label ? 'actions-modal-label' : 'actions-modal-button';\n\t                        if (button.bold) buttonClass += ' actions-modal-button-bold';\n\t                        if (button.color) buttonClass += ' color-' + button.color;\n\t                        if (button.bg) buttonClass += ' bg-' + button.bg;\n\t                        if (button.disabled) buttonClass += ' disabled';\n\t                        buttonsHTML += '<div class=\"' + buttonClass + '\">' + button.text + '</div>';\n\t                        if (j === params[i].length - 1) buttonsHTML += '</div>';\n\t                    }\n\t                }\n\t                modalHTML = '<div class=\"actions-modal\">' + buttonsHTML + '</div>';\n\t            }\n\t            _modalTemplateTempDiv.innerHTML = modalHTML;\n\t            modal = $(_modalTemplateTempDiv).children();\n\t            $('body').append(modal[0]);\n\t            groupSelector = '.actions-modal-group';\n\t            buttonSelector = '.actions-modal-button';\n\t        }\n\t\n\t        var groups = modal.find(groupSelector);\n\t        groups.each(function (index, el) {\n\t            var groupIndex = index;\n\t            $(el).children().each(function (index, el) {\n\t                var buttonIndex = index;\n\t                var buttonParams = params[groupIndex][buttonIndex];\n\t                var clickTarget;\n\t                if (!toPopover && $(el).is(buttonSelector)) clickTarget = $(el);\n\t                if (toPopover && $(el).find(buttonSelector).length > 0) clickTarget = $(el).find(buttonSelector);\n\t\n\t                if (clickTarget) {\n\t                    clickTarget.on('click', function (e) {\n\t                        if (buttonParams.close !== false) app.closeModal(modal);\n\t                        if (buttonParams.onClick) buttonParams.onClick(modal, e);\n\t                    });\n\t                }\n\t            });\n\t        });\n\t        if (!toPopover) app.openModal(modal);\n\t        return modal[0];\n\t    };\n\t    app.popover = function (modal, target, removeOnClose) {\n\t        if (typeof removeOnClose === 'undefined') removeOnClose = true;\n\t        if (typeof modal === 'string' && modal.indexOf('<') >= 0) {\n\t            var _modal = document.createElement('div');\n\t            _modal.innerHTML = modal.trim();\n\t            if (_modal.childNodes.length > 0) {\n\t                modal = _modal.childNodes[0];\n\t                if (removeOnClose) modal.classList.add('remove-on-close');\n\t                $('body').append(modal);\n\t            } else return false; //nothing found\n\t        }\n\t        modal = $(modal);\n\t        target = $(target);\n\t        if (modal.length === 0 || target.length === 0) return false;\n\t        if (modal.parents('body').length === 0) {\n\t            if (removeOnClose) modal.addClass('remove-on-close');\n\t            $('body').append(modal[0]);\n\t        }\n\t        if (modal.find('.popover-angle').length === 0 && !app.params.material) {\n\t            modal.append('<div class=\"popover-angle\"></div>');\n\t        }\n\t        modal.show();\n\t\n\t        var material = app.params.material;\n\t\n\t        function sizePopover() {\n\t            modal.css({ left: '', top: '' });\n\t            var modalWidth = modal.width();\n\t            var modalHeight = modal.height(); // 13 - height of angle\n\t            var modalAngle,\n\t                modalAngleSize = 0,\n\t                modalAngleLeft,\n\t                modalAngleTop;\n\t            if (!material) {\n\t                modalAngle = modal.find('.popover-angle');\n\t                modalAngleSize = modalAngle.width() / 2;\n\t                modalAngle.removeClass('on-left on-right on-top on-bottom').css({ left: '', top: '' });\n\t            } else {\n\t                modal.removeClass('popover-on-left popover-on-right popover-on-top popover-on-bottom').css({ left: '', top: '' });\n\t            }\n\t\n\t            var targetWidth = target.outerWidth();\n\t            var targetHeight = target.outerHeight();\n\t            var targetOffset = target.offset();\n\t            var targetParentPage = target.parents('.page');\n\t            if (targetParentPage.length > 0) {\n\t                targetOffset.top = targetOffset.top - targetParentPage[0].scrollTop;\n\t            }\n\t\n\t            var windowHeight = $(window).height();\n\t            var windowWidth = $(window).width();\n\t\n\t            var modalTop = 0;\n\t            var modalLeft = 0;\n\t            var diff = 0;\n\t            // Top Position\n\t            var modalPosition = material ? 'bottom' : 'top';\n\t            if (material) {\n\t                if (modalHeight < windowHeight - targetOffset.top - targetHeight) {\n\t                    // On bottom\n\t                    modalPosition = 'bottom';\n\t                    modalTop = targetOffset.top;\n\t                } else if (modalHeight < targetOffset.top) {\n\t                    // On top\n\t                    modalTop = targetOffset.top - modalHeight + targetHeight;\n\t                    modalPosition = 'top';\n\t                } else {\n\t                    // On middle\n\t                    modalPosition = 'bottom';\n\t                    modalTop = targetOffset.top;\n\t                }\n\t\n\t                if (modalTop <= 0) {\n\t                    modalTop = 8;\n\t                } else if (modalTop + modalHeight >= windowHeight) {\n\t                    modalTop = windowHeight - modalHeight - 8;\n\t                }\n\t\n\t                // Horizontal Position\n\t                modalLeft = targetOffset.left;\n\t                if (modalLeft + modalWidth >= windowWidth - 8) {\n\t                    modalLeft = targetOffset.left + targetWidth - modalWidth - 8;\n\t                }\n\t                if (modalLeft < 8) {\n\t                    modalLeft = 8;\n\t                }\n\t                if (modalPosition === 'top') {\n\t                    modal.addClass('popover-on-top');\n\t                }\n\t                if (modalPosition === 'bottom') {\n\t                    modal.addClass('popover-on-bottom');\n\t                }\n\t                if (target.hasClass('floating-button-to-popover') && !modal.hasClass('modal-in')) {\n\t                    modal.addClass('popover-floating-button');\n\t                    var diffX = modalLeft + modalWidth / 2 - (targetOffset.left + targetWidth / 2),\n\t                        diffY = modalTop + modalHeight / 2 - (targetOffset.top + targetHeight / 2);\n\t                    target.addClass('floating-button-to-popover-in').transform('translate3d(' + diffX + 'px, ' + diffY + 'px,0)').transitionEnd(function (e) {\n\t                        if (!target.hasClass('floating-button-to-popover-in')) return;\n\t                        target.addClass('floating-button-to-popover-scale').transform('translate3d(' + diffX + 'px, ' + diffY + 'px,0) scale(' + modalWidth / targetWidth + ', ' + modalHeight / targetHeight + ')');\n\t                    });\n\t\n\t                    modal.once('close', function () {\n\t                        target.removeClass('floating-button-to-popover-in floating-button-to-popover-scale').addClass('floating-button-to-popover-out').transform('').transitionEnd(function (e) {\n\t                            target.removeClass('floating-button-to-popover-out');\n\t                        });\n\t                    });\n\t                    modal.once('closed', function () {\n\t                        modal.removeClass('popover-floating-button');\n\t                    });\n\t                }\n\t            } else {\n\t                if (modalHeight + modalAngleSize < targetOffset.top) {\n\t                    // On top\n\t                    modalTop = targetOffset.top - modalHeight - modalAngleSize;\n\t                } else if (modalHeight + modalAngleSize < windowHeight - targetOffset.top - targetHeight) {\n\t                    // On bottom\n\t                    modalPosition = 'bottom';\n\t                    modalTop = targetOffset.top + targetHeight + modalAngleSize;\n\t                } else {\n\t                    // On middle\n\t                    modalPosition = 'middle';\n\t                    modalTop = targetHeight / 2 + targetOffset.top - modalHeight / 2;\n\t                    diff = modalTop;\n\t                    if (modalTop <= 0) {\n\t                        modalTop = 5;\n\t                    } else if (modalTop + modalHeight >= windowHeight) {\n\t                        modalTop = windowHeight - modalHeight - 5;\n\t                    }\n\t                    diff = diff - modalTop;\n\t                }\n\t\n\t                // Horizontal Position\n\t                if (modalPosition === 'top' || modalPosition === 'bottom') {\n\t                    modalLeft = targetWidth / 2 + targetOffset.left - modalWidth / 2;\n\t                    diff = modalLeft;\n\t                    if (modalLeft < 5) modalLeft = 5;\n\t                    if (modalLeft + modalWidth > windowWidth) modalLeft = windowWidth - modalWidth - 5;\n\t                    if (modalPosition === 'top') {\n\t                        modalAngle.addClass('on-bottom');\n\t                    }\n\t                    if (modalPosition === 'bottom') {\n\t                        modalAngle.addClass('on-top');\n\t                    }\n\t                    diff = diff - modalLeft;\n\t                    modalAngleLeft = modalWidth / 2 - modalAngleSize + diff;\n\t                    modalAngleLeft = Math.max(Math.min(modalAngleLeft, modalWidth - modalAngleSize * 2 - 13), 13);\n\t                    modalAngle.css({ left: modalAngleLeft + 'px' });\n\t                } else if (modalPosition === 'middle') {\n\t                    modalLeft = targetOffset.left - modalWidth - modalAngleSize;\n\t                    modalAngle.addClass('on-right');\n\t                    if (modalLeft < 5 || modalLeft + modalWidth > windowWidth) {\n\t                        if (modalLeft < 5) modalLeft = targetOffset.left + targetWidth + modalAngleSize;\n\t                        if (modalLeft + modalWidth > windowWidth) modalLeft = windowWidth - modalWidth - 5;\n\t                        modalAngle.removeClass('on-right').addClass('on-left');\n\t                    }\n\t                    modalAngleTop = modalHeight / 2 - modalAngleSize + diff;\n\t                    modalAngleTop = Math.max(Math.min(modalAngleTop, modalHeight - modalAngleSize * 2 - 13), 13);\n\t                    modalAngle.css({ top: modalAngleTop + 'px' });\n\t                }\n\t            }\n\t\n\t            // Apply Styles\n\t            modal.css({ top: modalTop + 'px', left: modalLeft + 'px' });\n\t        }\n\t\n\t        sizePopover();\n\t\n\t        $(window).on('resize', sizePopover);\n\t\n\t        modal.on('close', function () {\n\t            $(window).off('resize', sizePopover);\n\t        });\n\t\n\t        app.openModal(modal);\n\t        return modal[0];\n\t    };\n\t    app.popup = function (modal, removeOnClose) {\n\t        if (typeof removeOnClose === 'undefined') removeOnClose = true;\n\t        if (typeof modal === 'string' && modal.indexOf('<') >= 0) {\n\t            var _modal = document.createElement('div');\n\t            _modal.innerHTML = modal.trim();\n\t            if (_modal.childNodes.length > 0) {\n\t                modal = _modal.childNodes[0];\n\t                if (removeOnClose) modal.classList.add('remove-on-close');\n\t                $('body').append(modal);\n\t            } else return false; //nothing found\n\t        }\n\t        modal = $(modal);\n\t        if (modal.length === 0) return false;\n\t        if (modal.parents('body').length === 0) {\n\t            if (removeOnClose) modal.addClass('remove-on-close');\n\t            $('body').append(modal[0]);\n\t        }\n\t        modal.show();\n\t\n\t        app.openModal(modal);\n\t        return modal[0];\n\t    };\n\t    app.pickerModal = function (modal, removeOnClose) {\n\t        if (typeof removeOnClose === 'undefined') removeOnClose = true;\n\t        if (typeof modal === 'string' && modal.indexOf('<') >= 0) {\n\t            modal = $(modal);\n\t            if (modal.length > 0) {\n\t                if (removeOnClose) modal.addClass('remove-on-close');\n\t                $('body').append(modal[0]);\n\t            } else return false; //nothing found\n\t        }\n\t        modal = $(modal);\n\t        if (modal.length === 0) return false;\n\t        if (modal.parents('body').length === 0) {\n\t            if (removeOnClose) modal.addClass('remove-on-close');\n\t            $('body').append(modal[0]);\n\t        }\n\t        if ($('.picker-modal.modal-in:not(.modal-out)').length > 0 && !modal.hasClass('modal-in')) {\n\t            app.closeModal('.picker-modal.modal-in:not(.modal-out)');\n\t        }\n\t        modal.show();\n\t        app.openModal(modal);\n\t        return modal[0];\n\t    };\n\t    app.loginScreen = function (modal) {\n\t        if (!modal) modal = '.login-screen';\n\t        modal = $(modal);\n\t        if (modal.length === 0) return false;\n\t        if ($('.login-screen.modal-in:not(.modal-out)').length > 0 && !modal.hasClass('modal-in')) {\n\t            app.closeModal('.login-screen.modal-in:not(.modal-out)');\n\t        }\n\t        modal.show();\n\t\n\t        app.openModal(modal);\n\t        return modal[0];\n\t    };\n\t    app.openModal = function (modal) {\n\t        modal = $(modal);\n\t        var isModal = modal.hasClass('modal');\n\t        if ($('.modal.modal-in:not(.modal-out)').length && app.params.modalStack && isModal) {\n\t            app.modalStack.push(function () {\n\t                app.openModal(modal);\n\t            });\n\t            return;\n\t        }\n\t        // do nothing if this modal already shown\n\t        if (true === modal.data('f7-modal-shown')) {\n\t            return;\n\t        }\n\t        modal.data('f7-modal-shown', true);\n\t        modal.once('close', function () {\n\t            modal.removeData('f7-modal-shown');\n\t        });\n\t        var isPopover = modal.hasClass('popover');\n\t        var isPopup = modal.hasClass('popup');\n\t        var isLoginScreen = modal.hasClass('login-screen');\n\t        var isPickerModal = modal.hasClass('picker-modal');\n\t        if (isModal) {\n\t            modal.show();\n\t            modal.css({\n\t                marginTop: -Math.round(modal.outerHeight() / 2) + 'px'\n\t            });\n\t        }\n\t\n\t        var overlay;\n\t        if (!isLoginScreen && !isPickerModal) {\n\t            if ($('.modal-overlay').length === 0 && !isPopup) {\n\t                $('body').append('<div class=\"modal-overlay\"></div>');\n\t            }\n\t            if ($('.popup-overlay').length === 0 && isPopup) {\n\t                $('body').append('<div class=\"popup-overlay\"></div>');\n\t            }\n\t            overlay = isPopup ? $('.popup-overlay') : $('.modal-overlay');\n\t        }\n\t        if (app.params.material && isPickerModal) {\n\t            if (modal.hasClass('picker-calendar')) {\n\t                if ($('.picker-modal-overlay').length === 0 && !isPopup) {\n\t                    $('body').append('<div class=\"picker-modal-overlay\"></div>');\n\t                }\n\t                overlay = $('.picker-modal-overlay');\n\t            }\n\t        }\n\t\n\t        //Make sure that styles are applied, trigger relayout;\n\t        var clientLeft = modal[0].clientLeft;\n\t\n\t        // Trugger open event\n\t        modal.trigger('open');\n\t\n\t        // Picker modal body class\n\t        if (isPickerModal) {\n\t            $('body').addClass('with-picker-modal');\n\t        }\n\t\n\t        // Init Pages and Navbars in modal\n\t        if (modal.find('.' + app.params.viewClass).length > 0) {\n\t            modal.find('.page').each(function () {\n\t                app.initPageWithCallback(this);\n\t            });\n\t            modal.find('.navbar').each(function () {\n\t                app.initNavbarWithCallback(this);\n\t            });\n\t        }\n\t\n\t        // Classes for transition in\n\t        if (!isLoginScreen && !isPickerModal) overlay.addClass('modal-overlay-visible');\n\t        if (app.params.material && isPickerModal && overlay) overlay.addClass('modal-overlay-visible');\n\t        modal.removeClass('modal-out').addClass('modal-in').transitionEnd(function (e) {\n\t            if (modal.hasClass('modal-out')) modal.trigger('closed');else modal.trigger('opened');\n\t        });\n\t        return true;\n\t    };\n\t    app.closeModal = function (modal) {\n\t        modal = $(modal || '.modal-in');\n\t        if (typeof modal !== 'undefined' && modal.length === 0) {\n\t            return;\n\t        }\n\t        var isModal = modal.hasClass('modal');\n\t        var isPopover = modal.hasClass('popover');\n\t        var isPopup = modal.hasClass('popup');\n\t        var isLoginScreen = modal.hasClass('login-screen');\n\t        var isPickerModal = modal.hasClass('picker-modal');\n\t\n\t        var removeOnClose = modal.hasClass('remove-on-close');\n\t\n\t        var overlay;\n\t\n\t        if (isPopup) overlay = $('.popup-overlay');else {\n\t            if (isPickerModal && app.params.material) overlay = $('.picker-modal-overlay');else if (!isPickerModal) overlay = $('.modal-overlay');\n\t        }\n\t\n\t        if (isPopup) {\n\t            if (modal.length === $('.popup.modal-in').length) {\n\t                overlay.removeClass('modal-overlay-visible');\n\t            }\n\t        } else if (overlay && overlay.length > 0) {\n\t            overlay.removeClass('modal-overlay-visible');\n\t        }\n\t\n\t        modal.trigger('close');\n\t\n\t        // Picker modal body class\n\t        if (isPickerModal) {\n\t            $('body').removeClass('with-picker-modal');\n\t            $('body').addClass('picker-modal-closing');\n\t        }\n\t\n\t        if (!(isPopover && !app.params.material)) {\n\t            modal.removeClass('modal-in').addClass('modal-out').transitionEnd(function (e) {\n\t                if (modal.hasClass('modal-out')) modal.trigger('closed');else {\n\t                    modal.trigger('opened');\n\t                    if (isPopover) return;\n\t                }\n\t\n\t                if (isPickerModal) {\n\t                    $('body').removeClass('picker-modal-closing');\n\t                }\n\t                if (isPopup || isLoginScreen || isPickerModal || isPopover) {\n\t                    modal.removeClass('modal-out').hide();\n\t                    if (removeOnClose && modal.length > 0) {\n\t                        modal.remove();\n\t                    }\n\t                } else {\n\t                    modal.remove();\n\t                }\n\t            });\n\t            if (isModal && app.params.modalStack) {\n\t                app.modalStackClearQueue();\n\t            }\n\t        } else {\n\t            modal.removeClass('modal-in modal-out').trigger('closed').hide();\n\t            if (removeOnClose) {\n\t                modal.remove();\n\t            }\n\t        }\n\t        return true;\n\t    };\n\t\n\t    /*===============================================================================\n\t    ************   Progress Bar   ************\n\t    ===============================================================================*/\n\t    app.setProgressbar = function (container, progress, speed) {\n\t        container = $(container || 'body');\n\t        if (container.length === 0) return;\n\t        if (progress) progress = Math.min(Math.max(progress, 0), 100);\n\t        var progressbar;\n\t        if (container.hasClass('progressbar')) progressbar = container;else {\n\t            progressbar = container.children('.progressbar');\n\t        }\n\t        if (progressbar.length === 0 || progressbar.hasClass('progressbar-infinite')) return;\n\t        var clientLeft = progressbar[0].clientLeft;\n\t        progressbar.children('span').transform('translate3d(' + (-100 + progress) + '%,0,0)');\n\t        if (typeof speed !== 'undefined') {\n\t            progressbar.children('span').transition(speed);\n\t        } else {\n\t            progressbar.children('span').transition('');\n\t        }\n\t        return progressbar[0];\n\t    };\n\t    app.showProgressbar = function (container, progress, color) {\n\t        if (typeof container === 'number') {\n\t            container = 'body';\n\t            progress = arguments[0];\n\t            color = arguments[1];\n\t        }\n\t        if (progress && typeof progress === 'string' && parseFloat(progress) !== progress * 1) {\n\t            color = progress;\n\t            progress = undefined;\n\t        }\n\t        container = $(container || 'body');\n\t        if (container.length === 0) return;\n\t        var progressbar;\n\t        if (container.hasClass('progressbar')) progressbar = container;else {\n\t            progressbar = container.children('.progressbar:not(.progressbar-out), .progressbar-infinite:not(.progressbar-out)');\n\t            if (progressbar.length === 0) {\n\t                // Create one\n\t                if (typeof progress !== 'undefined') {\n\t                    // Determined\n\t                    progressbar = $('<span class=\"progressbar progressbar-in' + (color ? ' color-' + color : '') + '\"><span></span></span>');\n\t                } else {\n\t                    // Infinite\n\t                    progressbar = $('<span class=\"progressbar-infinite progressbar-in' + (color ? ' color-' + color : '') + '\"></span>');\n\t                }\n\t                container.append(progressbar);\n\t            }\n\t        }\n\t        if (progress) app.setProgressbar(container, progress);\n\t        return progressbar[0];\n\t    };\n\t    app.hideProgressbar = function (container) {\n\t        container = $(container || 'body');\n\t        if (container.length === 0) return;\n\t        var progressbar;\n\t        if (container.hasClass('progressbar')) progressbar = container;else {\n\t            progressbar = container.children('.progressbar, .progressbar-infinite');\n\t        }\n\t        if (progressbar.length === 0 || !progressbar.hasClass('progressbar-in') || progressbar.hasClass('progressbar-out')) return;\n\t        progressbar.removeClass('progressbar-in').addClass('progressbar-out').animationEnd(function () {\n\t            progressbar.remove();\n\t            progressbar = null;\n\t        });\n\t        return;\n\t    };\n\t    app.initPageProgressbar = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        pageContainer.find('.progressbar').each(function () {\n\t            var p = $(this);\n\t            if (p.children('span').length === 0) p.append('<span></span>');\n\t            if (p.attr('data-progress')) app.setProgressbar(p, p.attr('data-progress'));\n\t        });\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Panels   ************\n\t    ======================================================*/\n\t    app.allowPanelOpen = true;\n\t    app.openPanel = function (panelPosition) {\n\t        if (!app.allowPanelOpen) return false;\n\t        var panel = $('.panel-' + panelPosition);\n\t        if (panel.length === 0 || panel.hasClass('active')) return false;\n\t        app.closePanel(); // Close if some panel is opened\n\t        app.allowPanelOpen = false;\n\t        var effect = panel.hasClass('panel-reveal') ? 'reveal' : 'cover';\n\t        panel.css({ display: 'block' }).addClass('active');\n\t        panel.trigger('open');\n\t        if (app.params.material) {\n\t            $('.panel-overlay').show();\n\t        }\n\t        if (panel.find('.' + app.params.viewClass).length > 0) {\n\t            if (app.sizeNavbars) app.sizeNavbars(panel.find('.' + app.params.viewClass)[0]);\n\t        }\n\t\n\t        // Trigger reLayout\n\t        var clientLeft = panel[0].clientLeft;\n\t\n\t        // Transition End;\n\t        var transitionEndTarget = effect === 'reveal' ? $('.' + app.params.viewsClass) : panel;\n\t        var openedTriggered = false;\n\t\n\t        function panelTransitionEnd() {\n\t            transitionEndTarget.transitionEnd(function (e) {\n\t                if ($(e.target).is(transitionEndTarget)) {\n\t                    if (panel.hasClass('active')) {\n\t                        panel.trigger('opened');\n\t                    } else {\n\t                        panel.trigger('closed');\n\t                    }\n\t                    if (app.params.material) $('.panel-overlay').css({ display: '' });\n\t                    app.allowPanelOpen = true;\n\t                } else panelTransitionEnd();\n\t            });\n\t        }\n\t        panelTransitionEnd();\n\t\n\t        $('body').addClass('with-panel-' + panelPosition + '-' + effect);\n\t        return true;\n\t    };\n\t    app.closePanel = function () {\n\t        var activePanel = $('.panel.active');\n\t        if (activePanel.length === 0) return false;\n\t        var effect = activePanel.hasClass('panel-reveal') ? 'reveal' : 'cover';\n\t        var panelPosition = activePanel.hasClass('panel-left') ? 'left' : 'right';\n\t        activePanel.removeClass('active');\n\t        var transitionEndTarget = effect === 'reveal' ? $('.' + app.params.viewsClass) : activePanel;\n\t        activePanel.trigger('close');\n\t        app.allowPanelOpen = false;\n\t\n\t        transitionEndTarget.transitionEnd(function () {\n\t            if (activePanel.hasClass('active')) return;\n\t            activePanel.css({ display: '' });\n\t            activePanel.trigger('closed');\n\t            $('body').removeClass('panel-closing');\n\t            app.allowPanelOpen = true;\n\t        });\n\t\n\t        $('body').addClass('panel-closing').removeClass('with-panel-' + panelPosition + '-' + effect);\n\t    };\n\t    /*======================================================\n\t    ************   Swipe panels   ************\n\t    ======================================================*/\n\t    app.initSwipePanels = function () {\n\t        var panel, side;\n\t        if (app.params.swipePanel) {\n\t            panel = $('.panel.panel-' + app.params.swipePanel);\n\t            side = app.params.swipePanel;\n\t            if (panel.length === 0) return;\n\t        } else {\n\t            if (app.params.swipePanelOnlyClose) {\n\t                if ($('.panel').length === 0) return;\n\t            } else return;\n\t        }\n\t\n\t        var panelOverlay = $('.panel-overlay');\n\t        var isTouched,\n\t            isMoved,\n\t            isScrolling,\n\t            touchesStart = {},\n\t            touchStartTime,\n\t            touchesDiff,\n\t            translate,\n\t            overlayOpacity,\n\t            opened,\n\t            panelWidth,\n\t            effect,\n\t            direction;\n\t        var views = $('.' + app.params.viewsClass);\n\t\n\t        function handleTouchStart(e) {\n\t            if (!app.allowPanelOpen || !app.params.swipePanel && !app.params.swipePanelOnlyClose || isTouched) return;\n\t            if ($('.modal-in, .photo-browser-in').length > 0) return;\n\t            if (!(app.params.swipePanelCloseOpposite || app.params.swipePanelOnlyClose)) {\n\t                if ($('.panel.active').length > 0 && !panel.hasClass('active')) return;\n\t            }\n\t            touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n\t            touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n\t            if (app.params.swipePanelCloseOpposite || app.params.swipePanelOnlyClose) {\n\t                if ($('.panel.active').length > 0) {\n\t                    side = $('.panel.active').hasClass('panel-left') ? 'left' : 'right';\n\t                } else {\n\t                    if (app.params.swipePanelOnlyClose) return;\n\t                    side = app.params.swipePanel;\n\t                }\n\t                if (!side) return;\n\t            }\n\t            panel = $('.panel.panel-' + side);\n\t            opened = panel.hasClass('active');\n\t            if (app.params.swipePanelActiveArea && !opened) {\n\t                if (side === 'left') {\n\t                    if (touchesStart.x > app.params.swipePanelActiveArea) return;\n\t                }\n\t                if (side === 'right') {\n\t                    if (touchesStart.x < window.innerWidth - app.params.swipePanelActiveArea) return;\n\t                }\n\t            }\n\t            isMoved = false;\n\t            isTouched = true;\n\t            isScrolling = undefined;\n\t\n\t            touchStartTime = new Date().getTime();\n\t            direction = undefined;\n\t        }\n\t        function handleTouchMove(e) {\n\t            if (!isTouched) return;\n\t            if (e.f7PreventPanelSwipe) return;\n\t            var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n\t            var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\t            if (typeof isScrolling === 'undefined') {\n\t                isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\n\t            }\n\t            if (isScrolling) {\n\t                isTouched = false;\n\t                return;\n\t            }\n\t            if (!direction) {\n\t                if (pageX > touchesStart.x) {\n\t                    direction = 'to-right';\n\t                } else {\n\t                    direction = 'to-left';\n\t                }\n\t\n\t                if (side === 'left' && direction === 'to-left' && !panel.hasClass('active') || side === 'right' && direction === 'to-right' && !panel.hasClass('active')) {\n\t                    isTouched = false;\n\t                    return;\n\t                }\n\t            }\n\t\n\t            if (app.params.swipePanelNoFollow) {\n\t                var timeDiff = new Date().getTime() - touchStartTime;\n\t                if (timeDiff < 300) {\n\t                    if (direction === 'to-left') {\n\t                        if (side === 'right') app.openPanel(side);\n\t                        if (side === 'left' && panel.hasClass('active')) app.closePanel();\n\t                    }\n\t                    if (direction === 'to-right') {\n\t                        if (side === 'left') app.openPanel(side);\n\t                        if (side === 'right' && panel.hasClass('active')) app.closePanel();\n\t                    }\n\t                }\n\t                isTouched = false;\n\t                isMoved = false;\n\t                return;\n\t            }\n\t\n\t            if (!isMoved) {\n\t                effect = panel.hasClass('panel-cover') ? 'cover' : 'reveal';\n\t                if (!opened) {\n\t                    panel.show();\n\t                    panelOverlay.show();\n\t                }\n\t                panelWidth = panel[0].offsetWidth;\n\t                panel.transition(0);\n\t                if (panel.find('.' + app.params.viewClass).length > 0) {\n\t                    if (app.sizeNavbars) app.sizeNavbars(panel.find('.' + app.params.viewClass)[0]);\n\t                }\n\t            }\n\t\n\t            isMoved = true;\n\t\n\t            e.preventDefault();\n\t            var threshold = opened ? 0 : -app.params.swipePanelThreshold;\n\t            if (side === 'right') threshold = -threshold;\n\t\n\t            touchesDiff = pageX - touchesStart.x + threshold;\n\t\n\t            if (side === 'right') {\n\t                translate = touchesDiff - (opened ? panelWidth : 0);\n\t                if (translate > 0) translate = 0;\n\t                if (translate < -panelWidth) {\n\t                    translate = -panelWidth;\n\t                }\n\t            } else {\n\t                translate = touchesDiff + (opened ? panelWidth : 0);\n\t                if (translate < 0) translate = 0;\n\t                if (translate > panelWidth) {\n\t                    translate = panelWidth;\n\t                }\n\t            }\n\t            if (effect === 'reveal') {\n\t                views.transform('translate3d(' + translate + 'px,0,0)').transition(0);\n\t                panelOverlay.transform('translate3d(' + translate + 'px,0,0)').transition(0);\n\t\n\t                app.pluginHook('swipePanelSetTransform', views[0], panel[0], Math.abs(translate / panelWidth));\n\t            } else {\n\t                panel.transform('translate3d(' + translate + 'px,0,0)').transition(0);\n\t                if (app.params.material) {\n\t                    panelOverlay.transition(0);\n\t                    overlayOpacity = Math.abs(translate / panelWidth);\n\t                    panelOverlay.css({ opacity: overlayOpacity });\n\t                }\n\t                app.pluginHook('swipePanelSetTransform', views[0], panel[0], Math.abs(translate / panelWidth));\n\t            }\n\t        }\n\t        function handleTouchEnd(e) {\n\t            if (!isTouched || !isMoved) {\n\t                isTouched = false;\n\t                isMoved = false;\n\t                return;\n\t            }\n\t            isTouched = false;\n\t            isMoved = false;\n\t            var timeDiff = new Date().getTime() - touchStartTime;\n\t            var action;\n\t            var edge = translate === 0 || Math.abs(translate) === panelWidth;\n\t\n\t            if (!opened) {\n\t                if (translate === 0) {\n\t                    action = 'reset';\n\t                } else if (timeDiff < 300 && Math.abs(translate) > 0 || timeDiff >= 300 && Math.abs(translate) >= panelWidth / 2) {\n\t                    action = 'swap';\n\t                } else {\n\t                    action = 'reset';\n\t                }\n\t            } else {\n\t                if (translate === -panelWidth) {\n\t                    action = 'reset';\n\t                } else if (timeDiff < 300 && Math.abs(translate) >= 0 || timeDiff >= 300 && Math.abs(translate) <= panelWidth / 2) {\n\t                    if (side === 'left' && translate === panelWidth) action = 'reset';else action = 'swap';\n\t                } else {\n\t                    action = 'reset';\n\t                }\n\t            }\n\t            if (action === 'swap') {\n\t                app.allowPanelOpen = true;\n\t                if (opened) {\n\t                    app.closePanel();\n\t                    if (edge) {\n\t                        panel.css({ display: '' });\n\t                        $('body').removeClass('panel-closing');\n\t                    }\n\t                } else {\n\t                    app.openPanel(side);\n\t                }\n\t                if (edge) app.allowPanelOpen = true;\n\t            }\n\t            if (action === 'reset') {\n\t                if (opened) {\n\t                    app.allowPanelOpen = true;\n\t                    app.openPanel(side);\n\t                } else {\n\t                    app.closePanel();\n\t                    if (edge) {\n\t                        app.allowPanelOpen = true;\n\t                        panel.css({ display: '' });\n\t                    } else {\n\t                        var target = effect === 'reveal' ? views : panel;\n\t                        panel.trigger('close');\n\t                        $('body').addClass('panel-closing');\n\t                        target.transitionEnd(function () {\n\t                            panel.trigger('closed');\n\t                            panel.css({ display: '' });\n\t                            $('body').removeClass('panel-closing');\n\t                            app.allowPanelOpen = true;\n\t                        });\n\t                    }\n\t                }\n\t            }\n\t            if (effect === 'reveal') {\n\t                views.transition('');\n\t                views.transform('');\n\t            }\n\t            panel.transition('').transform('');\n\t            panelOverlay.css({ display: '' }).transform('').transition('').css('opacity', '');\n\t        }\n\t        $(document).on(app.touchEvents.start, handleTouchStart);\n\t        $(document).on(app.touchEvents.move, handleTouchMove);\n\t        $(document).on(app.touchEvents.end, handleTouchEnd);\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Image Lazy Loading   ************\n\t    ************   Based on solution by Marc Godard, https://github.com/MarcGodard   ************\n\t    ======================================================*/\n\t    app.initImagesLazyLoad = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t\n\t        // Lazy images\n\t        var lazyLoadImages;\n\t        if (pageContainer.hasClass('lazy')) {\n\t            lazyLoadImages = pageContainer;\n\t            pageContainer = lazyLoadImages.parents('.page');\n\t        } else {\n\t            lazyLoadImages = pageContainer.find('.lazy');\n\t        }\n\t        if (lazyLoadImages.length === 0) return;\n\t\n\t        // Scrollable page content\n\t        var pageContent;\n\t        if (pageContainer.hasClass('page-content')) {\n\t            pageContent = pageContainer;\n\t            pageContainer = pageContainer.parents('.page');\n\t        } else {\n\t            pageContent = pageContainer.find('.page-content');\n\t        }\n\t        if (pageContent.length === 0) return;\n\t\n\t        // Placeholder\n\t        var placeholderSrc = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXCwsK592mkAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==';\n\t        if (typeof app.params.imagesLazyLoadPlaceholder === 'string') {\n\t            placeholderSrc = app.params.imagesLazyLoadPlaceholder;\n\t        }\n\t        if (app.params.imagesLazyLoadPlaceholder !== false) lazyLoadImages.each(function () {\n\t            if ($(this).attr('data-src')) $(this).attr('src', placeholderSrc);\n\t        });\n\t\n\t        // load image\n\t        var imagesSequence = [];\n\t        var imageIsLoading = false;\n\t        function loadImage(el) {\n\t            el = $(el);\n\t\n\t            var bg = el.attr('data-background');\n\t            var src = bg ? bg : el.attr('data-src');\n\t            if (!src) return;\n\t\n\t            function onLoad() {\n\t                el.removeClass('lazy').addClass('lazy-loaded');\n\t                if (bg) {\n\t                    el.css('background-image', 'url(' + src + ')');\n\t                } else {\n\t                    el.attr('src', src);\n\t                }\n\t\n\t                if (app.params.imagesLazyLoadSequential) {\n\t                    imageIsLoading = false;\n\t                    if (imagesSequence.length > 0) {\n\t                        loadImage(imagesSequence.shift());\n\t                    }\n\t                }\n\t            }\n\t\n\t            if (app.params.imagesLazyLoadSequential) {\n\t                if (imageIsLoading) {\n\t                    if (imagesSequence.indexOf(el[0]) < 0) imagesSequence.push(el[0]);\n\t                    return;\n\t                }\n\t            }\n\t\n\t            // Loading flag\n\t            imageIsLoading = true;\n\t\n\t            var image = new Image();\n\t            image.onload = onLoad;\n\t            image.onerror = onLoad;\n\t            image.src = src;\n\t        }\n\t        function lazyHandler() {\n\t            lazyLoadImages = pageContainer.find('.lazy');\n\t            lazyLoadImages.each(function (index, el) {\n\t                el = $(el);\n\t                if (el.parents('.tab:not(.active)').length > 0) {\n\t                    return;\n\t                }\n\t                if (isElementInViewport(el[0])) {\n\t                    loadImage(el);\n\t                }\n\t            });\n\t        }\n\t\n\t        function isElementInViewport(el) {\n\t            var rect = el.getBoundingClientRect();\n\t            var threshold = app.params.imagesLazyLoadThreshold || 0;\n\t            return rect.top >= 0 - threshold && rect.left >= 0 - threshold && rect.top <= window.innerHeight + threshold && rect.left <= window.innerWidth + threshold;\n\t        }\n\t\n\t        function attachEvents(destroy) {\n\t            var method = destroy ? 'off' : 'on';\n\t            lazyLoadImages[method]('lazy', lazyHandler);\n\t            lazyLoadImages.parents('.tab')[method]('show', lazyHandler);\n\t            pageContainer[method]('lazy', lazyHandler);\n\t            pageContent[method]('lazy', lazyHandler);\n\t            pageContent[method]('scroll', lazyHandler);\n\t            $(window)[method]('resize', lazyHandler);\n\t        }\n\t        function detachEvents() {\n\t            attachEvents(true);\n\t        }\n\t\n\t        // Store detach function\n\t        pageContainer[0].f7DestroyImagesLazyLoad = detachEvents;\n\t\n\t        // Attach events\n\t        attachEvents();\n\t\n\t        // Destroy on page remove\n\t        if (pageContainer.hasClass('page')) {\n\t            pageContainer.once('pageBeforeRemove', detachEvents);\n\t        }\n\t\n\t        // Run loader on page load/init\n\t        lazyHandler();\n\t\n\t        // Run after page animation\n\t        pageContainer.once('pageAfterAnimation', lazyHandler);\n\t    };\n\t    app.destroyImagesLazyLoad = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        if (pageContainer.length > 0 && pageContainer[0].f7DestroyImagesLazyLoad) {\n\t            pageContainer[0].f7DestroyImagesLazyLoad();\n\t        }\n\t    };\n\t    app.reinitImagesLazyLoad = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        if (pageContainer.length > 0) {\n\t            pageContainer.trigger('lazy');\n\t        }\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Material Preloader   ************\n\t    ======================================================*/\n\t    app.initPageMaterialPreloader = function (pageContainer) {\n\t        $(pageContainer).find('.preloader').each(function () {\n\t            if ($(this).children().length === 0) {\n\t                $(this).html(app.params.materialPreloaderHtml);\n\t            }\n\t        });\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Messages   ************\n\t    ======================================================*/\n\t    var Messages = function Messages(container, params) {\n\t        var defaults = {\n\t            autoLayout: true,\n\t            newMessagesFirst: false,\n\t            messageTemplate: '{{#if day}}' + '<div class=\"messages-date\">{{day}} {{#if time}}, <span>{{time}}</span>{{/if}}</div>' + '{{/if}}' + '<div class=\"message message-{{type}} {{#if hasImage}}message-pic{{/if}} {{#if avatar}}message-with-avatar{{/if}} {{#if position}}message-appear-from-{{position}}{{/if}}\">' + '{{#if name}}<div class=\"message-name\">{{name}}</div>{{/if}}' + '<div class=\"message-text\">{{text}}{{#if date}}<div class=\"message-date\">{{date}}</div>{{/if}}</div>' + '{{#if avatar}}<div class=\"message-avatar\" style=\"background-image:url({{avatar}})\"></div>{{/if}}' + '{{#if label}}<div class=\"message-label\">{{label}}</div>{{/if}}' + '</div>'\n\t        };\n\t        params = params || {};\n\t        for (var def in defaults) {\n\t            if (typeof params[def] === 'undefined' || params[def] === null) {\n\t                params[def] = defaults[def];\n\t            }\n\t        }\n\t\n\t        // Instance\n\t        var m = this;\n\t\n\t        // Params\n\t        m.params = params;\n\t\n\t        // Container\n\t        m.container = $(container);\n\t        if (m.container.length === 0) return;\n\t\n\t        // Autolayout\n\t        if (m.params.autoLayout) m.container.addClass('messages-auto-layout');\n\t\n\t        // New messages first\n\t        if (m.params.newMessagesFirst) m.container.addClass('messages-new-first');\n\t\n\t        // Is In Page\n\t        m.pageContainer = m.container.parents('.page').eq(0);\n\t        m.pageContent = m.pageContainer.find('.page-content');\n\t\n\t        // Compiled template\n\t        m.template = Template7.compile(m.params.messageTemplate);\n\t\n\t        // Auto Layout\n\t        m.layout = function () {\n\t            if (!m.container.hasClass('messages-auto-layout')) m.container.addClass('messages-auto-layout');\n\t            m.container.find('.message').each(function () {\n\t                var message = $(this);\n\t                if (message.find('.message-text img').length > 0) message.addClass('message-pic');\n\t                if (message.find('.message-avatar').length > 0) message.addClass('message-with-avatar');\n\t            });\n\t            m.container.find('.message').each(function () {\n\t                var message = $(this);\n\t                var isSent = message.hasClass('message-sent');\n\t                var next = message.next('.message-' + (isSent ? 'sent' : 'received'));\n\t                var prev = message.prev('.message-' + (isSent ? 'sent' : 'received'));\n\t                if (next.length === 0) {\n\t                    message.addClass('message-last message-with-tail');\n\t                } else message.removeClass('message-last message-with-tail');\n\t\n\t                if (prev.length === 0) {\n\t                    message.addClass('message-first');\n\t                } else message.removeClass('message-first');\n\t\n\t                if (prev.length > 0 && prev.find('.message-name').length > 0 && message.find('.message-name').length > 0) {\n\t                    if (prev.find('.message-name').text() !== message.find('.message-name').text()) {\n\t                        prev.addClass('message-last message-with-tail');\n\t                        message.addClass('message-first');\n\t                    }\n\t                }\n\t            });\n\t        };\n\t\n\t        // Add Message\n\t        m.appendMessage = function (props, animate) {\n\t            return m.addMessage(props, 'append', animate);\n\t        };\n\t        m.prependMessage = function (props, animate) {\n\t            return m.addMessage(props, 'prepend', animate);\n\t        };\n\t        m.addMessage = function (props, method, animate) {\n\t            return m.addMessages([props], method, animate);\n\t        };\n\t        m.addMessages = function (newMessages, method, animate) {\n\t            if (typeof animate === 'undefined') {\n\t                animate = true;\n\t            }\n\t            if (typeof method === 'undefined') {\n\t                method = m.params.newMessagesFirst ? 'prepend' : 'append';\n\t            }\n\t            var newMessagesHTML = '',\n\t                i;\n\t            for (i = 0; i < newMessages.length; i++) {\n\t                var props = newMessages[i] || {};\n\t                props.type = props.type || 'sent';\n\t                if (!props.text) continue;\n\t                props.hasImage = props.text.indexOf('<img') >= 0;\n\t                if (animate) props.position = method === 'append' ? 'bottom' : 'top';\n\t\n\t                newMessagesHTML += m.template(props);\n\t            }\n\t            var heightBefore, scrollBefore;\n\t            if (method === 'prepend') {\n\t                heightBefore = m.pageContent[0].scrollHeight;\n\t                scrollBefore = m.pageContent[0].scrollTop;\n\t            }\n\t            m.container[method](newMessagesHTML);\n\t            if (m.params.autoLayout) m.layout();\n\t            if (method === 'prepend') {\n\t                m.pageContent[0].scrollTop = scrollBefore + (m.pageContent[0].scrollHeight - heightBefore);\n\t            }\n\t            if (method === 'append' && !m.params.newMessagesFirst || method === 'prepend' && m.params.newMessagesFirst) {\n\t                m.scrollMessages(animate ? undefined : 0);\n\t            }\n\t            var messages = m.container.find('.message');\n\t            if (newMessages.length === 1) {\n\t                return method === 'append' ? messages[messages.length - 1] : messages[0];\n\t            } else {\n\t                var messagesToReturn = [];\n\t                if (method === 'append') {\n\t                    for (i = messages.length - newMessages.length; i < messages.length; i++) {\n\t                        messagesToReturn.push(messages[i]);\n\t                    }\n\t                } else {\n\t                    for (i = 0; i < newMessages.length; i++) {\n\t                        messagesToReturn.push(messages[i]);\n\t                    }\n\t                }\n\t                return messagesToReturn;\n\t            }\n\t        };\n\t        m.removeMessage = function (message) {\n\t            message = $(message);\n\t            if (message.length === 0) {\n\t                return false;\n\t            } else {\n\t                message.remove();\n\t                if (m.params.autoLayout) m.layout();\n\t                return true;\n\t            }\n\t        };\n\t        m.removeMessages = function (messages) {\n\t            m.removeMessage(messages);\n\t        };\n\t        m.clean = function () {\n\t            m.container.html('');\n\t        };\n\t\n\t        // Scroll\n\t        m.scrollMessages = function (duration, scrollTop) {\n\t            if (typeof duration === 'undefined') duration = 400;\n\t            var currentScroll = m.pageContent[0].scrollTop;\n\t            var newScroll;\n\t            if (typeof scrollTop !== 'undefined') newScroll = scrollTop;else {\n\t                newScroll = m.params.newMessagesFirst ? 0 : m.pageContent[0].scrollHeight - m.pageContent[0].offsetHeight;\n\t                if (newScroll === currentScroll) return;\n\t            }\n\t            m.pageContent.scrollTop(newScroll, duration);\n\t        };\n\t\n\t        // Init Destroy\n\t        m.init = function () {\n\t            if (m.params.messages) {\n\t                m.addMessages(m.params.messages, undefined, false);\n\t            } else {\n\t                if (m.params.autoLayout) m.layout();\n\t                m.scrollMessages(0);\n\t            }\n\t        };\n\t        m.destroy = function () {\n\t            m = null;\n\t        };\n\t\n\t        // Init\n\t        m.init();\n\t\n\t        m.container[0].f7Messages = m;\n\t        return m;\n\t    };\n\t    app.messages = function (container, params) {\n\t        return new Messages(container, params);\n\t    };\n\t    app.initPageMessages = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        var messages = pageContainer.find('.messages');\n\t        if (messages.length === 0) return;\n\t        if (!messages.hasClass('messages-init')) {\n\t            return;\n\t        }\n\t        var m = app.messages(messages, messages.dataset());\n\t\n\t        // Destroy on page remove\n\t        function pageBeforeRemove() {\n\t            m.destroy();\n\t            pageContainer.off('pageBeforeRemove', pageBeforeRemove);\n\t        }\n\t        if (pageContainer.hasClass('page')) {\n\t            pageContainer.on('pageBeforeRemove', pageBeforeRemove);\n\t        }\n\t    };\n\t\n\t    /*===============================================================================\n\t    ************   Swipeout Actions (Swipe to delete)   ************\n\t    ===============================================================================*/\n\t    app.swipeoutOpenedEl = undefined;\n\t    app.allowSwipeout = true;\n\t    app.initSwipeout = function (swipeoutEl) {\n\t        var isTouched,\n\t            isMoved,\n\t            isScrolling,\n\t            touchesStart = {},\n\t            touchStartTime,\n\t            touchesDiff,\n\t            swipeOutEl,\n\t            swipeOutContent,\n\t            actionsRight,\n\t            actionsLeft,\n\t            actionsLeftWidth,\n\t            actionsRightWidth,\n\t            translate,\n\t            opened,\n\t            openedActions,\n\t            buttonsLeft,\n\t            buttonsRight,\n\t            direction,\n\t            overswipeLeftButton,\n\t            overswipeRightButton,\n\t            overswipeLeft,\n\t            overswipeRight,\n\t            noFoldLeft,\n\t            noFoldRight;\n\t        $(document).on(app.touchEvents.start, function (e) {\n\t            if (app.swipeoutOpenedEl) {\n\t                var target = $(e.target);\n\t                if (!(app.swipeoutOpenedEl.is(target[0]) || target.parents('.swipeout').is(app.swipeoutOpenedEl) || target.hasClass('modal-in') || target.hasClass('modal-overlay') || target.hasClass('actions-modal') || target.parents('.actions-modal.modal-in, .modal.modal-in').length > 0)) {\n\t                    app.swipeoutClose(app.swipeoutOpenedEl);\n\t                }\n\t            }\n\t        });\n\t\n\t        function handleTouchStart(e) {\n\t            if (!app.allowSwipeout) return;\n\t            isMoved = false;\n\t            isTouched = true;\n\t            isScrolling = undefined;\n\t            touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n\t            touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n\t            touchStartTime = new Date().getTime();\n\t        }\n\t        function handleTouchMove(e) {\n\t            if (!isTouched) return;\n\t            var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n\t            var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\t            if (typeof isScrolling === 'undefined') {\n\t                isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\n\t            }\n\t            if (isScrolling) {\n\t                isTouched = false;\n\t                return;\n\t            }\n\t\n\t            if (!isMoved) {\n\t                if ($('.list-block.sortable-opened').length > 0) return;\n\t                /*jshint validthis:true */\n\t                swipeOutEl = $(this);\n\t                swipeOutContent = swipeOutEl.find('.swipeout-content');\n\t                actionsRight = swipeOutEl.find('.swipeout-actions-right');\n\t                actionsLeft = swipeOutEl.find('.swipeout-actions-left');\n\t                actionsLeftWidth = actionsRightWidth = buttonsLeft = buttonsRight = overswipeRightButton = overswipeLeftButton = null;\n\t                noFoldLeft = actionsLeft.hasClass('swipeout-actions-no-fold') || app.params.swipeoutActionsNoFold;\n\t                noFoldRight = actionsRight.hasClass('swipeout-actions-no-fold') || app.params.swipeoutActionsNoFold;\n\t                if (actionsLeft.length > 0) {\n\t                    actionsLeftWidth = actionsLeft.outerWidth();\n\t                    buttonsLeft = actionsLeft.children('a');\n\t                    overswipeLeftButton = actionsLeft.find('.swipeout-overswipe');\n\t                }\n\t                if (actionsRight.length > 0) {\n\t                    actionsRightWidth = actionsRight.outerWidth();\n\t                    buttonsRight = actionsRight.children('a');\n\t                    overswipeRightButton = actionsRight.find('.swipeout-overswipe');\n\t                }\n\t                opened = swipeOutEl.hasClass('swipeout-opened');\n\t                if (opened) {\n\t                    openedActions = swipeOutEl.find('.swipeout-actions-left.swipeout-actions-opened').length > 0 ? 'left' : 'right';\n\t                }\n\t                swipeOutEl.removeClass('transitioning');\n\t                if (!app.params.swipeoutNoFollow) {\n\t                    swipeOutEl.find('.swipeout-actions-opened').removeClass('swipeout-actions-opened');\n\t                    swipeOutEl.removeClass('swipeout-opened');\n\t                }\n\t            }\n\t            isMoved = true;\n\t            e.preventDefault();\n\t\n\t            touchesDiff = pageX - touchesStart.x;\n\t            translate = touchesDiff;\n\t\n\t            if (opened) {\n\t                if (openedActions === 'right') translate = translate - actionsRightWidth;else translate = translate + actionsLeftWidth;\n\t            }\n\t\n\t            if (translate > 0 && actionsLeft.length === 0 || translate < 0 && actionsRight.length === 0) {\n\t                if (!opened) {\n\t                    isTouched = isMoved = false;\n\t                    swipeOutContent.transform('');\n\t                    if (buttonsRight && buttonsRight.length > 0) {\n\t                        buttonsRight.transform('');\n\t                    }\n\t                    if (buttonsLeft && buttonsLeft.length > 0) {\n\t                        buttonsLeft.transform('');\n\t                    }\n\t                    return;\n\t                }\n\t                translate = 0;\n\t            }\n\t\n\t            if (translate < 0) direction = 'to-left';else if (translate > 0) direction = 'to-right';else {\n\t                if (direction) direction = direction;else direction = 'to-left';\n\t            }\n\t\n\t            var i, buttonOffset, progress;\n\t\n\t            e.f7PreventPanelSwipe = true;\n\t            if (app.params.swipeoutNoFollow) {\n\t                if (opened) {\n\t                    if (openedActions === 'right' && touchesDiff > 0) {\n\t                        app.swipeoutClose(swipeOutEl);\n\t                    }\n\t                    if (openedActions === 'left' && touchesDiff < 0) {\n\t                        app.swipeoutClose(swipeOutEl);\n\t                    }\n\t                } else {\n\t                    if (touchesDiff < 0 && actionsRight.length > 0) {\n\t                        app.swipeoutOpen(swipeOutEl, 'right');\n\t                    }\n\t                    if (touchesDiff > 0 && actionsLeft.length > 0) {\n\t                        app.swipeoutOpen(swipeOutEl, 'left');\n\t                    }\n\t                }\n\t                isTouched = false;\n\t                isMoved = false;\n\t                return;\n\t            }\n\t            overswipeLeft = false;\n\t            overswipeRight = false;\n\t            var $button;\n\t            if (actionsRight.length > 0) {\n\t                // Show right actions\n\t                progress = translate / actionsRightWidth;\n\t                if (translate < -actionsRightWidth) {\n\t                    translate = -actionsRightWidth - Math.pow(-translate - actionsRightWidth, 0.8);\n\t                    if (overswipeRightButton.length > 0) {\n\t                        overswipeRight = true;\n\t                    }\n\t                }\n\t                for (i = 0; i < buttonsRight.length; i++) {\n\t                    if (typeof buttonsRight[i]._buttonOffset === 'undefined') {\n\t                        buttonsRight[i]._buttonOffset = buttonsRight[i].offsetLeft;\n\t                    }\n\t                    buttonOffset = buttonsRight[i]._buttonOffset;\n\t                    $button = $(buttonsRight[i]);\n\t                    if (overswipeRightButton.length > 0 && $button.hasClass('swipeout-overswipe')) {\n\t                        $button.css({ left: (overswipeRight ? -buttonOffset : 0) + 'px' });\n\t                        if (overswipeRight) {\n\t                            $button.addClass('swipeout-overswipe-active');\n\t                        } else {\n\t                            $button.removeClass('swipeout-overswipe-active');\n\t                        }\n\t                    }\n\t                    $button.transform('translate3d(' + (translate - buttonOffset * (1 + Math.max(progress, -1))) + 'px,0,0)');\n\t                }\n\t            }\n\t            if (actionsLeft.length > 0) {\n\t                // Show left actions\n\t                progress = translate / actionsLeftWidth;\n\t                if (translate > actionsLeftWidth) {\n\t                    translate = actionsLeftWidth + Math.pow(translate - actionsLeftWidth, 0.8);\n\t                    if (overswipeLeftButton.length > 0) {\n\t                        overswipeLeft = true;\n\t                    }\n\t                }\n\t                for (i = 0; i < buttonsLeft.length; i++) {\n\t                    if (typeof buttonsLeft[i]._buttonOffset === 'undefined') {\n\t                        buttonsLeft[i]._buttonOffset = actionsLeftWidth - buttonsLeft[i].offsetLeft - buttonsLeft[i].offsetWidth;\n\t                    }\n\t                    buttonOffset = buttonsLeft[i]._buttonOffset;\n\t                    $button = $(buttonsLeft[i]);\n\t                    if (overswipeLeftButton.length > 0 && $button.hasClass('swipeout-overswipe')) {\n\t                        $button.css({ left: (overswipeLeft ? buttonOffset : 0) + 'px' });\n\t                        if (overswipeLeft) {\n\t                            $button.addClass('swipeout-overswipe-active');\n\t                        } else {\n\t                            $button.removeClass('swipeout-overswipe-active');\n\t                        }\n\t                    }\n\t                    if (buttonsLeft.length > 1) {\n\t                        $button.css('z-index', buttonsLeft.length - i);\n\t                    }\n\t                    $button.transform('translate3d(' + (translate + buttonOffset * (1 - Math.min(progress, 1))) + 'px,0,0)');\n\t                }\n\t            }\n\t            swipeOutContent.transform('translate3d(' + translate + 'px,0,0)');\n\t        }\n\t        function handleTouchEnd(e) {\n\t            if (!isTouched || !isMoved) {\n\t                isTouched = false;\n\t                isMoved = false;\n\t                return;\n\t            }\n\t\n\t            isTouched = false;\n\t            isMoved = false;\n\t            var timeDiff = new Date().getTime() - touchStartTime;\n\t            var action, actionsWidth, actions, buttons, i, noFold;\n\t\n\t            noFold = direction === 'to-left' ? noFoldRight : noFoldLeft;\n\t            actions = direction === 'to-left' ? actionsRight : actionsLeft;\n\t            actionsWidth = direction === 'to-left' ? actionsRightWidth : actionsLeftWidth;\n\t\n\t            if (timeDiff < 300 && (touchesDiff < -10 && direction === 'to-left' || touchesDiff > 10 && direction === 'to-right') || timeDiff >= 300 && Math.abs(translate) > actionsWidth / 2) {\n\t                action = 'open';\n\t            } else {\n\t                action = 'close';\n\t            }\n\t            if (timeDiff < 300) {\n\t                if (Math.abs(translate) === 0) action = 'close';\n\t                if (Math.abs(translate) === actionsWidth) action = 'open';\n\t            }\n\t\n\t            if (action === 'open') {\n\t                app.swipeoutOpenedEl = swipeOutEl;\n\t                swipeOutEl.trigger('open');\n\t                swipeOutEl.addClass('swipeout-opened transitioning');\n\t                var newTranslate = direction === 'to-left' ? -actionsWidth : actionsWidth;\n\t                swipeOutContent.transform('translate3d(' + newTranslate + 'px,0,0)');\n\t                actions.addClass('swipeout-actions-opened');\n\t                buttons = direction === 'to-left' ? buttonsRight : buttonsLeft;\n\t                if (buttons) {\n\t                    for (i = 0; i < buttons.length; i++) {\n\t                        $(buttons[i]).transform('translate3d(' + newTranslate + 'px,0,0)');\n\t                    }\n\t                }\n\t                if (overswipeRight) {\n\t                    actionsRight.find('.swipeout-overswipe')[0].click();\n\t                }\n\t                if (overswipeLeft) {\n\t                    actionsLeft.find('.swipeout-overswipe')[0].click();\n\t                }\n\t            } else {\n\t                swipeOutEl.trigger('close');\n\t                app.swipeoutOpenedEl = undefined;\n\t                swipeOutEl.addClass('transitioning').removeClass('swipeout-opened');\n\t                swipeOutContent.transform('');\n\t                actions.removeClass('swipeout-actions-opened');\n\t            }\n\t\n\t            var buttonOffset;\n\t            if (buttonsLeft && buttonsLeft.length > 0 && buttonsLeft !== buttons) {\n\t                for (i = 0; i < buttonsLeft.length; i++) {\n\t                    buttonOffset = buttonsLeft[i]._buttonOffset;\n\t                    if (typeof buttonOffset === 'undefined') {\n\t                        buttonsLeft[i]._buttonOffset = actionsLeftWidth - buttonsLeft[i].offsetLeft - buttonsLeft[i].offsetWidth;\n\t                    }\n\t                    $(buttonsLeft[i]).transform('translate3d(' + buttonOffset + 'px,0,0)');\n\t                }\n\t            }\n\t            if (buttonsRight && buttonsRight.length > 0 && buttonsRight !== buttons) {\n\t                for (i = 0; i < buttonsRight.length; i++) {\n\t                    buttonOffset = buttonsRight[i]._buttonOffset;\n\t                    if (typeof buttonOffset === 'undefined') {\n\t                        buttonsRight[i]._buttonOffset = buttonsRight[i].offsetLeft;\n\t                    }\n\t                    $(buttonsRight[i]).transform('translate3d(' + -buttonOffset + 'px,0,0)');\n\t                }\n\t            }\n\t            swipeOutContent.transitionEnd(function (e) {\n\t                if (opened && action === 'open' || closed && action === 'close') return;\n\t                swipeOutEl.trigger(action === 'open' ? 'opened' : 'closed');\n\t                if (opened && action === 'close') {\n\t                    if (actionsRight.length > 0) {\n\t                        buttonsRight.transform('');\n\t                    }\n\t                    if (actionsLeft.length > 0) {\n\t                        buttonsLeft.transform('');\n\t                    }\n\t                }\n\t            });\n\t        }\n\t        if (swipeoutEl) {\n\t            $(swipeoutEl).on(app.touchEvents.start, handleTouchStart);\n\t            $(swipeoutEl).on(app.touchEvents.move, handleTouchMove);\n\t            $(swipeoutEl).on(app.touchEvents.end, handleTouchEnd);\n\t        } else {\n\t            $(document).on(app.touchEvents.start, '.list-block li.swipeout', handleTouchStart);\n\t            $(document).on(app.touchEvents.move, '.list-block li.swipeout', handleTouchMove);\n\t            $(document).on(app.touchEvents.end, '.list-block li.swipeout', handleTouchEnd);\n\t        }\n\t    };\n\t    app.swipeoutOpen = function (el, dir, callback) {\n\t        el = $(el);\n\t        if (arguments.length === 2) {\n\t            if (typeof arguments[1] === 'function') {\n\t                callback = dir;\n\t            }\n\t        }\n\t\n\t        if (el.length === 0) return;\n\t        if (el.length > 1) el = $(el[0]);\n\t        if (!el.hasClass('swipeout') || el.hasClass('swipeout-opened')) return;\n\t        if (!dir) {\n\t            if (el.find('.swipeout-actions-right').length > 0) dir = 'right';else dir = 'left';\n\t        }\n\t        var swipeOutActions = el.find('.swipeout-actions-' + dir);\n\t        if (swipeOutActions.length === 0) return;\n\t        var noFold = swipeOutActions.hasClass('swipeout-actions-no-fold') || app.params.swipeoutActionsNoFold;\n\t        el.trigger('open').addClass('swipeout-opened').removeClass('transitioning');\n\t        swipeOutActions.addClass('swipeout-actions-opened');\n\t        var buttons = swipeOutActions.children('a');\n\t        var swipeOutActionsWidth = swipeOutActions.outerWidth();\n\t        var translate = dir === 'right' ? -swipeOutActionsWidth : swipeOutActionsWidth;\n\t        var i;\n\t        if (buttons.length > 1) {\n\t            for (i = 0; i < buttons.length; i++) {\n\t                if (dir === 'right') {\n\t                    $(buttons[i]).transform('translate3d(' + -buttons[i].offsetLeft + 'px,0,0)');\n\t                } else {\n\t                    $(buttons[i]).css('z-index', buttons.length - i).transform('translate3d(' + (swipeOutActionsWidth - buttons[i].offsetWidth - buttons[i].offsetLeft) + 'px,0,0)');\n\t                }\n\t            }\n\t            var clientLeft = buttons[1].clientLeft;\n\t        }\n\t        el.addClass('transitioning');\n\t        for (i = 0; i < buttons.length; i++) {\n\t            $(buttons[i]).transform('translate3d(' + translate + 'px,0,0)');\n\t        }\n\t        el.find('.swipeout-content').transform('translate3d(' + translate + 'px,0,0)').transitionEnd(function () {\n\t            el.trigger('opened');\n\t            if (callback) callback.call(el[0]);\n\t        });\n\t        app.swipeoutOpenedEl = el;\n\t    };\n\t    app.swipeoutClose = function (el, callback) {\n\t        el = $(el);\n\t        if (el.length === 0) return;\n\t        if (!el.hasClass('swipeout-opened')) return;\n\t        var dir = el.find('.swipeout-actions-opened').hasClass('swipeout-actions-right') ? 'right' : 'left';\n\t        var swipeOutActions = el.find('.swipeout-actions-opened').removeClass('swipeout-actions-opened');\n\t        var noFold = swipeOutActions.hasClass('swipeout-actions-no-fold') || app.params.swipeoutActionsNoFold;\n\t        var buttons = swipeOutActions.children('a');\n\t        var swipeOutActionsWidth = swipeOutActions.outerWidth();\n\t        app.allowSwipeout = false;\n\t        el.trigger('close');\n\t        el.removeClass('swipeout-opened').addClass('transitioning');\n\t\n\t        var closeTO;\n\t        function onSwipeoutClose() {\n\t            app.allowSwipeout = true;\n\t            if (el.hasClass('swipeout-opened')) return;\n\t            el.removeClass('transitioning');\n\t            buttons.transform('');\n\t            el.trigger('closed');\n\t            if (callback) callback.call(el[0]);\n\t            if (closeTO) clearTimeout(closeTO);\n\t        }\n\t        el.find('.swipeout-content').transform('').transitionEnd(onSwipeoutClose);\n\t        closeTO = setTimeout(onSwipeoutClose, 500);\n\t\n\t        for (var i = 0; i < buttons.length; i++) {\n\t            if (dir === 'right') {\n\t                $(buttons[i]).transform('translate3d(' + -buttons[i].offsetLeft + 'px,0,0)');\n\t            } else {\n\t                $(buttons[i]).transform('translate3d(' + (swipeOutActionsWidth - buttons[i].offsetWidth - buttons[i].offsetLeft) + 'px,0,0)');\n\t            }\n\t            $(buttons[i]).css({ left: 0 + 'px' }).removeClass('swipeout-overswipe-active');\n\t        }\n\t        if (app.swipeoutOpenedEl && app.swipeoutOpenedEl[0] === el[0]) app.swipeoutOpenedEl = undefined;\n\t    };\n\t    app.swipeoutDelete = function (el, callback) {\n\t        el = $(el);\n\t        if (el.length === 0) return;\n\t        if (el.length > 1) el = $(el[0]);\n\t        app.swipeoutOpenedEl = undefined;\n\t        el.trigger('delete');\n\t        el.css({ height: el.outerHeight() + 'px' });\n\t        var clientLeft = el[0].clientLeft;\n\t        el.css({ height: 0 + 'px' }).addClass('deleting transitioning').transitionEnd(function () {\n\t            el.trigger('deleted');\n\t            if (callback) callback.call(el[0]);\n\t            if (el.parents('.virtual-list').length > 0) {\n\t                var virtualList = el.parents('.virtual-list')[0].f7VirtualList;\n\t                var virtualIndex = el[0].f7VirtualListIndex;\n\t                if (virtualList && typeof virtualIndex !== 'undefined') virtualList.deleteItem(virtualIndex);\n\t            } else {\n\t                el.remove();\n\t            }\n\t        });\n\t        var translate = '-100%';\n\t        el.find('.swipeout-content').transform('translate3d(' + translate + ',0,0)');\n\t    };\n\t\n\t    /*===============================================================================\n\t    ************   Sortable   ************\n\t    ===============================================================================*/\n\t    app.sortableToggle = function (sortableContainer) {\n\t        sortableContainer = $(sortableContainer);\n\t        if (sortableContainer.length === 0) sortableContainer = $('.list-block.sortable');\n\t        sortableContainer.toggleClass('sortable-opened');\n\t        if (sortableContainer.hasClass('sortable-opened')) {\n\t            sortableContainer.trigger('open');\n\t        } else {\n\t            sortableContainer.trigger('close');\n\t        }\n\t        return sortableContainer;\n\t    };\n\t    app.sortableOpen = function (sortableContainer) {\n\t        sortableContainer = $(sortableContainer);\n\t        if (sortableContainer.length === 0) sortableContainer = $('.list-block.sortable');\n\t        sortableContainer.addClass('sortable-opened');\n\t        sortableContainer.trigger('open');\n\t        return sortableContainer;\n\t    };\n\t    app.sortableClose = function (sortableContainer) {\n\t        sortableContainer = $(sortableContainer);\n\t        if (sortableContainer.length === 0) sortableContainer = $('.list-block.sortable');\n\t        sortableContainer.removeClass('sortable-opened');\n\t        sortableContainer.trigger('close');\n\t        return sortableContainer;\n\t    };\n\t    app.initSortable = function () {\n\t        var isTouched, isMoved, touchStartY, touchesDiff, sortingEl, sortingElHeight, sortingItems, minTop, maxTop, insertAfter, insertBefore, sortableContainer;\n\t\n\t        function handleTouchStart(e) {\n\t            isMoved = false;\n\t            isTouched = true;\n\t            touchStartY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n\t            /*jshint validthis:true */\n\t            sortingEl = $(this).parent();\n\t            sortingItems = sortingEl.parent().find('li');\n\t            sortableContainer = sortingEl.parents('.sortable');\n\t            e.preventDefault();\n\t            app.allowPanelOpen = app.allowSwipeout = false;\n\t        }\n\t        function handleTouchMove(e) {\n\t            if (!isTouched || !sortingEl) return;\n\t            var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n\t            var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\t            if (!isMoved) {\n\t                sortingEl.addClass('sorting');\n\t                sortableContainer.addClass('sortable-sorting');\n\t                minTop = sortingEl[0].offsetTop;\n\t                maxTop = sortingEl.parent().height() - sortingEl[0].offsetTop - sortingEl.height();\n\t                sortingElHeight = sortingEl[0].offsetHeight;\n\t            }\n\t            isMoved = true;\n\t\n\t            e.preventDefault();\n\t            e.f7PreventPanelSwipe = true;\n\t            touchesDiff = pageY - touchStartY;\n\t            var translate = touchesDiff;\n\t            if (translate < -minTop) translate = -minTop;\n\t            if (translate > maxTop) translate = maxTop;\n\t            sortingEl.transform('translate3d(0,' + translate + 'px,0)');\n\t\n\t            insertBefore = insertAfter = undefined;\n\t\n\t            sortingItems.each(function () {\n\t                var currentEl = $(this);\n\t                if (currentEl[0] === sortingEl[0]) return;\n\t                var currentElOffset = currentEl[0].offsetTop;\n\t                var currentElHeight = currentEl.height();\n\t                var sortingElOffset = sortingEl[0].offsetTop + translate;\n\t\n\t                if (sortingElOffset >= currentElOffset - currentElHeight / 2 && sortingEl.index() < currentEl.index()) {\n\t                    currentEl.transform('translate3d(0, ' + -sortingElHeight + 'px,0)');\n\t                    insertAfter = currentEl;\n\t                    insertBefore = undefined;\n\t                } else if (sortingElOffset <= currentElOffset + currentElHeight / 2 && sortingEl.index() > currentEl.index()) {\n\t                    currentEl.transform('translate3d(0, ' + sortingElHeight + 'px,0)');\n\t                    insertAfter = undefined;\n\t                    if (!insertBefore) insertBefore = currentEl;\n\t                } else {\n\t                    $(this).transform('translate3d(0, 0%,0)');\n\t                }\n\t            });\n\t        }\n\t        function handleTouchEnd(e) {\n\t            app.allowPanelOpen = app.allowSwipeout = true;\n\t            if (!isTouched || !isMoved) {\n\t                isTouched = false;\n\t                isMoved = false;\n\t                return;\n\t            }\n\t            e.preventDefault();\n\t            sortingItems.transform('');\n\t            sortingEl.removeClass('sorting');\n\t            sortableContainer.removeClass('sortable-sorting');\n\t            var virtualList, oldIndex, newIndex;\n\t            if (insertAfter) {\n\t                sortingEl.insertAfter(insertAfter);\n\t                sortingEl.trigger('sort');\n\t            }\n\t            if (insertBefore) {\n\t                sortingEl.insertBefore(insertBefore);\n\t                sortingEl.trigger('sort');\n\t            }\n\t            if ((insertAfter || insertBefore) && sortableContainer.hasClass('virtual-list')) {\n\t                virtualList = sortableContainer[0].f7VirtualList;\n\t                oldIndex = sortingEl[0].f7VirtualListIndex;\n\t                newIndex = insertBefore ? insertBefore[0].f7VirtualListIndex : insertAfter[0].f7VirtualListIndex;\n\t                if (virtualList) virtualList.moveItem(oldIndex, newIndex);\n\t            }\n\t            insertAfter = insertBefore = undefined;\n\t            isTouched = false;\n\t            isMoved = false;\n\t        }\n\t        $(document).on(app.touchEvents.start, '.list-block.sortable .sortable-handler', handleTouchStart);\n\t        if (app.support.touch) {\n\t            $(document).on(app.touchEvents.move, '.list-block.sortable .sortable-handler', handleTouchMove);\n\t            $(document).on(app.touchEvents.end, '.list-block.sortable .sortable-handler', handleTouchEnd);\n\t        } else {\n\t            $(document).on(app.touchEvents.move, handleTouchMove);\n\t            $(document).on(app.touchEvents.end, handleTouchEnd);\n\t        }\n\t    };\n\t\n\t    /*===============================================================================\n\t    ************   Smart Select   ************\n\t    ===============================================================================*/\n\t    app.initSmartSelects = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        var selects;\n\t        if (pageContainer.is('.smart-select')) {\n\t            selects = pageContainer;\n\t        } else {\n\t            selects = pageContainer.find('.smart-select');\n\t        }\n\t        if (selects.length === 0) return;\n\t\n\t        selects.each(function () {\n\t            var smartSelect = $(this);\n\t\n\t            var $select = smartSelect.find('select');\n\t            if ($select.length === 0) return;\n\t\n\t            var select = $select[0];\n\t            if (select.length === 0) return;\n\t\n\t            var valueText = [];\n\t            for (var i = 0; i < select.length; i++) {\n\t                if (select[i].selected) valueText.push(select[i].textContent.trim());\n\t            }\n\t\n\t            var itemAfter = smartSelect.find('.item-after');\n\t            if (itemAfter.length === 0) {\n\t                smartSelect.find('.item-inner').append('<div class=\"item-after\">' + valueText.join(', ') + '</div>');\n\t            } else {\n\t                var selectedText = itemAfter.text();\n\t                if (itemAfter.hasClass('smart-select-value')) {\n\t                    for (i = 0; i < select.length; i++) {\n\t                        select[i].selected = select[i].textContent.trim() === selectedText.trim();\n\t                    }\n\t                } else {\n\t                    itemAfter.text(valueText.join(', '));\n\t                }\n\t            }\n\t        });\n\t    };\n\t    app.smartSelectAddOption = function (select, option, index) {\n\t        select = $(select);\n\t        var smartSelect = select.parents('.smart-select');\n\t        if (typeof index === 'undefined') {\n\t            select.append(option);\n\t        } else {\n\t            $(option).insertBefore(select.find('option').eq(index));\n\t        }\n\t        app.initSmartSelects(smartSelect);\n\t        var selectName = smartSelect.find('select').attr('name');\n\t        var opened = $('.page.smart-select-page[data-select-name=\"' + selectName + '\"]').length > 0;\n\t        if (opened) {\n\t            app.smartSelectOpen(smartSelect, true);\n\t        }\n\t    };\n\t    app.smartSelectOpen = function (smartSelect, reLayout) {\n\t        smartSelect = $(smartSelect);\n\t        if (smartSelect.length === 0) return;\n\t\n\t        // Find related view\n\t        var view = smartSelect.parents('.' + app.params.viewClass);\n\t        if (view.length === 0) return;\n\t        view = view[0].f7View;\n\t\n\t        // Parameters\n\t        var openIn = smartSelect.attr('data-open-in') || app.params.smartSelectOpenIn;\n\t        if (openIn === 'popup') {\n\t            if ($('.popup.smart-select-popup').length > 0) return;\n\t        } else if (openIn === 'picker') {\n\t            if ($('.picker-modal.modal-in').length > 0 && !reLayout) {\n\t                if (smartSelect[0].f7SmartSelectPicker !== $('.picker-modal.modal-in:not(.modal-out)')[0]) app.closeModal($('.picker-modal.modal-in:not(.modal-out)'));else return;\n\t            }\n\t        } else {\n\t            if (!view) return;\n\t        }\n\t\n\t        var smartSelectData = smartSelect.dataset();\n\t        var pageTitle = smartSelectData.pageTitle || smartSelect.find('.item-title').text();\n\t        var backText = smartSelectData.backText || app.params.smartSelectBackText;\n\t        var closeText;\n\t        if (openIn === 'picker') {\n\t            closeText = smartSelectData.pickerCloseText || smartSelectData.backText || app.params.smartSelectPickerCloseText;\n\t        } else {\n\t            closeText = smartSelectData.popupCloseText || smartSelectData.backText || app.params.smartSelectPopupCloseText;\n\t        }\n\t        var backOnSelect = smartSelectData.backOnSelect !== undefined ? smartSelectData.backOnSelect : app.params.smartSelectBackOnSelect;\n\t        var formTheme = smartSelectData.formTheme || app.params.smartSelectFormTheme;\n\t        var navbarTheme = smartSelectData.navbarTheme || app.params.smartSelectNavbarTheme;\n\t        var toolbarTheme = smartSelectData.toolbarTheme || app.params.smartSelectToolbarTheme;\n\t        var virtualList = smartSelectData.virtualList;\n\t        var virtualListHeight = smartSelectData.virtualListHeight;\n\t        var material = app.params.material;\n\t        var pickerHeight = smartSelectData.pickerHeight || app.params.smartSelectPickerHeight;\n\t\n\t        // Collect all options/values\n\t        var select = smartSelect.find('select')[0];\n\t        var $select = $(select);\n\t        var $selectData = $select.dataset();\n\t        if (select.disabled || smartSelect.hasClass('disabled') || $select.hasClass('disabled')) {\n\t            return;\n\t        }\n\t        var values = [];\n\t        var id = new Date().getTime();\n\t        var inputType = select.multiple ? 'checkbox' : 'radio';\n\t        var inputName = inputType + '-' + id;\n\t        var maxLength = $select.attr('maxlength');\n\t        var selectName = select.name;\n\t        var option, optionHasMedia, optionImage, optionIcon, optionGroup, optionGroupLabel, optionPreviousGroup, optionIsLabel, previousGroup, optionColor, optionClassName, optionData;\n\t        for (var i = 0; i < select.length; i++) {\n\t            option = $(select[i]);\n\t            optionData = option.dataset();\n\t            optionImage = optionData.optionImage || $selectData.optionImage || smartSelectData.optionImage;\n\t            optionIcon = optionData.optionIcon || $selectData.optionIcon || smartSelectData.optionIcon;\n\t            optionHasMedia = optionImage || optionIcon || inputType === 'checkbox';\n\t            if (material) optionHasMedia = optionImage || optionIcon;\n\t            optionColor = optionData.optionColor;\n\t            optionClassName = optionData.optionClass;\n\t            if (option[0].disabled) optionClassName += ' disabled';\n\t            optionGroup = option.parent('optgroup')[0];\n\t            optionGroupLabel = optionGroup && optionGroup.label;\n\t            optionIsLabel = false;\n\t            if (optionGroup) {\n\t                if (optionGroup !== previousGroup) {\n\t                    optionIsLabel = true;\n\t                    previousGroup = optionGroup;\n\t                    values.push({\n\t                        groupLabel: optionGroupLabel,\n\t                        isLabel: optionIsLabel\n\t                    });\n\t                }\n\t            }\n\t            values.push({\n\t                value: option[0].value,\n\t                text: option[0].textContent.trim(),\n\t                selected: option[0].selected,\n\t                group: optionGroup,\n\t                groupLabel: optionGroupLabel,\n\t                image: optionImage,\n\t                icon: optionIcon,\n\t                color: optionColor,\n\t                className: optionClassName,\n\t                disabled: option[0].disabled,\n\t                inputType: inputType,\n\t                id: id,\n\t                hasMedia: optionHasMedia,\n\t                checkbox: inputType === 'checkbox',\n\t                inputName: inputName,\n\t                material: app.params.material\n\t            });\n\t        }\n\t\n\t        // Item template/HTML\n\t        if (!app._compiledTemplates.smartSelectItem) {\n\t            app._compiledTemplates.smartSelectItem = t7.compile(app.params.smartSelectItemTemplate || '{{#if isLabel}}' + '<li class=\"item-divider\">{{groupLabel}}</li>' + '{{else}}' + '<li{{#if className}} class=\"{{className}}\"{{/if}}>' + '<label class=\"label-{{inputType}} item-content\">' + '<input type=\"{{inputType}}\" name=\"{{inputName}}\" value=\"{{value}}\" {{#if selected}}checked{{/if}}>' + '{{#if material}}' + '{{#if hasMedia}}' + '<div class=\"item-media\">' + '{{#if icon}}<i class=\"icon {{icon}}\"></i>{{/if}}' + '{{#if image}}<img src=\"{{image}}\">{{/if}}' + '</div>' + '<div class=\"item-inner\">' + '<div class=\"item-title{{#if color}} color-{{color}}{{/if}}\">{{text}}</div>' + '</div>' + '<div class=\"item-after\">' + '<i class=\"icon icon-form-{{inputType}}\"></i>' + '</div>' + '{{else}}' + '<div class=\"item-media\">' + '<i class=\"icon icon-form-{{inputType}}\"></i>' + '</div>' + '<div class=\"item-inner\">' + '<div class=\"item-title{{#if color}} color-{{color}}{{/if}}\">{{text}}</div>' + '</div>' + '{{/if}}' + '{{else}}' + '{{#if hasMedia}}' + '<div class=\"item-media\">' + '{{#if checkbox}}<i class=\"icon icon-form-checkbox\"></i>{{/if}}' + '{{#if icon}}<i class=\"icon {{icon}}\"></i>{{/if}}' + '{{#if image}}<img src=\"{{image}}\">{{/if}}' + '</div>' + '{{/if}}' + '<div class=\"item-inner\">' + '<div class=\"item-title{{#if color}} color-{{color}}{{/if}}\">{{text}}</div>' + '</div>' + '{{/if}}' + '</label>' + '</li>' + '{{/if}}');\n\t        }\n\t        var smartSelectItemTemplate = app._compiledTemplates.smartSelectItem;\n\t\n\t        var inputsHTML = '';\n\t        if (!virtualList) {\n\t            for (var j = 0; j < values.length; j++) {\n\t                inputsHTML += smartSelectItemTemplate(values[j]);\n\t            }\n\t        }\n\t\n\t        // Toolbar / Navbar\n\t        var toolbarHTML = '',\n\t            navbarHTML;\n\t        var noNavbar = '',\n\t            noToolbar = '',\n\t            noTabbar = '',\n\t            navbarLayout;\n\t\n\t        if (openIn === 'picker') {\n\t            if (!app._compiledTemplates.smartSelectToolbar) {\n\t                app._compiledTemplates.smartSelectToolbar = t7.compile(app.params.smartSelectToolbarTemplate || '<div class=\"toolbar {{#if toolbarTheme}}theme-{{toolbarTheme}}{{/if}}\">' + '<div class=\"toolbar-inner\">' + '<div class=\"left\"></div>' + '<div class=\"right\"><a href=\"#\" class=\"link close-picker\"><span>{{closeText}}</span></a></div>' + '</div>' + '</div>');\n\t            }\n\t\n\t            toolbarHTML = app._compiledTemplates.smartSelectToolbar({\n\t                pageTitle: pageTitle,\n\t                closeText: closeText,\n\t                openIn: openIn,\n\t                toolbarTheme: toolbarTheme,\n\t                inPicker: openIn === 'picker'\n\t            });\n\t        } else {\n\t            // Navbar HTML\n\t            if (!app._compiledTemplates.smartSelectNavbar) {\n\t                app._compiledTemplates.smartSelectNavbar = t7.compile(app.params.smartSelectNavbarTemplate || '<div class=\"navbar {{#if navbarTheme}}theme-{{navbarTheme}}{{/if}}\">' + '<div class=\"navbar-inner\">' + '{{leftTemplate}}' + '<div class=\"center sliding\">{{pageTitle}}</div>' + '</div>' + '</div>');\n\t            }\n\t            navbarHTML = app._compiledTemplates.smartSelectNavbar({\n\t                pageTitle: pageTitle,\n\t                backText: backText,\n\t                closeText: closeText,\n\t                openIn: openIn,\n\t                navbarTheme: navbarTheme,\n\t                inPopup: openIn === 'popup',\n\t                inPage: openIn === 'page',\n\t                leftTemplate: openIn === 'popup' ? (app.params.smartSelectPopupCloseTemplate || (material ? '<div class=\"left\"><a href=\"#\" class=\"link close-popup icon-only\"><i class=\"icon icon-back\"></i></a></div>' : '<div class=\"left\"><a href=\"#\" class=\"link close-popup\"><i class=\"icon icon-back\"></i><span>{{closeText}}</span></a></div>')).replace(/{{closeText}}/g, closeText) : (app.params.smartSelectBackTemplate || (material ? '<div class=\"left\"><a href=\"#\" class=\"back link icon-only\"><i class=\"icon icon-back\"></i></a></div>' : '<div class=\"left sliding\"><a href=\"#\" class=\"back link\"><i class=\"icon icon-back\"></i><span>{{backText}}</span></a></div>')).replace(/{{backText}}/g, backText)\n\t            });\n\t            // Determine navbar layout type - static/fixed/through\n\t            if (openIn === 'page') {\n\t                navbarLayout = 'static';\n\t                if (smartSelect.parents('.navbar-through').length > 0) navbarLayout = 'through';\n\t                if (smartSelect.parents('.navbar-fixed').length > 0) navbarLayout = 'fixed';\n\t                noToolbar = smartSelect.parents('.page').hasClass('no-toolbar') ? 'no-toolbar' : '';\n\t                noNavbar = smartSelect.parents('.page').hasClass('no-navbar') ? 'no-navbar' : 'navbar-' + navbarLayout;\n\t                noTabbar = smartSelect.parents('.page').hasClass('no-tabbar') ? 'no-tabbar' : '';\n\t            } else {\n\t                navbarLayout = 'fixed';\n\t            }\n\t        }\n\t\n\t        // Page Layout\n\t        var pageName = 'smart-select-' + inputName;\n\t\n\t        var useSearchbar = typeof smartSelect.data('searchbar') === 'undefined' ? app.params.smartSelectSearchbar : smartSelect.data('searchbar') === 'true' ? true : false;\n\t        var searchbarPlaceholder, searchbarCancel;\n\t\n\t        if (useSearchbar) {\n\t            searchbarPlaceholder = smartSelect.data('searchbar-placeholder') || 'Search';\n\t            searchbarCancel = smartSelect.data('searchbar-cancel') || 'Cancel';\n\t        }\n\t\n\t        var searchbarHTML = '<form class=\"searchbar searchbar-init\" data-search-list=\".smart-select-list-' + id + '\" data-search-in=\".item-title\">' + '<div class=\"searchbar-input\">' + '<input type=\"search\" placeholder=\"' + searchbarPlaceholder + '\">' + '<a href=\"#\" class=\"searchbar-clear\"></a>' + '</div>' + (material ? '' : '<a href=\"#\" class=\"searchbar-cancel\">' + searchbarCancel + '</a>') + '</form>' + '<div class=\"searchbar-overlay\"></div>';\n\t\n\t        var pageHTML = (openIn !== 'picker' && navbarLayout === 'through' ? navbarHTML : '') + '<div class=\"pages\">' + '  <div data-page=\"' + pageName + '\" data-select-name=\"' + selectName + '\" class=\"page smart-select-page ' + noNavbar + ' ' + noToolbar + ' ' + noTabbar + '\">' + (openIn !== 'picker' && navbarLayout === 'fixed' ? navbarHTML : '') + (useSearchbar ? searchbarHTML : '') + '    <div class=\"page-content\">' + (openIn !== 'picker' && navbarLayout === 'static' ? navbarHTML : '') + '      <div class=\"list-block ' + (virtualList ? 'virtual-list' : '') + ' smart-select-list-' + id + ' ' + (formTheme ? 'theme-' + formTheme : '') + '\">' + '        <ul>' + (virtualList ? '' : inputsHTML) + '        </ul>' + '      </div>' + '    </div>' + '  </div>' + '</div>';\n\t\n\t        // Define popup and picker\n\t        var popup, picker;\n\t\n\t        // Scroll SS Picker To Input\n\t        function scrollToInput() {\n\t            var pageContent = smartSelect.parents('.page-content');\n\t            if (pageContent.length === 0) return;\n\t            var paddingTop = parseInt(pageContent.css('padding-top'), 10),\n\t                paddingBottom = parseInt(pageContent.css('padding-bottom'), 10),\n\t                pageHeight = pageContent[0].offsetHeight - paddingTop - picker.height(),\n\t                pageScrollHeight = pageContent[0].scrollHeight - paddingTop - picker.height(),\n\t                newPaddingBottom;\n\t            var inputTop = smartSelect.offset().top - paddingTop + smartSelect[0].offsetHeight;\n\t            if (inputTop > pageHeight) {\n\t                var scrollTop = pageContent.scrollTop() + inputTop - pageHeight;\n\t                if (scrollTop + pageHeight > pageScrollHeight) {\n\t                    newPaddingBottom = scrollTop + pageHeight - pageScrollHeight + paddingBottom;\n\t                    if (pageHeight === pageScrollHeight) {\n\t                        newPaddingBottom = picker.height();\n\t                    }\n\t                    pageContent.css({ 'padding-bottom': newPaddingBottom + 'px' });\n\t                }\n\t                pageContent.scrollTop(scrollTop, 300);\n\t            }\n\t        }\n\t        // Close SS Picker on HTML Click\n\t        function closeOnHTMLClick(e) {\n\t            var close = true;\n\t            if (e.target === smartSelect[0] || $(e.target).parents(smartSelect[0]).length > 0) {\n\t                close = false;\n\t            }\n\t            if ($(e.target).parents('.picker-modal').length > 0) {\n\t                close = false;\n\t            }\n\t            if (close) {\n\t                app.closeModal('.smart-select-picker.modal-in');\n\t            }\n\t        }\n\t\n\t        // Check max length\n\t        function checkMaxLength(container) {\n\t            if (select.selectedOptions.length >= maxLength) {\n\t                container.find('input[type=\"checkbox\"]').each(function () {\n\t                    if (!this.checked) {\n\t                        $(this).parents('li').addClass('disabled');\n\t                    } else {\n\t                        $(this).parents('li').removeClass('disabled');\n\t                    }\n\t                });\n\t            } else {\n\t                container.find('.disabled').removeClass('disabled');\n\t            }\n\t        }\n\t        // Event Listeners on new page\n\t        function handleInputs(container) {\n\t            container = $(container);\n\t            if (virtualList) {\n\t                var virtualListInstance = app.virtualList(container.find('.virtual-list'), {\n\t                    items: values,\n\t                    template: smartSelectItemTemplate,\n\t                    height: virtualListHeight || undefined,\n\t                    searchByItem: function searchByItem(query, index, item) {\n\t                        if (item.text.toLowerCase().indexOf(query.trim().toLowerCase()) >= 0) return true;\n\t                        return false;\n\t                    }\n\t                });\n\t                container.once(openIn === 'popup' || openIn === 'picker' ? 'closed' : 'pageBeforeRemove', function () {\n\t                    if (virtualListInstance && virtualListInstance.destroy) virtualListInstance.destroy();\n\t                });\n\t            }\n\t            if (maxLength) {\n\t                checkMaxLength(container);\n\t            }\n\t            container.on('change', 'input[name=\"' + inputName + '\"]', function () {\n\t                var input = this;\n\t                var value = input.value;\n\t                var optionText = [];\n\t                if (input.type === 'checkbox') {\n\t                    var values = [];\n\t                    for (var i = 0; i < select.options.length; i++) {\n\t                        var option = select.options[i];\n\t                        if (option.value === value) {\n\t                            option.selected = input.checked;\n\t                        }\n\t                        if (option.selected) {\n\t                            optionText.push(option.textContent.trim());\n\t                        }\n\t                    }\n\t                    if (maxLength) {\n\t                        checkMaxLength(container);\n\t                    }\n\t                } else {\n\t                    optionText = [smartSelect.find('option[value=\"' + value + '\"]').text()];\n\t                    select.value = value;\n\t                }\n\t\n\t                $select.trigger('change');\n\t                smartSelect.find('.item-after').text(optionText.join(', '));\n\t                if (backOnSelect && inputType === 'radio') {\n\t                    if (openIn === 'popup') app.closeModal(popup);else if (openIn === 'picker') app.closeModal(picker);else view.router.back();\n\t                }\n\t            });\n\t        }\n\t        function pageInit(e) {\n\t            var page = e.detail.page;\n\t            if (page.name === pageName) {\n\t                handleInputs(page.container);\n\t            }\n\t        }\n\t        if (openIn === 'popup') {\n\t            if (reLayout) {\n\t                popup = $('.popup.smart-select-popup .view');\n\t                popup.html(pageHTML);\n\t            } else {\n\t                popup = app.popup('<div class=\"popup smart-select-popup smart-select-popup-' + inputName + '\">' + '<div class=\"view navbar-fixed\">' + pageHTML + '</div>' + '</div>');\n\t                popup = $(popup);\n\t            }\n\t            app.initPage(popup.find('.page'));\n\t            handleInputs(popup);\n\t        } else if (openIn === 'picker') {\n\t            if (reLayout) {\n\t                picker = $('.picker-modal.smart-select-picker .view');\n\t                picker.html(pageHTML);\n\t            } else {\n\t                picker = app.pickerModal('<div class=\"picker-modal smart-select-picker smart-select-picker-' + inputName + '\"' + (pickerHeight ? ' style=\"height:' + pickerHeight + '\"' : '') + '>' + toolbarHTML + '<div class=\"picker-modal-inner\">' + '<div class=\"view\">' + pageHTML + '</div>' + '</div>' + '</div>');\n\t                picker = $(picker);\n\t\n\t                // Scroll To Input\n\t                scrollToInput();\n\t\n\t                // Close On Click\n\t                $('html').on('click', closeOnHTMLClick);\n\t\n\t                // On Close\n\t                picker.once('close', function () {\n\t                    // Reset linked picker\n\t                    smartSelect[0].f7SmartSelectPicker = undefined;\n\t\n\t                    // Detach html click\n\t                    $('html').off('click', closeOnHTMLClick);\n\t\n\t                    // Restore page padding bottom\n\t                    smartSelect.parents('.page-content').css({ paddingBottom: '' });\n\t                });\n\t\n\t                // Link Picker\n\t                smartSelect[0].f7SmartSelectPicker = picker[0];\n\t            }\n\t\n\t            // Init Page\n\t            app.initPage(picker.find('.page'));\n\t\n\t            // Attach events\n\t            handleInputs(picker);\n\t        } else {\n\t            $(document).once('pageInit', '.smart-select-page', pageInit);\n\t            view.router.load({\n\t                content: pageHTML,\n\t                reload: reLayout ? true : undefined\n\t            });\n\t        }\n\t    };\n\t\n\t    /*===============================================================================\n\t    ************   Virtual List   ************\n\t    ===============================================================================*/\n\t    var VirtualList = function VirtualList(listBlock, params) {\n\t        var defaults = {\n\t            cols: 1,\n\t            height: app.params.material ? 48 : 44,\n\t            cache: true,\n\t            dynamicHeightBufferSize: 1,\n\t            showFilteredItemsOnly: false\n\t        };\n\t        params = params || {};\n\t        for (var def in defaults) {\n\t            if (typeof params[def] === 'undefined') {\n\t                params[def] = defaults[def];\n\t            }\n\t        }\n\t\n\t        // Preparation\n\t        var vl = this;\n\t        vl.listBlock = $(listBlock);\n\t        vl.params = params;\n\t        vl.items = vl.params.items;\n\t        if (vl.params.showFilteredItemsOnly) {\n\t            vl.filteredItems = [];\n\t        }\n\t        if (vl.params.template) {\n\t            if (typeof vl.params.template === 'string') vl.template = t7.compile(vl.params.template);else if (typeof vl.params.template === 'function') vl.template = vl.params.template;\n\t        }\n\t        vl.pageContent = vl.listBlock.parents('.page-content');\n\t\n\t        // Bad scroll\n\t        var updatableScroll;\n\t        if (typeof vl.params.updatableScroll !== 'undefined') {\n\t            updatableScroll = vl.params.updatableScroll;\n\t        } else {\n\t            updatableScroll = true;\n\t            if (app.device.ios && app.device.osVersion.split('.')[0] < 8) {\n\t                updatableScroll = false;\n\t            }\n\t        }\n\t\n\t        // Append <ul>\n\t        vl.ul = vl.params.ul ? $(vl.params.ul) : vl.listBlock.children('ul');\n\t        if (vl.ul.length === 0) {\n\t            vl.listBlock.append('<ul></ul>');\n\t            vl.ul = vl.listBlock.children('ul');\n\t        }\n\t\n\t        // DOM cached items\n\t        vl.domCache = {};\n\t        vl.displayDomCache = {};\n\t\n\t        // Temporary DOM Element\n\t        vl.tempDomElement = document.createElement('ul');\n\t\n\t        // Last repain position\n\t        vl.lastRepaintY = null;\n\t\n\t        // Fragment\n\t        vl.fragment = document.createDocumentFragment();\n\t\n\t        // Filter\n\t        vl.filterItems = function (indexes, resetScrollTop) {\n\t            vl.filteredItems = [];\n\t            var firstIndex = indexes[0];\n\t            var lastIndex = indexes[indexes.length - 1];\n\t            for (var i = 0; i < indexes.length; i++) {\n\t                vl.filteredItems.push(vl.items[indexes[i]]);\n\t            }\n\t            if (typeof resetScrollTop === 'undefined') resetScrollTop = true;\n\t            if (resetScrollTop) {\n\t                vl.pageContent[0].scrollTop = 0;\n\t            }\n\t            vl.update();\n\t        };\n\t        vl.resetFilter = function () {\n\t            if (vl.params.showFilteredItemsOnly) {\n\t                vl.filteredItems = [];\n\t            } else {\n\t                vl.filteredItems = null;\n\t                delete vl.filteredItems;\n\t            }\n\t            vl.update();\n\t        };\n\t\n\t        var pageHeight,\n\t            rowsPerScreen,\n\t            rowsBefore,\n\t            rowsAfter,\n\t            rowsToRender,\n\t            maxBufferHeight = 0,\n\t            listHeight;\n\t        var dynamicHeight = typeof vl.params.height === 'function';\n\t\n\t        // Set list size\n\t        vl.setListSize = function () {\n\t            var items = vl.filteredItems || vl.items;\n\t            pageHeight = vl.pageContent[0].offsetHeight;\n\t            if (dynamicHeight) {\n\t                listHeight = 0;\n\t                vl.heights = [];\n\t                for (var i = 0; i < items.length; i++) {\n\t                    var itemHeight = vl.params.height(items[i]);\n\t                    listHeight += itemHeight;\n\t                    vl.heights.push(itemHeight);\n\t                }\n\t            } else {\n\t                listHeight = items.length * vl.params.height / vl.params.cols;\n\t                rowsPerScreen = Math.ceil(pageHeight / vl.params.height);\n\t                rowsBefore = vl.params.rowsBefore || rowsPerScreen * 2;\n\t                rowsAfter = vl.params.rowsAfter || rowsPerScreen;\n\t                rowsToRender = rowsPerScreen + rowsBefore + rowsAfter;\n\t                maxBufferHeight = rowsBefore / 2 * vl.params.height;\n\t            }\n\t\n\t            if (updatableScroll) {\n\t                vl.ul.css({ height: listHeight + 'px' });\n\t            }\n\t        };\n\t\n\t        // Render items\n\t        vl.render = function (force, forceScrollTop) {\n\t            if (force) vl.lastRepaintY = null;\n\t\n\t            var scrollTop = -(vl.listBlock[0].getBoundingClientRect().top - vl.pageContent[0].getBoundingClientRect().top);\n\t\n\t            if (typeof forceScrollTop !== 'undefined') scrollTop = forceScrollTop;\n\t\n\t            if (vl.lastRepaintY === null || Math.abs(scrollTop - vl.lastRepaintY) > maxBufferHeight || !updatableScroll && vl.pageContent[0].scrollTop + pageHeight >= vl.pageContent[0].scrollHeight) {\n\t                vl.lastRepaintY = scrollTop;\n\t            } else {\n\t                return;\n\t            }\n\t\n\t            var items = vl.filteredItems || vl.items,\n\t                fromIndex,\n\t                toIndex,\n\t                heightBeforeFirstItem = 0,\n\t                heightBeforeLastItem = 0;\n\t            if (dynamicHeight) {\n\t                var itemTop = 0,\n\t                    j,\n\t                    itemHeight;\n\t                maxBufferHeight = pageHeight;\n\t\n\t                for (j = 0; j < vl.heights.length; j++) {\n\t                    itemHeight = vl.heights[j];\n\t                    if (typeof fromIndex === 'undefined') {\n\t                        if (itemTop + itemHeight >= scrollTop - pageHeight * 2 * vl.params.dynamicHeightBufferSize) fromIndex = j;else heightBeforeFirstItem += itemHeight;\n\t                    }\n\t\n\t                    if (typeof toIndex === 'undefined') {\n\t                        if (itemTop + itemHeight >= scrollTop + pageHeight * 2 * vl.params.dynamicHeightBufferSize || j === vl.heights.length - 1) toIndex = j + 1;\n\t                        heightBeforeLastItem += itemHeight;\n\t                    }\n\t                    itemTop += itemHeight;\n\t                }\n\t                toIndex = Math.min(toIndex, items.length);\n\t            } else {\n\t                fromIndex = (parseInt(scrollTop / vl.params.height) - rowsBefore) * vl.params.cols;\n\t                if (fromIndex < 0) {\n\t                    fromIndex = 0;\n\t                }\n\t                toIndex = Math.min(fromIndex + rowsToRender * vl.params.cols, items.length);\n\t            }\n\t\n\t            var topPosition;\n\t            vl.reachEnd = false;\n\t            for (var i = fromIndex; i < toIndex; i++) {\n\t                var item, index;\n\t                // Define real item index\n\t                index = vl.items.indexOf(items[i]);\n\t\n\t                if (i === fromIndex) vl.currentFromIndex = index;\n\t                if (i === toIndex - 1) vl.currentToIndex = index;\n\t                if (index === vl.items.length - 1) vl.reachEnd = true;\n\t\n\t                // Find items\n\t                if (vl.domCache[index]) {\n\t                    item = vl.domCache[index];\n\t                } else {\n\t                    if (vl.template) {\n\t                        vl.tempDomElement.innerHTML = vl.template(items[i], { index: index }).trim();\n\t                    } else if (vl.params.renderItem) {\n\t                        vl.tempDomElement.innerHTML = vl.params.renderItem(index, items[i]).trim();\n\t                    } else {\n\t                        vl.tempDomElement.innerHTML = items[i].trim();\n\t                    }\n\t                    item = vl.tempDomElement.childNodes[0];\n\t                    if (vl.params.cache) vl.domCache[index] = item;\n\t                }\n\t                item.f7VirtualListIndex = index;\n\t\n\t                // Set item top position\n\t                if (i === fromIndex) {\n\t                    if (dynamicHeight) {\n\t                        topPosition = heightBeforeFirstItem;\n\t                    } else {\n\t                        topPosition = i * vl.params.height / vl.params.cols;\n\t                    }\n\t                }\n\t                item.style.top = topPosition + 'px';\n\t\n\t                // Before item insert\n\t                if (vl.params.onItemBeforeInsert) vl.params.onItemBeforeInsert(vl, item);\n\t\n\t                // Append item to fragment\n\t                vl.fragment.appendChild(item);\n\t            }\n\t\n\t            // Update list height with not updatable scroll\n\t            if (!updatableScroll) {\n\t                if (dynamicHeight) {\n\t                    vl.ul[0].style.height = heightBeforeLastItem + 'px';\n\t                } else {\n\t                    vl.ul[0].style.height = i * vl.params.height / vl.params.cols + 'px';\n\t                }\n\t            }\n\t\n\t            // Update list html\n\t            if (vl.params.onBeforeClear) vl.params.onBeforeClear(vl, vl.fragment);\n\t            vl.ul[0].innerHTML = '';\n\t\n\t            if (vl.params.onItemsBeforeInsert) vl.params.onItemsBeforeInsert(vl, vl.fragment);\n\t            vl.ul[0].appendChild(vl.fragment);\n\t            if (vl.params.onItemsAfterInsert) vl.params.onItemsAfterInsert(vl, vl.fragment);\n\t\n\t            if (typeof forceScrollTop !== 'undefined' && force) {\n\t                vl.pageContent.scrollTop(forceScrollTop, 0);\n\t            }\n\t        };\n\t\n\t        vl.scrollToItem = function (index) {\n\t            if (index > vl.items.length) return false;\n\t\n\t            var itemTop = 0,\n\t                listTop;\n\t            if (dynamicHeight) {\n\t                for (var i = 0; i < index; i++) {\n\t                    itemTop += vl.heights[i];\n\t                }\n\t            } else {\n\t                itemTop = index * vl.params.height;\n\t            }\n\t            listTop = vl.listBlock[0].offsetTop;\n\t            vl.render(true, listTop + itemTop - parseInt(vl.pageContent.css('padding-top'), 10));\n\t            return true;\n\t        };\n\t\n\t        // Handle scroll event\n\t        vl.handleScroll = function (e) {\n\t            vl.render();\n\t        };\n\t        // Handle resize event\n\t        vl.handleResize = function (e) {\n\t            vl.setListSize();\n\t            vl.render(true);\n\t        };\n\t\n\t        vl.attachEvents = function (detach) {\n\t            var action = detach ? 'off' : 'on';\n\t            vl.pageContent[action]('scroll', vl.handleScroll);\n\t            vl.listBlock.parents('.tab').eq(0)[action]('show', vl.handleResize);\n\t            $(window)[action]('resize', vl.handleResize);\n\t        };\n\t\n\t        // Init Virtual List\n\t        vl.init = function () {\n\t            vl.attachEvents();\n\t            vl.setListSize();\n\t            vl.render();\n\t        };\n\t\n\t        // Append\n\t        vl.appendItems = function (items) {\n\t            for (var i = 0; i < items.length; i++) {\n\t                vl.items.push(items[i]);\n\t            }\n\t            vl.update();\n\t        };\n\t        vl.appendItem = function (item) {\n\t            vl.appendItems([item]);\n\t        };\n\t        // Replace\n\t        vl.replaceAllItems = function (items) {\n\t            vl.items = items;\n\t            delete vl.filteredItems;\n\t            vl.domCache = {};\n\t            vl.update();\n\t        };\n\t        vl.replaceItem = function (index, item) {\n\t            vl.items[index] = item;\n\t            if (vl.params.cache) delete vl.domCache[index];\n\t            vl.update();\n\t        };\n\t        // Prepend\n\t        vl.prependItems = function (items) {\n\t            for (var i = items.length - 1; i >= 0; i--) {\n\t                vl.items.unshift(items[i]);\n\t            }\n\t            if (vl.params.cache) {\n\t                var newCache = {};\n\t                for (var cached in vl.domCache) {\n\t                    newCache[parseInt(cached, 10) + items.length] = vl.domCache[cached];\n\t                }\n\t                vl.domCache = newCache;\n\t            }\n\t            vl.update();\n\t        };\n\t        vl.prependItem = function (item) {\n\t            vl.prependItems([item]);\n\t        };\n\t\n\t        // Move\n\t        vl.moveItem = function (oldIndex, newIndex) {\n\t            if (oldIndex === newIndex) return;\n\t            // remove item from array\n\t            var item = vl.items.splice(oldIndex, 1)[0];\n\t            if (newIndex >= vl.items.length) {\n\t                // Add item to the end\n\t                vl.items.push(item);\n\t                newIndex = vl.items.length - 1;\n\t            } else {\n\t                // Add item to new index\n\t                vl.items.splice(newIndex, 0, item);\n\t            }\n\t            // Update cache\n\t            if (vl.params.cache) {\n\t                var newCache = {};\n\t                for (var cached in vl.domCache) {\n\t                    var cachedIndex = parseInt(cached, 10);\n\t                    var leftIndex = oldIndex < newIndex ? oldIndex : newIndex;\n\t                    var rightIndex = oldIndex < newIndex ? newIndex : oldIndex;\n\t                    var indexShift = oldIndex < newIndex ? -1 : 1;\n\t                    if (cachedIndex < leftIndex || cachedIndex > rightIndex) newCache[cachedIndex] = vl.domCache[cachedIndex];\n\t                    if (cachedIndex === leftIndex) newCache[rightIndex] = vl.domCache[cachedIndex];\n\t                    if (cachedIndex > leftIndex && cachedIndex <= rightIndex) newCache[cachedIndex + indexShift] = vl.domCache[cachedIndex];\n\t                }\n\t                vl.domCache = newCache;\n\t            }\n\t            vl.update();\n\t        };\n\t        // Insert before\n\t        vl.insertItemBefore = function (index, item) {\n\t            if (index === 0) {\n\t                vl.prependItem(item);\n\t                return;\n\t            }\n\t            if (index >= vl.items.length) {\n\t                vl.appendItem(item);\n\t                return;\n\t            }\n\t            vl.items.splice(index, 0, item);\n\t            // Update cache\n\t            if (vl.params.cache) {\n\t                var newCache = {};\n\t                for (var cached in vl.domCache) {\n\t                    var cachedIndex = parseInt(cached, 10);\n\t                    if (cachedIndex >= index) {\n\t                        newCache[cachedIndex + 1] = vl.domCache[cachedIndex];\n\t                    }\n\t                }\n\t                vl.domCache = newCache;\n\t            }\n\t            vl.update();\n\t        };\n\t        // Delete\n\t        vl.deleteItems = function (indexes) {\n\t            var prevIndex,\n\t                indexShift = 0;\n\t            for (var i = 0; i < indexes.length; i++) {\n\t                var index = indexes[i];\n\t                if (typeof prevIndex !== 'undefined') {\n\t                    if (index > prevIndex) {\n\t                        indexShift = -i;\n\t                    }\n\t                }\n\t                index = index + indexShift;\n\t                prevIndex = indexes[i];\n\t                // Delete item\n\t                var deletedItem = vl.items.splice(index, 1)[0];\n\t\n\t                // Delete from filtered\n\t                if (vl.filteredItems && vl.filteredItems.indexOf(deletedItem) >= 0) {\n\t                    vl.filteredItems.splice(vl.filteredItems.indexOf(deletedItem), 1);\n\t                }\n\t                // Update cache\n\t                if (vl.params.cache) {\n\t                    var newCache = {};\n\t                    for (var cached in vl.domCache) {\n\t                        var cachedIndex = parseInt(cached, 10);\n\t                        if (cachedIndex === index) {\n\t                            delete vl.domCache[index];\n\t                        } else if (parseInt(cached, 10) > index) {\n\t                            newCache[cachedIndex - 1] = vl.domCache[cached];\n\t                        } else {\n\t                            newCache[cachedIndex] = vl.domCache[cached];\n\t                        }\n\t                    }\n\t                    vl.domCache = newCache;\n\t                }\n\t            }\n\t            vl.update();\n\t        };\n\t        vl.deleteAllItems = function () {\n\t            vl.items = [];\n\t            delete vl.filteredItems;\n\t            if (vl.params.cache) vl.domCache = {};\n\t            vl.update();\n\t        };\n\t        vl.deleteItem = function (index) {\n\t            vl.deleteItems([index]);\n\t        };\n\t\n\t        // Clear cache\n\t        vl.clearCache = function () {\n\t            vl.domCache = {};\n\t        };\n\t\n\t        // Update Virtual List\n\t        vl.update = function () {\n\t            vl.setListSize();\n\t            vl.render(true);\n\t        };\n\t\n\t        // Destroy\n\t        vl.destroy = function () {\n\t            vl.attachEvents(true);\n\t            delete vl.items;\n\t            delete vl.domCache;\n\t        };\n\t\n\t        // Init Virtual List\n\t        vl.init();\n\t\n\t        // Store vl in container\n\t        vl.listBlock[0].f7VirtualList = vl;\n\t        return vl;\n\t    };\n\t\n\t    // App Method\n\t    app.virtualList = function (listBlock, params) {\n\t        return new VirtualList(listBlock, params);\n\t    };\n\t\n\t    app.reinitVirtualList = function (pageContainer) {\n\t        var page = $(pageContainer);\n\t        var vlists = page.find('.virtual-list');\n\t        if (vlists.length === 0) return;\n\t        for (var i = 0; i < vlists.length; i++) {\n\t            var vlistInstance = vlists[i].f7VirtualList;\n\t            if (vlistInstance) {\n\t                vlistInstance.update();\n\t            }\n\t        }\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Pull To Refresh   ************\n\t    ======================================================*/\n\t    app.initPullToRefresh = function (pageContainer) {\n\t        var eventsTarget = $(pageContainer);\n\t        if (!eventsTarget.hasClass('pull-to-refresh-content')) {\n\t            eventsTarget = eventsTarget.find('.pull-to-refresh-content');\n\t        }\n\t        if (!eventsTarget || eventsTarget.length === 0) return;\n\t\n\t        var touchId,\n\t            isTouched,\n\t            isMoved,\n\t            touchesStart = {},\n\t            isScrolling,\n\t            touchesDiff,\n\t            touchStartTime,\n\t            container,\n\t            refresh = false,\n\t            useTranslate = false,\n\t            startTranslate = 0,\n\t            translate,\n\t            scrollTop,\n\t            wasScrolled,\n\t            layer,\n\t            triggerDistance,\n\t            dynamicTriggerDistance,\n\t            pullStarted;\n\t        var page = eventsTarget.hasClass('page') ? eventsTarget : eventsTarget.parents('.page');\n\t        var hasNavbar = false;\n\t        if (page.find('.navbar').length > 0 || page.parents('.navbar-fixed, .navbar-through').length > 0 || page.hasClass('navbar-fixed') || page.hasClass('navbar-through')) hasNavbar = true;\n\t        if (page.hasClass('no-navbar')) hasNavbar = false;\n\t        if (!hasNavbar) eventsTarget.addClass('pull-to-refresh-no-navbar');\n\t\n\t        container = eventsTarget;\n\t\n\t        // Define trigger distance\n\t        if (container.attr('data-ptr-distance')) {\n\t            dynamicTriggerDistance = true;\n\t        } else {\n\t            triggerDistance = 44;\n\t        }\n\t\n\t        function handleTouchStart(e) {\n\t            if (isTouched) {\n\t                if (app.device.os === 'android') {\n\t                    if ('targetTouches' in e && e.targetTouches.length > 1) return;\n\t                } else return;\n\t            }\n\t\n\t            /*jshint validthis:true */\n\t            container = $(this);\n\t            if (container.hasClass('refreshing')) {\n\t                return;\n\t            }\n\t\n\t            isMoved = false;\n\t            pullStarted = false;\n\t            isTouched = true;\n\t            isScrolling = undefined;\n\t            wasScrolled = undefined;\n\t            if (e.type === 'touchstart') touchId = e.targetTouches[0].identifier;\n\t            touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n\t            touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n\t            touchStartTime = new Date().getTime();\n\t        }\n\t\n\t        function handleTouchMove(e) {\n\t            if (!isTouched) return;\n\t            var pageX, pageY, touch;\n\t            if (e.type === 'touchmove') {\n\t                if (touchId && e.touches) {\n\t                    for (var i = 0; i < e.touches.length; i++) {\n\t                        if (e.touches[i].identifier === touchId) {\n\t                            touch = e.touches[i];\n\t                        }\n\t                    }\n\t                }\n\t                if (!touch) touch = e.targetTouches[0];\n\t                pageX = touch.pageX;\n\t                pageY = touch.pageY;\n\t            } else {\n\t                pageX = e.pageX;\n\t                pageY = e.pageY;\n\t            }\n\t            if (!pageX || !pageY) return;\n\t\n\t            if (typeof isScrolling === 'undefined') {\n\t                isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\n\t            }\n\t            if (!isScrolling) {\n\t                isTouched = false;\n\t                return;\n\t            }\n\t\n\t            scrollTop = container[0].scrollTop;\n\t            if (typeof wasScrolled === 'undefined' && scrollTop !== 0) wasScrolled = true;\n\t\n\t            if (!isMoved) {\n\t                /*jshint validthis:true */\n\t                container.removeClass('transitioning');\n\t                if (scrollTop > container[0].offsetHeight) {\n\t                    isTouched = false;\n\t                    return;\n\t                }\n\t                if (dynamicTriggerDistance) {\n\t                    triggerDistance = container.attr('data-ptr-distance');\n\t                    if (triggerDistance.indexOf('%') >= 0) triggerDistance = container[0].offsetHeight * parseInt(triggerDistance, 10) / 100;\n\t                }\n\t                startTranslate = container.hasClass('refreshing') ? triggerDistance : 0;\n\t                if (container[0].scrollHeight === container[0].offsetHeight || app.device.os !== 'ios') {\n\t                    useTranslate = true;\n\t                } else {\n\t                    useTranslate = false;\n\t                }\n\t            }\n\t            isMoved = true;\n\t            touchesDiff = pageY - touchesStart.y;\n\t\n\t            if (touchesDiff > 0 && scrollTop <= 0 || scrollTop < 0) {\n\t                // iOS 8 fix\n\t                if (app.device.os === 'ios' && parseInt(app.device.osVersion.split('.')[0], 10) > 7 && scrollTop === 0 && !wasScrolled) useTranslate = true;\n\t\n\t                if (useTranslate) {\n\t                    e.preventDefault();\n\t                    translate = Math.pow(touchesDiff, 0.85) + startTranslate;\n\t                    container.transform('translate3d(0,' + translate + 'px,0)');\n\t                }\n\t                if (useTranslate && Math.pow(touchesDiff, 0.85) > triggerDistance || !useTranslate && touchesDiff >= triggerDistance * 2) {\n\t                    refresh = true;\n\t                    container.addClass('pull-up').removeClass('pull-down');\n\t                } else {\n\t                    refresh = false;\n\t                    container.removeClass('pull-up').addClass('pull-down');\n\t                }\n\t                if (!pullStarted) {\n\t                    container.trigger('pullstart');\n\t                    pullStarted = true;\n\t                }\n\t                container.trigger('pullmove', {\n\t                    event: e,\n\t                    scrollTop: scrollTop,\n\t                    translate: translate,\n\t                    touchesDiff: touchesDiff\n\t                });\n\t            } else {\n\t                pullStarted = false;\n\t                container.removeClass('pull-up pull-down');\n\t                refresh = false;\n\t                return;\n\t            }\n\t        }\n\t        function handleTouchEnd(e) {\n\t            if (e.type === 'touchend' && e.changedTouches && e.changedTouches.length > 0 && touchId) {\n\t                if (e.changedTouches[0].identifier !== touchId) return;\n\t            }\n\t            if (!isTouched || !isMoved) {\n\t                isTouched = false;\n\t                isMoved = false;\n\t                return;\n\t            }\n\t            if (translate) {\n\t                container.addClass('transitioning');\n\t                translate = 0;\n\t            }\n\t            container.transform('');\n\t            if (refresh) {\n\t                container.addClass('refreshing');\n\t                container.trigger('refresh', {\n\t                    done: function done() {\n\t                        app.pullToRefreshDone(container);\n\t                    }\n\t                });\n\t            } else {\n\t                container.removeClass('pull-down');\n\t            }\n\t            isTouched = false;\n\t            isMoved = false;\n\t            if (pullStarted) container.trigger('pullend');\n\t        }\n\t\n\t        // Attach Events\n\t        eventsTarget.on(app.touchEvents.start, handleTouchStart);\n\t        eventsTarget.on(app.touchEvents.move, handleTouchMove);\n\t        eventsTarget.on(app.touchEvents.end, handleTouchEnd);\n\t\n\t        // Detach Events on page remove\n\t        if (page.length === 0) return;\n\t        function destroyPullToRefresh() {\n\t            eventsTarget.off(app.touchEvents.start, handleTouchStart);\n\t            eventsTarget.off(app.touchEvents.move, handleTouchMove);\n\t            eventsTarget.off(app.touchEvents.end, handleTouchEnd);\n\t        }\n\t        eventsTarget[0].f7DestroyPullToRefresh = destroyPullToRefresh;\n\t        function detachEvents() {\n\t            destroyPullToRefresh();\n\t            page.off('pageBeforeRemove', detachEvents);\n\t        }\n\t        page.on('pageBeforeRemove', detachEvents);\n\t    };\n\t\n\t    app.pullToRefreshDone = function (container) {\n\t        container = $(container);\n\t        if (container.length === 0) container = $('.pull-to-refresh-content.refreshing');\n\t        container.removeClass('refreshing').addClass('transitioning');\n\t        container.transitionEnd(function () {\n\t            container.removeClass('transitioning pull-up pull-down');\n\t            container.trigger('refreshdone');\n\t        });\n\t    };\n\t    app.pullToRefreshTrigger = function (container) {\n\t        container = $(container);\n\t        if (container.length === 0) container = $('.pull-to-refresh-content');\n\t        if (container.hasClass('refreshing')) return;\n\t        container.addClass('transitioning refreshing');\n\t        container.trigger('refresh', {\n\t            done: function done() {\n\t                app.pullToRefreshDone(container);\n\t            }\n\t        });\n\t    };\n\t\n\t    app.destroyPullToRefresh = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        var pullToRefreshContent = pageContainer.hasClass('pull-to-refresh-content') ? pageContainer : pageContainer.find('.pull-to-refresh-content');\n\t        if (pullToRefreshContent.length === 0) return;\n\t        if (pullToRefreshContent[0].f7DestroyPullToRefresh) pullToRefreshContent[0].f7DestroyPullToRefresh();\n\t    };\n\t\n\t    /* ===============================================================================\n\t    ************   Infinite Scroll   ************\n\t    =============================================================================== */\n\t    function handleInfiniteScroll() {\n\t        /*jshint validthis:true */\n\t        var inf = $(this);\n\t        var scrollTop = inf[0].scrollTop;\n\t        var scrollHeight = inf[0].scrollHeight;\n\t        var height = inf[0].offsetHeight;\n\t        var distance = inf[0].getAttribute('data-distance');\n\t        var virtualListContainer = inf.find('.virtual-list');\n\t        var virtualList;\n\t        var onTop = inf.hasClass('infinite-scroll-top');\n\t        if (!distance) distance = 50;\n\t        if (typeof distance === 'string' && distance.indexOf('%') >= 0) {\n\t            distance = parseInt(distance, 10) / 100 * height;\n\t        }\n\t        if (distance > height) distance = height;\n\t        if (onTop) {\n\t            if (scrollTop < distance) {\n\t                inf.trigger('infinite');\n\t            }\n\t        } else {\n\t            if (scrollTop + height >= scrollHeight - distance) {\n\t                if (virtualListContainer.length > 0) {\n\t                    virtualList = virtualListContainer[0].f7VirtualList;\n\t                    if (virtualList && !virtualList.reachEnd) return;\n\t                }\n\t                inf.trigger('infinite');\n\t            }\n\t        }\n\t    }\n\t    app.attachInfiniteScroll = function (infiniteContent) {\n\t        $(infiniteContent).on('scroll', handleInfiniteScroll);\n\t    };\n\t    app.detachInfiniteScroll = function (infiniteContent) {\n\t        $(infiniteContent).off('scroll', handleInfiniteScroll);\n\t    };\n\t\n\t    app.initPageInfiniteScroll = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        var infiniteContent = pageContainer.find('.infinite-scroll');\n\t        if (infiniteContent.length === 0) return;\n\t        app.attachInfiniteScroll(infiniteContent);\n\t        function detachEvents() {\n\t            app.detachInfiniteScroll(infiniteContent);\n\t            pageContainer.off('pageBeforeRemove', detachEvents);\n\t        }\n\t        pageContainer.on('pageBeforeRemove', detachEvents);\n\t    };\n\t\n\t    /*=============================================================\n\t    ************   Hide/show Toolbar/Navbar on scroll   ************\n\t    =============================================================*/\n\t    app.initPageScrollToolbars = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        var scrollContent = pageContainer.find('.page-content');\n\t        if (scrollContent.length === 0) return;\n\t        var hideNavbar = (app.params.hideNavbarOnPageScroll || scrollContent.hasClass('hide-navbar-on-scroll') || scrollContent.hasClass('hide-bars-on-scroll')) && !(scrollContent.hasClass('keep-navbar-on-scroll') || scrollContent.hasClass('keep-bars-on-scroll'));\n\t        var hideToolbar = (app.params.hideToolbarOnPageScroll || scrollContent.hasClass('hide-toolbar-on-scroll') || scrollContent.hasClass('hide-bars-on-scroll')) && !(scrollContent.hasClass('keep-toolbar-on-scroll') || scrollContent.hasClass('keep-bars-on-scroll'));\n\t        var hideTabbar = (app.params.hideTabbarOnPageScroll || scrollContent.hasClass('hide-tabbar-on-scroll')) && !scrollContent.hasClass('keep-tabbar-on-scroll');\n\t\n\t        if (!(hideNavbar || hideToolbar || hideTabbar)) return;\n\t\n\t        var viewContainer = scrollContent.parents('.' + app.params.viewClass);\n\t        if (viewContainer.length === 0) return;\n\t\n\t        var navbar = viewContainer.find('.navbar'),\n\t            toolbar = viewContainer.find('.toolbar'),\n\t            tabbar;\n\t        if (hideTabbar) {\n\t            tabbar = viewContainer.find('.tabbar');\n\t            if (tabbar.length === 0) tabbar = viewContainer.parents('.' + app.params.viewsClass).find('.tabbar');\n\t        }\n\t\n\t        var hasNavbar = navbar.length > 0,\n\t            hasToolbar = toolbar.length > 0,\n\t            hasTabbar = tabbar && tabbar.length > 0;\n\t\n\t        var previousScroll, currentScroll;\n\t        previousScroll = currentScroll = scrollContent[0].scrollTop;\n\t\n\t        var scrollHeight, offsetHeight, reachEnd, action, navbarHidden, toolbarHidden, tabbarHidden;\n\t\n\t        var toolbarHeight = hasToolbar && hideToolbar ? toolbar[0].offsetHeight : 0;\n\t        var tabbarHeight = hasTabbar && hideTabbar ? tabbar[0].offsetHeight : 0;\n\t        var bottomBarHeight = tabbarHeight || toolbarHeight;\n\t\n\t        function handleScroll(e) {\n\t            if (pageContainer.hasClass('page-on-left')) return;\n\t            currentScroll = scrollContent[0].scrollTop;\n\t            scrollHeight = scrollContent[0].scrollHeight;\n\t            offsetHeight = scrollContent[0].offsetHeight;\n\t            reachEnd = currentScroll + offsetHeight >= scrollHeight - bottomBarHeight;\n\t            navbarHidden = navbar.hasClass('navbar-hidden');\n\t            toolbarHidden = toolbar.hasClass('toolbar-hidden');\n\t            tabbarHidden = tabbar && tabbar.hasClass('toolbar-hidden');\n\t\n\t            if (reachEnd) {\n\t                if (app.params.showBarsOnPageScrollEnd) {\n\t                    action = 'show';\n\t                }\n\t            } else if (previousScroll > currentScroll) {\n\t                if (app.params.showBarsOnPageScrollTop || currentScroll <= 44) {\n\t                    action = 'show';\n\t                } else {\n\t                    action = 'hide';\n\t                }\n\t            } else {\n\t                if (currentScroll > 44) {\n\t                    action = 'hide';\n\t                } else {\n\t                    action = 'show';\n\t                }\n\t            }\n\t\n\t            if (action === 'show') {\n\t                if (hasNavbar && hideNavbar && navbarHidden) {\n\t                    app.showNavbar(navbar);\n\t                    pageContainer.removeClass('no-navbar-by-scroll');\n\t                    navbarHidden = false;\n\t                }\n\t                if (hasToolbar && hideToolbar && toolbarHidden) {\n\t                    app.showToolbar(toolbar);\n\t                    pageContainer.removeClass('no-toolbar-by-scroll');\n\t                    toolbarHidden = false;\n\t                }\n\t                if (hasTabbar && hideTabbar && tabbarHidden) {\n\t                    app.showToolbar(tabbar);\n\t                    pageContainer.removeClass('no-tabbar-by-scroll');\n\t                    tabbarHidden = false;\n\t                }\n\t            } else {\n\t                if (hasNavbar && hideNavbar && !navbarHidden) {\n\t                    app.hideNavbar(navbar);\n\t                    pageContainer.addClass('no-navbar-by-scroll');\n\t                    navbarHidden = true;\n\t                }\n\t                if (hasToolbar && hideToolbar && !toolbarHidden) {\n\t                    app.hideToolbar(toolbar);\n\t                    pageContainer.addClass('no-toolbar-by-scroll');\n\t                    toolbarHidden = true;\n\t                }\n\t                if (hasTabbar && hideTabbar && !tabbarHidden) {\n\t                    app.hideToolbar(tabbar);\n\t                    pageContainer.addClass('no-tabbar-by-scroll');\n\t                    tabbarHidden = true;\n\t                }\n\t            }\n\t\n\t            previousScroll = currentScroll;\n\t        }\n\t        scrollContent.on('scroll', handleScroll);\n\t        scrollContent[0].f7ScrollToolbarsHandler = handleScroll;\n\t    };\n\t    app.destroyScrollToolbars = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        var scrollContent = pageContainer.find('.page-content');\n\t        if (scrollContent.length === 0) return;\n\t        var handler = scrollContent[0].f7ScrollToolbarsHandler;\n\t        if (!handler) return;\n\t        scrollContent.off('scroll', scrollContent[0].f7ScrollToolbarsHandler);\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Material Tabbar   ************\n\t    ======================================================*/\n\t    app.materialTabbarSetHighlight = function (tabbar, activeLink) {\n\t        tabbar = $(tabbar);\n\t        activeLink = activeLink || tabbar.find('.tab-link.active');\n\t\n\t        var tabLinkWidth, highlightTranslate;\n\t        if (tabbar.hasClass('tabbar-scrollable')) {\n\t            tabLinkWidth = activeLink[0].offsetWidth + 'px';\n\t            highlightTranslate = (app.rtl ? -activeLink[0].offsetLeft : activeLink[0].offsetLeft) + 'px';\n\t        } else {\n\t            tabLinkWidth = 1 / tabbar.find('.tab-link').length * 100 + '%';\n\t            highlightTranslate = (app.rtl ? -activeLink.index() : activeLink.index()) * 100 + '%';\n\t        }\n\t\n\t        tabbar.find('.tab-link-highlight').css({ width: tabLinkWidth }).transform('translate3d(' + highlightTranslate + ',0,0)');\n\t    };\n\t    app.initPageMaterialTabbar = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        var tabbar = $(pageContainer).find('.tabbar');\n\t\n\t        function tabbarSetHighlight() {\n\t            app.materialTabbarSetHighlight(tabbar);\n\t        }\n\t        if (tabbar.length > 0) {\n\t            if (tabbar.find('.tab-link-highlight').length === 0) {\n\t                tabbar.find('.toolbar-inner').append('<span class=\"tab-link-highlight\"></span>');\n\t            }\n\t\n\t            tabbarSetHighlight();\n\t            $(window).on('resize', tabbarSetHighlight);\n\t            pageContainer.once('pageBeforeRemove', function () {\n\t                $(window).off('resize', tabbarSetHighlight);\n\t            });\n\t        }\n\t    };\n\t\n\t    /* ===============================================================================\n\t    ************   Tabs   ************\n\t    =============================================================================== */\n\t    app.showTab = function (tab, tabLink, force) {\n\t        var newTab = $(tab);\n\t        if (arguments.length === 2) {\n\t            if (typeof tabLink === 'boolean') {\n\t                force = tabLink;\n\t            }\n\t        }\n\t        if (newTab.length === 0) return false;\n\t        if (newTab.hasClass('active')) {\n\t            if (force) newTab.trigger('show');\n\t            return false;\n\t        }\n\t        var tabs = newTab.parent('.tabs');\n\t        if (tabs.length === 0) return false;\n\t\n\t        // Return swipeouts in hidden tabs\n\t        app.allowSwipeout = true;\n\t\n\t        // Animated tabs\n\t        var isAnimatedTabs = tabs.parent().hasClass('tabs-animated-wrap');\n\t        if (isAnimatedTabs) {\n\t            var tabTranslate = (app.rtl ? newTab.index() : -newTab.index()) * 100;\n\t            tabs.transform('translate3d(' + tabTranslate + '%,0,0)');\n\t        }\n\t\n\t        // Swipeable tabs\n\t        var isSwipeableTabs = tabs.parent().hasClass('tabs-swipeable-wrap'),\n\t            swiper;\n\t        if (isSwipeableTabs) {\n\t            swiper = tabs.parent()[0].swiper;\n\t            if (swiper.activeIndex !== newTab.index()) swiper.slideTo(newTab.index(), undefined, false);\n\t        }\n\t\n\t        // Remove active class from old tabs\n\t        var oldTab = tabs.children('.tab.active').removeClass('active');\n\t        // Add active class to new tab\n\t        newTab.addClass('active');\n\t        // Trigger 'show' event on new tab\n\t        newTab.trigger('show');\n\t\n\t        // Update navbars in new tab\n\t        if (!isAnimatedTabs && !isSwipeableTabs && newTab.find('.navbar').length > 0) {\n\t            // Find tab's view\n\t            var viewContainer;\n\t            if (newTab.hasClass(app.params.viewClass)) viewContainer = newTab[0];else viewContainer = newTab.parents('.' + app.params.viewClass)[0];\n\t            app.sizeNavbars(viewContainer);\n\t        }\n\t\n\t        // Find related link for new tab\n\t        if (tabLink) tabLink = $(tabLink);else {\n\t            // Search by id\n\t            if (typeof tab === 'string') tabLink = $('.tab-link[href=\"' + tab + '\"]');else tabLink = $('.tab-link[href=\"#' + newTab.attr('id') + '\"]');\n\t            // Search by data-tab\n\t            if (!tabLink || tabLink && tabLink.length === 0) {\n\t                $('[data-tab]').each(function () {\n\t                    if (newTab.is($(this).attr('data-tab'))) tabLink = $(this);\n\t                });\n\t            }\n\t        }\n\t        if (tabLink.length === 0) return;\n\t\n\t        // Find related link for old tab\n\t        var oldTabLink;\n\t        if (oldTab && oldTab.length > 0) {\n\t            // Search by id\n\t            var oldTabId = oldTab.attr('id');\n\t            if (oldTabId) oldTabLink = $('.tab-link[href=\"#' + oldTabId + '\"]');\n\t            // Search by data-tab\n\t            if (!oldTabLink || oldTabLink && oldTabLink.length === 0) {\n\t                $('[data-tab]').each(function () {\n\t                    if (oldTab.is($(this).attr('data-tab'))) oldTabLink = $(this);\n\t                });\n\t            }\n\t        }\n\t\n\t        // Update links' classes\n\t        if (tabLink && tabLink.length > 0) {\n\t            tabLink.addClass('active');\n\t            // Material Highlight\n\t            if (app.params.material) {\n\t                var tabbar = tabLink.parents('.tabbar');\n\t                if (tabbar.length > 0) {\n\t                    if (tabbar.find('.tab-link-highlight').length === 0) {\n\t                        tabbar.find('.toolbar-inner').append('<span class=\"tab-link-highlight\"></span>');\n\t                    }\n\t                    app.materialTabbarSetHighlight(tabbar, tabLink);\n\t                }\n\t            }\n\t        }\n\t        if (oldTabLink && oldTabLink.length > 0) oldTabLink.removeClass('active');\n\t\n\t        return true;\n\t    };\n\t\n\t    /*===============================================================================\n\t    ************   Accordion   ************\n\t    ===============================================================================*/\n\t    app.accordionToggle = function (item) {\n\t        item = $(item);\n\t        if (item.length === 0) return;\n\t        if (item.hasClass('accordion-item-expanded')) app.accordionClose(item);else app.accordionOpen(item);\n\t    };\n\t    app.accordionOpen = function (item) {\n\t        item = $(item);\n\t        var list = item.parents('.accordion-list').eq(0);\n\t        var content = item.children('.accordion-item-content');\n\t        if (content.length === 0) content = item.find('.accordion-item-content');\n\t        var expandedItem = list.length > 0 && item.parent().children('.accordion-item-expanded');\n\t        if (expandedItem.length > 0) {\n\t            app.accordionClose(expandedItem);\n\t        }\n\t        content.css('height', content[0].scrollHeight + 'px').transitionEnd(function () {\n\t            if (item.hasClass('accordion-item-expanded')) {\n\t                content.transition(0);\n\t                content.css('height', 'auto');\n\t                var clientLeft = content[0].clientLeft;\n\t                content.transition('');\n\t                item.trigger('opened');\n\t            } else {\n\t                content.css('height', '');\n\t                item.trigger('closed');\n\t            }\n\t        });\n\t        item.trigger('open');\n\t        item.addClass('accordion-item-expanded');\n\t    };\n\t    app.accordionClose = function (item) {\n\t        item = $(item);\n\t        var content = item.children('.accordion-item-content');\n\t        if (content.length === 0) content = item.find('.accordion-item-content');\n\t        item.removeClass('accordion-item-expanded');\n\t        content.transition(0);\n\t        content.css('height', content[0].scrollHeight + 'px');\n\t        // Relayout\n\t        var clientLeft = content[0].clientLeft;\n\t        // Close\n\t        content.transition('');\n\t        content.css('height', '').transitionEnd(function () {\n\t            if (item.hasClass('accordion-item-expanded')) {\n\t                content.transition(0);\n\t                content.css('height', 'auto');\n\t                var clientLeft = content[0].clientLeft;\n\t                content.transition('');\n\t                item.trigger('opened');\n\t            } else {\n\t                content.css('height', '');\n\t                item.trigger('closed');\n\t            }\n\t        });\n\t        item.trigger('close');\n\t    };\n\t\n\t    /*===============================================================================\n\t    ************   Fast Clicks   ************\n\t    ************   Inspired by https://github.com/ftlabs/fastclick   ************\n\t    ===============================================================================*/\n\t    app.initFastClicks = function () {\n\t        if (app.params.activeState) {\n\t            $('html').addClass('watch-active-state');\n\t        }\n\t        if (app.device.ios && app.device.webView) {\n\t            // Strange hack required for iOS 8 webview to work on inputs\n\t            window.addEventListener('touchstart', function () {});\n\t        }\n\t\n\t        var touchStartX, touchStartY, touchStartTime, targetElement, trackClick, activeSelection, scrollParent, lastClickTime, isMoved, tapHoldFired, tapHoldTimeout;\n\t        var activableElement, activeTimeout, needsFastClick, needsFastClickTimeOut;\n\t        var rippleWave, rippleTarget, rippleTransform, rippleTimeout;\n\t        function findActivableElement(el) {\n\t            var target = $(el);\n\t            var parents = target.parents(app.params.activeStateElements);\n\t            var activable;\n\t            if (target.is(app.params.activeStateElements)) {\n\t                activable = target;\n\t            }\n\t            if (parents.length > 0) {\n\t                activable = activable ? activable.add(parents) : parents;\n\t            }\n\t            return activable ? activable : target;\n\t        }\n\t        function isInsideScrollableView(el) {\n\t            var pageContent = el.parents('.page-content, .panel');\n\t\n\t            if (pageContent.length === 0) {\n\t                return false;\n\t            }\n\t\n\t            // This event handler covers the \"tap to stop scrolling\".\n\t            if (pageContent.prop('scrollHandlerSet') !== 'yes') {\n\t                pageContent.on('scroll', function () {\n\t                    clearTimeout(activeTimeout);\n\t                    clearTimeout(rippleTimeout);\n\t                });\n\t                pageContent.prop('scrollHandlerSet', 'yes');\n\t            }\n\t\n\t            return true;\n\t        }\n\t        function addActive() {\n\t            if (!activableElement) return;\n\t            activableElement.addClass('active-state');\n\t        }\n\t        function removeActive(el) {\n\t            if (!activableElement) return;\n\t            activableElement.removeClass('active-state');\n\t            activableElement = null;\n\t        }\n\t        function isFormElement(el) {\n\t            var nodes = 'input select textarea label'.split(' ');\n\t            if (el.nodeName && nodes.indexOf(el.nodeName.toLowerCase()) >= 0) return true;\n\t            return false;\n\t        }\n\t        function androidNeedsBlur(el) {\n\t            var noBlur = 'button input textarea select'.split(' ');\n\t            if (document.activeElement && el !== document.activeElement && document.activeElement !== document.body) {\n\t                if (noBlur.indexOf(el.nodeName.toLowerCase()) >= 0) {\n\t                    return false;\n\t                } else {\n\t                    return true;\n\t                }\n\t            } else {\n\t                return false;\n\t            }\n\t        }\n\t        function targetNeedsFastClick(el) {\n\t            var $el = $(el);\n\t            if (el.nodeName.toLowerCase() === 'input' && el.type === 'file') return false;\n\t            if ($el.hasClass('no-fastclick') || $el.parents('.no-fastclick').length > 0) return false;\n\t            return true;\n\t        }\n\t        function targetNeedsFocus(el) {\n\t            if (document.activeElement === el) {\n\t                return false;\n\t            }\n\t            var tag = el.nodeName.toLowerCase();\n\t            var skipInputs = 'button checkbox file image radio submit'.split(' ');\n\t            if (el.disabled || el.readOnly) return false;\n\t            if (tag === 'textarea') return true;\n\t            if (tag === 'select') {\n\t                if (app.device.android) return false;else return true;\n\t            }\n\t            if (tag === 'input' && skipInputs.indexOf(el.type) < 0) return true;\n\t        }\n\t        function targetNeedsPrevent(el) {\n\t            el = $(el);\n\t            var prevent = true;\n\t            if (el.is('label') || el.parents('label').length > 0) {\n\t                if (app.device.android) {\n\t                    prevent = false;\n\t                } else if (app.device.ios && el.is('input')) {\n\t                    prevent = true;\n\t                } else prevent = false;\n\t            }\n\t            return prevent;\n\t        }\n\t\n\t        // Mouse Handlers\n\t        function handleMouseDown(e) {\n\t            findActivableElement(e.target).addClass('active-state');\n\t            if ('which' in e && e.which === 3) {\n\t                setTimeout(function () {\n\t                    $('.active-state').removeClass('active-state');\n\t                }, 0);\n\t            }\n\t            if (app.params.material && app.params.materialRipple) {\n\t                touchStartX = e.pageX;\n\t                touchStartY = e.pageY;\n\t                rippleTouchStart(e.target, e.pageX, e.pageY);\n\t            }\n\t        }\n\t        function handleMouseMove(e) {\n\t            $('.active-state').removeClass('active-state');\n\t            if (app.params.material && app.params.materialRipple) {\n\t                rippleTouchMove();\n\t            }\n\t        }\n\t        function handleMouseUp(e) {\n\t            $('.active-state').removeClass('active-state');\n\t            if (app.params.material && app.params.materialRipple) {\n\t                rippleTouchEnd();\n\t            }\n\t        }\n\t\n\t        // Material Touch Ripple Effect\n\t        function findRippleElement(el) {\n\t            var needsRipple = app.params.materialRippleElements;\n\t            var $el = $(el);\n\t            if ($el.is(needsRipple)) {\n\t                if ($el.hasClass('no-ripple')) {\n\t                    return false;\n\t                }\n\t                return $el;\n\t            } else if ($el.parents(needsRipple).length > 0) {\n\t                var rippleParent = $el.parents(needsRipple).eq(0);\n\t                if (rippleParent.hasClass('no-ripple')) {\n\t                    return false;\n\t                }\n\t                return rippleParent;\n\t            } else return false;\n\t        }\n\t        function createRipple(x, y, el) {\n\t            var box = el[0].getBoundingClientRect();\n\t            var center = {\n\t                x: x - box.left,\n\t                y: y - box.top\n\t            },\n\t                height = box.height,\n\t                width = box.width;\n\t            var diameter = Math.max(Math.pow(Math.pow(height, 2) + Math.pow(width, 2), 0.5), 48);\n\t\n\t            rippleWave = $('<div class=\"ripple-wave\" style=\"width: ' + diameter + 'px; height: ' + diameter + 'px; margin-top:-' + diameter / 2 + 'px; margin-left:-' + diameter / 2 + 'px; left:' + center.x + 'px; top:' + center.y + 'px;\"></div>');\n\t            el.prepend(rippleWave);\n\t            var clientLeft = rippleWave[0].clientLeft;\n\t            rippleTransform = 'translate3d(' + (-center.x + width / 2) + 'px, ' + (-center.y + height / 2) + 'px, 0) scale(1)';\n\t            rippleWave.transform(rippleTransform);\n\t        }\n\t\n\t        function removeRipple() {\n\t            if (!rippleWave) return;\n\t            var toRemove = rippleWave;\n\t\n\t            var removeTimeout = setTimeout(function () {\n\t                toRemove.remove();\n\t            }, 400);\n\t\n\t            rippleWave.addClass('ripple-wave-fill').transform(rippleTransform.replace('scale(1)', 'scale(1.01)')).transitionEnd(function () {\n\t                clearTimeout(removeTimeout);\n\t\n\t                var rippleWave = $(this).addClass('ripple-wave-out').transform(rippleTransform.replace('scale(1)', 'scale(1.01)'));\n\t\n\t                removeTimeout = setTimeout(function () {\n\t                    rippleWave.remove();\n\t                }, 700);\n\t\n\t                setTimeout(function () {\n\t                    rippleWave.transitionEnd(function () {\n\t                        clearTimeout(removeTimeout);\n\t                        $(this).remove();\n\t                    });\n\t                }, 0);\n\t            });\n\t\n\t            rippleWave = rippleTarget = undefined;\n\t        }\n\t\n\t        function rippleTouchStart(el, x, y) {\n\t            rippleTarget = findRippleElement(el);\n\t            if (!rippleTarget || rippleTarget.length === 0) {\n\t                rippleTarget = undefined;\n\t                return;\n\t            }\n\t            if (!isInsideScrollableView(rippleTarget)) {\n\t                createRipple(touchStartX, touchStartY, rippleTarget);\n\t            } else {\n\t                rippleTimeout = setTimeout(function () {\n\t                    createRipple(touchStartX, touchStartY, rippleTarget);\n\t                }, 80);\n\t            }\n\t        }\n\t        function rippleTouchMove() {\n\t            clearTimeout(rippleTimeout);\n\t            removeRipple();\n\t        }\n\t        function rippleTouchEnd() {\n\t            if (rippleWave) {\n\t                removeRipple();\n\t            } else if (rippleTarget && !isMoved) {\n\t                clearTimeout(rippleTimeout);\n\t                createRipple(touchStartX, touchStartY, rippleTarget);\n\t                setTimeout(removeRipple, 0);\n\t            } else {\n\t                removeRipple();\n\t            }\n\t        }\n\t\n\t        // Send Click\n\t        function sendClick(e) {\n\t            var touch = e.changedTouches[0];\n\t            var evt = document.createEvent('MouseEvents');\n\t            var eventType = 'click';\n\t            if (app.device.android && targetElement.nodeName.toLowerCase() === 'select') {\n\t                eventType = 'mousedown';\n\t            }\n\t            evt.initMouseEvent(eventType, true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);\n\t            evt.forwardedTouchEvent = true;\n\t            targetElement.dispatchEvent(evt);\n\t        }\n\t\n\t        // Touch Handlers\n\t        function handleTouchStart(e) {\n\t            isMoved = false;\n\t            tapHoldFired = false;\n\t            if (e.targetTouches.length > 1) {\n\t                if (activableElement) removeActive();\n\t                return true;\n\t            }\n\t            if (e.touches.length > 1 && activableElement) {\n\t                removeActive();\n\t            }\n\t            if (app.params.tapHold) {\n\t                if (tapHoldTimeout) clearTimeout(tapHoldTimeout);\n\t                tapHoldTimeout = setTimeout(function () {\n\t                    if (e && e.touches && e.touches.length > 1) return;\n\t                    tapHoldFired = true;\n\t                    e.preventDefault();\n\t                    $(e.target).trigger('taphold');\n\t                }, app.params.tapHoldDelay);\n\t            }\n\t            if (needsFastClickTimeOut) clearTimeout(needsFastClickTimeOut);\n\t            needsFastClick = targetNeedsFastClick(e.target);\n\t\n\t            if (!needsFastClick) {\n\t                trackClick = false;\n\t                return true;\n\t            }\n\t            if (app.device.ios) {\n\t                var selection = window.getSelection();\n\t                if (selection.rangeCount && selection.focusNode !== document.body && (!selection.isCollapsed || document.activeElement === selection.focusNode)) {\n\t                    activeSelection = true;\n\t                    return true;\n\t                } else {\n\t                    activeSelection = false;\n\t                }\n\t            }\n\t            if (app.device.android) {\n\t                if (androidNeedsBlur(e.target)) {\n\t                    document.activeElement.blur();\n\t                }\n\t            }\n\t\n\t            trackClick = true;\n\t            targetElement = e.target;\n\t            touchStartTime = new Date().getTime();\n\t            touchStartX = e.targetTouches[0].pageX;\n\t            touchStartY = e.targetTouches[0].pageY;\n\t\n\t            // Detect scroll parent\n\t            if (app.device.ios) {\n\t                scrollParent = undefined;\n\t                $(targetElement).parents().each(function () {\n\t                    var parent = this;\n\t                    if (parent.scrollHeight > parent.offsetHeight && !scrollParent) {\n\t                        scrollParent = parent;\n\t                        scrollParent.f7ScrollTop = scrollParent.scrollTop;\n\t                    }\n\t                });\n\t            }\n\t            if (e.timeStamp - lastClickTime < app.params.fastClicksDelayBetweenClicks) {\n\t                e.preventDefault();\n\t            }\n\t\n\t            if (app.params.activeState) {\n\t                activableElement = findActivableElement(targetElement);\n\t                // If it's inside a scrollable view, we don't trigger active-state yet,\n\t                // because it can be a scroll instead. Based on the link:\n\t                // http://labnote.beedesk.com/click-scroll-and-pseudo-active-on-mobile-webk\n\t                if (!isInsideScrollableView(activableElement)) {\n\t                    addActive();\n\t                } else {\n\t                    activeTimeout = setTimeout(addActive, 80);\n\t                }\n\t            }\n\t            if (app.params.material && app.params.materialRipple) {\n\t                rippleTouchStart(targetElement, touchStartX, touchStartY);\n\t            }\n\t        }\n\t        function handleTouchMove(e) {\n\t            if (!trackClick) return;\n\t            var _isMoved = false;\n\t            var distance = app.params.fastClicksDistanceThreshold;\n\t            if (distance) {\n\t                var pageX = e.targetTouches[0].pageX;\n\t                var pageY = e.targetTouches[0].pageY;\n\t                if (Math.abs(pageX - touchStartX) > distance || Math.abs(pageY - touchStartY) > distance) {\n\t                    _isMoved = true;\n\t                }\n\t            } else {\n\t                _isMoved = true;\n\t            }\n\t            if (_isMoved) {\n\t                trackClick = false;\n\t                targetElement = null;\n\t                isMoved = true;\n\t                if (app.params.tapHold) {\n\t                    clearTimeout(tapHoldTimeout);\n\t                }\n\t                if (app.params.activeState) {\n\t                    clearTimeout(activeTimeout);\n\t                    removeActive();\n\t                }\n\t                if (app.params.material && app.params.materialRipple) {\n\t                    rippleTouchMove();\n\t                }\n\t            }\n\t        }\n\t        function handleTouchEnd(e) {\n\t            clearTimeout(activeTimeout);\n\t            clearTimeout(tapHoldTimeout);\n\t\n\t            if (!trackClick) {\n\t                if (!activeSelection && needsFastClick) {\n\t                    if (!(app.device.android && !e.cancelable)) {\n\t                        e.preventDefault();\n\t                    }\n\t                }\n\t                return true;\n\t            }\n\t\n\t            if (document.activeElement === e.target) {\n\t                if (app.params.activeState) removeActive();\n\t                if (app.params.material && app.params.materialRipple) {\n\t                    rippleTouchEnd();\n\t                }\n\t                return true;\n\t            }\n\t\n\t            if (!activeSelection) {\n\t                e.preventDefault();\n\t            }\n\t\n\t            if (e.timeStamp - lastClickTime < app.params.fastClicksDelayBetweenClicks) {\n\t                setTimeout(removeActive, 0);\n\t                return true;\n\t            }\n\t\n\t            lastClickTime = e.timeStamp;\n\t\n\t            trackClick = false;\n\t\n\t            if (app.device.ios && scrollParent) {\n\t                if (scrollParent.scrollTop !== scrollParent.f7ScrollTop) {\n\t                    return false;\n\t                }\n\t            }\n\t\n\t            // Add active-state here because, in a very fast tap, the timeout didn't\n\t            // have the chance to execute. Removing active-state in a timeout gives\n\t            // the chance to the animation execute.\n\t            if (app.params.activeState) {\n\t                addActive();\n\t                setTimeout(removeActive, 0);\n\t            }\n\t            // Remove Ripple\n\t            if (app.params.material && app.params.materialRipple) {\n\t                rippleTouchEnd();\n\t            }\n\t\n\t            // Trigger focus when required\n\t            if (targetNeedsFocus(targetElement)) {\n\t                if (app.device.ios && app.device.webView) {\n\t                    if (event.timeStamp - touchStartTime > 159) {\n\t                        targetElement = null;\n\t                        return false;\n\t                    }\n\t                    targetElement.focus();\n\t                    return false;\n\t                } else {\n\t                    targetElement.focus();\n\t                }\n\t            }\n\t\n\t            // Blur active elements\n\t            if (document.activeElement && targetElement !== document.activeElement && document.activeElement !== document.body && targetElement.nodeName.toLowerCase() !== 'label') {\n\t                document.activeElement.blur();\n\t            }\n\t\n\t            // Send click\n\t            e.preventDefault();\n\t            sendClick(e);\n\t            return false;\n\t        }\n\t        function handleTouchCancel(e) {\n\t            trackClick = false;\n\t            targetElement = null;\n\t\n\t            // Remove Active State\n\t            clearTimeout(activeTimeout);\n\t            clearTimeout(tapHoldTimeout);\n\t            if (app.params.activeState) {\n\t                removeActive();\n\t            }\n\t\n\t            // Remove Ripple\n\t            if (app.params.material && app.params.materialRipple) {\n\t                rippleTouchEnd();\n\t            }\n\t        }\n\t\n\t        function handleClick(e) {\n\t            var allowClick = false;\n\t\n\t            if (trackClick) {\n\t                targetElement = null;\n\t                trackClick = false;\n\t                return true;\n\t            }\n\t            if (e.target.type === 'submit' && e.detail === 0) {\n\t                return true;\n\t            }\n\t            if (!targetElement) {\n\t                if (!isFormElement(e.target)) {\n\t                    allowClick = true;\n\t                }\n\t            }\n\t            if (!needsFastClick) {\n\t                allowClick = true;\n\t            }\n\t            if (document.activeElement === targetElement) {\n\t                allowClick = true;\n\t            }\n\t            if (e.forwardedTouchEvent) {\n\t                allowClick = true;\n\t            }\n\t            if (!e.cancelable) {\n\t                allowClick = true;\n\t            }\n\t            if (app.params.tapHold && app.params.tapHoldPreventClicks && tapHoldFired) {\n\t                allowClick = false;\n\t            }\n\t            if (!allowClick) {\n\t                e.stopImmediatePropagation();\n\t                e.stopPropagation();\n\t                if (targetElement) {\n\t                    if (targetNeedsPrevent(targetElement) || isMoved) {\n\t                        e.preventDefault();\n\t                    }\n\t                } else {\n\t                    e.preventDefault();\n\t                }\n\t                targetElement = null;\n\t            }\n\t            needsFastClickTimeOut = setTimeout(function () {\n\t                needsFastClick = false;\n\t            }, app.device.ios || app.device.androidChrome ? 100 : 400);\n\t\n\t            if (app.params.tapHold) {\n\t                tapHoldTimeout = setTimeout(function () {\n\t                    tapHoldFired = false;\n\t                }, app.device.ios || app.device.androidChrome ? 100 : 400);\n\t            }\n\t\n\t            return allowClick;\n\t        }\n\t        if (app.support.touch) {\n\t            document.addEventListener('click', handleClick, true);\n\t\n\t            document.addEventListener('touchstart', handleTouchStart);\n\t            document.addEventListener('touchmove', handleTouchMove);\n\t            document.addEventListener('touchend', handleTouchEnd);\n\t            document.addEventListener('touchcancel', handleTouchCancel);\n\t        } else {\n\t            if (app.params.activeState) {\n\t                document.addEventListener('mousedown', handleMouseDown);\n\t                document.addEventListener('mousemove', handleMouseMove);\n\t                document.addEventListener('mouseup', handleMouseUp);\n\t            }\n\t        }\n\t        if (app.params.material && app.params.materialRipple) {\n\t            document.addEventListener('contextmenu', function (e) {\n\t                if (activableElement) removeActive();\n\t                rippleTouchEnd();\n\t            });\n\t        }\n\t    };\n\t\n\t    /*===============================================================================\n\t    ************   Handle clicks and make them fast (on tap);   ************\n\t    ===============================================================================*/\n\t    app.initClickEvents = function () {\n\t        function handleScrollTop(e) {\n\t            /*jshint validthis:true */\n\t            var clicked = $(this);\n\t            var target = $(e.target);\n\t            var isLink = clicked[0].nodeName.toLowerCase() === 'a' || clicked.parents('a').length > 0 || target[0].nodeName.toLowerCase() === 'a' || target.parents('a').length > 0;\n\t\n\t            if (isLink) return;\n\t            var pageContent, page;\n\t            if (app.params.scrollTopOnNavbarClick && clicked.is('.navbar .center')) {\n\t                // Find active page\n\t                var navbar = clicked.parents('.navbar');\n\t\n\t                // Static Layout\n\t                pageContent = navbar.parents('.page-content');\n\t\n\t                if (pageContent.length === 0) {\n\t                    // Fixed Layout\n\t                    if (navbar.parents('.page').length > 0) {\n\t                        pageContent = navbar.parents('.page').find('.page-content');\n\t                    }\n\t                    // Through Layout\n\t                    if (pageContent.length === 0) {\n\t                        if (navbar.nextAll('.pages').length > 0) {\n\t                            pageContent = navbar.nextAll('.pages').find('.page:not(.page-on-left):not(.page-on-right):not(.cached)').find('.page-content');\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t            if (app.params.scrollTopOnStatusbarClick && clicked.is('.statusbar-overlay')) {\n\t                if ($('.popup.modal-in').length > 0) {\n\t                    // Check for opened popup\n\t                    pageContent = $('.popup.modal-in').find('.page:not(.page-on-left):not(.page-on-right):not(.cached)').find('.page-content');\n\t                } else if ($('.panel.active').length > 0) {\n\t                    // Check for opened panel\n\t                    pageContent = $('.panel.active').find('.page:not(.page-on-left):not(.page-on-right):not(.cached)').find('.page-content');\n\t                } else if ($('.views > .view.active').length > 0) {\n\t                    // View in tab bar app layout\n\t                    pageContent = $('.views > .view.active').find('.page:not(.page-on-left):not(.page-on-right):not(.cached)').find('.page-content');\n\t                } else {\n\t                    // Usual case\n\t                    pageContent = $('.views').find('.page:not(.page-on-left):not(.page-on-right):not(.cached)').find('.page-content');\n\t                }\n\t            }\n\t\n\t            if (pageContent && pageContent.length > 0) {\n\t                // Check for tab\n\t                if (pageContent.hasClass('tab')) {\n\t                    pageContent = pageContent.parent('.tabs').children('.page-content.active');\n\t                }\n\t                if (pageContent.length > 0) pageContent.scrollTop(0, 300);\n\t            }\n\t        }\n\t        function handleClicks(e) {\n\t            /*jshint validthis:true */\n\t            var clicked = $(this);\n\t            var url = clicked.attr('href');\n\t            var isLink = clicked[0].nodeName.toLowerCase() === 'a';\n\t\n\t            // Check if link is external\n\t            if (isLink) {\n\t                if (clicked.is(app.params.externalLinks) || url && url.indexOf('javascript:') >= 0) {\n\t                    if (url && clicked.attr('target') === '_system') {\n\t                        e.preventDefault();\n\t                        window.open(url, '_system');\n\t                    }\n\t                    return;\n\t                }\n\t            }\n\t\n\t            // Collect Clicked data- attributes\n\t            var clickedData = clicked.dataset();\n\t\n\t            // Smart Select\n\t            if (clicked.hasClass('smart-select')) {\n\t                if (app.smartSelectOpen) app.smartSelectOpen(clicked);\n\t            }\n\t\n\t            // Open Panel\n\t            if (clicked.hasClass('open-panel')) {\n\t                if ($('.panel').length === 1) {\n\t                    if ($('.panel').hasClass('panel-left')) app.openPanel('left');else app.openPanel('right');\n\t                } else {\n\t                    if (clickedData.panel === 'right') app.openPanel('right');else app.openPanel('left');\n\t                }\n\t            }\n\t            // Close Panel\n\t            if (clicked.hasClass('close-panel')) {\n\t                app.closePanel();\n\t            }\n\t\n\t            if (clicked.hasClass('panel-overlay') && app.params.panelsCloseByOutside) {\n\t                app.closePanel();\n\t            }\n\t            // Popover\n\t            if (clicked.hasClass('open-popover')) {\n\t                var popover;\n\t                if (clickedData.popover) {\n\t                    popover = clickedData.popover;\n\t                } else popover = '.popover';\n\t                app.popover(popover, clicked);\n\t            }\n\t            if (clicked.hasClass('close-popover')) {\n\t                app.closeModal('.popover.modal-in');\n\t            }\n\t            // Popup\n\t            var popup;\n\t            if (clicked.hasClass('open-popup')) {\n\t                if (clickedData.popup) {\n\t                    popup = clickedData.popup;\n\t                } else popup = '.popup';\n\t                app.popup(popup);\n\t            }\n\t            if (clicked.hasClass('close-popup')) {\n\t                if (clickedData.popup) {\n\t                    popup = clickedData.popup;\n\t                } else popup = '.popup.modal-in';\n\t                app.closeModal(popup);\n\t            }\n\t            // Login Screen\n\t            var loginScreen;\n\t            if (clicked.hasClass('open-login-screen')) {\n\t                if (clickedData.loginScreen) {\n\t                    loginScreen = clickedData.loginScreen;\n\t                } else loginScreen = '.login-screen';\n\t                app.loginScreen(loginScreen);\n\t            }\n\t            if (clicked.hasClass('close-login-screen')) {\n\t                app.closeModal('.login-screen.modal-in');\n\t            }\n\t            // Close Modal\n\t            if (clicked.hasClass('modal-overlay')) {\n\t                if ($('.modal.modal-in').length > 0 && app.params.modalCloseByOutside) app.closeModal('.modal.modal-in');\n\t                if ($('.actions-modal.modal-in').length > 0 && app.params.actionsCloseByOutside) app.closeModal('.actions-modal.modal-in');\n\t\n\t                if ($('.popover.modal-in').length > 0) app.closeModal('.popover.modal-in');\n\t            }\n\t            if (clicked.hasClass('popup-overlay')) {\n\t                if ($('.popup.modal-in').length > 0 && app.params.popupCloseByOutside) app.closeModal('.popup.modal-in');\n\t            }\n\t            if (clicked.hasClass('picker-modal-overlay')) {\n\t                if ($('.picker-modal.modal-in').length > 0) app.closeModal('.picker-modal.modal-in');\n\t            }\n\t\n\t            // Picker\n\t            if (clicked.hasClass('close-picker')) {\n\t                var pickerToClose = $('.picker-modal.modal-in');\n\t                if (pickerToClose.length > 0) {\n\t                    app.closeModal(pickerToClose);\n\t                } else {\n\t                    pickerToClose = $('.popover.modal-in .picker-modal');\n\t                    if (pickerToClose.length > 0) {\n\t                        app.closeModal(pickerToClose.parents('.popover'));\n\t                    }\n\t                }\n\t            }\n\t            if (clicked.hasClass('open-picker')) {\n\t                var pickerToOpen;\n\t                if (clickedData.picker) {\n\t                    pickerToOpen = clickedData.picker;\n\t                } else pickerToOpen = '.picker-modal';\n\t                app.pickerModal(pickerToOpen, clicked);\n\t            }\n\t\n\t            // Tabs\n\t            var isTabLink;\n\t            if (clicked.hasClass('tab-link')) {\n\t                isTabLink = true;\n\t                app.showTab(clickedData.tab || clicked.attr('href'), clicked);\n\t            }\n\t            // Swipeout Close\n\t            if (clicked.hasClass('swipeout-close')) {\n\t                app.swipeoutClose(clicked.parents('.swipeout-opened'));\n\t            }\n\t            // Swipeout Delete\n\t            if (clicked.hasClass('swipeout-delete')) {\n\t                if (clickedData.confirm) {\n\t                    var text = clickedData.confirm;\n\t                    var title = clickedData.confirmTitle;\n\t                    if (title) {\n\t                        app.confirm(text, title, function () {\n\t                            app.swipeoutDelete(clicked.parents('.swipeout'));\n\t                        }, function () {\n\t                            if (clickedData.closeOnCancel) app.swipeoutClose(clicked.parents('.swipeout'));\n\t                        });\n\t                    } else {\n\t                        app.confirm(text, function () {\n\t                            app.swipeoutDelete(clicked.parents('.swipeout'));\n\t                        }, function () {\n\t                            if (clickedData.closeOnCancel) app.swipeoutClose(clicked.parents('.swipeout'));\n\t                        });\n\t                    }\n\t                } else {\n\t                    app.swipeoutDelete(clicked.parents('.swipeout'));\n\t                }\n\t            }\n\t            // Sortable\n\t            if (clicked.hasClass('toggle-sortable')) {\n\t                app.sortableToggle(clickedData.sortable);\n\t            }\n\t            if (clicked.hasClass('open-sortable')) {\n\t                app.sortableOpen(clickedData.sortable);\n\t            }\n\t            if (clicked.hasClass('close-sortable')) {\n\t                app.sortableClose(clickedData.sortable);\n\t            }\n\t            // Accordion\n\t            if (clicked.hasClass('accordion-item-toggle') || clicked.hasClass('item-link') && clicked.parent().hasClass('accordion-item')) {\n\t                var accordionItem = clicked.parent('.accordion-item');\n\t                if (accordionItem.length === 0) accordionItem = clicked.parents('.accordion-item');\n\t                if (accordionItem.length === 0) accordionItem = clicked.parents('li');\n\t                app.accordionToggle(accordionItem);\n\t            }\n\t\n\t            // Speed Dial\n\t            if (app.params.material) {\n\t                if (clicked.hasClass('floating-button') && clicked.parent().hasClass('speed-dial')) {\n\t                    clicked.parent().toggleClass('speed-dial-opened');\n\t                }\n\t                if (clicked.hasClass('close-speed-dial')) {\n\t                    $('.speed-dial-opened').removeClass('speed-dial-opened');\n\t                }\n\t            }\n\t\n\t            // Load Page\n\t            if (app.params.ajaxLinks && !clicked.is(app.params.ajaxLinks) || !isLink || !app.params.router) {\n\t                return;\n\t            }\n\t            if (isLink) {\n\t                e.preventDefault();\n\t            }\n\t\n\t            var validUrl = url && url.length > 0 && url !== '#' && !isTabLink;\n\t            var template = clickedData.template;\n\t            if (validUrl || clicked.hasClass('back') || template) {\n\t                var view;\n\t                if (clickedData.view) {\n\t                    view = $(clickedData.view)[0].f7View;\n\t                } else {\n\t                    view = clicked.parents('.' + app.params.viewClass)[0] && clicked.parents('.' + app.params.viewClass)[0].f7View;\n\t                    if (view && view.params.linksView) {\n\t                        if (typeof view.params.linksView === 'string') view = $(view.params.linksView)[0].f7View;else if (view.params.linksView instanceof View) view = view.params.linksView;\n\t                    }\n\t                }\n\t                if (!view) {\n\t                    if (app.mainView) view = app.mainView;\n\t                }\n\t                if (!view) return;\n\t\n\t                var pageName;\n\t                if (!template) {\n\t                    if (url.indexOf('#') === 0 && url !== '#') {\n\t                        if (view.params.domCache) {\n\t                            pageName = url.split('#')[1];\n\t                        } else return;\n\t                    }\n\t                    if (url === '#' && !clicked.hasClass('back')) return;\n\t                } else {\n\t                    url = undefined;\n\t                }\n\t\n\t                var animatePages;\n\t                if (typeof clickedData.animatePages !== 'undefined') {\n\t                    animatePages = clickedData.animatePages;\n\t                } else {\n\t                    if (clicked.hasClass('with-animation')) animatePages = true;\n\t                    if (clicked.hasClass('no-animation')) animatePages = false;\n\t                }\n\t\n\t                var options = {\n\t                    animatePages: animatePages,\n\t                    ignoreCache: clickedData.ignoreCache,\n\t                    force: clickedData.force,\n\t                    reload: clickedData.reload,\n\t                    reloadPrevious: clickedData.reloadPrevious,\n\t                    pageName: pageName,\n\t                    pushState: clickedData.pushState,\n\t                    url: url\n\t                };\n\t\n\t                if (app.params.template7Pages) {\n\t                    options.contextName = clickedData.contextName;\n\t                    var context = clickedData.context;\n\t                    if (context) {\n\t                        options.context = JSON.parse(context);\n\t                    }\n\t                }\n\t                if (template && template in t7.templates) {\n\t                    options.template = t7.templates[template];\n\t                }\n\t\n\t                if (clicked.hasClass('back')) view.router.back(options);else view.router.load(options);\n\t            }\n\t        }\n\t        $(document).on('click', 'a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .swipeout-close, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle, .close-picker, .picker-modal-overlay', handleClicks);\n\t        if (app.params.scrollTopOnNavbarClick || app.params.scrollTopOnStatusbarClick) {\n\t            $(document).on('click', '.statusbar-overlay, .navbar .center', handleScrollTop);\n\t        }\n\t\n\t        // Prevent scrolling on overlays\n\t        function preventScrolling(e) {\n\t            e.preventDefault();\n\t        }\n\t        if (app.support.touch && !app.device.android) {\n\t            $(document).on(app.params.fastClicks ? 'touchstart' : 'touchmove', '.panel-overlay, .modal-overlay, .preloader-indicator-overlay, .popup-overlay, .searchbar-overlay', preventScrolling);\n\t        }\n\t    };\n\t\n\t    /*======================================================\n\t    ************   App Resize Actions   ************\n\t    ======================================================*/\n\t    // Prevent iPad horizontal body scrolling when soft keyboard is opened\n\t    function _fixIpadBodyScrolLeft() {\n\t        if (app.device.ipad) {\n\t            document.body.scrollLeft = 0;\n\t            setTimeout(function () {\n\t                document.body.scrollLeft = 0;\n\t            }, 0);\n\t        }\n\t    }\n\t    app.initResize = function () {\n\t        $(window).on('resize', app.resize);\n\t        $(window).on('orientationchange', app.orientationchange);\n\t    };\n\t    app.resize = function () {\n\t        if (app.sizeNavbars) app.sizeNavbars();\n\t        _fixIpadBodyScrolLeft();\n\t    };\n\t    app.orientationchange = function () {\n\t        if (app.device && app.device.minimalUi) {\n\t            if (window.orientation === 90 || window.orientation === -90) document.body.scrollTop = 0;\n\t        }\n\t        _fixIpadBodyScrolLeft();\n\t    };\n\t\n\t    /*===============================================================================\n\t    ************   Store and parse forms data   ************\n\t    ===============================================================================*/\n\t    app.formsData = {};\n\t    app.formStoreData = function (formId, formJSON) {\n\t        // Store form data in app.formsData\n\t        app.formsData[formId] = formJSON;\n\t\n\t        // Store form data in local storage also\n\t        app.ls['f7form-' + formId] = JSON.stringify(formJSON);\n\t    };\n\t    app.formDeleteData = function (formId) {\n\t        // Delete form data from app.formsData\n\t        if (app.formsData[formId]) {\n\t            app.formsData[formId] = '';\n\t            delete app.formsData[formId];\n\t        }\n\t\n\t        // Delete form data from local storage also\n\t        if (app.ls['f7form-' + formId]) {\n\t            app.ls['f7form-' + formId] = '';\n\t            app.ls.removeItem('f7form-' + formId);\n\t        }\n\t    };\n\t    app.formGetData = function (formId) {\n\t        // First of all check in local storage\n\t        if (app.ls['f7form-' + formId]) {\n\t            return JSON.parse(app.ls['f7form-' + formId]);\n\t        }\n\t        // Try to get it from formsData obj\n\t        else if (app.formsData[formId]) return app.formsData[formId];\n\t    };\n\t    app.formToJSON = function (form) {\n\t        form = $(form);\n\t        if (form.length !== 1) return false;\n\t\n\t        // Form data\n\t        var formData = {};\n\t\n\t        // Skip input types\n\t        var skipTypes = ['submit', 'image', 'button', 'file'];\n\t        var skipNames = [];\n\t        form.find('input, select, textarea').each(function () {\n\t            var input = $(this);\n\t            var name = input.attr('name');\n\t            var type = input.attr('type');\n\t            var tag = this.nodeName.toLowerCase();\n\t            if (skipTypes.indexOf(type) >= 0) return;\n\t            if (skipNames.indexOf(name) >= 0 || !name) return;\n\t            if (tag === 'select' && input.prop('multiple')) {\n\t                skipNames.push(name);\n\t                formData[name] = [];\n\t                form.find('select[name=\"' + name + '\"] option').each(function () {\n\t                    if (this.selected) formData[name].push(this.value);\n\t                });\n\t            } else {\n\t                switch (type) {\n\t                    case 'checkbox':\n\t                        skipNames.push(name);\n\t                        formData[name] = [];\n\t                        form.find('input[name=\"' + name + '\"]').each(function () {\n\t                            if (this.checked) formData[name].push(this.value);\n\t                        });\n\t                        break;\n\t                    case 'radio':\n\t                        skipNames.push(name);\n\t                        form.find('input[name=\"' + name + '\"]').each(function () {\n\t                            if (this.checked) formData[name] = this.value;\n\t                        });\n\t                        break;\n\t                    default:\n\t                        formData[name] = input.val();\n\t                        break;\n\t                }\n\t            }\n\t        });\n\t        form.trigger('formToJSON', { formData: formData });\n\t\n\t        return formData;\n\t    };\n\t    app.formFromJSON = function (form, formData) {\n\t        form = $(form);\n\t        if (form.length !== 1) return false;\n\t\n\t        // Skip input types\n\t        var skipTypes = ['submit', 'image', 'button', 'file'];\n\t        var skipNames = [];\n\t\n\t        form.find('input, select, textarea').each(function () {\n\t            var input = $(this);\n\t            var name = input.attr('name');\n\t            var type = input.attr('type');\n\t            var tag = this.nodeName.toLowerCase();\n\t            if (!formData[name]) return;\n\t            if (skipTypes.indexOf(type) >= 0) return;\n\t            if (skipNames.indexOf(name) >= 0 || !name) return;\n\t            if (tag === 'select' && input.prop('multiple')) {\n\t                skipNames.push(name);\n\t                form.find('select[name=\"' + name + '\"] option').each(function () {\n\t                    if (formData[name].indexOf(this.value) >= 0) this.selected = true;else this.selected = false;\n\t                });\n\t            } else {\n\t                switch (type) {\n\t                    case 'checkbox':\n\t                        skipNames.push(name);\n\t                        form.find('input[name=\"' + name + '\"]').each(function () {\n\t                            if (formData[name].indexOf(this.value) >= 0) this.checked = true;else this.checked = false;\n\t                        });\n\t                        break;\n\t                    case 'radio':\n\t                        skipNames.push(name);\n\t                        form.find('input[name=\"' + name + '\"]').each(function () {\n\t                            if (formData[name] === this.value) this.checked = true;else this.checked = false;\n\t                        });\n\t                        break;\n\t                    default:\n\t                        input.val(formData[name]);\n\t                        break;\n\t                }\n\t            }\n\t        });\n\t        form.trigger('formFromJSON', { formData: formData });\n\t    };\n\t    app.initFormsStorage = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        var forms = pageContainer.find('form.store-data');\n\t        if (forms.length === 0) return;\n\t\n\t        // Parse forms data and fill form if there is such data\n\t        forms.each(function () {\n\t            var id = this.getAttribute('id');\n\t            if (!id) return;\n\t            var formData = app.formGetData(id);\n\t            if (formData) app.formFromJSON(this, formData);\n\t        });\n\t        // Update forms data on inputs change\n\t        function storeForm() {\n\t            /*jshint validthis:true */\n\t            var form = $(this);\n\t            var formId = form[0].id;\n\t            if (!formId) return;\n\t            var formJSON = app.formToJSON(form);\n\t            if (!formJSON) return;\n\t            app.formStoreData(formId, formJSON);\n\t            form.trigger('store', { data: formJSON });\n\t        }\n\t        forms.on('change submit', storeForm);\n\t\n\t        // Detach Listeners\n\t        function pageBeforeRemove() {\n\t            forms.off('change submit', storeForm);\n\t            pageContainer.off('pageBeforeRemove', pageBeforeRemove);\n\t        }\n\t        pageContainer.on('pageBeforeRemove', pageBeforeRemove);\n\t    };\n\t\n\t    /*===============================================================================\n\t    ************   Ajax submit for forms   ************\n\t    ===============================================================================*/\n\t    // Ajax submit on forms\n\t    $(document).on('submit change', 'form.ajax-submit, form.ajax-submit-onchange', function (e) {\n\t        var form = $(this);\n\t        if (e.type === 'change' && !form.hasClass('ajax-submit-onchange')) return;\n\t        if (e.type === 'submit') e.preventDefault();\n\t\n\t        var method = form.attr('method') || 'GET';\n\t        var contentType = form.prop('enctype') || form.attr('enctype');\n\t\n\t        var url = form.attr('action');\n\t        if (!url) return;\n\t\n\t        var data;\n\t        if (method === 'POST') data = new FormData(form[0]);else data = $.serializeObject(app.formToJSON(form[0]));\n\t\n\t        var xhr = $.ajax({\n\t            method: method,\n\t            url: url,\n\t            contentType: contentType,\n\t            data: data,\n\t            beforeSend: function beforeSend(xhr) {\n\t                form.trigger('beforeSubmit', { data: data, xhr: xhr });\n\t            },\n\t            error: function error(xhr) {\n\t                form.trigger('submitError', { data: data, xhr: xhr });\n\t            },\n\t            success: function success(data) {\n\t                form.trigger('submitted', { data: data, xhr: xhr });\n\t            }\n\t        });\n\t    });\n\t\n\t    /*===============================================================================\n\t    ************   Resizable textarea   ************\n\t    ===============================================================================*/\n\t    app.resizeTextarea = function (textarea) {\n\t        textarea = $(textarea);\n\t        if (!textarea.hasClass('resizable')) {\n\t            return;\n\t        }\n\t        textarea.css({ 'height': '' });\n\t        var height = textarea[0].offsetHeight;\n\t        var diff = height - textarea[0].clientHeight;\n\t        var scrollHeight = textarea[0].scrollHeight;\n\t\n\t        if (scrollHeight + diff > height) {\n\t            var newAreaHeight = scrollHeight + diff;\n\t            textarea.css('height', newAreaHeight + 'px');\n\t        }\n\t    };\n\t    app.resizableTextarea = function (textarea) {\n\t        textarea = $(textarea);\n\t        if (textarea.length === 0) return;\n\t        var textareaTimeout;\n\t        function handleTextarea() {\n\t            clearTimeout(textareaTimeout);\n\t            textareaTimeout = setTimeout(function () {\n\t                app.resizeTextarea(textarea);\n\t            }, 0);\n\t        }\n\t        textarea[0].f7DestroyResizableTextarea = function () {\n\t            textarea.off('change keydown keypress keyup paste cut', handleTextarea);\n\t        };\n\t        return textarea.on('change keydown keypress keyup paste cut', handleTextarea);\n\t    };\n\t    app.destroyResizableTextarea = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        if (pageContainer.length > 0 && pageContainer.is('textarea') && pageContainer[0].f7DestroyResizableTextarea) {\n\t            pageContainer[0].f7DestroyResizableTextarea();\n\t        } else if (pageContainer.length > 0) {\n\t            pageContainer.find('textarea.resiable').each(function () {\n\t                var textarea = this;\n\t                if (textarea.f7DestroyResizableTextarea) {\n\t                    textarea.f7DestroyResizableTextarea();\n\t                }\n\t            });\n\t        }\n\t    };\n\t    app.initPageResizableTextarea = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        var textareas = pageContainer.find('textarea.resizable');\n\t        textareas.each(function () {\n\t            app.resizableTextarea(this);\n\t        });\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Material Text Inputs   ************\n\t    ======================================================*/\n\t    app.initPageMaterialInputs = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        var textareas = pageContainer.find('textarea.resizable');\n\t        pageContainer.find('.item-input').each(function () {\n\t            var itemInput = $(this);\n\t            var notInputs = ['checkbox', 'button', 'submit', 'range', 'radio', 'image'];\n\t            itemInput.find('input, select, textarea').each(function () {\n\t                var input = $(this);\n\t                if (notInputs.indexOf(input.attr('type')) < 0) {\n\t                    itemInput.addClass('item-input-field');\n\t                    if (input.val().trim() !== '') {\n\t                        input.parents('.item-input, .input-field').add(input.parents('.item-inner')).addClass('not-empty-state');\n\t                    }\n\t                }\n\t            });\n\t            if (itemInput.parents('.input-item, .inputs-list').length > 0) return;\n\t            itemInput.parents('.list-block').eq(0).addClass('inputs-list');\n\t        });\n\t    };\n\t    /*======================================================\n\t    ************   Material Focus Inputs   ************\n\t    ======================================================*/\n\t    app.initMaterialWatchInputs = function () {\n\t        var notInputs = ['checkbox', 'button', 'submit', 'range', 'radio', 'image'];\n\t        function addFocusState(e) {\n\t            /*jshint validthis:true*/\n\t            var i = $(this);\n\t            var type = i.attr('type');\n\t            if (notInputs.indexOf(type) >= 0) return;\n\t            var els = i.add(i.parents('.item-input, .input-field')).add(i.parents('.item-inner').eq(0));\n\t            els.addClass('focus-state');\n\t        }\n\t        function removeFocusState(e) {\n\t            /*jshint validthis:true*/\n\t            var i = $(this),\n\t                value = i.val();\n\t            var type = i.attr('type');\n\t            if (notInputs.indexOf(type) >= 0) return;\n\t            var els = i.add(i.parents('.item-input, .input-field')).add(i.parents('.item-inner').eq(0));\n\t            els.removeClass('focus-state');\n\t            if (value && value.trim() !== '') {\n\t                els.addClass('not-empty-state');\n\t            } else {\n\t                els.removeClass('not-empty-state');\n\t            }\n\t        }\n\t        function watchChangeState(e) {\n\t            /*jshint validthis:true*/\n\t            var i = $(this),\n\t                value = i.val();\n\t            var type = i.attr('type');\n\t            if (notInputs.indexOf(type) >= 0) return;\n\t            var els = i.add(i.parents('.item-input, .input-field')).add(i.parents('.item-inner').eq(0));\n\t            if (value && value.trim() !== '') {\n\t                els.addClass('not-empty-state');\n\t            } else {\n\t                els.removeClass('not-empty-state');\n\t            }\n\t        }\n\t        $(document).on('change', '.item-input input, .item-input select, .item-input textarea, input, textarea, select', watchChangeState, true);\n\t        $(document).on('focus', '.item-input input, .item-input select, .item-input textarea, input, textarea, select', addFocusState, true);\n\t        $(document).on('blur', '.item-input input, .item-input select, .item-input textarea, input, textarea, select', removeFocusState, true);\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Handle Browser's History   ************\n\t    ======================================================*/\n\t    app.pushStateQueue = [];\n\t    app.pushStateClearQueue = function () {\n\t        if (app.pushStateQueue.length === 0) return;\n\t        var queue = app.pushStateQueue.pop();\n\t        var animatePages;\n\t        if (app.params.pushStateNoAnimation === true) animatePages = false;\n\t        if (queue.action === 'back') {\n\t            app.router.back(queue.view, { animatePages: animatePages });\n\t        }\n\t        if (queue.action === 'loadPage') {\n\t            app.router.load(queue.view, { url: queue.stateUrl, animatePages: animatePages, pushState: false });\n\t        }\n\t        if (queue.action === 'loadContent') {\n\t            app.router.load(queue.view, { content: queue.stateContent, animatePages: animatePages, pushState: false });\n\t        }\n\t        if (queue.action === 'loadPageName') {\n\t            app.router.load(queue.view, { pageName: queue.statePageName, url: queue.stateUrl, animatePages: animatePages, pushState: false });\n\t        }\n\t    };\n\t\n\t    app.initPushState = function () {\n\t        var blockPopstate = true;\n\t        $(window).on('load', function () {\n\t            setTimeout(function () {\n\t                blockPopstate = false;\n\t            }, 0);\n\t        });\n\t\n\t        if (document.readyState && document.readyState === 'complete') {\n\t            blockPopstate = false;\n\t        }\n\t\n\t        function handlePopState(e) {\n\t            if (blockPopstate) return;\n\t            var mainView = app.mainView;\n\t            if (!mainView) return;\n\t            var state = e.state;\n\t            if (!state) {\n\t                state = {\n\t                    viewIndex: app.views.indexOf(mainView),\n\t                    url: mainView.history[0]\n\t                };\n\t            }\n\t            if (state.viewIndex < 0) return;\n\t            var view = app.views[state.viewIndex];\n\t            var stateUrl = state && state.url || undefined;\n\t            var stateContent = state && state.content || undefined;\n\t            var statePageName = state && state.pageName || undefined;\n\t            var animatePages;\n\t\n\t            if (app.params.pushStateNoAnimation === true) animatePages = false;\n\t\n\t            if (stateUrl !== view.url) {\n\t                if (view.history.indexOf(stateUrl) >= 0) {\n\t                    // Go Back\n\t                    if (view.allowPageChange) {\n\t                        app.router.back(view, { url: undefined, animatePages: animatePages, pushState: false, preloadOnly: false });\n\t                    } else {\n\t                        app.pushStateQueue.push({\n\t                            action: 'back',\n\t                            view: view\n\t                        });\n\t                    }\n\t                } else if (stateContent) {\n\t                    // Load Page\n\t                    if (view.allowPageChange) {\n\t                        app.router.load(view, { content: stateContent, animatePages: animatePages, pushState: false });\n\t                    } else {\n\t                        app.pushStateQueue.unshift({\n\t                            action: 'loadContent',\n\t                            stateContent: stateContent,\n\t                            view: view\n\t                        });\n\t                    }\n\t                } else if (statePageName) {\n\t                    // Load Page by page name with Dom Cache\n\t                    if (view.allowPageChange) {\n\t                        app.router.load(view, { pageName: statePageName, url: stateUrl, animatePages: animatePages, pushState: false });\n\t                    } else {\n\t                        app.pushStateQueue.unshift({\n\t                            action: 'loadPageName',\n\t                            statePageName: statePageName,\n\t                            view: view\n\t                        });\n\t                    }\n\t                } else {\n\t                    // Load Page\n\t                    if (view.allowPageChange) {\n\t                        app.router.load(view, { url: stateUrl, animatePages: animatePages, pushState: false });\n\t                    } else {\n\t                        app.pushStateQueue.unshift({\n\t                            action: 'loadPage',\n\t                            stateUrl: stateUrl,\n\t                            view: view\n\t                        });\n\t                    }\n\t                }\n\t            }\n\t        }\n\t        $(window).on('popstate', handlePopState);\n\t    };\n\t\n\t    /*===========================\n\t    Framework7 Swiper Additions\n\t    ===========================*/\n\t    app.swiper = function (container, params) {\n\t        return new Swiper(container, params);\n\t    };\n\t    app.initPageSwiper = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        var swipers = pageContainer.find('.swiper-init, .tabs-swipeable-wrap');\n\t        if (swipers.length === 0) return;\n\t        function destroySwiperOnRemove(slider) {\n\t            function destroySwiper() {\n\t                slider.destroy();\n\t                pageContainer.off('pageBeforeRemove', destroySwiper);\n\t            }\n\t            pageContainer.on('pageBeforeRemove', destroySwiper);\n\t        }\n\t        swipers.each(function () {\n\t            var swiper = $(this);\n\t            if (swiper.hasClass('tabs-swipeable-wrap')) {\n\t                swiper.addClass('swiper-container').children('.tabs').addClass('swiper-wrapper').children('.tab').addClass('swiper-slide');\n\t            }\n\t            var params;\n\t            if (swiper.data('swiper')) {\n\t                params = JSON.parse(swiper.data('swiper'));\n\t            } else {\n\t                params = swiper.dataset();\n\t            }\n\t            if (swiper.hasClass('tabs-swipeable-wrap')) {\n\t                params.onSlideChangeStart = function (s) {\n\t                    app.showTab(s.slides.eq(s.activeIndex));\n\t                };\n\t            }\n\t            var _slider = app.swiper(swiper[0], params);\n\t            destroySwiperOnRemove(_slider);\n\t        });\n\t    };\n\t    app.reinitPageSwiper = function (pageContainer) {\n\t        pageContainer = $(pageContainer);\n\t        var sliders = pageContainer.find('.swiper-init, .tabs-swipeable-wrap');\n\t        if (sliders.length === 0) return;\n\t        for (var i = 0; i < sliders.length; i++) {\n\t            var sliderInstance = sliders[0].swiper;\n\t            if (sliderInstance) {\n\t                sliderInstance.update(true);\n\t            }\n\t        }\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Photo Browser   ************\n\t    ======================================================*/\n\t    var PhotoBrowser = function PhotoBrowser(params) {\n\t        var pb = this,\n\t            i;\n\t\n\t        var defaults = {\n\t            photos: [],\n\t            initialSlide: 0,\n\t            spaceBetween: 20,\n\t            speed: 300,\n\t            zoom: true,\n\t            maxZoom: 3,\n\t            minZoom: 1,\n\t            exposition: true,\n\t            expositionHideCaptions: false,\n\t            type: 'standalone',\n\t            navbar: true,\n\t            toolbar: true,\n\t            theme: 'light',\n\t            swipeToClose: true,\n\t            backLinkText: 'Close',\n\t            ofText: 'of',\n\t            loop: false,\n\t            lazyLoading: false,\n\t            lazyLoadingInPrevNext: false,\n\t            lazyLoadingOnTransitionStart: false,\n\t            material: app.params.material,\n\t            materialPreloaderSvg: app.params.materialPreloaderSvg,\n\t            materialPreloaderHtml: app.params.materialPreloaderHtml\n\t        };\n\t\n\t        params = params || {};\n\t        if (!params.backLinkText && app.params.material) defaults.backLinkText = '';\n\t        for (var def in defaults) {\n\t            if (typeof params[def] === 'undefined') {\n\t                params[def] = defaults[def];\n\t            }\n\t        }\n\t\n\t        pb.params = params;\n\t        pb.params.iconsColorClass = pb.params.iconsColor ? 'color-' + pb.params.iconsColor : pb.params.theme === 'dark' ? 'color-white' : '';\n\t        pb.params.preloaderColorClass = pb.params.theme === 'dark' ? 'preloader-white' : '';\n\t\n\t        // Templates\n\t        var photoTemplate = pb.params.photoTemplate || '<div class=\"photo-browser-slide swiper-slide\">' + '<span class=\"photo-browser-zoom-container\">' + '<img src=\"{{js \"this.url || this\"}}\">' + '</span>' + '</div>';\n\t        var photoLazyTemplate = pb.params.lazyPhotoTemplate || '<div class=\"photo-browser-slide photo-browser-slide-lazy swiper-slide\">' + '<div class=\"preloader {{@root.preloaderColorClass}}\">{{#if @root.material}}{{@root.materialPreloaderHtml}}{{/if}}</div>' + '<span class=\"photo-browser-zoom-container\">' + '<img data-src=\"{{js \"this.url || this\"}}\" class=\"swiper-lazy\">' + '</span>' + '</div>';\n\t        var objectTemplate = pb.params.objectTemplate || '<div class=\"photo-browser-slide photo-browser-object-slide swiper-slide\">{{js \"this.html || this\"}}</div>';\n\t        var captionTemplate = pb.params.captionTemplate || '<div class=\"photo-browser-caption\" data-caption-index=\"{{@index}}\">' + '{{caption}}' + '</div>';\n\t        var navbarTemplate = pb.params.navbarTemplate || '<div class=\"navbar\">' + '<div class=\"navbar-inner\">' + '<div class=\"left sliding\">' + '<a href=\"#\" class=\"link close-popup photo-browser-close-link {{#unless backLinkText}}icon-only{{/unless}} {{js \"this.type === \\'page\\' ? \\'back\\' : \\'\\'\"}}\">' + '<i class=\"icon icon-back {{iconsColorClass}}\"></i>' + '{{#if backLinkText}}<span>{{backLinkText}}</span>{{/if}}' + '</a>' + '</div>' + '<div class=\"center sliding\">' + '<span class=\"photo-browser-current\"></span> ' + '<span class=\"photo-browser-of\">{{ofText}}</span> ' + '<span class=\"photo-browser-total\"></span>' + '</div>' + '<div class=\"right\"></div>' + '</div>' + '</div>';\n\t        var toolbarTemplate = pb.params.toolbarTemplate || '<div class=\"toolbar tabbar\">' + '<div class=\"toolbar-inner\">' + '<a href=\"#\" class=\"link photo-browser-prev\">' + '<i class=\"icon icon-prev {{iconsColorClass}}\"></i>' + '</a>' + '<a href=\"#\" class=\"link photo-browser-next\">' + '<i class=\"icon icon-next {{iconsColorClass}}\"></i>' + '</a>' + '</div>' + '</div>';\n\t\n\t        var htmlTemplate = t7.compile('<div class=\"photo-browser photo-browser-{{theme}}\">' + '<div class=\"view navbar-fixed toolbar-fixed\">' + '{{#unless material}}{{#if navbar}}' + navbarTemplate + '{{/if}}{{/unless}}' + '<div class=\"page no-toolbar {{#unless navbar}}no-navbar{{/unless}} toolbar-fixed navbar-fixed\" data-page=\"photo-browser-slides\">' + '{{#if material}}{{#if navbar}}' + navbarTemplate + '{{/if}}{{/if}}' + '{{#if toolbar}}' + toolbarTemplate + '{{/if}}' + '<div class=\"photo-browser-captions photo-browser-captions-{{js \"this.captionsTheme || this.theme\"}}\">' + '{{#each photos}}{{#if caption}}' + captionTemplate + '{{/if}}{{/each}}' + '</div>' + '<div class=\"photo-browser-swiper-container swiper-container\">' + '<div class=\"photo-browser-swiper-wrapper swiper-wrapper\">' + '{{#each photos}}' + '{{#js_compare \"this.html || ((typeof this === \\'string\\' || this instanceof String) && (this.indexOf(\\'<\\') >= 0 || this.indexOf(\\'>\\') >= 0))\"}}' + objectTemplate + '{{else}}' + '{{#if @root.lazyLoading}}' + photoLazyTemplate + '{{else}}' + photoTemplate + '{{/if}}' + '{{/js_compare}}' + '{{/each}}' + '</div>' + '</div>' + '</div>' + '</div>' + '</div>')(pb.params);\n\t\n\t        pb.activeIndex = pb.params.initialSlide;\n\t        pb.openIndex = pb.activeIndex;\n\t        pb.opened = false;\n\t\n\t        pb.open = function (index) {\n\t            if (typeof index === 'undefined') index = pb.activeIndex;\n\t            index = parseInt(index, 10);\n\t            if (pb.opened && pb.swiper) {\n\t                pb.swiper.slideTo(index);\n\t                return;\n\t            }\n\t            pb.opened = true;\n\t            pb.openIndex = index;\n\t            if (pb.params.type === 'standalone') {\n\t                $('body').append(htmlTemplate);\n\t            }\n\t            if (pb.params.type === 'popup') {\n\t                pb.popup = app.popup('<div class=\"popup photo-browser-popup\">' + htmlTemplate + '</div>');\n\t                $(pb.popup).on('closed', pb.onPopupClose);\n\t            }\n\t            if (pb.params.type === 'page') {\n\t                $(document).on('pageBeforeInit', pb.onPageBeforeInit);\n\t                $(document).on('pageBeforeRemove', pb.onPageBeforeRemove);\n\t                if (!pb.params.view) pb.params.view = app.mainView;\n\t                pb.params.view.loadContent(htmlTemplate);\n\t                return;\n\t            }\n\t            pb.layout(pb.openIndex);\n\t            if (pb.params.onOpen) {\n\t                pb.params.onOpen(pb);\n\t            }\n\t        };\n\t        pb.close = function () {\n\t            pb.opened = false;\n\t            if (!pb.swiperContainer || pb.swiperContainer.length === 0) {\n\t                return;\n\t            }\n\t            if (pb.params.onClose) {\n\t                pb.params.onClose(pb);\n\t            }\n\t            // Detach events\n\t            pb.attachEvents(true);\n\t            // Delete from DOM\n\t            if (pb.params.type === 'standalone') {\n\t                pb.container.removeClass('photo-browser-in').addClass('photo-browser-out').animationEnd(function () {\n\t                    pb.container.remove();\n\t                });\n\t            }\n\t            // Destroy slider\n\t            pb.swiper.destroy();\n\t            // Delete references\n\t            pb.swiper = pb.swiperContainer = pb.swiperWrapper = pb.slides = gestureSlide = gestureImg = gestureImgWrap = undefined;\n\t        };\n\t\n\t        pb.onPopupClose = function (e) {\n\t            pb.close();\n\t            $(pb.popup).off('pageBeforeInit', pb.onPopupClose);\n\t        };\n\t        pb.onPageBeforeInit = function (e) {\n\t            if (e.detail.page.name === 'photo-browser-slides') {\n\t                pb.layout(pb.openIndex);\n\t            }\n\t            $(document).off('pageBeforeInit', pb.onPageBeforeInit);\n\t        };\n\t        pb.onPageBeforeRemove = function (e) {\n\t            if (e.detail.page.name === 'photo-browser-slides') {\n\t                pb.close();\n\t            }\n\t            $(document).off('pageBeforeRemove', pb.onPageBeforeRemove);\n\t        };\n\t\n\t        pb.onSliderTransitionStart = function (swiper) {\n\t            pb.activeIndex = swiper.activeIndex;\n\t\n\t            var current = swiper.activeIndex + 1;\n\t            var total = swiper.slides.length;\n\t            if (pb.params.loop) {\n\t                total = total - 2;\n\t                current = current - swiper.loopedSlides;\n\t                if (current < 1) current = total + current;\n\t                if (current > total) current = current - total;\n\t            }\n\t            pb.container.find('.photo-browser-current').text(current);\n\t            pb.container.find('.photo-browser-total').text(total);\n\t\n\t            $('.photo-browser-prev, .photo-browser-next').removeClass('photo-browser-link-inactive');\n\t\n\t            if (swiper.isBeginning && !pb.params.loop) {\n\t                $('.photo-browser-prev').addClass('photo-browser-link-inactive');\n\t            }\n\t            if (swiper.isEnd && !pb.params.loop) {\n\t                $('.photo-browser-next').addClass('photo-browser-link-inactive');\n\t            }\n\t\n\t            // Update captions\n\t            if (pb.captions.length > 0) {\n\t                pb.captionsContainer.find('.photo-browser-caption-active').removeClass('photo-browser-caption-active');\n\t                var captionIndex = pb.params.loop ? swiper.slides.eq(swiper.activeIndex).attr('data-swiper-slide-index') : pb.activeIndex;\n\t                pb.captionsContainer.find('[data-caption-index=\"' + captionIndex + '\"]').addClass('photo-browser-caption-active');\n\t            }\n\t\n\t            // Stop Video\n\t            var previousSlideVideo = swiper.slides.eq(swiper.previousIndex).find('video');\n\t            if (previousSlideVideo.length > 0) {\n\t                if ('pause' in previousSlideVideo[0]) previousSlideVideo[0].pause();\n\t            }\n\t            // Callback\n\t            if (pb.params.onTransitionStart) pb.params.onTransitionStart(swiper);\n\t        };\n\t        pb.onSliderTransitionEnd = function (swiper) {\n\t            // Reset zoom\n\t            if (pb.params.zoom && gestureSlide && swiper.previousIndex !== swiper.activeIndex) {\n\t                gestureImg.transform('translate3d(0,0,0) scale(1)');\n\t                gestureImgWrap.transform('translate3d(0,0,0)');\n\t                gestureSlide = gestureImg = gestureImgWrap = undefined;\n\t                scale = currentScale = 1;\n\t            }\n\t            if (pb.params.onTransitionEnd) pb.params.onTransitionEnd(swiper);\n\t        };\n\t\n\t        pb.layout = function (index) {\n\t            if (pb.params.type === 'page') {\n\t                pb.container = $('.photo-browser-swiper-container').parents('.view');\n\t            } else {\n\t                pb.container = $('.photo-browser');\n\t            }\n\t            if (pb.params.type === 'standalone') {\n\t                pb.container.addClass('photo-browser-in');\n\t                app.sizeNavbars(pb.container);\n\t            }\n\t            pb.swiperContainer = pb.container.find('.photo-browser-swiper-container');\n\t            pb.swiperWrapper = pb.container.find('.photo-browser-swiper-wrapper');\n\t            pb.slides = pb.container.find('.photo-browser-slide');\n\t            pb.captionsContainer = pb.container.find('.photo-browser-captions');\n\t            pb.captions = pb.container.find('.photo-browser-caption');\n\t\n\t            var sliderSettings = {\n\t                nextButton: pb.params.nextButton || '.photo-browser-next',\n\t                prevButton: pb.params.prevButton || '.photo-browser-prev',\n\t                indexButton: pb.params.indexButton,\n\t                initialSlide: index,\n\t                spaceBetween: pb.params.spaceBetween,\n\t                speed: pb.params.speed,\n\t                loop: pb.params.loop,\n\t                lazyLoading: pb.params.lazyLoading,\n\t                lazyLoadingInPrevNext: pb.params.lazyLoadingInPrevNext,\n\t                lazyLoadingOnTransitionStart: pb.params.lazyLoadingOnTransitionStart,\n\t                preloadImages: pb.params.lazyLoading ? false : true,\n\t                onTap: function onTap(swiper, e) {\n\t                    if (pb.params.onTap) pb.params.onTap(swiper, e);\n\t                },\n\t                onClick: function onClick(swiper, e) {\n\t                    if (pb.params.exposition) pb.toggleExposition();\n\t                    if (pb.params.onClick) pb.params.onClick(swiper, e);\n\t                },\n\t                onDoubleTap: function onDoubleTap(swiper, e) {\n\t                    pb.toggleZoom(e);\n\t                    if (pb.params.onDoubleTap) pb.params.onDoubleTap(swiper, e);\n\t                },\n\t                onTransitionStart: function onTransitionStart(swiper) {\n\t                    pb.onSliderTransitionStart(swiper);\n\t                },\n\t                onTransitionEnd: function onTransitionEnd(swiper) {\n\t                    pb.onSliderTransitionEnd(swiper);\n\t                },\n\t                onSlideChangeStart: pb.params.onSlideChangeStart,\n\t                onSlideChangeEnd: pb.params.onSlideChangeEnd,\n\t                onLazyImageLoad: function onLazyImageLoad(swiper, slide, img) {\n\t                    if (pb.params.onLazyImageLoad) pb.params.onLazyImageLoad(pb, slide, img);\n\t                },\n\t                onLazyImageReady: function onLazyImageReady(swiper, slide, img) {\n\t                    $(slide).removeClass('photo-browser-slide-lazy');\n\t                    if (pb.params.onLazyImageReady) pb.params.onLazyImageReady(pb, slide, img);\n\t                }\n\t            };\n\t\n\t            if (pb.params.swipeToClose && pb.params.type !== 'page') {\n\t                sliderSettings.onTouchStart = pb.swipeCloseTouchStart;\n\t                sliderSettings.onTouchMoveOpposite = pb.swipeCloseTouchMove;\n\t                sliderSettings.onTouchEnd = pb.swipeCloseTouchEnd;\n\t            }\n\t\n\t            pb.swiper = app.swiper(pb.swiperContainer, sliderSettings);\n\t            if (index === 0) {\n\t                pb.onSliderTransitionStart(pb.swiper);\n\t            }\n\t            pb.attachEvents();\n\t        };\n\t        pb.attachEvents = function (detach) {\n\t            var action = detach ? 'off' : 'on';\n\t            // Slide between photos\n\t\n\t            if (pb.params.zoom) {\n\t                var target = pb.params.loop ? pb.swiper.slides : pb.slides;\n\t                // Scale image\n\t                target[action]('gesturestart', pb.onSlideGestureStart);\n\t                target[action]('gesturechange', pb.onSlideGestureChange);\n\t                target[action]('gestureend', pb.onSlideGestureEnd);\n\t\n\t                // Move image\n\t                target[action](app.touchEvents.start, pb.onSlideTouchStart);\n\t                target[action](app.touchEvents.move, pb.onSlideTouchMove);\n\t                target[action](app.touchEvents.end, pb.onSlideTouchEnd);\n\t            }\n\t            pb.container.find('.photo-browser-close-link')[action]('click', pb.close);\n\t        };\n\t\n\t        var isTouched,\n\t            isMoved,\n\t            touchesStart = {},\n\t            touchesCurrent = {},\n\t            touchStartTime,\n\t            isScrolling,\n\t            animating = false,\n\t            currentTranslate;\n\t        var allowClick = true;\n\t\n\t        // Expose\n\t        pb.exposed = false;\n\t        pb.toggleExposition = function () {\n\t            if (pb.container) pb.container.toggleClass('photo-browser-exposed');\n\t            if (pb.params.expositionHideCaptions) pb.captionsContainer.toggleClass('photo-browser-captions-exposed');\n\t            pb.exposed = !pb.exposed;\n\t        };\n\t        pb.enableExposition = function () {\n\t            if (pb.container) pb.container.addClass('photo-browser-exposed');\n\t            if (pb.params.expositionHideCaptions) pb.captionsContainer.addClass('photo-browser-captions-exposed');\n\t            pb.exposed = true;\n\t        };\n\t        pb.disableExposition = function () {\n\t            if (pb.container) pb.container.removeClass('photo-browser-exposed');\n\t            if (pb.params.expositionHideCaptions) pb.captionsContainer.removeClass('photo-browser-captions-exposed');\n\t            pb.exposed = false;\n\t        };\n\t\n\t        // Gestures\n\t        var gestureSlide,\n\t            gestureImg,\n\t            gestureImgWrap,\n\t            scale = 1,\n\t            currentScale = 1,\n\t            isScaling = false;\n\t        pb.onSlideGestureStart = function (e) {\n\t            if (!gestureSlide || !gestureSlide.length) {\n\t                gestureSlide = $(this);\n\t                if (gestureSlide.length === 0) gestureSlide = pb.swiper.slides.eq(pb.swiper.activeIndex);\n\t                gestureImg = gestureSlide.find('img, svg, canvas');\n\t                gestureImgWrap = gestureImg.parent('.photo-browser-zoom-container');\n\t                if (gestureImgWrap.length === 0) {\n\t                    gestureImg = undefined;\n\t                    return;\n\t                }\n\t            }\n\t            gestureImg.transition(0);\n\t            isScaling = true;\n\t        };\n\t        pb.onSlideGestureChange = function (e) {\n\t            if (!gestureImg || gestureImg.length === 0) return;\n\t            scale = e.scale * currentScale;\n\t            if (scale > pb.params.maxZoom) {\n\t                scale = pb.params.maxZoom - 1 + Math.pow(scale - pb.params.maxZoom + 1, 0.5);\n\t            }\n\t            if (scale < pb.params.minZoom) {\n\t                scale = pb.params.minZoom + 1 - Math.pow(pb.params.minZoom - scale + 1, 0.5);\n\t            }\n\t            gestureImg.transform('translate3d(0,0,0) scale(' + scale + ')');\n\t        };\n\t        pb.onSlideGestureEnd = function (e) {\n\t            if (!gestureImg || gestureImg.length === 0) return;\n\t            scale = Math.max(Math.min(scale, pb.params.maxZoom), pb.params.minZoom);\n\t            gestureImg.transition(pb.params.speed).transform('translate3d(0,0,0) scale(' + scale + ')');\n\t            currentScale = scale;\n\t            isScaling = false;\n\t            if (scale === 1) gestureSlide = undefined;\n\t        };\n\t        pb.toggleZoom = function (e) {\n\t            if (!gestureSlide) {\n\t                gestureSlide = pb.swiper.slides.eq(pb.swiper.activeIndex);\n\t                gestureImg = gestureSlide.find('img, svg, canvas');\n\t                gestureImgWrap = gestureImg.parent('.photo-browser-zoom-container');\n\t            }\n\t            if (!gestureImg || gestureImg.length === 0) return;\n\t\n\t            var touchX, touchY, offsetX, offsetY, diffX, diffY, translateX, translateY, imageWidth, imageHeight, scaledWidth, scaledHeight, translateMinX, translateMinY, translateMaxX, translateMaxY;\n\t\n\t            if (typeof imageTouchesStart.x === 'undefined' && e) {\n\t                touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n\t                touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n\t            } else {\n\t                touchX = imageTouchesStart.x;\n\t                touchY = imageTouchesStart.y;\n\t            }\n\t\n\t            if (scale && scale !== 1) {\n\t                // Zoom Out\n\t                scale = currentScale = 1;\n\t                gestureImgWrap.transition(300).transform('translate3d(0,0,0)');\n\t                gestureImg.transition(300).transform('translate3d(0,0,0) scale(1)');\n\t                gestureSlide = undefined;\n\t            } else {\n\t                // Zoom In\n\t                scale = currentScale = pb.params.maxZoom;\n\t                if (e) {\n\t                    offsetX = pb.container.offset().left;\n\t                    offsetY = pb.container.offset().top;\n\t                    diffX = offsetX + pb.container[0].offsetWidth / 2 - touchX;\n\t                    diffY = offsetY + pb.container[0].offsetHeight / 2 - touchY;\n\t\n\t                    imageWidth = gestureImg[0].offsetWidth;\n\t                    imageHeight = gestureImg[0].offsetHeight;\n\t                    scaledWidth = imageWidth * scale;\n\t                    scaledHeight = imageHeight * scale;\n\t\n\t                    translateMinX = Math.min(pb.swiper.width / 2 - scaledWidth / 2, 0);\n\t                    translateMinY = Math.min(pb.swiper.height / 2 - scaledHeight / 2, 0);\n\t                    translateMaxX = -translateMinX;\n\t                    translateMaxY = -translateMinY;\n\t\n\t                    translateX = diffX * scale;\n\t                    translateY = diffY * scale;\n\t\n\t                    if (translateX < translateMinX) {\n\t                        translateX = translateMinX;\n\t                    }\n\t                    if (translateX > translateMaxX) {\n\t                        translateX = translateMaxX;\n\t                    }\n\t\n\t                    if (translateY < translateMinY) {\n\t                        translateY = translateMinY;\n\t                    }\n\t                    if (translateY > translateMaxY) {\n\t                        translateY = translateMaxY;\n\t                    }\n\t                } else {\n\t                    translateX = 0;\n\t                    translateY = 0;\n\t                }\n\t                gestureImgWrap.transition(300).transform('translate3d(' + translateX + 'px, ' + translateY + 'px,0)');\n\t                gestureImg.transition(300).transform('translate3d(0,0,0) scale(' + scale + ')');\n\t            }\n\t        };\n\t\n\t        var imageIsTouched,\n\t            imageIsMoved,\n\t            imageCurrentX,\n\t            imageCurrentY,\n\t            imageMinX,\n\t            imageMinY,\n\t            imageMaxX,\n\t            imageMaxY,\n\t            imageWidth,\n\t            imageHeight,\n\t            imageTouchesStart = {},\n\t            imageTouchesCurrent = {},\n\t            imageStartX,\n\t            imageStartY,\n\t            velocityPrevPositionX,\n\t            velocityPrevTime,\n\t            velocityX,\n\t            velocityPrevPositionY,\n\t            velocityY;\n\t\n\t        pb.onSlideTouchStart = function (e) {\n\t            if (!gestureImg || gestureImg.length === 0) return;\n\t            if (imageIsTouched) return;\n\t            if (app.device.os === 'android') e.preventDefault();\n\t            imageIsTouched = true;\n\t            imageTouchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n\t            imageTouchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n\t        };\n\t        pb.onSlideTouchMove = function (e) {\n\t            if (!gestureImg || gestureImg.length === 0) return;\n\t            pb.swiper.allowClick = false;\n\t            if (!imageIsTouched || !gestureSlide) return;\n\t\n\t            if (!imageIsMoved) {\n\t                imageWidth = gestureImg[0].offsetWidth;\n\t                imageHeight = gestureImg[0].offsetHeight;\n\t                imageStartX = $.getTranslate(gestureImgWrap[0], 'x') || 0;\n\t                imageStartY = $.getTranslate(gestureImgWrap[0], 'y') || 0;\n\t                gestureImgWrap.transition(0);\n\t            }\n\t            // Define if we need image drag\n\t            var scaledWidth = imageWidth * scale;\n\t            var scaledHeight = imageHeight * scale;\n\t\n\t            if (scaledWidth < pb.swiper.width && scaledHeight < pb.swiper.height) return;\n\t\n\t            imageMinX = Math.min(pb.swiper.width / 2 - scaledWidth / 2, 0);\n\t            imageMaxX = -imageMinX;\n\t            imageMinY = Math.min(pb.swiper.height / 2 - scaledHeight / 2, 0);\n\t            imageMaxY = -imageMinY;\n\t\n\t            imageTouchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n\t            imageTouchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\t\n\t            if (!imageIsMoved && !isScaling) {\n\t                if (Math.floor(imageMinX) === Math.floor(imageStartX) && imageTouchesCurrent.x < imageTouchesStart.x || Math.floor(imageMaxX) === Math.floor(imageStartX) && imageTouchesCurrent.x > imageTouchesStart.x) {\n\t                    imageIsTouched = false;\n\t                    return;\n\t                }\n\t            }\n\t            e.preventDefault();\n\t            e.stopPropagation();\n\t            imageIsMoved = true;\n\t            imageCurrentX = imageTouchesCurrent.x - imageTouchesStart.x + imageStartX;\n\t            imageCurrentY = imageTouchesCurrent.y - imageTouchesStart.y + imageStartY;\n\t\n\t            if (imageCurrentX < imageMinX) {\n\t                imageCurrentX = imageMinX + 1 - Math.pow(imageMinX - imageCurrentX + 1, 0.8);\n\t            }\n\t            if (imageCurrentX > imageMaxX) {\n\t                imageCurrentX = imageMaxX - 1 + Math.pow(imageCurrentX - imageMaxX + 1, 0.8);\n\t            }\n\t\n\t            if (imageCurrentY < imageMinY) {\n\t                imageCurrentY = imageMinY + 1 - Math.pow(imageMinY - imageCurrentY + 1, 0.8);\n\t            }\n\t            if (imageCurrentY > imageMaxY) {\n\t                imageCurrentY = imageMaxY - 1 + Math.pow(imageCurrentY - imageMaxY + 1, 0.8);\n\t            }\n\t\n\t            //Velocity\n\t            if (!velocityPrevPositionX) velocityPrevPositionX = imageTouchesCurrent.x;\n\t            if (!velocityPrevPositionY) velocityPrevPositionY = imageTouchesCurrent.y;\n\t            if (!velocityPrevTime) velocityPrevTime = Date.now();\n\t            velocityX = (imageTouchesCurrent.x - velocityPrevPositionX) / (Date.now() - velocityPrevTime) / 2;\n\t            velocityY = (imageTouchesCurrent.y - velocityPrevPositionY) / (Date.now() - velocityPrevTime) / 2;\n\t            if (Math.abs(imageTouchesCurrent.x - velocityPrevPositionX) < 2) velocityX = 0;\n\t            if (Math.abs(imageTouchesCurrent.y - velocityPrevPositionY) < 2) velocityY = 0;\n\t            velocityPrevPositionX = imageTouchesCurrent.x;\n\t            velocityPrevPositionY = imageTouchesCurrent.y;\n\t            velocityPrevTime = Date.now();\n\t\n\t            gestureImgWrap.transform('translate3d(' + imageCurrentX + 'px, ' + imageCurrentY + 'px,0)');\n\t        };\n\t        pb.onSlideTouchEnd = function (e) {\n\t            if (!gestureImg || gestureImg.length === 0) return;\n\t            if (!imageIsTouched || !imageIsMoved) {\n\t                imageIsTouched = false;\n\t                imageIsMoved = false;\n\t                return;\n\t            }\n\t            imageIsTouched = false;\n\t            imageIsMoved = false;\n\t            var momentumDurationX = 300;\n\t            var momentumDurationY = 300;\n\t            var momentumDistanceX = velocityX * momentumDurationX;\n\t            var newPositionX = imageCurrentX + momentumDistanceX;\n\t            var momentumDistanceY = velocityY * momentumDurationY;\n\t            var newPositionY = imageCurrentY + momentumDistanceY;\n\t\n\t            //Fix duration\n\t            if (velocityX !== 0) momentumDurationX = Math.abs((newPositionX - imageCurrentX) / velocityX);\n\t            if (velocityY !== 0) momentumDurationY = Math.abs((newPositionY - imageCurrentY) / velocityY);\n\t            var momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n\t\n\t            imageCurrentX = newPositionX;\n\t            imageCurrentY = newPositionY;\n\t\n\t            // Define if we need image drag\n\t            var scaledWidth = imageWidth * scale;\n\t            var scaledHeight = imageHeight * scale;\n\t            imageMinX = Math.min(pb.swiper.width / 2 - scaledWidth / 2, 0);\n\t            imageMaxX = -imageMinX;\n\t            imageMinY = Math.min(pb.swiper.height / 2 - scaledHeight / 2, 0);\n\t            imageMaxY = -imageMinY;\n\t            imageCurrentX = Math.max(Math.min(imageCurrentX, imageMaxX), imageMinX);\n\t            imageCurrentY = Math.max(Math.min(imageCurrentY, imageMaxY), imageMinY);\n\t\n\t            gestureImgWrap.transition(momentumDuration).transform('translate3d(' + imageCurrentX + 'px, ' + imageCurrentY + 'px,0)');\n\t        };\n\t\n\t        // Swipe Up To Close\n\t        var swipeToCloseIsTouched = false;\n\t        var allowSwipeToClose = true;\n\t        var swipeToCloseDiff,\n\t            swipeToCloseStart,\n\t            swipeToCloseCurrent,\n\t            swipeToCloseStarted = false,\n\t            swipeToCloseActiveSlide,\n\t            swipeToCloseTimeStart;\n\t        pb.swipeCloseTouchStart = function (swiper, e) {\n\t            if (!allowSwipeToClose) return;\n\t            swipeToCloseIsTouched = true;\n\t        };\n\t        pb.swipeCloseTouchMove = function (swiper, e) {\n\t            if (!swipeToCloseIsTouched) return;\n\t            if (!swipeToCloseStarted) {\n\t                swipeToCloseStarted = true;\n\t                swipeToCloseStart = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\t                swipeToCloseActiveSlide = pb.swiper.slides.eq(pb.swiper.activeIndex);\n\t                swipeToCloseTimeStart = new Date().getTime();\n\t            }\n\t            e.preventDefault();\n\t            swipeToCloseCurrent = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\t            swipeToCloseDiff = swipeToCloseStart - swipeToCloseCurrent;\n\t            var opacity = 1 - Math.abs(swipeToCloseDiff) / 300;\n\t            swipeToCloseActiveSlide.transform('translate3d(0,' + -swipeToCloseDiff + 'px,0)');\n\t            pb.swiper.container.css('opacity', opacity).transition(0);\n\t        };\n\t        pb.swipeCloseTouchEnd = function (swiper, e) {\n\t            swipeToCloseIsTouched = false;\n\t            if (!swipeToCloseStarted) {\n\t                swipeToCloseStarted = false;\n\t                return;\n\t            }\n\t            swipeToCloseStarted = false;\n\t            allowSwipeToClose = false;\n\t            var diff = Math.abs(swipeToCloseDiff);\n\t            var timeDiff = new Date().getTime() - swipeToCloseTimeStart;\n\t            if (timeDiff < 300 && diff > 20 || timeDiff >= 300 && diff > 100) {\n\t                setTimeout(function () {\n\t                    if (pb.params.type === 'standalone') {\n\t                        pb.close();\n\t                    }\n\t                    if (pb.params.type === 'popup') {\n\t                        app.closeModal(pb.popup);\n\t                    }\n\t                    if (pb.params.onSwipeToClose) {\n\t                        pb.params.onSwipeToClose(pb);\n\t                    }\n\t                    allowSwipeToClose = true;\n\t                }, 0);\n\t                return;\n\t            }\n\t            if (diff !== 0) {\n\t                swipeToCloseActiveSlide.addClass('transitioning').transitionEnd(function () {\n\t                    allowSwipeToClose = true;\n\t                    swipeToCloseActiveSlide.removeClass('transitioning');\n\t                });\n\t            } else {\n\t                allowSwipeToClose = true;\n\t            }\n\t            pb.swiper.container.css('opacity', '').transition('');\n\t            swipeToCloseActiveSlide.transform('');\n\t        };\n\t\n\t        return pb;\n\t    };\n\t\n\t    app.photoBrowser = function (params) {\n\t        return new PhotoBrowser(params);\n\t    };\n\t\n\t    /*===============================================================================\n\t    ************   Autocomplete   ************\n\t    ===============================================================================*/\n\t    var Autocomplete = function Autocomplete(params) {\n\t        var a = this;\n\t\n\t        // Params\n\t        var defaults = {\n\t            // Standalone Options\n\t            /*\n\t            opener: undefined,\n\t            */\n\t            popupCloseText: 'Close',\n\t            backText: 'Back',\n\t            searchbarPlaceholderText: 'Search...',\n\t            searchbarCancelText: 'Cancel',\n\t            openIn: 'page',\n\t            backOnSelect: false,\n\t            notFoundText: 'Nothing found',\n\t            /*\n\t            pageTitle: undefined,\n\t            */\n\t\n\t            // Handle Data\n\t            /*\n\t            source: undefined,\n\t            limit: undefined,\n\t            */\n\t            valueProperty: 'id',\n\t            textProperty: 'text',\n\t\n\t            // Dropdown Options\n\t            /*\n\t            dropdownPlaceholderText: 'Type anything...',\n\t            */\n\t            updateInputValueOnSelect: true,\n\t            expandInput: false,\n\t\n\t            // Preloader\n\t            preloaderColor: false,\n\t            preloader: false\n\t\n\t        };\n\t\n\t        params = params || {};\n\t        for (var def in defaults) {\n\t            if (typeof params[def] === 'undefined') {\n\t                params[def] = defaults[def];\n\t            }\n\t        }\n\t        a.params = params;\n\t\n\t        // Opener Link & View\n\t        if (a.params.opener) {\n\t            a.opener = $(a.params.opener);\n\t        }\n\t        var view = a.params.view;\n\t        if (!a.params.view && a.opener && a.opener.length) {\n\t            // Find related view\n\t            view = a.opener.parents('.' + app.params.viewClass);\n\t            if (view.length === 0) return;\n\t            view = view[0].f7View;\n\t        }\n\t\n\t        // Input\n\t        if (a.params.input) {\n\t            a.input = $(a.params.input);\n\t            if (a.input.length === 0 && a.params.openIn === 'dropdown') return;\n\t        }\n\t\n\t        // Array with selected items\n\t        a.value = a.params.value || [];\n\t\n\t        // ID & Inputs\n\t        a.id = new Date().getTime();\n\t        a.inputType = a.params.multiple ? 'checkbox' : 'radio';\n\t        a.inputName = a.inputType + '-' + a.id;\n\t\n\t        // Is Material\n\t        var material = app.params.material;\n\t\n\t        // Back On Select\n\t        var backOnSelect = a.params.backOnSelect;\n\t\n\t        if (a.params.openIn !== 'dropdown') {\n\t            // Item Template\n\t            a.itemTemplate = t7.compile(a.params.itemTemplate || '<li>' + '<label class=\"label-{{inputType}} item-content\">' + '<input type=\"{{inputType}}\" name=\"{{inputName}}\" value=\"{{value}}\" {{#if selected}}checked{{/if}}>' + '{{#if material}}' + '<div class=\"item-media\">' + '<i class=\"icon icon-form-{{inputType}}\"></i>' + '</div>' + '<div class=\"item-inner\">' + '<div class=\"item-title\">{{text}}</div>' + '</div>' + '{{else}}' + '{{#if checkbox}}' + '<div class=\"item-media\">' + '<i class=\"icon icon-form-checkbox\"></i>' + '</div>' + '{{/if}}' + '<div class=\"item-inner\">' + '<div class=\"item-title\">{{text}}</div>' + '</div>' + '{{/if}}' + '</label>' + '</li>');\n\t            // Page Layout\n\t            var pageTitle = a.params.pageTitle || '';\n\t            if (!pageTitle && a.opener && a.opener.length) {\n\t                pageTitle = a.opener.find('.item-title').text();\n\t            }\n\t            var pageName = 'autocomplete-' + a.inputName;\n\t\n\t            var navbarTheme = a.params.navbarTheme,\n\t                formTheme = a.params.formTheme;\n\t\n\t            // Navbar HTML\n\t            var navbarHTML;\n\t            var noNavbar = '',\n\t                noToolbar = '',\n\t                navbarLayout;\n\t\n\t            a.navbarTemplate = t7.compile(a.params.navbarTemplate || '<div class=\"navbar {{#if navbarTheme}}theme-{{navbarTheme}}{{/if}}\">' + '<div class=\"navbar-inner\">' + '<div class=\"left sliding\">' + '{{#if material}}' + '<a href=\"#\" class=\"link {{#if inPopup}}close-popup{{else}}back{{/if}} icon-only\"><i class=\"icon icon-back\"></i></a>' + '{{else}}' + '<a href=\"#\" class=\"link {{#if inPopup}}close-popup{{else}}back{{/if}}\">' + '<i class=\"icon icon-back\"></i>' + '{{#if inPopup}}' + '<span>{{popupCloseText}}</span>' + '{{else}}' + '<span>{{backText}}</span>' + '{{/if}}' + '</a>' + '{{/if}}' + '</div>' + '<div class=\"center sliding\">{{pageTitle}}</div>' + '{{#if preloader}}' + '<div class=\"right\">' + '<div class=\"autocomplete-preloader preloader {{#if preloaderColor}}preloader-{{preloaderColor}}{{/if}}\"></div>' + '</div>' + '{{/if}}' + '</div>' + '</div>');\n\t            navbarHTML = a.navbarTemplate({\n\t                pageTitle: pageTitle,\n\t                backText: a.params.backText,\n\t                popupCloseText: a.params.popupCloseText,\n\t                openIn: a.params.openIn,\n\t                navbarTheme: navbarTheme,\n\t                inPopup: a.params.openIn === 'popup',\n\t                inPage: a.params.openIn === 'page',\n\t                material: material,\n\t                preloader: a.params.preloader,\n\t                preloaderColor: a.params.preloaderColor\n\t            });\n\t\n\t            // Determine navbar layout type - static/fixed/through\n\t            if (a.params.openIn === 'page') {\n\t                navbarLayout = 'static';\n\t                if (a.opener) {\n\t                    if (a.opener.parents('.navbar-through').length > 0) navbarLayout = 'through';\n\t                    if (a.opener.parents('.navbar-fixed').length > 0) navbarLayout = 'fixed';\n\t                    noToolbar = a.opener.parents('.page').hasClass('no-toolbar') ? 'no-toolbar' : '';\n\t                    noNavbar = a.opener.parents('.page').hasClass('no-navbar') ? 'no-navbar' : 'navbar-' + navbarLayout;\n\t                } else if (view.container) {\n\t                    if ($(view.container).hasClass('navbar-through') || $(view.container).find('.navbar-through').length > 0) navbarLayout = 'through';\n\t                    if ($(view.container).hasClass('navbar-fixed') || $(view.container).find('.navbar-fixed').length > 0) navbarLayout = 'fixed';\n\t                    noToolbar = $(view.activePage.container).hasClass('no-toolbar') ? 'no-toolbar' : '';\n\t                    noNavbar = $(view.activePage.container).hasClass('no-navbar') ? 'no-navbar' : 'navbar-' + navbarLayout;\n\t                }\n\t            } else {\n\t                navbarLayout = 'fixed';\n\t            }\n\t            var searchbarHTML = '<form class=\"searchbar\">' + '<div class=\"searchbar-input\">' + '<input type=\"search\" placeholder=\"' + a.params.searchbarPlaceholderText + '\">' + '<a href=\"#\" class=\"searchbar-clear\"></a>' + '</div>' + (material ? '' : '<a href=\"#\" class=\"searchbar-cancel\">' + a.params.searchbarCancelText + '</a>') + '</form>' + '<div class=\"searchbar-overlay\"></div>';\n\t            var pageHTML = (navbarLayout === 'through' ? navbarHTML : '') + '<div class=\"pages\">' + '<div data-page=\"' + pageName + '\" class=\"page autocomplete-page ' + noNavbar + ' ' + noToolbar + '\">' + (navbarLayout === 'fixed' ? navbarHTML : '') + searchbarHTML + '<div class=\"page-content\">' + (navbarLayout === 'static' ? navbarHTML : '') + '<div class=\"list-block autocomplete-found autocomplete-list-' + a.id + ' ' + (formTheme ? 'theme-' + formTheme : '') + '\">' + '<ul></ul>' + '</div>' + '<div class=\"list-block autocomplete-not-found\">' + '<ul><li class=\"item-content\"><div class=\"item-inner\"><div class=\"item-title\">' + a.params.notFoundText + '</div></div></li></ul>' + '</div>' + '<div class=\"list-block autocomplete-values\">' + '<ul></ul>' + '</div>' + '</div>' + '</div>' + '</div>';\n\t        } else {\n\t            a.dropdownItemTemplate = t7.compile(a.params.dropdownItemTemplate || '<li>' + '<label class=\"{{#unless placeholder}}label-radio{{/unless}} item-content\" data-value=\"{{value}}\">' + '<div class=\"item-inner\">' + '<div class=\"item-title\">{{text}}</div>' + '</div>' + '</label>' + '</li>');\n\t            a.dropdownPlaceholderTemplate = t7.compile(a.params.dropdownPlaceholderTemplate || '<li class=\"autocomplete-dropdown-placeholder\">' + '<div class=\"item-content\">' + '<div class=\"item-inner\">' + '<div class=\"item-title\">{{text}}</div>' + '</div>' + '</label>' + '</li>');\n\t            a.dropdownTemplate = t7.compile(a.params.dropdownTemplate || '<div class=\"autocomplete-dropdown\">' + '<div class=\"autocomplete-dropdown-inner\">' + '<div class=\"list-block\">' + '<ul></ul>' + '</div>' + '</div>' + '{{#if preloader}}' + '<div class=\"autocomplete-preloader preloader {{#if preloaderColor}}preloader-{{preloaderColor}}{{/if}}\">{{#if material}}{{materialPreloaderHtml}}{{/if}}</div>' + '{{/if}}' + '</div>');\n\t        }\n\t\n\t        // Define popup\n\t        a.popup = undefined;\n\t\n\t        // Define Dropdown\n\t        a.dropdown = undefined;\n\t\n\t        // Handle Input Value Change\n\t        function handleInputValue(e) {\n\t            var query = a.input.val();\n\t            if (a.params.source) {\n\t                a.params.source(a, query, function (items) {\n\t                    var itemsHTML = '';\n\t                    var limit = a.params.limit ? Math.min(a.params.limit, items.length) : items.length;\n\t                    a.items = items;\n\t                    var i, j;\n\t                    var regExp = new RegExp('(' + query + ')', 'i');\n\t                    for (i = 0; i < limit; i++) {\n\t                        var itemValue = _typeof(items[i]) === 'object' ? items[i][a.params.valueProperty] : items[i];\n\t                        itemsHTML += a.dropdownItemTemplate({\n\t                            value: itemValue,\n\t                            text: (_typeof(items[i]) !== 'object' ? items[i] : items[i][a.params.textProperty]).replace(regExp, '<b>$1</b>')\n\t                        });\n\t                    }\n\t                    if (itemsHTML === '' && query === '' && a.params.dropdownPlaceholderText) {\n\t                        itemsHTML += a.dropdownPlaceholderTemplate({\n\t                            text: a.params.dropdownPlaceholderText\n\t                        });\n\t                    }\n\t                    a.dropdown.find('ul').html(itemsHTML);\n\t                });\n\t            }\n\t        }\n\t        // Handle Drop Down Click\n\t        function handleDropdownClick(e) {\n\t            /*jshint validthis:true */\n\t            var clicked = $(this);\n\t            var clickedItem;\n\t            for (var i = 0; i < a.items.length; i++) {\n\t                var itemValue = _typeof(a.items[i]) === 'object' ? a.items[i][a.params.valueProperty] : a.items[i];\n\t                var value = clicked.attr('data-value');\n\t                if (itemValue === value || itemValue * 1 === value * 1) {\n\t                    clickedItem = a.items[i];\n\t                }\n\t            }\n\t            if (a.params.updateInputValueOnSelect) {\n\t                a.input.val((typeof clickedItem === 'undefined' ? 'undefined' : _typeof(clickedItem)) === 'object' ? clickedItem[a.params.textProperty] : clickedItem);\n\t                a.input.trigger('input change');\n\t            }\n\t\n\t            if (a.params.onChange) {\n\t                a.params.onChange(a, clickedItem);\n\t            }\n\t\n\t            a.close();\n\t        }\n\t\n\t        // Handle HTML Click to close Dropdown\n\t        function closeOnHTMLClick(e) {\n\t            var target = $(e.target);\n\t            if (!(target.is(a.input[0]) || a.dropdown && target.parents(a.dropdown[0]).length > 0)) {\n\t                a.close();\n\t            }\n\t        }\n\t\n\t        a.positionDropDown = function () {\n\t            var listBlock = a.input.parents('.list-block'),\n\t                pageContent = a.input.parents('.page-content'),\n\t                paddingTop = parseInt(pageContent.css('padding-top'), 10),\n\t                paddingBottom = parseInt(pageContent.css('padding-top'), 10),\n\t                inputOffset = a.input.offset(),\n\t                listBlockOffset = listBlock.length > 0 ? listBlock.offset() : 0,\n\t                maxHeight = pageContent[0].scrollHeight - paddingBottom - (inputOffset.top + pageContent[0].scrollTop) - a.input[0].offsetHeight;\n\t\n\t            a.dropdown.css({\n\t                left: (listBlock.length > 0 ? listBlockOffset.left : inputOffset.left) + 'px',\n\t                top: inputOffset.top + pageContent[0].scrollTop + a.input[0].offsetHeight + 'px',\n\t                width: (listBlock.length > 0 ? listBlock[0].offsetWidth : a.input[0].offsetWidth) + 'px'\n\t            });\n\t            a.dropdown.children('.autocomplete-dropdown-inner').css({\n\t                maxHeight: maxHeight + 'px',\n\t                paddingLeft: listBlock.length > 0 && !a.params.expandInput ? inputOffset.left - (material ? 16 : 15) + 'px' : ''\n\t            });\n\t        };\n\t\n\t        // Event Listeners on new page\n\t        a.pageInit = function (e) {\n\t            var page = e.detail.page;\n\t            a.page = $(page.container);\n\t            a.pageData = page;\n\t            if (page.name !== pageName) {\n\t                return;\n\t            }\n\t            var container = $(page.container);\n\t            // Init Search Bar\n\t            var searchbar = app.searchbar(container.find('.searchbar'), {\n\t                customSearch: true,\n\t                onSearch: function onSearch(searchbar, data) {\n\t                    if (data.query.length === 0 && searchbar.active) {\n\t                        searchbar.overlay.addClass('searchbar-overlay-active');\n\t                    } else {\n\t                        searchbar.overlay.removeClass('searchbar-overlay-active');\n\t                    }\n\t\n\t                    var i, j, k;\n\t\n\t                    if (a.params.source) {\n\t                        a.params.source(a, data.query, function (items) {\n\t                            var itemsHTML = '';\n\t                            var limit = a.params.limit ? Math.min(a.params.limit, items.length) : items.length;\n\t                            a.items = items;\n\t                            for (i = 0; i < limit; i++) {\n\t                                var selected = false;\n\t                                var itemValue = _typeof(items[i]) === 'object' ? items[i][a.params.valueProperty] : items[i];\n\t                                for (j = 0; j < a.value.length; j++) {\n\t                                    var aValue = _typeof(a.value[j]) === 'object' ? a.value[j][a.params.valueProperty] : a.value[j];\n\t                                    if (aValue === itemValue || aValue * 1 === itemValue * 1) selected = true;\n\t                                }\n\t                                itemsHTML += a.itemTemplate({\n\t                                    value: itemValue,\n\t                                    text: _typeof(items[i]) !== 'object' ? items[i] : items[i][a.params.textProperty],\n\t                                    inputType: a.inputType,\n\t                                    id: a.id,\n\t                                    inputName: a.inputName,\n\t                                    selected: selected,\n\t                                    checkbox: a.inputType === 'checkbox',\n\t                                    material: material\n\t                                });\n\t                            }\n\t                            container.find('.autocomplete-found ul').html(itemsHTML);\n\t                            if (items.length === 0) {\n\t                                if (data.query.length !== 0) {\n\t                                    container.find('.autocomplete-not-found').show();\n\t                                    container.find('.autocomplete-found, .autocomplete-values').hide();\n\t                                } else {\n\t                                    container.find('.autocomplete-values').show();\n\t                                    container.find('.autocomplete-found, .autocomplete-not-found').hide();\n\t                                }\n\t                            } else {\n\t                                container.find('.autocomplete-found').show();\n\t                                container.find('.autocomplete-not-found, .autocomplete-values').hide();\n\t                            }\n\t                        });\n\t                    }\n\t                }\n\t            });\n\t\n\t            // Save searchbar instance\n\t            a.searchbar = searchbar;\n\t\n\t            // Update values\n\t            function updateValues() {\n\t                var valuesHTML = '';\n\t                var i;\n\t                for (i = 0; i < a.value.length; i++) {\n\t\n\t                    valuesHTML += a.itemTemplate({\n\t                        value: _typeof(a.value[i]) === 'object' ? a.value[i][a.params.valueProperty] : a.value[i],\n\t                        text: _typeof(a.value[i]) === 'object' ? a.value[i][a.params.textProperty] : a.value[i],\n\t                        inputType: a.inputType,\n\t                        id: a.id,\n\t                        inputName: a.inputName + '-checked',\n\t                        checkbox: a.inputType === 'checkbox',\n\t                        material: material,\n\t                        selected: true\n\t                    });\n\t                }\n\t                container.find('.autocomplete-values ul').html(valuesHTML);\n\t            }\n\t\n\t            // Handle Inputs\n\t            container.on('change', 'input[type=\"radio\"], input[type=\"checkbox\"]', function () {\n\t                var i;\n\t                var input = this;\n\t                var value = input.value;\n\t                var text = $(input).parents('li').find('.item-title').text();\n\t                var isValues = $(input).parents('.autocomplete-values').length > 0;\n\t                var item, itemValue, aValue;\n\t                if (isValues) {\n\t                    if (a.inputType === 'checkbox' && !input.checked) {\n\t                        for (i = 0; i < a.value.length; i++) {\n\t                            aValue = typeof a.value[i] === 'string' ? a.value[i] : a.value[i][a.params.valueProperty];\n\t                            if (aValue === value || aValue * 1 === value * 1) {\n\t                                a.value.splice(i, 1);\n\t                            }\n\t                        }\n\t                        updateValues();\n\t                        if (a.params.onChange) a.params.onChange(a, a.value);\n\t                    }\n\t                    return;\n\t                }\n\t\n\t                // Find Related Item\n\t                for (i = 0; i < a.items.length; i++) {\n\t                    itemValue = typeof a.items[i] === 'string' ? a.items[i] : a.items[i][a.params.valueProperty];\n\t                    if (itemValue === value || itemValue * 1 === value * 1) item = a.items[i];\n\t                }\n\t                // Update Selected Value\n\t                if (a.inputType === 'radio') {\n\t                    a.value = [item];\n\t                } else {\n\t                    if (input.checked) {\n\t                        a.value.push(item);\n\t                    } else {\n\t                        for (i = 0; i < a.value.length; i++) {\n\t                            aValue = typeof a.value[i] === 'string' ? a.value[i] : a.value[i][a.params.valueProperty];\n\t                            if (aValue === value || aValue * 1 === value * 1) {\n\t                                a.value.splice(i, 1);\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t\n\t                // Update Values Block\n\t                updateValues();\n\t\n\t                // On Select Callback\n\t                if ((a.inputType === 'radio' && input.checked || a.inputType === 'checkbox') && a.params.onChange) {\n\t                    a.params.onChange(a, a.value);\n\t                }\n\t                if (backOnSelect && a.inputType === 'radio') {\n\t                    if (a.params.openIn === 'popup') app.closeModal(a.popup);else view.router.back();\n\t                }\n\t            });\n\t\n\t            // Update Values On Page Init\n\t            updateValues();\n\t\n\t            if (a.params.onOpen) a.params.onOpen(a);\n\t        };\n\t\n\t        // Show Hide Preloader\n\t        a.showPreloader = function () {\n\t            if (a.params.openIn === 'dropdown') {\n\t                if (a.dropdown) a.dropdown.find('.autocomplete-preloader').addClass('autocomplete-preloader-visible');\n\t            } else $('.autocomplete-preloader').addClass('autocomplete-preloader-visible');\n\t        };\n\t\n\t        a.hidePreloader = function () {\n\t            if (a.params.openIn === 'dropdown') {\n\t                if (a.dropdown) a.dropdown.find('.autocomplete-preloader').removeClass('autocomplete-preloader-visible');\n\t            } else $('.autocomplete-preloader').removeClass('autocomplete-preloader-visible');\n\t        };\n\t\n\t        // Open Autocomplete Page/Popup\n\t        a.open = function () {\n\t            if (a.opened) return;\n\t            a.opened = true;\n\t            if (a.params.openIn === 'dropdown') {\n\t                if (!a.dropdown) {\n\t                    a.dropdown = $(a.dropdownTemplate({\n\t                        preloader: a.params.preloader,\n\t                        preloaderColor: a.params.preloaderColor,\n\t                        material: material,\n\t                        materialPreloaderHtml: app.params.materialPreloaderHtml\n\t                    }));\n\t                    a.dropdown.on('click', 'label', handleDropdownClick);\n\t                }\n\t                var listBlock = a.input.parents('.list-block');\n\t                if (listBlock.length && a.input.parents('.item-content').length > 0 && a.params.expandInput) {\n\t                    a.input.parents('.item-content').addClass('item-content-dropdown-expand');\n\t                }\n\t                a.positionDropDown();\n\t                a.input.parents('.page-content').append(a.dropdown);\n\t                a.dropdown.addClass('autocomplete-dropdown-in');\n\t                a.input.trigger('input');\n\t                $(window).on('resize', a.positionDropDown);\n\t                if (a.params.onOpen) a.params.onOpen(a);\n\t            } else {\n\t                $(document).once('pageInit', '.autocomplete-page', a.pageInit);\n\t                if (a.params.openIn === 'popup') {\n\t                    a.popup = app.popup('<div class=\"popup autocomplete-popup autocomplete-popup-' + a.inputName + '\">' + '<div class=\"view navbar-fixed\">' + pageHTML + '</div>' + '</div>');\n\t                    a.popup = $(a.popup);\n\t                    a.popup.once('closed', function () {\n\t                        a.popup = undefined;\n\t                        a.opened = false;\n\t                        if (a.params.onClose) a.params.onClose(a);\n\t                    });\n\t                } else {\n\t                    view.router.load({\n\t                        content: pageHTML\n\t                    });\n\t                    $(document).once('pageBack', '.autocomplete-page', function () {\n\t                        a.opened = false;\n\t                        if (a.params.onClose) a.params.onClose(a);\n\t                    });\n\t                }\n\t            }\n\t        };\n\t        a.close = function (e) {\n\t            if (!a.opened) return;\n\t            if (a.params.openIn === 'dropdown') {\n\t                if (e && e.type === 'blur' && a.dropdown.find('label.active-state').length > 0) return;\n\t                a.dropdown.removeClass('autocomplete-dropdown-in').remove();\n\t                a.input.parents('.item-content-dropdown-expand').removeClass('item-content-dropdown-expand');\n\t                a.opened = false;\n\t                $(window).off('resize', a.positionDropDown);\n\t                if (a.params.onClose) a.params.onClose(a);\n\t            }\n\t            if (a.params.openIn === 'popup') {\n\t                if (a.popup) app.closeModal(a.popup);\n\t            }\n\t        };\n\t\n\t        // Init Events\n\t        a.initEvents = function (detach) {\n\t            var method = detach ? 'off' : 'on';\n\t            if (a.params.openIn !== 'dropdown' && a.opener) {\n\t                a.opener[method]('click', a.open);\n\t            }\n\t            if (a.params.openIn === 'dropdown' && a.input) {\n\t                a.input[method]('focus', a.open);\n\t                a.input[method]('input', handleInputValue);\n\t                if (app.device.android) {\n\t                    $('html')[method]('click', closeOnHTMLClick);\n\t                } else {\n\t                    a.input[method]('blur', a.close);\n\t                }\n\t            }\n\t            if (detach && a.dropdown) {\n\t                a.dropdown = null;\n\t            }\n\t        };\n\t\n\t        // Init/Destroy Methods\n\t        a.init = function () {\n\t            a.initEvents();\n\t        };\n\t        a.destroy = function () {\n\t            a.initEvents(true);\n\t            a = null;\n\t        };\n\t\n\t        // Init\n\t        a.init();\n\t\n\t        return a;\n\t    };\n\t    app.autocomplete = function (params) {\n\t        return new Autocomplete(params);\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Picker   ************\n\t    ======================================================*/\n\t    var Picker = function Picker(params) {\n\t        var p = this;\n\t        var defaults = {\n\t            updateValuesOnMomentum: false,\n\t            updateValuesOnTouchmove: true,\n\t            rotateEffect: false,\n\t            momentumRatio: 7,\n\t            freeMode: false,\n\t            // Common settings\n\t            closeByOutsideClick: true,\n\t            scrollToInput: true,\n\t            inputReadOnly: true,\n\t            convertToPopover: true,\n\t            onlyInPopover: false,\n\t            toolbar: true,\n\t            toolbarCloseText: 'Done',\n\t            toolbarTemplate: '<div class=\"toolbar\">' + '<div class=\"toolbar-inner\">' + '<div class=\"left\"></div>' + '<div class=\"right\">' + '<a href=\"#\" class=\"link close-picker\">{{closeText}}</a>' + '</div>' + '</div>' + '</div>'\n\t        };\n\t        params = params || {};\n\t        for (var def in defaults) {\n\t            if (typeof params[def] === 'undefined') {\n\t                params[def] = defaults[def];\n\t            }\n\t        }\n\t        p.params = params;\n\t        p.cols = [];\n\t        p.initialized = false;\n\t\n\t        // Inline flag\n\t        p.inline = p.params.container ? true : false;\n\t\n\t        // 3D Transforms origin bug, only on safari\n\t        var originBug = app.device.ios || navigator.userAgent.toLowerCase().indexOf('safari') >= 0 && navigator.userAgent.toLowerCase().indexOf('chrome') < 0 && !app.device.android;\n\t\n\t        // Should be converted to popover\n\t        function isPopover() {\n\t            var toPopover = false;\n\t            if (!p.params.convertToPopover && !p.params.onlyInPopover) return toPopover;\n\t            if (!p.inline && p.params.input) {\n\t                if (p.params.onlyInPopover) toPopover = true;else {\n\t                    if (app.device.ios) {\n\t                        toPopover = app.device.ipad ? true : false;\n\t                    } else {\n\t                        if ($(window).width() >= 768) toPopover = true;\n\t                    }\n\t                }\n\t            }\n\t            return toPopover;\n\t        }\n\t        function inPopover() {\n\t            if (p.opened && p.container && p.container.length > 0 && p.container.parents('.popover').length > 0) return true;else return false;\n\t        }\n\t\n\t        // Value\n\t        p.setValue = function (arrValues, transition) {\n\t            var valueIndex = 0;\n\t            if (p.cols.length === 0) {\n\t                p.value = arrValues;\n\t                p.updateValue(arrValues);\n\t                return;\n\t            }\n\t            for (var i = 0; i < p.cols.length; i++) {\n\t                if (p.cols[i] && !p.cols[i].divider) {\n\t                    p.cols[i].setValue(arrValues[valueIndex], transition);\n\t                    valueIndex++;\n\t                }\n\t            }\n\t        };\n\t        p.updateValue = function (forceValues) {\n\t            var newValue = forceValues || [];\n\t            var newDisplayValue = [];\n\t            for (var i = 0; i < p.cols.length; i++) {\n\t                if (!p.cols[i].divider) {\n\t                    newValue.push(p.cols[i].value);\n\t                    newDisplayValue.push(p.cols[i].displayValue);\n\t                }\n\t            }\n\t            if (newValue.indexOf(undefined) >= 0) {\n\t                return;\n\t            }\n\t            p.value = newValue;\n\t            p.displayValue = newDisplayValue;\n\t            if (p.params.onChange) {\n\t                p.params.onChange(p, p.value, p.displayValue);\n\t            }\n\t            if (p.input && p.input.length > 0) {\n\t                $(p.input).val(p.params.formatValue ? p.params.formatValue(p, p.value, p.displayValue) : p.value.join(' '));\n\t                $(p.input).trigger('change');\n\t            }\n\t        };\n\t\n\t        // Columns Handlers\n\t        p.initPickerCol = function (colElement, updateItems) {\n\t            var colContainer = $(colElement);\n\t            var colIndex = colContainer.index();\n\t            var col = p.cols[colIndex];\n\t            if (col.divider) return;\n\t            col.container = colContainer;\n\t            col.wrapper = col.container.find('.picker-items-col-wrapper');\n\t            col.items = col.wrapper.find('.picker-item');\n\t\n\t            var i, j;\n\t            var wrapperHeight, itemHeight, itemsHeight, minTranslate, maxTranslate;\n\t            col.replaceValues = function (values, displayValues) {\n\t                col.destroyEvents();\n\t                col.values = values;\n\t                col.displayValues = displayValues;\n\t                var newItemsHTML = p.columnHTML(col, true);\n\t                col.wrapper.html(newItemsHTML);\n\t                col.items = col.wrapper.find('.picker-item');\n\t                col.calcSize();\n\t                col.setValue(col.values[0], 0, true);\n\t                col.initEvents();\n\t            };\n\t            col.calcSize = function () {\n\t                if (p.params.rotateEffect) {\n\t                    col.container.removeClass('picker-items-col-absolute');\n\t                    if (!col.width) col.container.css({ width: '' });\n\t                }\n\t                var colWidth, colHeight;\n\t                colWidth = 0;\n\t                colHeight = col.container[0].offsetHeight;\n\t                wrapperHeight = col.wrapper[0].offsetHeight;\n\t                itemHeight = col.items[0].offsetHeight;\n\t                itemsHeight = itemHeight * col.items.length;\n\t                minTranslate = colHeight / 2 - itemsHeight + itemHeight / 2;\n\t                maxTranslate = colHeight / 2 - itemHeight / 2;\n\t                if (col.width) {\n\t                    colWidth = col.width;\n\t                    if (parseInt(colWidth, 10) === colWidth) colWidth = colWidth + 'px';\n\t                    col.container.css({ width: colWidth });\n\t                }\n\t                if (p.params.rotateEffect) {\n\t                    if (!col.width) {\n\t                        col.items.each(function () {\n\t                            var item = $(this);\n\t                            item.css({ width: 'auto' });\n\t                            colWidth = Math.max(colWidth, item[0].offsetWidth);\n\t                            item.css({ width: '' });\n\t                        });\n\t                        col.container.css({ width: colWidth + 2 + 'px' });\n\t                    }\n\t                    col.container.addClass('picker-items-col-absolute');\n\t                }\n\t            };\n\t            col.calcSize();\n\t\n\t            col.wrapper.transform('translate3d(0,' + maxTranslate + 'px,0)').transition(0);\n\t\n\t            var activeIndex = 0;\n\t            var animationFrameId;\n\t\n\t            // Set Value Function\n\t            col.setValue = function (newValue, transition, valueCallbacks) {\n\t                if (typeof transition === 'undefined') transition = '';\n\t                var newActiveIndex = col.wrapper.find('.picker-item[data-picker-value=\"' + newValue + '\"]').index();\n\t                if (typeof newActiveIndex === 'undefined' || newActiveIndex === -1) {\n\t                    return;\n\t                }\n\t                var newTranslate = -newActiveIndex * itemHeight + maxTranslate;\n\t                // Update wrapper\n\t                col.wrapper.transition(transition);\n\t                col.wrapper.transform('translate3d(0,' + newTranslate + 'px,0)');\n\t\n\t                // Watch items\n\t                if (p.params.updateValuesOnMomentum && col.activeIndex && col.activeIndex !== newActiveIndex) {\n\t                    $.cancelAnimationFrame(animationFrameId);\n\t                    col.wrapper.transitionEnd(function () {\n\t                        $.cancelAnimationFrame(animationFrameId);\n\t                    });\n\t                    updateDuringScroll();\n\t                }\n\t\n\t                // Update items\n\t                col.updateItems(newActiveIndex, newTranslate, transition, valueCallbacks);\n\t            };\n\t\n\t            col.updateItems = function (activeIndex, translate, transition, valueCallbacks) {\n\t                if (typeof translate === 'undefined') {\n\t                    translate = $.getTranslate(col.wrapper[0], 'y');\n\t                }\n\t                if (typeof activeIndex === 'undefined') activeIndex = -Math.round((translate - maxTranslate) / itemHeight);\n\t                if (activeIndex < 0) activeIndex = 0;\n\t                if (activeIndex >= col.items.length) activeIndex = col.items.length - 1;\n\t                var previousActiveIndex = col.activeIndex;\n\t                col.activeIndex = activeIndex;\n\t                col.wrapper.find('.picker-selected').removeClass('picker-selected');\n\t\n\t                col.items.transition(transition);\n\t\n\t                var selectedItem = col.items.eq(activeIndex).addClass('picker-selected').transform('');\n\t\n\t                // Set 3D rotate effect\n\t                if (p.params.rotateEffect) {\n\t                    var percentage = (translate - (Math.floor((translate - maxTranslate) / itemHeight) * itemHeight + maxTranslate)) / itemHeight;\n\t\n\t                    col.items.each(function () {\n\t                        var item = $(this);\n\t                        var itemOffsetTop = item.index() * itemHeight;\n\t                        var translateOffset = maxTranslate - translate;\n\t                        var itemOffset = itemOffsetTop - translateOffset;\n\t                        var percentage = itemOffset / itemHeight;\n\t\n\t                        var itemsFit = Math.ceil(col.height / itemHeight / 2) + 1;\n\t\n\t                        var angle = -18 * percentage;\n\t                        if (angle > 180) angle = 180;\n\t                        if (angle < -180) angle = -180;\n\t                        // Far class\n\t                        if (Math.abs(percentage) > itemsFit) item.addClass('picker-item-far');else item.removeClass('picker-item-far');\n\t                        // Set transform\n\t                        item.transform('translate3d(0, ' + (-translate + maxTranslate) + 'px, ' + (originBug ? -110 : 0) + 'px) rotateX(' + angle + 'deg)');\n\t                    });\n\t                }\n\t\n\t                if (valueCallbacks || typeof valueCallbacks === 'undefined') {\n\t                    // Update values\n\t                    col.value = selectedItem.attr('data-picker-value');\n\t                    col.displayValue = col.displayValues ? col.displayValues[activeIndex] : col.value;\n\t                    // On change callback\n\t                    if (previousActiveIndex !== activeIndex) {\n\t                        if (col.onChange) {\n\t                            col.onChange(p, col.value, col.displayValue);\n\t                        }\n\t                        p.updateValue();\n\t                    }\n\t                }\n\t            };\n\t\n\t            function updateDuringScroll() {\n\t                animationFrameId = $.requestAnimationFrame(function () {\n\t                    col.updateItems(undefined, undefined, 0);\n\t                    updateDuringScroll();\n\t                });\n\t            }\n\t\n\t            // Update items on init\n\t            if (updateItems) col.updateItems(0, maxTranslate, 0);\n\t\n\t            var allowItemClick = true;\n\t            var isTouched, isMoved, touchStartY, touchCurrentY, touchStartTime, touchEndTime, startTranslate, returnTo, currentTranslate, prevTranslate, velocityTranslate, velocityTime;\n\t            function handleTouchStart(e) {\n\t                if (isMoved || isTouched) return;\n\t                e.preventDefault();\n\t                isTouched = true;\n\t                touchStartY = touchCurrentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n\t                touchStartTime = new Date().getTime();\n\t\n\t                allowItemClick = true;\n\t                startTranslate = currentTranslate = $.getTranslate(col.wrapper[0], 'y');\n\t            }\n\t            function handleTouchMove(e) {\n\t                if (!isTouched) return;\n\t                e.preventDefault();\n\t                allowItemClick = false;\n\t                touchCurrentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\t                if (!isMoved) {\n\t                    // First move\n\t                    $.cancelAnimationFrame(animationFrameId);\n\t                    isMoved = true;\n\t                    startTranslate = currentTranslate = $.getTranslate(col.wrapper[0], 'y');\n\t                    col.wrapper.transition(0);\n\t                }\n\t                e.preventDefault();\n\t\n\t                var diff = touchCurrentY - touchStartY;\n\t                currentTranslate = startTranslate + diff;\n\t                returnTo = undefined;\n\t\n\t                // Normalize translate\n\t                if (currentTranslate < minTranslate) {\n\t                    currentTranslate = minTranslate - Math.pow(minTranslate - currentTranslate, 0.8);\n\t                    returnTo = 'min';\n\t                }\n\t                if (currentTranslate > maxTranslate) {\n\t                    currentTranslate = maxTranslate + Math.pow(currentTranslate - maxTranslate, 0.8);\n\t                    returnTo = 'max';\n\t                }\n\t                // Transform wrapper\n\t                col.wrapper.transform('translate3d(0,' + currentTranslate + 'px,0)');\n\t\n\t                // Update items\n\t                col.updateItems(undefined, currentTranslate, 0, p.params.updateValuesOnTouchmove);\n\t\n\t                // Calc velocity\n\t                velocityTranslate = currentTranslate - prevTranslate || currentTranslate;\n\t                velocityTime = new Date().getTime();\n\t                prevTranslate = currentTranslate;\n\t            }\n\t            function handleTouchEnd(e) {\n\t                if (!isTouched || !isMoved) {\n\t                    isTouched = isMoved = false;\n\t                    return;\n\t                }\n\t                isTouched = isMoved = false;\n\t                col.wrapper.transition('');\n\t                if (returnTo) {\n\t                    if (returnTo === 'min') {\n\t                        col.wrapper.transform('translate3d(0,' + minTranslate + 'px,0)');\n\t                    } else col.wrapper.transform('translate3d(0,' + maxTranslate + 'px,0)');\n\t                }\n\t                touchEndTime = new Date().getTime();\n\t                var velocity, newTranslate;\n\t                if (touchEndTime - touchStartTime > 300) {\n\t                    newTranslate = currentTranslate;\n\t                } else {\n\t                    velocity = Math.abs(velocityTranslate / (touchEndTime - velocityTime));\n\t                    newTranslate = currentTranslate + velocityTranslate * p.params.momentumRatio;\n\t                }\n\t\n\t                newTranslate = Math.max(Math.min(newTranslate, maxTranslate), minTranslate);\n\t\n\t                // Active Index\n\t                var activeIndex = -Math.floor((newTranslate - maxTranslate) / itemHeight);\n\t\n\t                // Normalize translate\n\t                if (!p.params.freeMode) newTranslate = -activeIndex * itemHeight + maxTranslate;\n\t\n\t                // Transform wrapper\n\t                col.wrapper.transform('translate3d(0,' + parseInt(newTranslate, 10) + 'px,0)');\n\t\n\t                // Update items\n\t                col.updateItems(activeIndex, newTranslate, '', true);\n\t\n\t                // Watch items\n\t                if (p.params.updateValuesOnMomentum) {\n\t                    updateDuringScroll();\n\t                    col.wrapper.transitionEnd(function () {\n\t                        $.cancelAnimationFrame(animationFrameId);\n\t                    });\n\t                }\n\t\n\t                // Allow click\n\t                setTimeout(function () {\n\t                    allowItemClick = true;\n\t                }, 100);\n\t            }\n\t\n\t            function handleClick(e) {\n\t                if (!allowItemClick) return;\n\t                $.cancelAnimationFrame(animationFrameId);\n\t                /*jshint validthis:true */\n\t                var value = $(this).attr('data-picker-value');\n\t                col.setValue(value);\n\t            }\n\t\n\t            col.initEvents = function (detach) {\n\t                var method = detach ? 'off' : 'on';\n\t                col.container[method](app.touchEvents.start, handleTouchStart);\n\t                col.container[method](app.touchEvents.move, handleTouchMove);\n\t                col.container[method](app.touchEvents.end, handleTouchEnd);\n\t                col.items[method]('click', handleClick);\n\t            };\n\t            col.destroyEvents = function () {\n\t                col.initEvents(true);\n\t            };\n\t\n\t            col.container[0].f7DestroyPickerCol = function () {\n\t                col.destroyEvents();\n\t            };\n\t\n\t            col.initEvents();\n\t        };\n\t        p.destroyPickerCol = function (colContainer) {\n\t            colContainer = $(colContainer);\n\t            if ('f7DestroyPickerCol' in colContainer[0]) colContainer[0].f7DestroyPickerCol();\n\t        };\n\t        // Resize cols\n\t        function resizeCols() {\n\t            if (!p.opened) return;\n\t            for (var i = 0; i < p.cols.length; i++) {\n\t                if (!p.cols[i].divider) {\n\t                    p.cols[i].calcSize();\n\t                    p.cols[i].setValue(p.cols[i].value, 0, false);\n\t                }\n\t            }\n\t        }\n\t        $(window).on('resize', resizeCols);\n\t\n\t        // HTML Layout\n\t        p.columnHTML = function (col, onlyItems) {\n\t            var columnItemsHTML = '';\n\t            var columnHTML = '';\n\t            if (col.divider) {\n\t                columnHTML += '<div class=\"picker-items-col picker-items-col-divider ' + (col.textAlign ? 'picker-items-col-' + col.textAlign : '') + ' ' + (col.cssClass || '') + '\">' + col.content + '</div>';\n\t            } else {\n\t                for (var j = 0; j < col.values.length; j++) {\n\t                    columnItemsHTML += '<div class=\"picker-item\" data-picker-value=\"' + col.values[j] + '\">' + (col.displayValues ? col.displayValues[j] : col.values[j]) + '</div>';\n\t                }\n\t                columnHTML += '<div class=\"picker-items-col ' + (col.textAlign ? 'picker-items-col-' + col.textAlign : '') + ' ' + (col.cssClass || '') + '\"><div class=\"picker-items-col-wrapper\">' + columnItemsHTML + '</div></div>';\n\t            }\n\t            return onlyItems ? columnItemsHTML : columnHTML;\n\t        };\n\t        p.layout = function () {\n\t            var pickerHTML = '';\n\t            var pickerClass = '';\n\t            var i;\n\t            p.cols = [];\n\t            var colsHTML = '';\n\t            for (i = 0; i < p.params.cols.length; i++) {\n\t                var col = p.params.cols[i];\n\t                colsHTML += p.columnHTML(p.params.cols[i]);\n\t                p.cols.push(col);\n\t            }\n\t            pickerClass = 'picker-modal picker-columns ' + (p.params.cssClass || '') + (p.params.rotateEffect ? ' picker-3d' : '');\n\t            pickerHTML = '<div class=\"' + pickerClass + '\">' + (p.params.toolbar ? p.params.toolbarTemplate.replace(/{{closeText}}/g, p.params.toolbarCloseText) : '') + '<div class=\"picker-modal-inner picker-items\">' + colsHTML + '<div class=\"picker-center-highlight\"></div>' + '</div>' + '</div>';\n\t\n\t            p.pickerHTML = pickerHTML;\n\t        };\n\t\n\t        // Input Events\n\t        function openOnInput(e) {\n\t            e.preventDefault();\n\t            if (p.opened) return;\n\t            p.open();\n\t            if (p.params.scrollToInput && !isPopover()) {\n\t                var pageContent = p.input.parents('.page-content');\n\t                if (pageContent.length === 0) return;\n\t\n\t                var paddingTop = parseInt(pageContent.css('padding-top'), 10),\n\t                    paddingBottom = parseInt(pageContent.css('padding-bottom'), 10),\n\t                    pageHeight = pageContent[0].offsetHeight - paddingTop - p.container.height(),\n\t                    pageScrollHeight = pageContent[0].scrollHeight - paddingTop - p.container.height(),\n\t                    newPaddingBottom;\n\t                var inputTop = p.input.offset().top - paddingTop + p.input[0].offsetHeight;\n\t                if (inputTop > pageHeight) {\n\t                    var scrollTop = pageContent.scrollTop() + inputTop - pageHeight;\n\t                    if (scrollTop + pageHeight > pageScrollHeight) {\n\t                        newPaddingBottom = scrollTop + pageHeight - pageScrollHeight + paddingBottom;\n\t                        if (pageHeight === pageScrollHeight) {\n\t                            newPaddingBottom = p.container.height();\n\t                        }\n\t                        pageContent.css({ 'padding-bottom': newPaddingBottom + 'px' });\n\t                    }\n\t                    pageContent.scrollTop(scrollTop, 300);\n\t                }\n\t            }\n\t        }\n\t        function closeOnHTMLClick(e) {\n\t            if (inPopover()) return;\n\t            if (p.input && p.input.length > 0) {\n\t                if (e.target !== p.input[0] && $(e.target).parents('.picker-modal').length === 0) p.close();\n\t            } else {\n\t                if ($(e.target).parents('.picker-modal').length === 0) p.close();\n\t            }\n\t        }\n\t\n\t        if (p.params.input) {\n\t            p.input = $(p.params.input);\n\t            if (p.input.length > 0) {\n\t                if (p.params.inputReadOnly) p.input.prop('readOnly', true);\n\t                if (!p.inline) {\n\t                    p.input.on('click', openOnInput);\n\t                }\n\t                if (p.params.inputReadOnly) {\n\t                    p.input.on('focus mousedown', function (e) {\n\t                        e.preventDefault();\n\t                    });\n\t                }\n\t            }\n\t        }\n\t\n\t        if (!p.inline && p.params.closeByOutsideClick) $('html').on('click', closeOnHTMLClick);\n\t\n\t        // Open\n\t        function onPickerClose() {\n\t            p.opened = false;\n\t            if (p.input && p.input.length > 0) {\n\t                p.input.parents('.page-content').css({ 'padding-bottom': '' });\n\t                if (app.params.material) p.input.trigger('blur');\n\t            }\n\t            if (p.params.onClose) p.params.onClose(p);\n\t\n\t            // Destroy events\n\t            p.container.find('.picker-items-col').each(function () {\n\t                p.destroyPickerCol(this);\n\t            });\n\t        }\n\t\n\t        p.opened = false;\n\t        p.open = function () {\n\t            var toPopover = isPopover();\n\t\n\t            if (!p.opened) {\n\t\n\t                // Layout\n\t                p.layout();\n\t\n\t                // Append\n\t                if (toPopover) {\n\t                    p.pickerHTML = '<div class=\"popover popover-picker-columns\"><div class=\"popover-inner\">' + p.pickerHTML + '</div></div>';\n\t                    p.popover = app.popover(p.pickerHTML, p.params.input, true);\n\t                    p.container = $(p.popover).find('.picker-modal');\n\t                    $(p.popover).on('close', function () {\n\t                        onPickerClose();\n\t                    });\n\t                } else if (p.inline) {\n\t                    p.container = $(p.pickerHTML);\n\t                    p.container.addClass('picker-modal-inline');\n\t                    $(p.params.container).append(p.container);\n\t                } else {\n\t                    p.container = $(app.pickerModal(p.pickerHTML));\n\t                    $(p.container).on('close', function () {\n\t                        onPickerClose();\n\t                    });\n\t                }\n\t\n\t                // Store picker instance\n\t                p.container[0].f7Picker = p;\n\t\n\t                // Init Events\n\t                p.container.find('.picker-items-col').each(function () {\n\t                    var updateItems = true;\n\t                    if (!p.initialized && p.params.value || p.initialized && p.value) updateItems = false;\n\t                    p.initPickerCol(this, updateItems);\n\t                });\n\t\n\t                // Set value\n\t                if (!p.initialized) {\n\t                    if (p.value) p.setValue(p.value, 0);else if (p.params.value) {\n\t                        p.setValue(p.params.value, 0);\n\t                    }\n\t                } else {\n\t                    if (p.value) p.setValue(p.value, 0);\n\t                }\n\t\n\t                // Material Focus\n\t                if (p.input && p.input.length > 0 && app.params.material) {\n\t                    p.input.trigger('focus');\n\t                }\n\t            }\n\t\n\t            // Set flag\n\t            p.opened = true;\n\t            p.initialized = true;\n\t\n\t            if (p.params.onOpen) p.params.onOpen(p);\n\t        };\n\t\n\t        // Close\n\t        p.close = function () {\n\t            if (!p.opened || p.inline) return;\n\t            if (inPopover()) {\n\t                app.closeModal(p.popover);\n\t                return;\n\t            } else {\n\t                app.closeModal(p.container);\n\t                return;\n\t            }\n\t        };\n\t\n\t        // Destroy\n\t        p.destroy = function () {\n\t            p.close();\n\t            if (p.params.input && p.input.length > 0) {\n\t                p.input.off('click focus', openOnInput);\n\t            }\n\t            $('html').off('click', closeOnHTMLClick);\n\t            $(window).off('resize', resizeCols);\n\t        };\n\t\n\t        if (p.inline) {\n\t            p.open();\n\t        } else {\n\t            if (!p.initialized && p.params.value) p.setValue(p.params.value);\n\t        }\n\t\n\t        return p;\n\t    };\n\t    app.picker = function (params) {\n\t        return new Picker(params);\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Calendar   ************\n\t    ======================================================*/\n\t    var Calendar = function Calendar(params) {\n\t        var p = this;\n\t        var defaults = {\n\t            monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],\n\t            monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n\t            dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n\t            dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n\t            firstDay: 1, // First day of the week, Monday\n\t            weekendDays: [0, 6], // Sunday and Saturday\n\t            multiple: false,\n\t            rangePicker: false,\n\t            dateFormat: 'yyyy-mm-dd',\n\t            direction: 'horizontal', // or 'vertical'\n\t            minDate: null,\n\t            maxDate: null,\n\t            disabled: null, // dates range of disabled days\n\t            events: null, // dates range of days with events\n\t            rangesClasses: null, //array with custom classes date ranges\n\t            touchMove: true,\n\t            animate: true,\n\t            closeOnSelect: false,\n\t            monthPicker: true,\n\t            monthPickerTemplate: '<div class=\"picker-calendar-month-picker\">' + '<a href=\"#\" class=\"link icon-only picker-calendar-prev-month\"><i class=\"icon icon-prev\"></i></a>' + '<span class=\"current-month-value\"></span>' + '<a href=\"#\" class=\"link icon-only picker-calendar-next-month\"><i class=\"icon icon-next\"></i></a>' + '</div>',\n\t            yearPicker: true,\n\t            yearPickerTemplate: '<div class=\"picker-calendar-year-picker\">' + '<a href=\"#\" class=\"link icon-only picker-calendar-prev-year\"><i class=\"icon icon-prev\"></i></a>' + '<span class=\"current-year-value\"></span>' + '<a href=\"#\" class=\"link icon-only picker-calendar-next-year\"><i class=\"icon icon-next\"></i></a>' + '</div>',\n\t            weekHeader: true,\n\t            // Common settings\n\t            closeByOutsideClick: true,\n\t            scrollToInput: true,\n\t            inputReadOnly: true,\n\t            convertToPopover: true,\n\t            onlyInPopover: false,\n\t            toolbar: true,\n\t            toolbarCloseText: 'Done',\n\t            headerPlaceholder: 'Select date',\n\t            header: app.params.material,\n\t            footer: app.params.material,\n\t            toolbarTemplate: '<div class=\"toolbar\">' + '<div class=\"toolbar-inner\">' + '{{monthPicker}}' + '{{yearPicker}}' + '</div>' + '</div>',\n\t            headerTemplate: '<div class=\"picker-header\">' + '<div class=\"picker-calendar-selected-date\">{{placeholder}}</div>' + '</div>',\n\t            footerTemplate: '<div class=\"picker-footer\">' + '<a href=\"#\" class=\"button close-picker\">{{closeText}}</a>' + '</div>'\n\t\n\t        };\n\t        params = params || {};\n\t        for (var def in defaults) {\n\t            if (typeof params[def] === 'undefined') {\n\t                params[def] = defaults[def];\n\t            }\n\t        }\n\t        p.params = params;\n\t        p.initialized = false;\n\t\n\t        // Inline flag\n\t        p.inline = p.params.container ? true : false;\n\t\n\t        // Is horizontal\n\t        p.isH = p.params.direction === 'horizontal';\n\t\n\t        // RTL inverter\n\t        var inverter = p.isH ? app.rtl ? -1 : 1 : 1;\n\t\n\t        // Animating flag\n\t        p.animating = false;\n\t\n\t        // Should be converted to popover\n\t        function isPopover() {\n\t            var toPopover = false;\n\t            if (!p.params.convertToPopover && !p.params.onlyInPopover) return toPopover;\n\t            if (!p.inline && p.params.input) {\n\t                if (p.params.onlyInPopover) toPopover = true;else {\n\t                    if (app.device.ios) {\n\t                        toPopover = app.device.ipad ? true : false;\n\t                    } else {\n\t                        if ($(window).width() >= 768) toPopover = true;\n\t                    }\n\t                }\n\t            }\n\t            return toPopover;\n\t        }\n\t        function inPopover() {\n\t            if (p.opened && p.container && p.container.length > 0 && p.container.parents('.popover').length > 0) return true;else return false;\n\t        }\n\t\n\t        // Format date\n\t        function formatDate(date) {\n\t            date = new Date(date);\n\t            var year = date.getFullYear();\n\t            var month = date.getMonth();\n\t            var month1 = month + 1;\n\t            var day = date.getDate();\n\t            var weekDay = date.getDay();\n\t\n\t            return p.params.dateFormat.replace(/yyyy/g, year).replace(/yy/g, (year + '').substring(2)).replace(/mm/g, month1 < 10 ? '0' + month1 : month1).replace(/m(\\W+)/g, month1 + '$1').replace(/MM/g, p.params.monthNames[month]).replace(/M(\\W+)/g, p.params.monthNamesShort[month] + '$1').replace(/dd/g, day < 10 ? '0' + day : day).replace(/d(\\W+)/g, day + '$1').replace(/DD/g, p.params.dayNames[weekDay]).replace(/D(\\W+)/g, p.params.dayNamesShort[weekDay] + '$1');\n\t        }\n\t\n\t        // Value\n\t        p.addValue = function (value) {\n\t            if (p.params.multiple) {\n\t                if (!p.value) p.value = [];\n\t                var inValuesIndex;\n\t                for (var i = 0; i < p.value.length; i++) {\n\t                    if (new Date(value).getTime() === new Date(p.value[i]).getTime()) {\n\t                        inValuesIndex = i;\n\t                    }\n\t                }\n\t                if (typeof inValuesIndex === 'undefined') {\n\t                    p.value.push(value);\n\t                } else {\n\t                    p.value.splice(inValuesIndex, 1);\n\t                }\n\t                p.updateValue();\n\t            } else if (p.params.rangePicker) {\n\t                if (!p.value) p.value = [];\n\t                if (p.value.length === 2 || p.value.length === 0) {\n\t                    p.value = [];\n\t                }\n\t                if (p.value[0] !== value) p.value.push(value);else p.value = [];\n\t                p.value.sort(function (a, b) {\n\t                    return a - b;\n\t                });\n\t                p.updateValue();\n\t            } else {\n\t                p.value = [value];\n\t                p.updateValue();\n\t            }\n\t        };\n\t        p.setValue = function (arrValues) {\n\t            p.value = arrValues;\n\t            p.updateValue();\n\t        };\n\t        p.updateValue = function (onlyHeader) {\n\t            var i, inputValue;\n\t            if (p.container && p.container.length > 0) {\n\t                p.wrapper.find('.picker-calendar-day-selected').removeClass('picker-calendar-day-selected');\n\t                var valueDate;\n\t                if (p.params.rangePicker && p.value.length === 2) {\n\t                    for (i = p.value[0]; i <= p.value[1]; i += 24 * 60 * 60 * 1000) {\n\t                        valueDate = new Date(i);\n\t                        p.wrapper.find('.picker-calendar-day[data-date=\"' + valueDate.getFullYear() + '-' + valueDate.getMonth() + '-' + valueDate.getDate() + '\"]').addClass('picker-calendar-day-selected');\n\t                    }\n\t                } else {\n\t                    for (i = 0; i < p.value.length; i++) {\n\t                        valueDate = new Date(p.value[i]);\n\t                        p.wrapper.find('.picker-calendar-day[data-date=\"' + valueDate.getFullYear() + '-' + valueDate.getMonth() + '-' + valueDate.getDate() + '\"]').addClass('picker-calendar-day-selected');\n\t                    }\n\t                }\n\t            }\n\t\n\t            if (p.params.onChange) {\n\t                p.params.onChange(p, p.value);\n\t            }\n\t            if (p.input && p.input.length > 0 || app.params.material && p.params.header) {\n\t                if (p.params.formatValue) inputValue = p.params.formatValue(p, p.value);else {\n\t                    inputValue = [];\n\t                    for (i = 0; i < p.value.length; i++) {\n\t                        inputValue.push(formatDate(p.value[i]));\n\t                    }\n\t                    inputValue = inputValue.join(p.params.rangePicker ? ' - ' : ', ');\n\t                }\n\t                if (app.params.material && p.params.header && p.container && p.container.length > 0) {\n\t                    p.container.find('.picker-calendar-selected-date').text(inputValue);\n\t                }\n\t                if (p.input && p.input.length > 0 && !onlyHeader) {\n\t                    $(p.input).val(inputValue);\n\t                    $(p.input).trigger('change');\n\t                }\n\t            }\n\t        };\n\t\n\t        // Columns Handlers\n\t        p.initCalendarEvents = function () {\n\t            var col;\n\t            var allowItemClick = true;\n\t            var isTouched, isMoved, touchStartX, touchStartY, touchCurrentX, touchCurrentY, touchStartTime, touchEndTime, startTranslate, currentTranslate, wrapperWidth, wrapperHeight, percentage, touchesDiff, isScrolling;\n\t            function handleTouchStart(e) {\n\t                if (isMoved || isTouched) return;\n\t                // e.preventDefault();\n\t                isTouched = true;\n\t                touchStartX = touchCurrentY = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n\t                touchStartY = touchCurrentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n\t                touchStartTime = new Date().getTime();\n\t                percentage = 0;\n\t                allowItemClick = true;\n\t                isScrolling = undefined;\n\t                startTranslate = currentTranslate = p.monthsTranslate;\n\t            }\n\t            function handleTouchMove(e) {\n\t                if (!isTouched) return;\n\t\n\t                touchCurrentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n\t                touchCurrentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\t                if (typeof isScrolling === 'undefined') {\n\t                    isScrolling = !!(isScrolling || Math.abs(touchCurrentY - touchStartY) > Math.abs(touchCurrentX - touchStartX));\n\t                }\n\t                if (p.isH && isScrolling) {\n\t                    isTouched = false;\n\t                    return;\n\t                }\n\t                e.preventDefault();\n\t                if (p.animating) {\n\t                    isTouched = false;\n\t                    return;\n\t                }\n\t                allowItemClick = false;\n\t                if (!isMoved) {\n\t                    // First move\n\t                    isMoved = true;\n\t                    wrapperWidth = p.wrapper[0].offsetWidth;\n\t                    wrapperHeight = p.wrapper[0].offsetHeight;\n\t                    p.wrapper.transition(0);\n\t                }\n\t                e.preventDefault();\n\t\n\t                touchesDiff = p.isH ? touchCurrentX - touchStartX : touchCurrentY - touchStartY;\n\t                percentage = touchesDiff / (p.isH ? wrapperWidth : wrapperHeight);\n\t                currentTranslate = (p.monthsTranslate * inverter + percentage) * 100;\n\t\n\t                // Transform wrapper\n\t                p.wrapper.transform('translate3d(' + (p.isH ? currentTranslate : 0) + '%, ' + (p.isH ? 0 : currentTranslate) + '%, 0)');\n\t            }\n\t            function handleTouchEnd(e) {\n\t                if (!isTouched || !isMoved) {\n\t                    isTouched = isMoved = false;\n\t                    return;\n\t                }\n\t                isTouched = isMoved = false;\n\t\n\t                touchEndTime = new Date().getTime();\n\t                if (touchEndTime - touchStartTime < 300) {\n\t                    if (Math.abs(touchesDiff) < 10) {\n\t                        p.resetMonth();\n\t                    } else if (touchesDiff >= 10) {\n\t                        if (app.rtl) p.nextMonth();else p.prevMonth();\n\t                    } else {\n\t                        if (app.rtl) p.prevMonth();else p.nextMonth();\n\t                    }\n\t                } else {\n\t                    if (percentage <= -0.5) {\n\t                        if (app.rtl) p.prevMonth();else p.nextMonth();\n\t                    } else if (percentage >= 0.5) {\n\t                        if (app.rtl) p.nextMonth();else p.prevMonth();\n\t                    } else {\n\t                        p.resetMonth();\n\t                    }\n\t                }\n\t\n\t                // Allow click\n\t                setTimeout(function () {\n\t                    allowItemClick = true;\n\t                }, 100);\n\t            }\n\t\n\t            function handleDayClick(e) {\n\t                if (!allowItemClick) return;\n\t                var day = $(e.target).parents('.picker-calendar-day');\n\t                if (day.length === 0 && $(e.target).hasClass('picker-calendar-day')) {\n\t                    day = $(e.target);\n\t                }\n\t                if (day.length === 0) return;\n\t                if (day.hasClass('picker-calendar-day-selected') && !(p.params.multiple || p.params.rangePicker)) return;\n\t                if (day.hasClass('picker-calendar-day-disabled')) return;\n\t                if (!p.params.rangePicker) {\n\t                    if (day.hasClass('picker-calendar-day-next')) p.nextMonth();\n\t                    if (day.hasClass('picker-calendar-day-prev')) p.prevMonth();\n\t                }\n\t                var dateYear = day.attr('data-year');\n\t                var dateMonth = day.attr('data-month');\n\t                var dateDay = day.attr('data-day');\n\t                if (p.params.onDayClick) {\n\t                    p.params.onDayClick(p, day[0], dateYear, dateMonth, dateDay);\n\t                }\n\t                p.addValue(new Date(dateYear, dateMonth, dateDay).getTime());\n\t                if (p.params.closeOnSelect) {\n\t                    if (p.params.rangePicker && p.value.length === 2 || !p.params.rangePicker) p.close();\n\t                }\n\t            }\n\t\n\t            p.container.find('.picker-calendar-prev-month').on('click', p.prevMonth);\n\t            p.container.find('.picker-calendar-next-month').on('click', p.nextMonth);\n\t            p.container.find('.picker-calendar-prev-year').on('click', p.prevYear);\n\t            p.container.find('.picker-calendar-next-year').on('click', p.nextYear);\n\t            p.wrapper.on('click', handleDayClick);\n\t            if (p.params.touchMove) {\n\t                p.wrapper.on(app.touchEvents.start, handleTouchStart);\n\t                p.wrapper.on(app.touchEvents.move, handleTouchMove);\n\t                p.wrapper.on(app.touchEvents.end, handleTouchEnd);\n\t            }\n\t\n\t            p.container[0].f7DestroyCalendarEvents = function () {\n\t                p.container.find('.picker-calendar-prev-month').off('click', p.prevMonth);\n\t                p.container.find('.picker-calendar-next-month').off('click', p.nextMonth);\n\t                p.container.find('.picker-calendar-prev-year').off('click', p.prevYear);\n\t                p.container.find('.picker-calendar-next-year').off('click', p.nextYear);\n\t                p.wrapper.off('click', handleDayClick);\n\t                if (p.params.touchMove) {\n\t                    p.wrapper.off(app.touchEvents.start, handleTouchStart);\n\t                    p.wrapper.off(app.touchEvents.move, handleTouchMove);\n\t                    p.wrapper.off(app.touchEvents.end, handleTouchEnd);\n\t                }\n\t            };\n\t        };\n\t        p.destroyCalendarEvents = function (colContainer) {\n\t            if ('f7DestroyCalendarEvents' in p.container[0]) p.container[0].f7DestroyCalendarEvents();\n\t        };\n\t\n\t        // Scan Dates Range\n\t        p.dateInRange = function (dayDate, range) {\n\t            var match = false;\n\t            var i;\n\t            if (!range) return false;\n\t            if ($.isArray(range)) {\n\t                for (i = 0; i < range.length; i++) {\n\t                    if (range[i].from || range[i].to) {\n\t                        if (range[i].from && range[i].to) {\n\t                            if (dayDate <= new Date(range[i].to).getTime() && dayDate >= new Date(range[i].from).getTime()) {\n\t                                match = true;\n\t                            }\n\t                        } else if (range[i].from) {\n\t                            if (dayDate >= new Date(range[i].from).getTime()) {\n\t                                match = true;\n\t                            }\n\t                        } else if (range[i].to) {\n\t                            if (dayDate <= new Date(range[i].to).getTime()) {\n\t                                match = true;\n\t                            }\n\t                        }\n\t                    } else if (dayDate === new Date(range[i]).getTime()) {\n\t                        match = true;\n\t                    }\n\t                }\n\t            } else if (range.from || range.to) {\n\t                if (range.from && range.to) {\n\t                    if (dayDate <= new Date(range.to).getTime() && dayDate >= new Date(range.from).getTime()) {\n\t                        match = true;\n\t                    }\n\t                } else if (range.from) {\n\t                    if (dayDate >= new Date(range.from).getTime()) {\n\t                        match = true;\n\t                    }\n\t                } else if (range.to) {\n\t                    if (dayDate <= new Date(range.to).getTime()) {\n\t                        match = true;\n\t                    }\n\t                }\n\t            } else if (typeof range === 'function') {\n\t                match = range(new Date(dayDate));\n\t            }\n\t            return match;\n\t        };\n\t        // Calendar Methods\n\t        p.daysInMonth = function (date) {\n\t            var d = new Date(date);\n\t            return new Date(d.getFullYear(), d.getMonth() + 1, 0).getDate();\n\t        };\n\t        p.monthHTML = function (date, offset) {\n\t            date = new Date(date);\n\t            var year = date.getFullYear(),\n\t                month = date.getMonth(),\n\t                day = date.getDate();\n\t            if (offset === 'next') {\n\t                if (month === 11) date = new Date(year + 1, 0);else date = new Date(year, month + 1, 1);\n\t            }\n\t            if (offset === 'prev') {\n\t                if (month === 0) date = new Date(year - 1, 11);else date = new Date(year, month - 1, 1);\n\t            }\n\t            if (offset === 'next' || offset === 'prev') {\n\t                month = date.getMonth();\n\t                year = date.getFullYear();\n\t            }\n\t            var daysInPrevMonth = p.daysInMonth(new Date(date.getFullYear(), date.getMonth()).getTime() - 10 * 24 * 60 * 60 * 1000),\n\t                daysInMonth = p.daysInMonth(date),\n\t                firstDayOfMonthIndex = new Date(date.getFullYear(), date.getMonth()).getDay();\n\t            if (firstDayOfMonthIndex === 0) firstDayOfMonthIndex = 7;\n\t\n\t            var dayDate,\n\t                currentValues = [],\n\t                i,\n\t                j,\n\t                k,\n\t                rows = 6,\n\t                cols = 7,\n\t                monthHTML = '',\n\t                dayIndex = 0 + (p.params.firstDay - 1),\n\t                today = new Date().setHours(0, 0, 0, 0),\n\t                minDate = p.params.minDate ? new Date(p.params.minDate).getTime() : null,\n\t                maxDate = p.params.maxDate ? new Date(p.params.maxDate).getTime() : null,\n\t                disabled,\n\t                hasEvent;\n\t\n\t            if (p.value && p.value.length) {\n\t                for (i = 0; i < p.value.length; i++) {\n\t                    currentValues.push(new Date(p.value[i]).setHours(0, 0, 0, 0));\n\t                }\n\t            }\n\t\n\t            for (i = 1; i <= rows; i++) {\n\t                var rowHTML = '';\n\t                var row = i;\n\t                for (j = 1; j <= cols; j++) {\n\t                    var col = j;\n\t                    dayIndex++;\n\t                    var dayNumber = dayIndex - firstDayOfMonthIndex;\n\t                    var weekDayIndex = col - 1 + p.params.firstDay > 6 ? col - 1 - 7 + p.params.firstDay : col - 1 + p.params.firstDay;\n\t                    var addClass = '';\n\t                    if (dayNumber < 0) {\n\t                        dayNumber = daysInPrevMonth + dayNumber + 1;\n\t                        addClass += ' picker-calendar-day-prev';\n\t                        dayDate = new Date(month - 1 < 0 ? year - 1 : year, month - 1 < 0 ? 11 : month - 1, dayNumber).getTime();\n\t                    } else {\n\t                        dayNumber = dayNumber + 1;\n\t                        if (dayNumber > daysInMonth) {\n\t                            dayNumber = dayNumber - daysInMonth;\n\t                            addClass += ' picker-calendar-day-next';\n\t                            dayDate = new Date(month + 1 > 11 ? year + 1 : year, month + 1 > 11 ? 0 : month + 1, dayNumber).getTime();\n\t                        } else {\n\t                            dayDate = new Date(year, month, dayNumber).getTime();\n\t                        }\n\t                    }\n\t                    // Today\n\t                    if (dayDate === today) addClass += ' picker-calendar-day-today';\n\t                    // Selected\n\t                    if (p.params.rangePicker && currentValues.length === 2) {\n\t                        if (dayDate >= currentValues[0] && dayDate <= currentValues[1]) addClass += ' picker-calendar-day-selected';\n\t                    } else {\n\t                        if (currentValues.indexOf(dayDate) >= 0) addClass += ' picker-calendar-day-selected';\n\t                    }\n\t                    // Weekend\n\t                    if (p.params.weekendDays.indexOf(weekDayIndex) >= 0) {\n\t                        addClass += ' picker-calendar-day-weekend';\n\t                    }\n\t                    // Has Events\n\t                    hasEvent = false;\n\t                    if (p.params.events) {\n\t                        if (p.dateInRange(dayDate, p.params.events)) {\n\t                            hasEvent = true;\n\t                        }\n\t                    }\n\t                    if (hasEvent) {\n\t                        addClass += ' picker-calendar-day-has-events';\n\t                    }\n\t                    // Custom Ranges\n\t                    if (p.params.rangesClasses) {\n\t                        for (k = 0; k < p.params.rangesClasses.length; k++) {\n\t                            if (p.dateInRange(dayDate, p.params.rangesClasses[k].range)) {\n\t                                addClass += ' ' + p.params.rangesClasses[k].cssClass;\n\t                            }\n\t                        }\n\t                    }\n\t                    // Disabled\n\t                    disabled = false;\n\t                    if (minDate && dayDate < minDate || maxDate && dayDate > maxDate) {\n\t                        disabled = true;\n\t                    }\n\t                    if (p.params.disabled) {\n\t                        if (p.dateInRange(dayDate, p.params.disabled)) {\n\t                            disabled = true;\n\t                        }\n\t                    }\n\t                    if (disabled) {\n\t                        addClass += ' picker-calendar-day-disabled';\n\t                    }\n\t\n\t                    dayDate = new Date(dayDate);\n\t                    var dayYear = dayDate.getFullYear();\n\t                    var dayMonth = dayDate.getMonth();\n\t                    rowHTML += '<div data-year=\"' + dayYear + '\" data-month=\"' + dayMonth + '\" data-day=\"' + dayNumber + '\" class=\"picker-calendar-day' + addClass + '\" data-date=\"' + (dayYear + '-' + dayMonth + '-' + dayNumber) + '\"><span>' + dayNumber + '</span></div>';\n\t                }\n\t                monthHTML += '<div class=\"picker-calendar-row\">' + rowHTML + '</div>';\n\t            }\n\t            monthHTML = '<div class=\"picker-calendar-month\" data-year=\"' + year + '\" data-month=\"' + month + '\">' + monthHTML + '</div>';\n\t            return monthHTML;\n\t        };\n\t        p.animating = false;\n\t        p.updateCurrentMonthYear = function (dir) {\n\t            if (typeof dir === 'undefined') {\n\t                p.currentMonth = parseInt(p.months.eq(1).attr('data-month'), 10);\n\t                p.currentYear = parseInt(p.months.eq(1).attr('data-year'), 10);\n\t            } else {\n\t                p.currentMonth = parseInt(p.months.eq(dir === 'next' ? p.months.length - 1 : 0).attr('data-month'), 10);\n\t                p.currentYear = parseInt(p.months.eq(dir === 'next' ? p.months.length - 1 : 0).attr('data-year'), 10);\n\t            }\n\t            p.container.find('.current-month-value').text(p.params.monthNames[p.currentMonth]);\n\t            p.container.find('.current-year-value').text(p.currentYear);\n\t        };\n\t        p.onMonthChangeStart = function (dir) {\n\t            p.updateCurrentMonthYear(dir);\n\t            p.months.removeClass('picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next');\n\t            var currentIndex = dir === 'next' ? p.months.length - 1 : 0;\n\t\n\t            p.months.eq(currentIndex).addClass('picker-calendar-month-current');\n\t            p.months.eq(dir === 'next' ? currentIndex - 1 : currentIndex + 1).addClass(dir === 'next' ? 'picker-calendar-month-prev' : 'picker-calendar-month-next');\n\t\n\t            if (p.params.onMonthYearChangeStart) {\n\t                p.params.onMonthYearChangeStart(p, p.currentYear, p.currentMonth);\n\t            }\n\t        };\n\t        p.onMonthChangeEnd = function (dir, rebuildBoth) {\n\t            p.animating = false;\n\t            var nextMonthHTML, prevMonthHTML, newMonthHTML;\n\t            p.wrapper.find('.picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)').remove();\n\t\n\t            if (typeof dir === 'undefined') {\n\t                dir = 'next';\n\t                rebuildBoth = true;\n\t            }\n\t            if (!rebuildBoth) {\n\t                newMonthHTML = p.monthHTML(new Date(p.currentYear, p.currentMonth), dir);\n\t            } else {\n\t                p.wrapper.find('.picker-calendar-month-next, .picker-calendar-month-prev').remove();\n\t                prevMonthHTML = p.monthHTML(new Date(p.currentYear, p.currentMonth), 'prev');\n\t                nextMonthHTML = p.monthHTML(new Date(p.currentYear, p.currentMonth), 'next');\n\t            }\n\t            if (dir === 'next' || rebuildBoth) {\n\t                p.wrapper.append(newMonthHTML || nextMonthHTML);\n\t            }\n\t            if (dir === 'prev' || rebuildBoth) {\n\t                p.wrapper.prepend(newMonthHTML || prevMonthHTML);\n\t            }\n\t            p.months = p.wrapper.find('.picker-calendar-month');\n\t            p.setMonthsTranslate(p.monthsTranslate);\n\t            if (p.params.onMonthAdd) {\n\t                p.params.onMonthAdd(p, dir === 'next' ? p.months.eq(p.months.length - 1)[0] : p.months.eq(0)[0]);\n\t            }\n\t            if (p.params.onMonthYearChangeEnd) {\n\t                p.params.onMonthYearChangeEnd(p, p.currentYear, p.currentMonth);\n\t            }\n\t        };\n\t        p.setMonthsTranslate = function (translate) {\n\t            translate = translate || p.monthsTranslate || 0;\n\t            if (typeof p.monthsTranslate === 'undefined') p.monthsTranslate = translate;\n\t            p.months.removeClass('picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next');\n\t            var prevMonthTranslate = -(translate + 1) * 100 * inverter;\n\t            var currentMonthTranslate = -translate * 100 * inverter;\n\t            var nextMonthTranslate = -(translate - 1) * 100 * inverter;\n\t            p.months.eq(0).transform('translate3d(' + (p.isH ? prevMonthTranslate : 0) + '%, ' + (p.isH ? 0 : prevMonthTranslate) + '%, 0)').addClass('picker-calendar-month-prev');\n\t            p.months.eq(1).transform('translate3d(' + (p.isH ? currentMonthTranslate : 0) + '%, ' + (p.isH ? 0 : currentMonthTranslate) + '%, 0)').addClass('picker-calendar-month-current');\n\t            p.months.eq(2).transform('translate3d(' + (p.isH ? nextMonthTranslate : 0) + '%, ' + (p.isH ? 0 : nextMonthTranslate) + '%, 0)').addClass('picker-calendar-month-next');\n\t        };\n\t        p.nextMonth = function (transition) {\n\t            if (typeof transition === 'undefined' || (typeof transition === 'undefined' ? 'undefined' : _typeof(transition)) === 'object') {\n\t                transition = '';\n\t                if (!p.params.animate) transition = 0;\n\t            }\n\t            var nextMonth = parseInt(p.months.eq(p.months.length - 1).attr('data-month'), 10);\n\t            var nextYear = parseInt(p.months.eq(p.months.length - 1).attr('data-year'), 10);\n\t            var nextDate = new Date(nextYear, nextMonth);\n\t            var nextDateTime = nextDate.getTime();\n\t            var transitionEndCallback = p.animating ? false : true;\n\t            if (p.params.maxDate) {\n\t                if (nextDateTime > new Date(p.params.maxDate).getTime()) {\n\t                    return p.resetMonth();\n\t                }\n\t            }\n\t            p.monthsTranslate--;\n\t            if (nextMonth === p.currentMonth) {\n\t                var nextMonthTranslate = -p.monthsTranslate * 100 * inverter;\n\t                var nextMonthHTML = $(p.monthHTML(nextDateTime, 'next')).transform('translate3d(' + (p.isH ? nextMonthTranslate : 0) + '%, ' + (p.isH ? 0 : nextMonthTranslate) + '%, 0)').addClass('picker-calendar-month-next');\n\t                p.wrapper.append(nextMonthHTML[0]);\n\t                p.months = p.wrapper.find('.picker-calendar-month');\n\t                if (p.params.onMonthAdd) {\n\t                    p.params.onMonthAdd(p, p.months.eq(p.months.length - 1)[0]);\n\t                }\n\t            }\n\t            p.animating = true;\n\t            p.onMonthChangeStart('next');\n\t            var translate = p.monthsTranslate * 100 * inverter;\n\t\n\t            p.wrapper.transition(transition).transform('translate3d(' + (p.isH ? translate : 0) + '%, ' + (p.isH ? 0 : translate) + '%, 0)');\n\t            if (transitionEndCallback) {\n\t                p.wrapper.transitionEnd(function () {\n\t                    p.onMonthChangeEnd('next');\n\t                });\n\t            }\n\t            if (!p.params.animate) {\n\t                p.onMonthChangeEnd('next');\n\t            }\n\t        };\n\t        p.prevMonth = function (transition) {\n\t            if (typeof transition === 'undefined' || (typeof transition === 'undefined' ? 'undefined' : _typeof(transition)) === 'object') {\n\t                transition = '';\n\t                if (!p.params.animate) transition = 0;\n\t            }\n\t            var prevMonth = parseInt(p.months.eq(0).attr('data-month'), 10);\n\t            var prevYear = parseInt(p.months.eq(0).attr('data-year'), 10);\n\t            var prevDate = new Date(prevYear, prevMonth + 1, -1);\n\t            var prevDateTime = prevDate.getTime();\n\t            var transitionEndCallback = p.animating ? false : true;\n\t            if (p.params.minDate) {\n\t                if (prevDateTime < new Date(p.params.minDate).getTime()) {\n\t                    return p.resetMonth();\n\t                }\n\t            }\n\t            p.monthsTranslate++;\n\t            if (prevMonth === p.currentMonth) {\n\t                var prevMonthTranslate = -p.monthsTranslate * 100 * inverter;\n\t                var prevMonthHTML = $(p.monthHTML(prevDateTime, 'prev')).transform('translate3d(' + (p.isH ? prevMonthTranslate : 0) + '%, ' + (p.isH ? 0 : prevMonthTranslate) + '%, 0)').addClass('picker-calendar-month-prev');\n\t                p.wrapper.prepend(prevMonthHTML[0]);\n\t                p.months = p.wrapper.find('.picker-calendar-month');\n\t                if (p.params.onMonthAdd) {\n\t                    p.params.onMonthAdd(p, p.months.eq(0)[0]);\n\t                }\n\t            }\n\t            p.animating = true;\n\t            p.onMonthChangeStart('prev');\n\t            var translate = p.monthsTranslate * 100 * inverter;\n\t            p.wrapper.transition(transition).transform('translate3d(' + (p.isH ? translate : 0) + '%, ' + (p.isH ? 0 : translate) + '%, 0)');\n\t            if (transitionEndCallback) {\n\t                p.wrapper.transitionEnd(function () {\n\t                    p.onMonthChangeEnd('prev');\n\t                });\n\t            }\n\t            if (!p.params.animate) {\n\t                p.onMonthChangeEnd('prev');\n\t            }\n\t        };\n\t        p.resetMonth = function (transition) {\n\t            if (typeof transition === 'undefined') transition = '';\n\t            var translate = p.monthsTranslate * 100 * inverter;\n\t            p.wrapper.transition(transition).transform('translate3d(' + (p.isH ? translate : 0) + '%, ' + (p.isH ? 0 : translate) + '%, 0)');\n\t        };\n\t        p.setYearMonth = function (year, month, transition) {\n\t            if (typeof year === 'undefined') year = p.currentYear;\n\t            if (typeof month === 'undefined') month = p.currentMonth;\n\t            if (typeof transition === 'undefined' || (typeof transition === 'undefined' ? 'undefined' : _typeof(transition)) === 'object') {\n\t                transition = '';\n\t                if (!p.params.animate) transition = 0;\n\t            }\n\t            var targetDate;\n\t            if (year < p.currentYear) {\n\t                targetDate = new Date(year, month + 1, -1).getTime();\n\t            } else {\n\t                targetDate = new Date(year, month).getTime();\n\t            }\n\t            if (p.params.maxDate && targetDate > new Date(p.params.maxDate).getTime()) {\n\t                return false;\n\t            }\n\t            if (p.params.minDate && targetDate < new Date(p.params.minDate).getTime()) {\n\t                return false;\n\t            }\n\t            var currentDate = new Date(p.currentYear, p.currentMonth).getTime();\n\t            var dir = targetDate > currentDate ? 'next' : 'prev';\n\t            var newMonthHTML = p.monthHTML(new Date(year, month));\n\t            p.monthsTranslate = p.monthsTranslate || 0;\n\t            var prevTranslate = p.monthsTranslate;\n\t            var monthTranslate, wrapperTranslate;\n\t            var transitionEndCallback = p.animating ? false : true;\n\t            if (targetDate > currentDate) {\n\t                // To next\n\t                p.monthsTranslate--;\n\t                if (!p.animating) p.months.eq(p.months.length - 1).remove();\n\t                p.wrapper.append(newMonthHTML);\n\t                p.months = p.wrapper.find('.picker-calendar-month');\n\t                monthTranslate = -(prevTranslate - 1) * 100 * inverter;\n\t                p.months.eq(p.months.length - 1).transform('translate3d(' + (p.isH ? monthTranslate : 0) + '%, ' + (p.isH ? 0 : monthTranslate) + '%, 0)').addClass('picker-calendar-month-next');\n\t            } else {\n\t                // To prev\n\t                p.monthsTranslate++;\n\t                if (!p.animating) p.months.eq(0).remove();\n\t                p.wrapper.prepend(newMonthHTML);\n\t                p.months = p.wrapper.find('.picker-calendar-month');\n\t                monthTranslate = -(prevTranslate + 1) * 100 * inverter;\n\t                p.months.eq(0).transform('translate3d(' + (p.isH ? monthTranslate : 0) + '%, ' + (p.isH ? 0 : monthTranslate) + '%, 0)').addClass('picker-calendar-month-prev');\n\t            }\n\t            if (p.params.onMonthAdd) {\n\t                p.params.onMonthAdd(p, dir === 'next' ? p.months.eq(p.months.length - 1)[0] : p.months.eq(0)[0]);\n\t            }\n\t            p.animating = true;\n\t            p.onMonthChangeStart(dir);\n\t            wrapperTranslate = p.monthsTranslate * 100 * inverter;\n\t            p.wrapper.transition(transition).transform('translate3d(' + (p.isH ? wrapperTranslate : 0) + '%, ' + (p.isH ? 0 : wrapperTranslate) + '%, 0)');\n\t            if (transitionEndCallback) {\n\t                p.wrapper.transitionEnd(function () {\n\t                    p.onMonthChangeEnd(dir, true);\n\t                });\n\t            }\n\t            if (!p.params.animate) {\n\t                p.onMonthChangeEnd(dir);\n\t            }\n\t        };\n\t        p.nextYear = function () {\n\t            p.setYearMonth(p.currentYear + 1);\n\t        };\n\t        p.prevYear = function () {\n\t            p.setYearMonth(p.currentYear - 1);\n\t        };\n\t\n\t        // HTML Layout\n\t        p.layout = function () {\n\t            var pickerHTML = '';\n\t            var pickerClass = '';\n\t            var i;\n\t\n\t            var layoutDate = p.value && p.value.length ? p.value[0] : new Date().setHours(0, 0, 0, 0);\n\t            var prevMonthHTML = p.monthHTML(layoutDate, 'prev');\n\t            var currentMonthHTML = p.monthHTML(layoutDate);\n\t            var nextMonthHTML = p.monthHTML(layoutDate, 'next');\n\t            var monthsHTML = '<div class=\"picker-calendar-months\"><div class=\"picker-calendar-months-wrapper\">' + (prevMonthHTML + currentMonthHTML + nextMonthHTML) + '</div></div>';\n\t            // Week days header\n\t            var weekHeaderHTML = '';\n\t            if (p.params.weekHeader) {\n\t                for (i = 0; i < 7; i++) {\n\t                    var weekDayIndex = i + p.params.firstDay > 6 ? i - 7 + p.params.firstDay : i + p.params.firstDay;\n\t                    var dayName = p.params.dayNamesShort[weekDayIndex];\n\t                    weekHeaderHTML += '<div class=\"picker-calendar-week-day ' + (p.params.weekendDays.indexOf(weekDayIndex) >= 0 ? 'picker-calendar-week-day-weekend' : '') + '\"> ' + dayName + '</div>';\n\t                }\n\t                weekHeaderHTML = '<div class=\"picker-calendar-week-days\">' + weekHeaderHTML + '</div>';\n\t            }\n\t            pickerClass = 'picker-modal picker-calendar' + (p.params.rangePicker ? ' picker-calendar-range' : '') + (p.params.cssClass ? ' ' + p.params.cssClass : '');\n\t            var toolbarHTML = p.params.toolbar ? p.params.toolbarTemplate.replace(/{{closeText}}/g, p.params.toolbarCloseText) : '';\n\t            if (p.params.toolbar) {\n\t                toolbarHTML = p.params.toolbarTemplate.replace(/{{closeText}}/g, p.params.toolbarCloseText).replace(/{{monthPicker}}/g, p.params.monthPicker ? p.params.monthPickerTemplate : '').replace(/{{yearPicker}}/g, p.params.yearPicker ? p.params.yearPickerTemplate : '');\n\t            }\n\t            var headerHTML = p.params.header ? p.params.headerTemplate.replace(/{{closeText}}/g, p.params.toolbarCloseText).replace(/{{placeholder}}/g, p.params.headerPlaceholder) : '';\n\t            var footerHTML = p.params.footer ? p.params.footerTemplate.replace(/{{closeText}}/g, p.params.toolbarCloseText) : '';\n\t\n\t            pickerHTML = '<div class=\"' + pickerClass + '\">' + headerHTML + footerHTML + toolbarHTML + '<div class=\"picker-modal-inner\">' + weekHeaderHTML + monthsHTML + '</div>' + '</div>';\n\t\n\t            p.pickerHTML = pickerHTML;\n\t        };\n\t\n\t        // Input Events\n\t        function openOnInput(e) {\n\t            e.preventDefault();\n\t            if (p.opened) return;\n\t            p.open();\n\t            if (p.params.scrollToInput && !isPopover() && !app.params.material) {\n\t                var pageContent = p.input.parents('.page-content');\n\t                if (pageContent.length === 0) return;\n\t\n\t                var paddingTop = parseInt(pageContent.css('padding-top'), 10),\n\t                    paddingBottom = parseInt(pageContent.css('padding-bottom'), 10),\n\t                    pageHeight = pageContent[0].offsetHeight - paddingTop - p.container.height(),\n\t                    pageScrollHeight = pageContent[0].scrollHeight - paddingTop - p.container.height(),\n\t                    newPaddingBottom;\n\t\n\t                var inputTop = p.input.offset().top - paddingTop + p.input[0].offsetHeight;\n\t                if (inputTop > pageHeight) {\n\t                    var scrollTop = pageContent.scrollTop() + inputTop - pageHeight;\n\t                    if (scrollTop + pageHeight > pageScrollHeight) {\n\t                        newPaddingBottom = scrollTop + pageHeight - pageScrollHeight + paddingBottom;\n\t                        if (pageHeight === pageScrollHeight) {\n\t                            newPaddingBottom = p.container.height();\n\t                        }\n\t                        pageContent.css({ 'padding-bottom': newPaddingBottom + 'px' });\n\t                    }\n\t                    pageContent.scrollTop(scrollTop, 300);\n\t                }\n\t            }\n\t        }\n\t        function closeOnHTMLClick(e) {\n\t            if (inPopover()) return;\n\t            if (p.input && p.input.length > 0) {\n\t                if (e.target !== p.input[0] && $(e.target).parents('.picker-modal').length === 0) p.close();\n\t            } else {\n\t                if ($(e.target).parents('.picker-modal').length === 0) p.close();\n\t            }\n\t        }\n\t\n\t        if (p.params.input) {\n\t            p.input = $(p.params.input);\n\t            if (p.input.length > 0) {\n\t                if (p.params.inputReadOnly) p.input.prop('readOnly', true);\n\t                if (!p.inline) {\n\t                    p.input.on('click', openOnInput);\n\t                }\n\t                if (p.params.inputReadOnly) {\n\t                    p.input.on('focus mousedown', function (e) {\n\t                        e.preventDefault();\n\t                    });\n\t                }\n\t            }\n\t        }\n\t\n\t        if (!p.inline && p.params.closeByOutsideClick) $('html').on('click', closeOnHTMLClick);\n\t\n\t        // Open\n\t        function onPickerClose() {\n\t            p.opened = false;\n\t            if (p.input && p.input.length > 0) {\n\t                p.input.parents('.page-content').css({ 'padding-bottom': '' });\n\t                if (app.params.material) p.input.trigger('blur');\n\t            }\n\t            if (p.params.onClose) p.params.onClose(p);\n\t\n\t            // Destroy events\n\t            p.destroyCalendarEvents();\n\t        }\n\t\n\t        p.opened = false;\n\t        p.open = function () {\n\t            var toPopover = isPopover();\n\t            var updateValue = false;\n\t            if (!p.opened) {\n\t                // Set date value\n\t                if (!p.value) {\n\t                    if (p.params.value) {\n\t                        p.value = p.params.value;\n\t                        updateValue = true;\n\t                    }\n\t                }\n\t\n\t                // Layout\n\t                p.layout();\n\t\n\t                // Append\n\t                if (toPopover) {\n\t                    p.pickerHTML = '<div class=\"popover popover-picker-calendar\"><div class=\"popover-inner\">' + p.pickerHTML + '</div></div>';\n\t                    p.popover = app.popover(p.pickerHTML, p.params.input, true);\n\t                    p.container = $(p.popover).find('.picker-modal');\n\t                    $(p.popover).on('close', function () {\n\t                        onPickerClose();\n\t                    });\n\t                } else if (p.inline) {\n\t                    p.container = $(p.pickerHTML);\n\t                    p.container.addClass('picker-modal-inline');\n\t                    $(p.params.container).append(p.container);\n\t                } else {\n\t                    p.container = $(app.pickerModal(p.pickerHTML));\n\t                    $(p.container).on('close', function () {\n\t                        onPickerClose();\n\t                    });\n\t                }\n\t\n\t                // Store calendar instance\n\t                p.container[0].f7Calendar = p;\n\t                p.wrapper = p.container.find('.picker-calendar-months-wrapper');\n\t\n\t                // Months\n\t                p.months = p.wrapper.find('.picker-calendar-month');\n\t\n\t                // Update current month and year\n\t                p.updateCurrentMonthYear();\n\t\n\t                // Set initial translate\n\t                p.monthsTranslate = 0;\n\t                p.setMonthsTranslate();\n\t\n\t                // Init events\n\t                p.initCalendarEvents();\n\t\n\t                // Update input value\n\t                if (updateValue) p.updateValue();else if (app.params.material && p.value) p.updateValue(true);\n\t\n\t                // Material Focus\n\t                if (p.input && p.input.length > 0 && app.params.material) {\n\t                    p.input.trigger('focus');\n\t                }\n\t            }\n\t\n\t            // Set flag\n\t            p.opened = true;\n\t            p.initialized = true;\n\t            if (p.params.onMonthAdd) {\n\t                p.months.each(function () {\n\t                    p.params.onMonthAdd(p, this);\n\t                });\n\t            }\n\t            if (p.params.onOpen) p.params.onOpen(p);\n\t        };\n\t\n\t        // Close\n\t        p.close = function () {\n\t            if (!p.opened || p.inline) return;\n\t            if (inPopover()) {\n\t                app.closeModal(p.popover);\n\t                return;\n\t            } else {\n\t                app.closeModal(p.container);\n\t                return;\n\t            }\n\t        };\n\t\n\t        // Destroy\n\t        p.destroy = function () {\n\t            p.close();\n\t            if (p.params.input && p.input.length > 0) {\n\t                p.input.off('click focus', openOnInput);\n\t            }\n\t            $('html').off('click', closeOnHTMLClick);\n\t        };\n\t\n\t        if (p.inline) {\n\t            p.open();\n\t        } else {\n\t            if (!p.initialized && p.params.value) p.setValue(p.params.value);\n\t        }\n\t\n\t        return p;\n\t    };\n\t    app.calendar = function (params) {\n\t        return new Calendar(params);\n\t    };\n\t\n\t    /*======================================================\n\t    ************   Notifications   ************\n\t    ======================================================*/\n\t    var _tempNotificationElement;\n\t    app.addNotification = function (params) {\n\t        if (!params) return;\n\t\n\t        if (typeof params.media === 'undefined') params.media = app.params.notificationMedia;\n\t        if (typeof params.title === 'undefined') params.title = app.params.notificationTitle;\n\t        if (typeof params.subtitle === 'undefined') params.subtitle = app.params.notificationSubtitle;\n\t        if (typeof params.closeIcon === 'undefined') params.closeIcon = app.params.notificationCloseIcon;\n\t        if (typeof params.hold === 'undefined') params.hold = app.params.notificationHold;\n\t        if (typeof params.closeOnClick === 'undefined') params.closeOnClick = app.params.notificationCloseOnClick;\n\t        if (typeof params.button === 'undefined') params.button = app.params.notificationCloseButtonText && {\n\t            text: app.params.notificationCloseButtonText,\n\t            close: true\n\t        };\n\t\n\t        if (!_tempNotificationElement) _tempNotificationElement = document.createElement('div');\n\t\n\t        params.material = app.params.material;\n\t\n\t        var container = $('.notifications');\n\t        if (container.length === 0) {\n\t            $('body').append('<div class=\"notifications list-block' + (params.material ? '' : ' media-list') + '\"><ul></ul></div>');\n\t            container = $('.notifications');\n\t        }\n\t        var list = container.children('ul');\n\t\n\t        var notificationTemplate = app.params.notificationTemplate || '{{#if custom}}' + '<li>{{custom}}</li>' + '{{else}}' + '<li class=\"notification-item notification-hidden\">' + '<div class=\"item-content\">' + '{{#if material}}' + '<div class=\"item-inner\">' + '<div class=\"item-title\">{{js \"this.message || this.title || this.subtitle\"}}</div>' + '{{#if ../button}}{{#button}}' + '<div class=\"item-after\">' + '<a href=\"#\" class=\"button {{#if color}}color-{{color}}{{/if}} {{#js_compare \"this.close !== false\"}}close-notification{{/js_compare}}\">{{text}}</a>' + '</div>' + '{{/button}}{{/if}}' + '</div>' + '{{else}}' + '{{#if media}}' + '<div class=\"item-media\">{{media}}</div>' + '{{/if}}' + '<div class=\"item-inner\">' + '<div class=\"item-title-row\">' + '{{#if title}}' + '<div class=\"item-title\">{{title}}</div>' + '{{/if}}' + '{{#if closeIcon}}' + '<div class=\"item-after\"><a href=\"#\" class=\"close-notification\"><span></span></a></div>' + '{{/if}}' + '</div>' + '{{#if subtitle}}' + '<div class=\"item-subtitle\">{{subtitle}}</div>' + '{{/if}}' + '{{#if message}}' + '<div class=\"item-text\">{{message}}</div>' + '</div>' + '{{/if}}' + '{{/if}}' + '</div>' + '</li>' + '{{/if}}';\n\t        if (!app._compiledTemplates.notification) {\n\t            app._compiledTemplates.notification = t7.compile(notificationTemplate);\n\t        }\n\t        _tempNotificationElement.innerHTML = app._compiledTemplates.notification(params);\n\t\n\t        var item = $(_tempNotificationElement).children();\n\t\n\t        item.on('click', function (e) {\n\t            var close = false;\n\t            var target = $(e.target);\n\t            if (params.material && target.hasClass('button')) {\n\t                if (params.button && params.button.onClick) params.button.onClick.call(target[0], e, item[0]);\n\t            }\n\t            if (target.is('.close-notification') || $(e.target).parents('.close-notification').length > 0) {\n\t                close = true;\n\t            } else {\n\t                if (params.onClick) params.onClick(e, item[0]);\n\t                if (params.closeOnClick) close = true;\n\t            }\n\t            if (close) app.closeNotification(item[0]);\n\t        });\n\t        if (params.onClose) {\n\t            item.data('f7NotificationOnClose', function () {\n\t                params.onClose(item[0]);\n\t            });\n\t        }\n\t        if (params.additionalClass) {\n\t            item.addClass(params.additionalClass);\n\t        }\n\t        if (params.hold) {\n\t            setTimeout(function () {\n\t                if (item.length > 0) app.closeNotification(item[0]);\n\t            }, params.hold);\n\t        }\n\t\n\t        list[params.material ? 'append' : 'prepend'](item[0]);\n\t        container.show();\n\t\n\t        var itemHeight = item.outerHeight(),\n\t            clientLeft;\n\t        if (params.material) {\n\t            container.transform('translate3d(0, ' + itemHeight + 'px, 0)');\n\t            container.transition(0);\n\t\n\t            clientLeft = item[0].clientLeft;\n\t\n\t            container.transform('translate3d(0, 0, 0)');\n\t            container.transition('');\n\t        } else {\n\t            item.css('marginTop', -itemHeight + 'px');\n\t            item.transition(0);\n\t\n\t            clientLeft = item[0].clientLeft;\n\t\n\t            item.transition('');\n\t            item.css('marginTop', '0px');\n\t        }\n\t\n\t        container.transform('translate3d(0, 0,0)');\n\t        item.removeClass('notification-hidden');\n\t\n\t        return item[0];\n\t    };\n\t    app.closeNotification = function (item) {\n\t        item = $(item);\n\t        if (item.length === 0) return;\n\t        if (item.hasClass('notification-item-removing')) return;\n\t        var container = $('.notifications');\n\t\n\t        var itemHeight = item.outerHeight();\n\t        item.css('height', itemHeight + 'px').transition(0).addClass('notification-item-removing');\n\t        var clientLeft = item[0].clientLeft;\n\t\n\t        item.css('height', '0px').transition('');\n\t        if (item.data('f7NotificationOnClose')) item.data('f7NotificationOnClose')();\n\t\n\t        if (container.find('.notification-item:not(.notification-item-removing)').length === 0) {\n\t            container.transform('');\n\t        }\n\t\n\t        item.addClass('notification-hidden').transitionEnd(function () {\n\t            item.remove();\n\t            if (container.find('.notification-item').length === 0) {\n\t                container.hide();\n\t            }\n\t        });\n\t    };\n\t\n\t    /*===========================\n\t    Compile Template7 Templates On App Init\n\t    ===========================*/\n\t    app.initTemplate7Templates = function () {\n\t        if (!window.Template7) return;\n\t        Template7.templates = Template7.templates || app.params.templates || {};\n\t        Template7.data = Template7.data || app.params.template7Data || {};\n\t        Template7.cache = Template7.cache || {};\n\t\n\t        app.templates = Template7.templates;\n\t        app.template7Data = Template7.data;\n\t        app.template7Cache = Template7.cache;\n\t\n\t        // Precompile templates on app init\n\t        if (!app.params.precompileTemplates) return;\n\t        $('script[type=\"text/template7\"]').each(function () {\n\t            var id = $(this).attr('id');\n\t            if (!id) return;\n\t            Template7.templates[id] = Template7.compile($(this).html());\n\t        });\n\t    };\n\t\n\t    /*=======================================\n\t    ************   Plugins API   ************\n\t    =======================================*/\n\t    var _plugins = [];\n\t    app.initPlugins = function () {\n\t        // Initialize plugins\n\t        for (var plugin in app.plugins) {\n\t            var p = app.plugins[plugin](app, app.params[plugin]);\n\t            if (p) _plugins.push(p);\n\t        }\n\t    };\n\t    // Plugin Hooks\n\t    app.pluginHook = function (hook) {\n\t        for (var i = 0; i < _plugins.length; i++) {\n\t            if (_plugins[i].hooks && hook in _plugins[i].hooks) {\n\t                _plugins[i].hooks[hook](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n\t            }\n\t        }\n\t    };\n\t    // Prevented by plugin\n\t    app.pluginPrevent = function (action) {\n\t        var prevent = false;\n\t        for (var i = 0; i < _plugins.length; i++) {\n\t            if (_plugins[i].prevents && action in _plugins[i].prevents) {\n\t                if (_plugins[i].prevents[action](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])) prevent = true;\n\t            }\n\t        }\n\t        return prevent;\n\t    };\n\t    // Preprocess content by plugin\n\t    app.pluginProcess = function (process, data) {\n\t        var processed = data;\n\t        for (var i = 0; i < _plugins.length; i++) {\n\t            if (_plugins[i].preprocess && process in _plugins[i].preprocess) {\n\t                processed = _plugins[i].preprocess[process](data, arguments[2], arguments[3], arguments[4], arguments[5], arguments[6]);\n\t            }\n\t        }\n\t        return processed;\n\t    };\n\t\n\t    /*======================================================\n\t    ************   App Init   ************\n\t    ======================================================*/\n\t    app.init = function () {\n\t        // Compile Template7 templates on app load\n\t        if (app.initTemplate7Templates) app.initTemplate7Templates();\n\t\n\t        // Init Plugins\n\t        if (app.initPlugins) app.initPlugins();\n\t\n\t        // Init Device\n\t        if (app.getDeviceInfo) app.getDeviceInfo();\n\t\n\t        // Init Click events\n\t        if (app.initFastClicks && app.params.fastClicks) app.initFastClicks();\n\t        if (app.initClickEvents) app.initClickEvents();\n\t\n\t        // Init each page callbacks\n\t        $('.page:not(.cached)').each(function () {\n\t            app.initPageWithCallback(this);\n\t        });\n\t\n\t        // Init each navbar callbacks\n\t        $('.navbar:not(.cached)').each(function () {\n\t            app.initNavbarWithCallback(this);\n\t        });\n\t\n\t        // Init resize events\n\t        if (app.initResize) app.initResize();\n\t\n\t        // Init push state\n\t        if (app.initPushState && app.params.pushState) app.initPushState();\n\t\n\t        // Init Live Swipeouts events\n\t        if (app.initSwipeout && app.params.swipeout) app.initSwipeout();\n\t\n\t        // Init Live Sortable events\n\t        if (app.initSortable && app.params.sortable) app.initSortable();\n\t\n\t        // Init Live Swipe Panels\n\t        if (app.initSwipePanels && (app.params.swipePanel || app.params.swipePanelOnlyClose)) app.initSwipePanels();\n\t\n\t        // Init Material Inputs\n\t        if (app.params.material && app.initMaterialWatchInputs) app.initMaterialWatchInputs();\n\t\n\t        // App Init callback\n\t        if (app.params.onAppInit) app.params.onAppInit();\n\t\n\t        // Plugin app init hook\n\t        app.pluginHook('appInit');\n\t    };\n\t    if (app.params.init) app.init();\n\t\n\t    //Return instance        \n\t    return app;\n\t};\n\t\n\t/*===========================\n\tDom7 Library\n\t===========================*/\n\tvar Dom7 = function () {\n\t    var Dom7 = function Dom7(arr) {\n\t        var _this = this,\n\t            i = 0;\n\t        // Create array-like object\n\t        for (i = 0; i < arr.length; i++) {\n\t            _this[i] = arr[i];\n\t        }\n\t        _this.length = arr.length;\n\t        // Return collection with methods\n\t        return this;\n\t    };\n\t    var $ = function $(selector, context) {\n\t        var arr = [],\n\t            i = 0;\n\t        if (selector && !context) {\n\t            if (selector instanceof Dom7) {\n\t                return selector;\n\t            }\n\t        }\n\t        if (selector) {\n\t            // String\n\t            if (typeof selector === 'string') {\n\t                var els, tempParent, html;\n\t                selector = html = selector.trim();\n\t                if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n\t                    var toCreate = 'div';\n\t                    if (html.indexOf('<li') === 0) toCreate = 'ul';\n\t                    if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n\t                    if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n\t                    if (html.indexOf('<tbody') === 0) toCreate = 'table';\n\t                    if (html.indexOf('<option') === 0) toCreate = 'select';\n\t                    tempParent = document.createElement(toCreate);\n\t                    tempParent.innerHTML = html;\n\t                    for (i = 0; i < tempParent.childNodes.length; i++) {\n\t                        arr.push(tempParent.childNodes[i]);\n\t                    }\n\t                } else {\n\t                    if (!context && selector[0] === '#' && !selector.match(/[ .<>:~]/)) {\n\t                        // Pure ID selector\n\t                        els = [document.getElementById(selector.split('#')[1])];\n\t                    } else {\n\t                        // Other selectors\n\t                        els = (context || document).querySelectorAll(selector);\n\t                    }\n\t                    for (i = 0; i < els.length; i++) {\n\t                        if (els[i]) arr.push(els[i]);\n\t                    }\n\t                }\n\t            }\n\t            // Node/element\n\t            else if (selector.nodeType || selector === window || selector === document) {\n\t                    arr.push(selector);\n\t                }\n\t                //Array of elements or instance of Dom\n\t                else if (selector.length > 0 && selector[0].nodeType) {\n\t                        for (i = 0; i < selector.length; i++) {\n\t                            arr.push(selector[i]);\n\t                        }\n\t                    }\n\t        }\n\t        return new Dom7(arr);\n\t    };\n\t\n\t    Dom7.prototype = {\n\t        // Classes and attriutes\n\t        addClass: function addClass(className) {\n\t            if (typeof className === 'undefined') {\n\t                return this;\n\t            }\n\t            var classes = className.split(' ');\n\t            for (var i = 0; i < classes.length; i++) {\n\t                for (var j = 0; j < this.length; j++) {\n\t                    if (typeof this[j].classList !== 'undefined') this[j].classList.add(classes[i]);\n\t                }\n\t            }\n\t            return this;\n\t        },\n\t        removeClass: function removeClass(className) {\n\t            var classes = className.split(' ');\n\t            for (var i = 0; i < classes.length; i++) {\n\t                for (var j = 0; j < this.length; j++) {\n\t                    if (typeof this[j].classList !== 'undefined') this[j].classList.remove(classes[i]);\n\t                }\n\t            }\n\t            return this;\n\t        },\n\t        hasClass: function hasClass(className) {\n\t            if (!this[0]) return false;else return this[0].classList.contains(className);\n\t        },\n\t        toggleClass: function toggleClass(className) {\n\t            var classes = className.split(' ');\n\t            for (var i = 0; i < classes.length; i++) {\n\t                for (var j = 0; j < this.length; j++) {\n\t                    if (typeof this[j].classList !== 'undefined') this[j].classList.toggle(classes[i]);\n\t                }\n\t            }\n\t            return this;\n\t        },\n\t        attr: function attr(attrs, value) {\n\t            if (arguments.length === 1 && typeof attrs === 'string') {\n\t                // Get attr\n\t                if (this[0]) return this[0].getAttribute(attrs);else return undefined;\n\t            } else {\n\t                // Set attrs\n\t                for (var i = 0; i < this.length; i++) {\n\t                    if (arguments.length === 2) {\n\t                        // String\n\t                        this[i].setAttribute(attrs, value);\n\t                    } else {\n\t                        // Object\n\t                        for (var attrName in attrs) {\n\t                            this[i][attrName] = attrs[attrName];\n\t                            this[i].setAttribute(attrName, attrs[attrName]);\n\t                        }\n\t                    }\n\t                }\n\t                return this;\n\t            }\n\t        },\n\t        removeAttr: function removeAttr(attr) {\n\t            for (var i = 0; i < this.length; i++) {\n\t                this[i].removeAttribute(attr);\n\t            }\n\t            return this;\n\t        },\n\t        prop: function prop(props, value) {\n\t            if (arguments.length === 1 && typeof props === 'string') {\n\t                // Get prop\n\t                if (this[0]) return this[0][props];else return undefined;\n\t            } else {\n\t                // Set props\n\t                for (var i = 0; i < this.length; i++) {\n\t                    if (arguments.length === 2) {\n\t                        // String\n\t                        this[i][props] = value;\n\t                    } else {\n\t                        // Object\n\t                        for (var propName in props) {\n\t                            this[i][propName] = props[propName];\n\t                        }\n\t                    }\n\t                }\n\t                return this;\n\t            }\n\t        },\n\t        data: function data(key, value) {\n\t            if (typeof value === 'undefined') {\n\t                // Get value\n\t                if (this[0]) {\n\t                    if (this[0].dom7ElementDataStorage && key in this[0].dom7ElementDataStorage) {\n\t                        return this[0].dom7ElementDataStorage[key];\n\t                    } else {\n\t                        var dataKey = this[0].getAttribute('data-' + key);\n\t                        if (dataKey) {\n\t                            return dataKey;\n\t                        } else return undefined;\n\t                    }\n\t                } else return undefined;\n\t            } else {\n\t                // Set value\n\t                for (var i = 0; i < this.length; i++) {\n\t                    var el = this[i];\n\t                    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n\t                    el.dom7ElementDataStorage[key] = value;\n\t                }\n\t                return this;\n\t            }\n\t        },\n\t        removeData: function removeData(key) {\n\t            for (var i = 0; i < this.length; i++) {\n\t                var el = this[i];\n\t                if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n\t                    el.dom7ElementDataStorage[key] = null;\n\t                    delete el.dom7ElementDataStorage[key];\n\t                }\n\t            }\n\t        },\n\t        dataset: function dataset() {\n\t            var el = this[0];\n\t            if (el) {\n\t                var dataset = {};\n\t                if (el.dataset) {\n\t                    for (var dataKey in el.dataset) {\n\t                        dataset[dataKey] = el.dataset[dataKey];\n\t                    }\n\t                } else {\n\t                    for (var i = 0; i < el.attributes.length; i++) {\n\t                        var attr = el.attributes[i];\n\t                        if (attr.name.indexOf('data-') >= 0) {\n\t                            dataset[$.toCamelCase(attr.name.split('data-')[1])] = attr.value;\n\t                        }\n\t                    }\n\t                }\n\t                for (var key in dataset) {\n\t                    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] = dataset[key] * 1;\n\t                }\n\t                return dataset;\n\t            } else return undefined;\n\t        },\n\t        val: function val(value) {\n\t            if (typeof value === 'undefined') {\n\t                if (this[0]) return this[0].value;else return undefined;\n\t            } else {\n\t                for (var i = 0; i < this.length; i++) {\n\t                    this[i].value = value;\n\t                }\n\t                return this;\n\t            }\n\t        },\n\t        // Transforms\n\t        transform: function transform(_transform) {\n\t            for (var i = 0; i < this.length; i++) {\n\t                var elStyle = this[i].style;\n\t                elStyle.webkitTransform = elStyle.MsTransform = elStyle.msTransform = elStyle.MozTransform = elStyle.OTransform = elStyle.transform = _transform;\n\t            }\n\t            return this;\n\t        },\n\t        transition: function transition(duration) {\n\t            if (typeof duration !== 'string') {\n\t                duration = duration + 'ms';\n\t            }\n\t            for (var i = 0; i < this.length; i++) {\n\t                var elStyle = this[i].style;\n\t                elStyle.webkitTransitionDuration = elStyle.MsTransitionDuration = elStyle.msTransitionDuration = elStyle.MozTransitionDuration = elStyle.OTransitionDuration = elStyle.transitionDuration = duration;\n\t            }\n\t            return this;\n\t        },\n\t        //Events\n\t        on: function on(eventName, targetSelector, listener, capture) {\n\t            function handleLiveEvent(e) {\n\t                var target = e.target;\n\t                if ($(target).is(targetSelector)) listener.call(target, e);else {\n\t                    var parents = $(target).parents();\n\t                    for (var k = 0; k < parents.length; k++) {\n\t                        if ($(parents[k]).is(targetSelector)) listener.call(parents[k], e);\n\t                    }\n\t                }\n\t            }\n\t            var events = eventName.split(' ');\n\t            var i, j;\n\t            for (i = 0; i < this.length; i++) {\n\t                if (typeof targetSelector === 'function' || targetSelector === false) {\n\t                    // Usual events\n\t                    if (typeof targetSelector === 'function') {\n\t                        listener = arguments[1];\n\t                        capture = arguments[2] || false;\n\t                    }\n\t                    for (j = 0; j < events.length; j++) {\n\t                        this[i].addEventListener(events[j], listener, capture);\n\t                    }\n\t                } else {\n\t                    //Live events\n\t                    for (j = 0; j < events.length; j++) {\n\t                        if (!this[i].dom7LiveListeners) this[i].dom7LiveListeners = [];\n\t                        this[i].dom7LiveListeners.push({ listener: listener, liveListener: handleLiveEvent });\n\t                        this[i].addEventListener(events[j], handleLiveEvent, capture);\n\t                    }\n\t                }\n\t            }\n\t\n\t            return this;\n\t        },\n\t        off: function off(eventName, targetSelector, listener, capture) {\n\t            var events = eventName.split(' ');\n\t            for (var i = 0; i < events.length; i++) {\n\t                for (var j = 0; j < this.length; j++) {\n\t                    if (typeof targetSelector === 'function' || targetSelector === false) {\n\t                        // Usual events\n\t                        if (typeof targetSelector === 'function') {\n\t                            listener = arguments[1];\n\t                            capture = arguments[2] || false;\n\t                        }\n\t                        this[j].removeEventListener(events[i], listener, capture);\n\t                    } else {\n\t                        // Live event\n\t                        if (this[j].dom7LiveListeners) {\n\t                            for (var k = 0; k < this[j].dom7LiveListeners.length; k++) {\n\t                                if (this[j].dom7LiveListeners[k].listener === listener) {\n\t                                    this[j].removeEventListener(events[i], this[j].dom7LiveListeners[k].liveListener, capture);\n\t                                }\n\t                            }\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t            return this;\n\t        },\n\t        once: function once(eventName, targetSelector, listener, capture) {\n\t            var dom = this;\n\t            if (typeof targetSelector === 'function') {\n\t                listener = arguments[1];\n\t                capture = arguments[2];\n\t                targetSelector = false;\n\t            }\n\t            function proxy(e) {\n\t                listener.call(e.target, e);\n\t                dom.off(eventName, targetSelector, proxy, capture);\n\t            }\n\t            return dom.on(eventName, targetSelector, proxy, capture);\n\t        },\n\t        trigger: function trigger(eventName, eventData) {\n\t            var events = eventName.split(' ');\n\t            for (var i = 0; i < events.length; i++) {\n\t                for (var j = 0; j < this.length; j++) {\n\t                    var evt;\n\t                    try {\n\t                        evt = new CustomEvent(events[i], { detail: eventData, bubbles: true, cancelable: true });\n\t                    } catch (e) {\n\t                        evt = document.createEvent('Event');\n\t                        evt.initEvent(events[i], true, true);\n\t                        evt.detail = eventData;\n\t                    }\n\t                    this[j].dispatchEvent(evt);\n\t                }\n\t            }\n\t            return this;\n\t        },\n\t        transitionEnd: function transitionEnd(callback) {\n\t            var events = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'],\n\t                i,\n\t                j,\n\t                dom = this;\n\t            function fireCallBack(e) {\n\t                /*jshint validthis:true */\n\t                if (e.target !== this) return;\n\t                callback.call(this, e);\n\t                for (i = 0; i < events.length; i++) {\n\t                    dom.off(events[i], fireCallBack);\n\t                }\n\t            }\n\t            if (callback) {\n\t                for (i = 0; i < events.length; i++) {\n\t                    dom.on(events[i], fireCallBack);\n\t                }\n\t            }\n\t            return this;\n\t        },\n\t        animationEnd: function animationEnd(callback) {\n\t            var events = ['webkitAnimationEnd', 'OAnimationEnd', 'MSAnimationEnd', 'animationend'],\n\t                i,\n\t                j,\n\t                dom = this;\n\t            function fireCallBack(e) {\n\t                callback(e);\n\t                for (i = 0; i < events.length; i++) {\n\t                    dom.off(events[i], fireCallBack);\n\t                }\n\t            }\n\t            if (callback) {\n\t                for (i = 0; i < events.length; i++) {\n\t                    dom.on(events[i], fireCallBack);\n\t                }\n\t            }\n\t            return this;\n\t        },\n\t        // Sizing/Styles\n\t        width: function width() {\n\t            if (this[0] === window) {\n\t                return window.innerWidth;\n\t            } else {\n\t                if (this.length > 0) {\n\t                    return parseFloat(this.css('width'));\n\t                } else {\n\t                    return null;\n\t                }\n\t            }\n\t        },\n\t        outerWidth: function outerWidth(includeMargins) {\n\t            if (this.length > 0) {\n\t                if (includeMargins) {\n\t                    var styles = this.styles();\n\t                    return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n\t                } else return this[0].offsetWidth;\n\t            } else return null;\n\t        },\n\t        height: function height() {\n\t            if (this[0] === window) {\n\t                return window.innerHeight;\n\t            } else {\n\t                if (this.length > 0) {\n\t                    return parseFloat(this.css('height'));\n\t                } else {\n\t                    return null;\n\t                }\n\t            }\n\t        },\n\t        outerHeight: function outerHeight(includeMargins) {\n\t            if (this.length > 0) {\n\t                if (includeMargins) {\n\t                    var styles = this.styles();\n\t                    return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n\t                } else return this[0].offsetHeight;\n\t            } else return null;\n\t        },\n\t        offset: function offset() {\n\t            if (this.length > 0) {\n\t                var el = this[0];\n\t                var box = el.getBoundingClientRect();\n\t                var body = document.body;\n\t                var clientTop = el.clientTop || body.clientTop || 0;\n\t                var clientLeft = el.clientLeft || body.clientLeft || 0;\n\t                var scrollTop = window.pageYOffset || el.scrollTop;\n\t                var scrollLeft = window.pageXOffset || el.scrollLeft;\n\t                return {\n\t                    top: box.top + scrollTop - clientTop,\n\t                    left: box.left + scrollLeft - clientLeft\n\t                };\n\t            } else {\n\t                return null;\n\t            }\n\t        },\n\t        hide: function hide() {\n\t            for (var i = 0; i < this.length; i++) {\n\t                this[i].style.display = 'none';\n\t            }\n\t            return this;\n\t        },\n\t        show: function show() {\n\t            for (var i = 0; i < this.length; i++) {\n\t                this[i].style.display = 'block';\n\t            }\n\t            return this;\n\t        },\n\t        styles: function styles() {\n\t            var i, styles;\n\t            if (this[0]) return window.getComputedStyle(this[0], null);else return undefined;\n\t        },\n\t        css: function css(props, value) {\n\t            var i;\n\t            if (arguments.length === 1) {\n\t                if (typeof props === 'string') {\n\t                    if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n\t                } else {\n\t                    for (i = 0; i < this.length; i++) {\n\t                        for (var prop in props) {\n\t                            this[i].style[prop] = props[prop];\n\t                        }\n\t                    }\n\t                    return this;\n\t                }\n\t            }\n\t            if (arguments.length === 2 && typeof props === 'string') {\n\t                for (i = 0; i < this.length; i++) {\n\t                    this[i].style[props] = value;\n\t                }\n\t                return this;\n\t            }\n\t            return this;\n\t        },\n\t\n\t        //Dom manipulation\n\t        each: function each(callback) {\n\t            for (var i = 0; i < this.length; i++) {\n\t                callback.call(this[i], i, this[i]);\n\t            }\n\t            return this;\n\t        },\n\t        filter: function filter(callback) {\n\t            var matchedItems = [];\n\t            var dom = this;\n\t            for (var i = 0; i < dom.length; i++) {\n\t                if (callback.call(dom[i], i, dom[i])) matchedItems.push(dom[i]);\n\t            }\n\t            return new Dom7(matchedItems);\n\t        },\n\t        html: function html(_html) {\n\t            if (typeof _html === 'undefined') {\n\t                return this[0] ? this[0].innerHTML : undefined;\n\t            } else {\n\t                for (var i = 0; i < this.length; i++) {\n\t                    this[i].innerHTML = _html;\n\t                }\n\t                return this;\n\t            }\n\t        },\n\t        text: function text(_text) {\n\t            if (typeof _text === 'undefined') {\n\t                if (this[0]) {\n\t                    return this[0].textContent.trim();\n\t                } else return null;\n\t            } else {\n\t                for (var i = 0; i < this.length; i++) {\n\t                    this[i].textContent = _text;\n\t                }\n\t                return this;\n\t            }\n\t        },\n\t        is: function is(selector) {\n\t            if (!this[0] || typeof selector === 'undefined') return false;\n\t            var compareWith, i;\n\t            if (typeof selector === 'string') {\n\t                var el = this[0];\n\t                if (el === document) return selector === document;\n\t                if (el === window) return selector === window;\n\t\n\t                if (el.matches) return el.matches(selector);else if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);else if (el.mozMatchesSelector) return el.mozMatchesSelector(selector);else if (el.msMatchesSelector) return el.msMatchesSelector(selector);else {\n\t                    compareWith = $(selector);\n\t                    for (i = 0; i < compareWith.length; i++) {\n\t                        if (compareWith[i] === this[0]) return true;\n\t                    }\n\t                    return false;\n\t                }\n\t            } else if (selector === document) return this[0] === document;else if (selector === window) return this[0] === window;else {\n\t                if (selector.nodeType || selector instanceof Dom7) {\n\t                    compareWith = selector.nodeType ? [selector] : selector;\n\t                    for (i = 0; i < compareWith.length; i++) {\n\t                        if (compareWith[i] === this[0]) return true;\n\t                    }\n\t                    return false;\n\t                }\n\t                return false;\n\t            }\n\t        },\n\t        indexOf: function indexOf(el) {\n\t            for (var i = 0; i < this.length; i++) {\n\t                if (this[i] === el) return i;\n\t            }\n\t        },\n\t        index: function index() {\n\t            if (this[0]) {\n\t                var child = this[0];\n\t                var i = 0;\n\t                while ((child = child.previousSibling) !== null) {\n\t                    if (child.nodeType === 1) i++;\n\t                }\n\t                return i;\n\t            } else return undefined;\n\t        },\n\t        eq: function eq(index) {\n\t            if (typeof index === 'undefined') return this;\n\t            var length = this.length;\n\t            var returnIndex;\n\t            if (index > length - 1) {\n\t                return new Dom7([]);\n\t            }\n\t            if (index < 0) {\n\t                returnIndex = length + index;\n\t                if (returnIndex < 0) return new Dom7([]);else return new Dom7([this[returnIndex]]);\n\t            }\n\t            return new Dom7([this[index]]);\n\t        },\n\t        append: function append(newChild) {\n\t            var i, j;\n\t            for (i = 0; i < this.length; i++) {\n\t                if (typeof newChild === 'string') {\n\t                    var tempDiv = document.createElement('div');\n\t                    tempDiv.innerHTML = newChild;\n\t                    while (tempDiv.firstChild) {\n\t                        this[i].appendChild(tempDiv.firstChild);\n\t                    }\n\t                } else if (newChild instanceof Dom7) {\n\t                    for (j = 0; j < newChild.length; j++) {\n\t                        this[i].appendChild(newChild[j]);\n\t                    }\n\t                } else {\n\t                    this[i].appendChild(newChild);\n\t                }\n\t            }\n\t            return this;\n\t        },\n\t        appendTo: function appendTo(parent) {\n\t            $(parent).append(this);\n\t            return this;\n\t        },\n\t        prepend: function prepend(newChild) {\n\t            var i, j;\n\t            for (i = 0; i < this.length; i++) {\n\t                if (typeof newChild === 'string') {\n\t                    var tempDiv = document.createElement('div');\n\t                    tempDiv.innerHTML = newChild;\n\t                    for (j = tempDiv.childNodes.length - 1; j >= 0; j--) {\n\t                        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n\t                    }\n\t                    // this[i].insertAdjacentHTML('afterbegin', newChild);\n\t                } else if (newChild instanceof Dom7) {\n\t                    for (j = 0; j < newChild.length; j++) {\n\t                        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n\t                    }\n\t                } else {\n\t                    this[i].insertBefore(newChild, this[i].childNodes[0]);\n\t                }\n\t            }\n\t            return this;\n\t        },\n\t        prependTo: function prependTo(parent) {\n\t            $(parent).prepend(this);\n\t            return this;\n\t        },\n\t        insertBefore: function insertBefore(selector) {\n\t            var before = $(selector);\n\t            for (var i = 0; i < this.length; i++) {\n\t                if (before.length === 1) {\n\t                    before[0].parentNode.insertBefore(this[i], before[0]);\n\t                } else if (before.length > 1) {\n\t                    for (var j = 0; j < before.length; j++) {\n\t                        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n\t                    }\n\t                }\n\t            }\n\t        },\n\t        insertAfter: function insertAfter(selector) {\n\t            var after = $(selector);\n\t            for (var i = 0; i < this.length; i++) {\n\t                if (after.length === 1) {\n\t                    after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n\t                } else if (after.length > 1) {\n\t                    for (var j = 0; j < after.length; j++) {\n\t                        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n\t                    }\n\t                }\n\t            }\n\t        },\n\t        next: function next(selector) {\n\t            if (this.length > 0) {\n\t                if (selector) {\n\t                    if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) return new Dom7([this[0].nextElementSibling]);else return new Dom7([]);\n\t                } else {\n\t                    if (this[0].nextElementSibling) return new Dom7([this[0].nextElementSibling]);else return new Dom7([]);\n\t                }\n\t            } else return new Dom7([]);\n\t        },\n\t        nextAll: function nextAll(selector) {\n\t            var nextEls = [];\n\t            var el = this[0];\n\t            if (!el) return new Dom7([]);\n\t            while (el.nextElementSibling) {\n\t                var next = el.nextElementSibling;\n\t                if (selector) {\n\t                    if ($(next).is(selector)) nextEls.push(next);\n\t                } else nextEls.push(next);\n\t                el = next;\n\t            }\n\t            return new Dom7(nextEls);\n\t        },\n\t        prev: function prev(selector) {\n\t            if (this.length > 0) {\n\t                if (selector) {\n\t                    if (this[0].previousElementSibling && $(this[0].previousElementSibling).is(selector)) return new Dom7([this[0].previousElementSibling]);else return new Dom7([]);\n\t                } else {\n\t                    if (this[0].previousElementSibling) return new Dom7([this[0].previousElementSibling]);else return new Dom7([]);\n\t                }\n\t            } else return new Dom7([]);\n\t        },\n\t        prevAll: function prevAll(selector) {\n\t            var prevEls = [];\n\t            var el = this[0];\n\t            if (!el) return new Dom7([]);\n\t            while (el.previousElementSibling) {\n\t                var prev = el.previousElementSibling;\n\t                if (selector) {\n\t                    if ($(prev).is(selector)) prevEls.push(prev);\n\t                } else prevEls.push(prev);\n\t                el = prev;\n\t            }\n\t            return new Dom7(prevEls);\n\t        },\n\t        parent: function parent(selector) {\n\t            var parents = [];\n\t            for (var i = 0; i < this.length; i++) {\n\t                if (this[i].parentNode !== null) {\n\t                    if (selector) {\n\t                        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n\t                    } else {\n\t                        parents.push(this[i].parentNode);\n\t                    }\n\t                }\n\t            }\n\t            return $($.unique(parents));\n\t        },\n\t        parents: function parents(selector) {\n\t            var parents = [];\n\t            for (var i = 0; i < this.length; i++) {\n\t                var parent = this[i].parentNode;\n\t                while (parent) {\n\t                    if (selector) {\n\t                        if ($(parent).is(selector)) parents.push(parent);\n\t                    } else {\n\t                        parents.push(parent);\n\t                    }\n\t                    parent = parent.parentNode;\n\t                }\n\t            }\n\t            return $($.unique(parents));\n\t        },\n\t        closest: function closest(selector) {\n\t            var closest = this;\n\t            if (typeof selector === 'undefined') {\n\t                return new Dom7([]);\n\t            }\n\t            if (!closest.is(selector)) {\n\t                closest = closest.parents(selector).eq(0);\n\t            }\n\t            return closest;\n\t        },\n\t        find: function find(selector) {\n\t            var foundElements = [];\n\t            for (var i = 0; i < this.length; i++) {\n\t                var found = this[i].querySelectorAll(selector);\n\t                for (var j = 0; j < found.length; j++) {\n\t                    foundElements.push(found[j]);\n\t                }\n\t            }\n\t            return new Dom7(foundElements);\n\t        },\n\t        children: function children(selector) {\n\t            var children = [];\n\t            for (var i = 0; i < this.length; i++) {\n\t                var childNodes = this[i].childNodes;\n\t\n\t                for (var j = 0; j < childNodes.length; j++) {\n\t                    if (!selector) {\n\t                        if (childNodes[j].nodeType === 1) children.push(childNodes[j]);\n\t                    } else {\n\t                        if (childNodes[j].nodeType === 1 && $(childNodes[j]).is(selector)) children.push(childNodes[j]);\n\t                    }\n\t                }\n\t            }\n\t            return new Dom7($.unique(children));\n\t        },\n\t        remove: function remove() {\n\t            for (var i = 0; i < this.length; i++) {\n\t                if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n\t            }\n\t            return this;\n\t        },\n\t        detach: function detach() {\n\t            return this.remove();\n\t        },\n\t        add: function add() {\n\t            var dom = this;\n\t            var i, j;\n\t            for (i = 0; i < arguments.length; i++) {\n\t                var toAdd = $(arguments[i]);\n\t                for (j = 0; j < toAdd.length; j++) {\n\t                    dom[dom.length] = toAdd[j];\n\t                    dom.length++;\n\t                }\n\t            }\n\t            return dom;\n\t        }\n\t    };\n\t\n\t    // Shortcuts\n\t    (function () {\n\t        var shortcuts = 'click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll'.split(' ');\n\t        var notTrigger = 'resize scroll'.split(' ');\n\t        function createMethod(name) {\n\t            Dom7.prototype[name] = function (targetSelector, listener, capture) {\n\t                var i;\n\t                if (typeof targetSelector === 'undefined') {\n\t                    for (i = 0; i < this.length; i++) {\n\t                        if (notTrigger.indexOf(name) < 0) {\n\t                            if (name in this[i]) this[i][name]();else {\n\t                                $(this[i]).trigger(name);\n\t                            }\n\t                        }\n\t                    }\n\t                    return this;\n\t                } else {\n\t                    return this.on(name, targetSelector, listener, capture);\n\t                }\n\t            };\n\t        }\n\t        for (var i = 0; i < shortcuts.length; i++) {\n\t            createMethod(shortcuts[i]);\n\t        }\n\t    })();\n\t\n\t    // Global Ajax Setup\n\t    var globalAjaxOptions = {};\n\t    $.ajaxSetup = function (options) {\n\t        if (options.type) options.method = options.type;\n\t        $.each(options, function (optionName, optionValue) {\n\t            globalAjaxOptions[optionName] = optionValue;\n\t        });\n\t    };\n\t\n\t    // Ajax\n\t    var _jsonpRequests = 0;\n\t    $.ajax = function (options) {\n\t        var defaults = {\n\t            method: 'GET',\n\t            data: false,\n\t            async: true,\n\t            cache: true,\n\t            user: '',\n\t            password: '',\n\t            headers: {},\n\t            xhrFields: {},\n\t            statusCode: {},\n\t            processData: true,\n\t            dataType: 'text',\n\t            contentType: 'application/x-www-form-urlencoded',\n\t            timeout: 0\n\t        };\n\t        var callbacks = ['beforeSend', 'error', 'complete', 'success', 'statusCode'];\n\t\n\t        //For jQuery guys\n\t        if (options.type) options.method = options.type;\n\t\n\t        // Merge global and defaults\n\t        $.each(globalAjaxOptions, function (globalOptionName, globalOptionValue) {\n\t            if (callbacks.indexOf(globalOptionName) < 0) defaults[globalOptionName] = globalOptionValue;\n\t        });\n\t\n\t        // Function to run XHR callbacks and events\n\t        function fireAjaxCallback(eventName, eventData, callbackName) {\n\t            var a = arguments;\n\t            if (eventName) $(document).trigger(eventName, eventData);\n\t            if (callbackName) {\n\t                // Global callback\n\t                if (callbackName in globalAjaxOptions) globalAjaxOptions[callbackName](a[3], a[4], a[5], a[6]);\n\t                // Options callback\n\t                if (options[callbackName]) options[callbackName](a[3], a[4], a[5], a[6]);\n\t            }\n\t        }\n\t\n\t        // Merge options and defaults\n\t        $.each(defaults, function (prop, defaultValue) {\n\t            if (!(prop in options)) options[prop] = defaultValue;\n\t        });\n\t\n\t        // Default URL\n\t        if (!options.url) {\n\t            options.url = window.location.toString();\n\t        }\n\t        // Parameters Prefix\n\t        var paramsPrefix = options.url.indexOf('?') >= 0 ? '&' : '?';\n\t\n\t        // UC method\n\t        var _method = options.method.toUpperCase();\n\t        // Data to modify GET URL\n\t        if ((_method === 'GET' || _method === 'HEAD' || _method === 'OPTIONS' || _method === 'DELETE') && options.data) {\n\t            var stringData;\n\t            if (typeof options.data === 'string') {\n\t                // Should be key=value string\n\t                if (options.data.indexOf('?') >= 0) stringData = options.data.split('?')[1];else stringData = options.data;\n\t            } else {\n\t                // Should be key=value object\n\t                stringData = $.serializeObject(options.data);\n\t            }\n\t            if (stringData.length) {\n\t                options.url += paramsPrefix + stringData;\n\t                if (paramsPrefix === '?') paramsPrefix = '&';\n\t            }\n\t        }\n\t        // JSONP\n\t        if (options.dataType === 'json' && options.url.indexOf('callback=') >= 0) {\n\t\n\t            var callbackName = 'f7jsonp_' + Date.now() + _jsonpRequests++;\n\t            var abortTimeout;\n\t            var callbackSplit = options.url.split('callback=');\n\t            var requestUrl = callbackSplit[0] + 'callback=' + callbackName;\n\t            if (callbackSplit[1].indexOf('&') >= 0) {\n\t                var addVars = callbackSplit[1].split('&').filter(function (el) {\n\t                    return el.indexOf('=') > 0;\n\t                }).join('&');\n\t                if (addVars.length > 0) requestUrl += '&' + addVars;\n\t            }\n\t\n\t            // Create script\n\t            var script = document.createElement('script');\n\t            script.type = 'text/javascript';\n\t            script.onerror = function () {\n\t                clearTimeout(abortTimeout);\n\t                fireAjaxCallback(undefined, undefined, 'error', null, 'scripterror');\n\t            };\n\t            script.src = requestUrl;\n\t\n\t            // Handler\n\t            window[callbackName] = function (data) {\n\t                clearTimeout(abortTimeout);\n\t                fireAjaxCallback(undefined, undefined, 'success', data);\n\t                script.parentNode.removeChild(script);\n\t                script = null;\n\t                delete window[callbackName];\n\t            };\n\t            document.querySelector('head').appendChild(script);\n\t\n\t            if (options.timeout > 0) {\n\t                abortTimeout = setTimeout(function () {\n\t                    script.parentNode.removeChild(script);\n\t                    script = null;\n\t                    fireAjaxCallback(undefined, undefined, 'error', null, 'timeout');\n\t                }, options.timeout);\n\t            }\n\t\n\t            return;\n\t        }\n\t\n\t        // Cache for GET/HEAD requests\n\t        if (_method === 'GET' || _method === 'HEAD' || _method === 'OPTIONS' || _method === 'DELETE') {\n\t            if (options.cache === false) {\n\t                options.url += paramsPrefix + '_nocache=' + Date.now();\n\t            }\n\t        }\n\t\n\t        // Create XHR\n\t        var xhr = new XMLHttpRequest();\n\t\n\t        // Save Request URL\n\t        xhr.requestUrl = options.url;\n\t        xhr.requestParameters = options;\n\t\n\t        // Open XHR\n\t        xhr.open(_method, options.url, options.async, options.user, options.password);\n\t\n\t        // Create POST Data\n\t        var postData = null;\n\t\n\t        if ((_method === 'POST' || _method === 'PUT' || _method === 'PATCH') && options.data) {\n\t            if (options.processData) {\n\t                var postDataInstances = [ArrayBuffer, Blob, Document, FormData];\n\t                // Post Data\n\t                if (postDataInstances.indexOf(options.data.constructor) >= 0) {\n\t                    postData = options.data;\n\t                } else {\n\t                    // POST Headers\n\t                    var boundary = '---------------------------' + Date.now().toString(16);\n\t\n\t                    if (options.contentType === 'multipart\\/form-data') {\n\t                        xhr.setRequestHeader('Content-Type', 'multipart\\/form-data; boundary=' + boundary);\n\t                    } else {\n\t                        xhr.setRequestHeader('Content-Type', options.contentType);\n\t                    }\n\t                    postData = '';\n\t                    var _data = $.serializeObject(options.data);\n\t                    if (options.contentType === 'multipart\\/form-data') {\n\t                        boundary = '---------------------------' + Date.now().toString(16);\n\t                        _data = _data.split('&');\n\t                        var _newData = [];\n\t                        for (var i = 0; i < _data.length; i++) {\n\t                            _newData.push('Content-Disposition: form-data; name=\"' + _data[i].split('=')[0] + '\"\\r\\n\\r\\n' + _data[i].split('=')[1] + '\\r\\n');\n\t                        }\n\t                        postData = '--' + boundary + '\\r\\n' + _newData.join('--' + boundary + '\\r\\n') + '--' + boundary + '--\\r\\n';\n\t                    } else {\n\t                        postData = options.contentType === 'application/x-www-form-urlencoded' ? _data : _data.replace(/&/g, '\\r\\n');\n\t                    }\n\t                }\n\t            } else {\n\t                postData = options.data;\n\t            }\n\t        }\n\t\n\t        // Additional headers\n\t        if (options.headers) {\n\t            $.each(options.headers, function (headerName, headerCallback) {\n\t                xhr.setRequestHeader(headerName, headerCallback);\n\t            });\n\t        }\n\t\n\t        // Check for crossDomain\n\t        if (typeof options.crossDomain === 'undefined') {\n\t            options.crossDomain = /^([\\w-]+:)?\\/\\/([^\\/]+)/.test(options.url) && RegExp.$2 !== window.location.host;\n\t        }\n\t\n\t        if (!options.crossDomain) {\n\t            xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\t        }\n\t\n\t        if (options.xhrFields) {\n\t            $.each(options.xhrFields, function (fieldName, fieldValue) {\n\t                xhr[fieldName] = fieldValue;\n\t            });\n\t        }\n\t\n\t        var xhrTimeout;\n\t        // Handle XHR\n\t        xhr.onload = function (e) {\n\t            if (xhrTimeout) clearTimeout(xhrTimeout);\n\t            if (xhr.status >= 200 && xhr.status < 300 || xhr.status === 0) {\n\t                var responseData;\n\t                if (options.dataType === 'json') {\n\t                    try {\n\t                        responseData = JSON.parse(xhr.responseText);\n\t                        fireAjaxCallback('ajaxSuccess', { xhr: xhr }, 'success', responseData, xhr.status, xhr);\n\t                    } catch (err) {\n\t                        fireAjaxCallback('ajaxError', { xhr: xhr, parseerror: true }, 'error', xhr, 'parseerror');\n\t                    }\n\t                } else {\n\t                    responseData = xhr.responseType === 'text' || xhr.responseType === '' ? xhr.responseText : xhr.response;\n\t                    fireAjaxCallback('ajaxSuccess', { xhr: xhr }, 'success', responseData, xhr.status, xhr);\n\t                }\n\t            } else {\n\t                fireAjaxCallback('ajaxError', { xhr: xhr }, 'error', xhr, xhr.status);\n\t            }\n\t            if (options.statusCode) {\n\t                if (globalAjaxOptions.statusCode && globalAjaxOptions.statusCode[xhr.status]) globalAjaxOptions.statusCode[xhr.status](xhr);\n\t                if (options.statusCode[xhr.status]) options.statusCode[xhr.status](xhr);\n\t            }\n\t            fireAjaxCallback('ajaxComplete', { xhr: xhr }, 'complete', xhr, xhr.status);\n\t        };\n\t\n\t        xhr.onerror = function (e) {\n\t            if (xhrTimeout) clearTimeout(xhrTimeout);\n\t            fireAjaxCallback('ajaxError', { xhr: xhr }, 'error', xhr, xhr.status);\n\t        };\n\t\n\t        // Ajax start callback\n\t        fireAjaxCallback('ajaxStart', { xhr: xhr }, 'start', xhr);\n\t        fireAjaxCallback(undefined, undefined, 'beforeSend', xhr);\n\t\n\t        // Send XHR\n\t        xhr.send(postData);\n\t\n\t        // Timeout\n\t        if (options.timeout > 0) {\n\t            xhr.onabort = function () {\n\t                if (xhrTimeout) clearTimeout(xhrTimeout);\n\t            };\n\t            xhrTimeout = setTimeout(function () {\n\t                xhr.abort();\n\t                fireAjaxCallback('ajaxError', { xhr: xhr, timeout: true }, 'error', xhr, 'timeout');\n\t                fireAjaxCallback('ajaxComplete', { xhr: xhr, timeout: true }, 'complete', xhr, 'timeout');\n\t            }, options.timeout);\n\t        }\n\t\n\t        // Return XHR object\n\t        return xhr;\n\t    };\n\t    // Shrotcuts\n\t    (function () {\n\t        var methods = 'get post getJSON'.split(' ');\n\t        function createMethod(method) {\n\t            $[method] = function (url, data, success) {\n\t                return $.ajax({\n\t                    url: url,\n\t                    method: method === 'post' ? 'POST' : 'GET',\n\t                    data: typeof data === 'function' ? undefined : data,\n\t                    success: typeof data === 'function' ? data : success,\n\t                    dataType: method === 'getJSON' ? 'json' : undefined\n\t                });\n\t            };\n\t        }\n\t        for (var i = 0; i < methods.length; i++) {\n\t            createMethod(methods[i]);\n\t        }\n\t    })();\n\t\n\t    // DOM Library Utilites\n\t    $.parseUrlQuery = function (url) {\n\t        var query = {},\n\t            i,\n\t            params,\n\t            param;\n\t        if (url.indexOf('?') >= 0) url = url.split('?')[1];else return query;\n\t        params = url.split('&');\n\t        for (i = 0; i < params.length; i++) {\n\t            param = params[i].split('=');\n\t            query[param[0]] = param[1];\n\t        }\n\t        return query;\n\t    };\n\t    $.isArray = function (arr) {\n\t        if (Object.prototype.toString.apply(arr) === '[object Array]') return true;else return false;\n\t    };\n\t    $.each = function (obj, callback) {\n\t        if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) !== 'object') return;\n\t        if (!callback) return;\n\t        var i, prop;\n\t        if ($.isArray(obj) || obj instanceof Dom7) {\n\t            // Array\n\t            for (i = 0; i < obj.length; i++) {\n\t                callback(i, obj[i]);\n\t            }\n\t        } else {\n\t            // Object\n\t            for (prop in obj) {\n\t                if (obj.hasOwnProperty(prop)) {\n\t                    callback(prop, obj[prop]);\n\t                }\n\t            }\n\t        }\n\t    };\n\t    $.unique = function (arr) {\n\t        var unique = [];\n\t        for (var i = 0; i < arr.length; i++) {\n\t            if (unique.indexOf(arr[i]) === -1) unique.push(arr[i]);\n\t        }\n\t        return unique;\n\t    };\n\t    $.serializeObject = $.param = function (obj, parents) {\n\t        if (typeof obj === 'string') return obj;\n\t        var resultArray = [];\n\t        var separator = '&';\n\t        parents = parents || [];\n\t        var newParents;\n\t        function var_name(name) {\n\t            if (parents.length > 0) {\n\t                var _parents = '';\n\t                for (var j = 0; j < parents.length; j++) {\n\t                    if (j === 0) _parents += parents[j];else _parents += '[' + encodeURIComponent(parents[j]) + ']';\n\t                }\n\t                return _parents + '[' + encodeURIComponent(name) + ']';\n\t            } else {\n\t                return encodeURIComponent(name);\n\t            }\n\t        }\n\t        function var_value(value) {\n\t            return encodeURIComponent(value);\n\t        }\n\t        for (var prop in obj) {\n\t            if (obj.hasOwnProperty(prop)) {\n\t                var toPush;\n\t                if ($.isArray(obj[prop])) {\n\t                    toPush = [];\n\t                    for (var i = 0; i < obj[prop].length; i++) {\n\t                        if (!$.isArray(obj[prop][i]) && _typeof(obj[prop][i]) === 'object') {\n\t                            newParents = parents.slice();\n\t                            newParents.push(prop);\n\t                            newParents.push(i + '');\n\t                            toPush.push($.serializeObject(obj[prop][i], newParents));\n\t                        } else {\n\t                            toPush.push(var_name(prop) + '[]=' + var_value(obj[prop][i]));\n\t                        }\n\t                    }\n\t                    if (toPush.length > 0) resultArray.push(toPush.join(separator));\n\t                } else if (_typeof(obj[prop]) === 'object') {\n\t                    // Object, convert to named array\n\t                    newParents = parents.slice();\n\t                    newParents.push(prop);\n\t                    toPush = $.serializeObject(obj[prop], newParents);\n\t                    if (toPush !== '') resultArray.push(toPush);\n\t                } else if (typeof obj[prop] !== 'undefined' && obj[prop] !== '') {\n\t                    // Should be string or plain value\n\t                    resultArray.push(var_name(prop) + '=' + var_value(obj[prop]));\n\t                }\n\t            }\n\t        }\n\t        return resultArray.join(separator);\n\t    };\n\t    $.toCamelCase = function (string) {\n\t        return string.toLowerCase().replace(/-(.)/g, function (match, group1) {\n\t            return group1.toUpperCase();\n\t        });\n\t    };\n\t    $.dataset = function (el) {\n\t        return $(el).dataset();\n\t    };\n\t    $.getTranslate = function (el, axis) {\n\t        var matrix, curTransform, curStyle, transformMatrix;\n\t\n\t        // automatic axis detection\n\t        if (typeof axis === 'undefined') {\n\t            axis = 'x';\n\t        }\n\t\n\t        curStyle = window.getComputedStyle(el, null);\n\t        if (window.WebKitCSSMatrix) {\n\t            curTransform = curStyle.transform || curStyle.webkitTransform;\n\t            if (curTransform.split(',').length > 6) {\n\t                curTransform = curTransform.split(', ').map(function (a) {\n\t                    return a.replace(',', '.');\n\t                }).join(', ');\n\t            }\n\t            // Some old versions of Webkit choke when 'none' is passed; pass\n\t            // empty string instead in this case\n\t            transformMatrix = new WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n\t        } else {\n\t            transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n\t            matrix = transformMatrix.toString().split(',');\n\t        }\n\t\n\t        if (axis === 'x') {\n\t            //Latest Chrome and webkits Fix\n\t            if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41;\n\t            //Crazy IE10 Matrix\n\t            else if (matrix.length === 16) curTransform = parseFloat(matrix[12]);\n\t                //Normal Browsers\n\t                else curTransform = parseFloat(matrix[4]);\n\t        }\n\t        if (axis === 'y') {\n\t            //Latest Chrome and webkits Fix\n\t            if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42;\n\t            //Crazy IE10 Matrix\n\t            else if (matrix.length === 16) curTransform = parseFloat(matrix[13]);\n\t                //Normal Browsers\n\t                else curTransform = parseFloat(matrix[5]);\n\t        }\n\t\n\t        return curTransform || 0;\n\t    };\n\t\n\t    $.requestAnimationFrame = function (callback) {\n\t        if (window.requestAnimationFrame) return window.requestAnimationFrame(callback);else if (window.webkitRequestAnimationFrame) return window.webkitRequestAnimationFrame(callback);else if (window.mozRequestAnimationFrame) return window.mozRequestAnimationFrame(callback);else {\n\t            return window.setTimeout(callback, 1000 / 60);\n\t        }\n\t    };\n\t    $.cancelAnimationFrame = function (id) {\n\t        if (window.cancelAnimationFrame) return window.cancelAnimationFrame(id);else if (window.webkitCancelAnimationFrame) return window.webkitCancelAnimationFrame(id);else if (window.mozCancelAnimationFrame) return window.mozCancelAnimationFrame(id);else {\n\t            return window.clearTimeout(id);\n\t        }\n\t    };\n\t    $.supportTouch = !!('ontouchstart' in window || window.DocumentTouch && document instanceof DocumentTouch);\n\t\n\t    // Link to prototype\n\t    $.fn = Dom7.prototype;\n\t\n\t    // Plugins\n\t    $.fn.scrollTo = function (left, top, duration, easing, callback) {\n\t        if (arguments.length === 4 && typeof easing === 'function') {\n\t            callback = easing;\n\t            easing = undefined;\n\t        }\n\t        return this.each(function () {\n\t            var el = this;\n\t            var currentTop, currentLeft, maxTop, maxLeft, newTop, newLeft, scrollTop, scrollLeft;\n\t            var animateTop = top > 0 || top === 0;\n\t            var animateLeft = left > 0 || left === 0;\n\t            if (typeof easing === 'undefined') {\n\t                easing = 'swing';\n\t            }\n\t            if (animateTop) {\n\t                currentTop = el.scrollTop;\n\t                if (!duration) {\n\t                    el.scrollTop = top;\n\t                }\n\t            }\n\t            if (animateLeft) {\n\t                currentLeft = el.scrollLeft;\n\t                if (!duration) {\n\t                    el.scrollLeft = left;\n\t                }\n\t            }\n\t            if (!duration) return;\n\t            if (animateTop) {\n\t                maxTop = el.scrollHeight - el.offsetHeight;\n\t                newTop = Math.max(Math.min(top, maxTop), 0);\n\t            }\n\t            if (animateLeft) {\n\t                maxLeft = el.scrollWidth - el.offsetWidth;\n\t                newLeft = Math.max(Math.min(left, maxLeft), 0);\n\t            }\n\t            var startTime = null;\n\t            if (animateTop && newTop === currentTop) animateTop = false;\n\t            if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\t            function render(time) {\n\t                if (time === undefined) {\n\t                    time = new Date().getTime();\n\t                }\n\t                if (startTime === null) {\n\t                    startTime = time;\n\t                }\n\t                var doneLeft, doneTop, done;\n\t                var progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n\t                var easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n\t                if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n\t                if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\t                if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n\t                    el.scrollTop = newTop;\n\t                    done = true;\n\t                }\n\t                if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n\t                    el.scrollTop = newTop;\n\t                    done = true;\n\t                }\n\t\n\t                if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n\t                    el.scrollLeft = newLeft;\n\t                    done = true;\n\t                }\n\t                if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n\t                    el.scrollLeft = newLeft;\n\t                    done = true;\n\t                }\n\t\n\t                if (done) {\n\t                    if (callback) callback();\n\t                    return;\n\t                }\n\t                if (animateTop) el.scrollTop = scrollTop;\n\t                if (animateLeft) el.scrollLeft = scrollLeft;\n\t                $.requestAnimationFrame(render);\n\t            }\n\t            $.requestAnimationFrame(render);\n\t        });\n\t    };\n\t    $.fn.scrollTop = function (top, duration, easing, callback) {\n\t        if (arguments.length === 3 && typeof easing === 'function') {\n\t            callback = easing;\n\t            easing = undefined;\n\t        }\n\t        var dom = this;\n\t        if (typeof top === 'undefined') {\n\t            if (dom.length > 0) return dom[0].scrollTop;else return null;\n\t        }\n\t        return dom.scrollTo(undefined, top, duration, easing, callback);\n\t    };\n\t    $.fn.scrollLeft = function (left, duration, easing, callback) {\n\t        if (arguments.length === 3 && typeof easing === 'function') {\n\t            callback = easing;\n\t            easing = undefined;\n\t        }\n\t        var dom = this;\n\t        if (typeof left === 'undefined') {\n\t            if (dom.length > 0) return dom[0].scrollLeft;else return null;\n\t        }\n\t        return dom.scrollTo(left, undefined, duration, easing, callback);\n\t    };\n\t\n\t    return $;\n\t}();\n\t\n\t// Export Dom7 to Framework7\n\tFramework7.$ = Dom7;\n\t\n\t// Export to local scope\n\tvar $ = Dom7;\n\t\n\t// Export to Window\n\twindow.Dom7 = Dom7;\n\t\n\t/*===========================\n\tFeatures Support Detection\n\t===========================*/\n\tFramework7.prototype.support = function () {\n\t    var support = {\n\t        touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof DocumentTouch)\n\t    };\n\t\n\t    // Export object\n\t    return support;\n\t}();\n\t\n\t/*===========================\n\tDevice/OS Detection\n\t===========================*/\n\tFramework7.prototype.device = function () {\n\t    var device = {};\n\t    var ua = navigator.userAgent;\n\t    var $ = Dom7;\n\t\n\t    var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n\t    var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n\t    var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n\t    var iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n\t\n\t    device.ios = device.android = device.iphone = device.ipad = device.androidChrome = false;\n\t\n\t    // Android\n\t    if (android) {\n\t        device.os = 'android';\n\t        device.osVersion = android[2];\n\t        device.android = true;\n\t        device.androidChrome = ua.toLowerCase().indexOf('chrome') >= 0;\n\t    }\n\t    if (ipad || iphone || ipod) {\n\t        device.os = 'ios';\n\t        device.ios = true;\n\t    }\n\t    // iOS\n\t    if (iphone && !ipod) {\n\t        device.osVersion = iphone[2].replace(/_/g, '.');\n\t        device.iphone = true;\n\t    }\n\t    if (ipad) {\n\t        device.osVersion = ipad[2].replace(/_/g, '.');\n\t        device.ipad = true;\n\t    }\n\t    if (ipod) {\n\t        device.osVersion = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n\t        device.iphone = true;\n\t    }\n\t    // iOS 8+ changed UA\n\t    if (device.ios && device.osVersion && ua.indexOf('Version/') >= 0) {\n\t        if (device.osVersion.split('.')[0] === '10') {\n\t            device.osVersion = ua.toLowerCase().split('version/')[1].split(' ')[0];\n\t        }\n\t    }\n\t\n\t    // Webview\n\t    device.webView = (iphone || ipad || ipod) && ua.match(/.*AppleWebKit(?!.*Safari)/i);\n\t\n\t    // Minimal UI\n\t    if (device.os && device.os === 'ios') {\n\t        var osVersionArr = device.osVersion.split('.');\n\t        device.minimalUi = !device.webView && (ipod || iphone) && (osVersionArr[0] * 1 === 7 ? osVersionArr[1] * 1 >= 1 : osVersionArr[0] * 1 > 7) && $('meta[name=\"viewport\"]').length > 0 && $('meta[name=\"viewport\"]').attr('content').indexOf('minimal-ui') >= 0;\n\t    }\n\t\n\t    // Check for status bar and fullscreen app mode\n\t    var windowWidth = $(window).width();\n\t    var windowHeight = $(window).height();\n\t    device.statusBar = false;\n\t    if (device.webView && windowWidth * windowHeight === screen.width * screen.height) {\n\t        device.statusBar = true;\n\t    } else {\n\t        device.statusBar = false;\n\t    }\n\t\n\t    // Classes\n\t    var classNames = [];\n\t\n\t    // Pixel Ratio\n\t    device.pixelRatio = window.devicePixelRatio || 1;\n\t    classNames.push('pixel-ratio-' + Math.floor(device.pixelRatio));\n\t    if (device.pixelRatio >= 2) {\n\t        classNames.push('retina');\n\t    }\n\t\n\t    // OS classes\n\t    if (device.os) {\n\t        classNames.push(device.os, device.os + '-' + device.osVersion.split('.')[0], device.os + '-' + device.osVersion.replace(/\\./g, '-'));\n\t        if (device.os === 'ios') {\n\t            var major = parseInt(device.osVersion.split('.')[0], 10);\n\t            for (var i = major - 1; i >= 6; i--) {\n\t                classNames.push('ios-gt-' + i);\n\t            }\n\t        }\n\t    }\n\t    // Status bar classes\n\t    if (device.statusBar) {\n\t        classNames.push('with-statusbar-overlay');\n\t    } else {\n\t        $('html').removeClass('with-statusbar-overlay');\n\t    }\n\t\n\t    // Add html classes\n\t    if (classNames.length > 0) $('html').addClass(classNames.join(' '));\n\t\n\t    // Export object\n\t    return device;\n\t}();\n\t\n\t/*===========================\n\tPlugins prototype\n\t===========================*/\n\tFramework7.prototype.plugins = {};\n\t\n\t/*===========================\n\tTemplate7 Template engine\n\t===========================*/\n\twindow.Template7 = function () {\n\t    function isArray(arr) {\n\t        return Object.prototype.toString.apply(arr) === '[object Array]';\n\t    }\n\t    function isObject(obj) {\n\t        return obj instanceof Object;\n\t    }\n\t    function isFunction(func) {\n\t        return typeof func === 'function';\n\t    }\n\t    var cache = {};\n\t    function helperToSlices(string) {\n\t        var helperParts = string.replace(/[{}#}]/g, '').split(' ');\n\t        var slices = [];\n\t        var shiftIndex, i, j;\n\t        for (i = 0; i < helperParts.length; i++) {\n\t            var part = helperParts[i];\n\t            if (i === 0) slices.push(part);else {\n\t                if (part.indexOf('\"') === 0) {\n\t                    // Plain String\n\t                    if (part.match(/\"/g).length === 2) {\n\t                        // One word string\n\t                        slices.push(part);\n\t                    } else {\n\t                        // Find closed Index\n\t                        shiftIndex = 0;\n\t                        for (j = i + 1; j < helperParts.length; j++) {\n\t                            part += ' ' + helperParts[j];\n\t                            if (helperParts[j].indexOf('\"') >= 0) {\n\t                                shiftIndex = j;\n\t                                slices.push(part);\n\t                                break;\n\t                            }\n\t                        }\n\t                        if (shiftIndex) i = shiftIndex;\n\t                    }\n\t                } else {\n\t                    if (part.indexOf('=') > 0) {\n\t                        // Hash\n\t                        var hashParts = part.split('=');\n\t                        var hashName = hashParts[0];\n\t                        var hashContent = hashParts[1];\n\t                        if (hashContent.match(/\"/g).length !== 2) {\n\t                            shiftIndex = 0;\n\t                            for (j = i + 1; j < helperParts.length; j++) {\n\t                                hashContent += ' ' + helperParts[j];\n\t                                if (helperParts[j].indexOf('\"') >= 0) {\n\t                                    shiftIndex = j;\n\t                                    break;\n\t                                }\n\t                            }\n\t                            if (shiftIndex) i = shiftIndex;\n\t                        }\n\t                        var hash = [hashName, hashContent.replace(/\"/g, '')];\n\t                        slices.push(hash);\n\t                    } else {\n\t                        // Plain variable\n\t                        slices.push(part);\n\t                    }\n\t                }\n\t            }\n\t        }\n\t        return slices;\n\t    }\n\t    function stringToBlocks(string) {\n\t        var blocks = [],\n\t            i,\n\t            j,\n\t            k;\n\t        if (!string) return [];\n\t        var _blocks = string.split(/({{[^{^}]*}})/);\n\t        for (i = 0; i < _blocks.length; i++) {\n\t            var block = _blocks[i];\n\t            if (block === '') continue;\n\t            if (block.indexOf('{{') < 0) {\n\t                blocks.push({\n\t                    type: 'plain',\n\t                    content: block\n\t                });\n\t            } else {\n\t                if (block.indexOf('{/') >= 0) {\n\t                    continue;\n\t                }\n\t                if (block.indexOf('{#') < 0 && block.indexOf(' ') < 0 && block.indexOf('else') < 0) {\n\t                    // Simple variable\n\t                    blocks.push({\n\t                        type: 'variable',\n\t                        contextName: block.replace(/[{}]/g, '')\n\t                    });\n\t                    continue;\n\t                }\n\t                // Helpers\n\t                var helperSlices = helperToSlices(block);\n\t                var helperName = helperSlices[0];\n\t                var isPartial = helperName === '>';\n\t                var helperContext = [];\n\t                var helperHash = {};\n\t                for (j = 1; j < helperSlices.length; j++) {\n\t                    var slice = helperSlices[j];\n\t                    if (isArray(slice)) {\n\t                        // Hash\n\t                        helperHash[slice[0]] = slice[1] === 'false' ? false : slice[1];\n\t                    } else {\n\t                        helperContext.push(slice);\n\t                    }\n\t                }\n\t\n\t                if (block.indexOf('{#') >= 0) {\n\t                    // Condition/Helper\n\t                    var helperStartIndex = i;\n\t                    var helperContent = '';\n\t                    var elseContent = '';\n\t                    var toSkip = 0;\n\t                    var shiftIndex;\n\t                    var foundClosed = false,\n\t                        foundElse = false,\n\t                        foundClosedElse = false,\n\t                        depth = 0;\n\t                    for (j = i + 1; j < _blocks.length; j++) {\n\t                        if (_blocks[j].indexOf('{{#') >= 0) {\n\t                            depth++;\n\t                        }\n\t                        if (_blocks[j].indexOf('{{/') >= 0) {\n\t                            depth--;\n\t                        }\n\t                        if (_blocks[j].indexOf('{{#' + helperName) >= 0) {\n\t                            helperContent += _blocks[j];\n\t                            if (foundElse) elseContent += _blocks[j];\n\t                            toSkip++;\n\t                        } else if (_blocks[j].indexOf('{{/' + helperName) >= 0) {\n\t                            if (toSkip > 0) {\n\t                                toSkip--;\n\t                                helperContent += _blocks[j];\n\t                                if (foundElse) elseContent += _blocks[j];\n\t                            } else {\n\t                                shiftIndex = j;\n\t                                foundClosed = true;\n\t                                break;\n\t                            }\n\t                        } else if (_blocks[j].indexOf('else') >= 0 && depth === 0) {\n\t                            foundElse = true;\n\t                        } else {\n\t                            if (!foundElse) helperContent += _blocks[j];\n\t                            if (foundElse) elseContent += _blocks[j];\n\t                        }\n\t                    }\n\t                    if (foundClosed) {\n\t                        if (shiftIndex) i = shiftIndex;\n\t                        blocks.push({\n\t                            type: 'helper',\n\t                            helperName: helperName,\n\t                            contextName: helperContext,\n\t                            content: helperContent,\n\t                            inverseContent: elseContent,\n\t                            hash: helperHash\n\t                        });\n\t                    }\n\t                } else if (block.indexOf(' ') > 0) {\n\t                    if (isPartial) {\n\t                        helperName = '_partial';\n\t                        if (helperContext[0]) helperContext[0] = '\"' + helperContext[0].replace(/\"|'/g, '') + '\"';\n\t                    }\n\t                    blocks.push({\n\t                        type: 'helper',\n\t                        helperName: helperName,\n\t                        contextName: helperContext,\n\t                        hash: helperHash\n\t                    });\n\t                }\n\t            }\n\t        }\n\t        return blocks;\n\t    }\n\t    var Template7 = function Template7(template) {\n\t        var t = this;\n\t        t.template = template;\n\t\n\t        function getCompileFn(block, depth) {\n\t            if (block.content) return compile(block.content, depth);else return function () {\n\t                return '';\n\t            };\n\t        }\n\t        function getCompileInverse(block, depth) {\n\t            if (block.inverseContent) return compile(block.inverseContent, depth);else return function () {\n\t                return '';\n\t            };\n\t        }\n\t        function getCompileVar(name, ctx) {\n\t            var variable,\n\t                parts,\n\t                levelsUp = 0,\n\t                initialCtx = ctx;\n\t            if (name.indexOf('../') === 0) {\n\t                levelsUp = name.split('../').length - 1;\n\t                var newDepth = ctx.split('_')[1] - levelsUp;\n\t                ctx = 'ctx_' + (newDepth >= 1 ? newDepth : 1);\n\t                parts = name.split('../')[levelsUp].split('.');\n\t            } else if (name.indexOf('@global') === 0) {\n\t                ctx = 'Template7.global';\n\t                parts = name.split('@global.')[1].split('.');\n\t            } else if (name.indexOf('@root') === 0) {\n\t                ctx = 'root';\n\t                parts = name.split('@root.')[1].split('.');\n\t            } else {\n\t                parts = name.split('.');\n\t            }\n\t            variable = ctx;\n\t            for (var i = 0; i < parts.length; i++) {\n\t                var part = parts[i];\n\t                if (part.indexOf('@') === 0) {\n\t                    if (i > 0) {\n\t                        variable += '[(data && data.' + part.replace('@', '') + ')]';\n\t                    } else {\n\t                        variable = '(data && data.' + name.replace('@', '') + ')';\n\t                    }\n\t                } else {\n\t                    if (isFinite(part)) {\n\t                        variable += '[' + part + ']';\n\t                    } else {\n\t                        if (part.indexOf('this') === 0) {\n\t                            variable = part.replace('this', ctx);\n\t                        } else {\n\t                            variable += '.' + part;\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t\n\t            return variable;\n\t        }\n\t        function getCompiledArguments(contextArray, ctx) {\n\t            var arr = [];\n\t            for (var i = 0; i < contextArray.length; i++) {\n\t                if (contextArray[i].indexOf('\"') === 0) arr.push(contextArray[i]);else {\n\t                    arr.push(getCompileVar(contextArray[i], ctx));\n\t                }\n\t            }\n\t\n\t            return arr.join(', ');\n\t        }\n\t        function compile(template, depth) {\n\t            depth = depth || 1;\n\t            template = template || t.template;\n\t            if (typeof template !== 'string') {\n\t                throw new Error('Template7: Template must be a string');\n\t            }\n\t            var blocks = stringToBlocks(template);\n\t            if (blocks.length === 0) {\n\t                return function () {\n\t                    return '';\n\t                };\n\t            }\n\t            var ctx = 'ctx_' + depth;\n\t            var resultString = '';\n\t            if (depth === 1) {\n\t                resultString += '(function (' + ctx + ', data, root) {\\n';\n\t            } else {\n\t                resultString += '(function (' + ctx + ', data) {\\n';\n\t            }\n\t            if (depth === 1) {\n\t                resultString += 'function isArray(arr){return Object.prototype.toString.apply(arr) === \\'[object Array]\\';}\\n';\n\t                resultString += 'function isFunction(func){return (typeof func === \\'function\\');}\\n';\n\t                resultString += 'function c(val, ctx) {if (typeof val !== \"undefined\" && val !== null) {if (isFunction(val)) {return val.call(ctx);} else return val;} else return \"\";}\\n';\n\t                resultString += 'root = root || ctx_1 || {};\\n';\n\t            }\n\t            resultString += 'var r = \\'\\';\\n';\n\t            var i, j, context;\n\t            for (i = 0; i < blocks.length; i++) {\n\t                var block = blocks[i];\n\t                // Plain block\n\t                if (block.type === 'plain') {\n\t                    resultString += 'r +=\\'' + block.content.replace(/\\r/g, '\\\\r').replace(/\\n/g, '\\\\n').replace(/'/g, '\\\\' + '\\'') + '\\';';\n\t                    continue;\n\t                }\n\t                var variable, compiledArguments;\n\t                // Variable block\n\t                if (block.type === 'variable') {\n\t                    variable = getCompileVar(block.contextName, ctx);\n\t                    resultString += 'r += c(' + variable + ', ' + ctx + ');';\n\t                }\n\t                // Helpers block\n\t                if (block.type === 'helper') {\n\t                    if (block.helperName in t.helpers) {\n\t                        compiledArguments = getCompiledArguments(block.contextName, ctx);\n\t\n\t                        resultString += 'r += (Template7.helpers.' + block.helperName + ').call(' + ctx + ', ' + (compiledArguments && compiledArguments + ', ') + '{hash:' + JSON.stringify(block.hash) + ', data: data || {}, fn: ' + getCompileFn(block, depth + 1) + ', inverse: ' + getCompileInverse(block, depth + 1) + ', root: root});';\n\t                    } else {\n\t                        if (block.contextName.length > 0) {\n\t                            throw new Error('Template7: Missing helper: \"' + block.helperName + '\"');\n\t                        } else {\n\t                            variable = getCompileVar(block.helperName, ctx);\n\t                            resultString += 'if (' + variable + ') {';\n\t                            resultString += 'if (isArray(' + variable + ')) {';\n\t                            resultString += 'r += (Template7.helpers.each).call(' + ctx + ', ' + variable + ', {hash:' + JSON.stringify(block.hash) + ', data: data || {}, fn: ' + getCompileFn(block, depth + 1) + ', inverse: ' + getCompileInverse(block, depth + 1) + ', root: root});';\n\t                            resultString += '}else {';\n\t                            resultString += 'r += (Template7.helpers.with).call(' + ctx + ', ' + variable + ', {hash:' + JSON.stringify(block.hash) + ', data: data || {}, fn: ' + getCompileFn(block, depth + 1) + ', inverse: ' + getCompileInverse(block, depth + 1) + ', root: root});';\n\t                            resultString += '}}';\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t            resultString += '\\nreturn r;})';\n\t            return eval.call(window, resultString);\n\t        }\n\t        t.compile = function (template) {\n\t            if (!t.compiled) {\n\t                t.compiled = compile(template);\n\t            }\n\t            return t.compiled;\n\t        };\n\t    };\n\t    Template7.prototype = {\n\t        options: {},\n\t        partials: {},\n\t        helpers: {\n\t            '_partial': function _partial(partialName, options) {\n\t                var p = Template7.prototype.partials[partialName];\n\t                if (!p || p && !p.template) return '';\n\t                if (!p.compiled) {\n\t                    p.compiled = t7.compile(p.template);\n\t                }\n\t                var ctx = this;\n\t                for (var hashName in options.hash) {\n\t                    ctx[hashName] = options.hash[hashName];\n\t                }\n\t                return p.compiled(ctx, options.data, options.root);\n\t            },\n\t            'escape': function escape(context, options) {\n\t                if (typeof context !== 'string') {\n\t                    throw new Error('Template7: Passed context to \"escape\" helper should be a string');\n\t                }\n\t                return context.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n\t            },\n\t            'if': function _if(context, options) {\n\t                if (isFunction(context)) {\n\t                    context = context.call(this);\n\t                }\n\t                if (context) {\n\t                    return options.fn(this, options.data);\n\t                } else {\n\t                    return options.inverse(this, options.data);\n\t                }\n\t            },\n\t            'unless': function unless(context, options) {\n\t                if (isFunction(context)) {\n\t                    context = context.call(this);\n\t                }\n\t                if (!context) {\n\t                    return options.fn(this, options.data);\n\t                } else {\n\t                    return options.inverse(this, options.data);\n\t                }\n\t            },\n\t            'each': function each(context, options) {\n\t                var ret = '',\n\t                    i = 0;\n\t                if (isFunction(context)) {\n\t                    context = context.call(this);\n\t                }\n\t                if (isArray(context)) {\n\t                    if (options.hash.reverse) {\n\t                        context = context.reverse();\n\t                    }\n\t                    for (i = 0; i < context.length; i++) {\n\t                        ret += options.fn(context[i], { first: i === 0, last: i === context.length - 1, index: i });\n\t                    }\n\t                    if (options.hash.reverse) {\n\t                        context = context.reverse();\n\t                    }\n\t                } else {\n\t                    for (var key in context) {\n\t                        i++;\n\t                        ret += options.fn(context[key], { key: key });\n\t                    }\n\t                }\n\t                if (i > 0) return ret;else return options.inverse(this);\n\t            },\n\t            'with': function _with(context, options) {\n\t                if (isFunction(context)) {\n\t                    context = context.call(this);\n\t                }\n\t                return options.fn(context);\n\t            },\n\t            'join': function join(context, options) {\n\t                if (isFunction(context)) {\n\t                    context = context.call(this);\n\t                }\n\t                return context.join(options.hash.delimiter || options.hash.delimeter);\n\t            },\n\t            'js': function js(expression, options) {\n\t                var func;\n\t                if (expression.indexOf('return') >= 0) {\n\t                    func = '(function(){' + expression + '})';\n\t                } else {\n\t                    func = '(function(){return (' + expression + ')})';\n\t                }\n\t                return eval.call(this, func).call(this);\n\t            },\n\t            'js_compare': function js_compare(expression, options) {\n\t                var func;\n\t                if (expression.indexOf('return') >= 0) {\n\t                    func = '(function(){' + expression + '})';\n\t                } else {\n\t                    func = '(function(){return (' + expression + ')})';\n\t                }\n\t                var condition = eval.call(this, func).call(this);\n\t                if (condition) {\n\t                    return options.fn(this, options.data);\n\t                } else {\n\t                    return options.inverse(this, options.data);\n\t                }\n\t            }\n\t        }\n\t    };\n\t    var t7 = function t7(template, data) {\n\t        if (arguments.length === 2) {\n\t            var instance = new Template7(template);\n\t            var rendered = instance.compile()(data);\n\t            instance = null;\n\t            return rendered;\n\t        } else return new Template7(template);\n\t    };\n\t    t7.registerHelper = function (name, fn) {\n\t        Template7.prototype.helpers[name] = fn;\n\t    };\n\t    t7.unregisterHelper = function (name) {\n\t        Template7.prototype.helpers[name] = undefined;\n\t        delete Template7.prototype.helpers[name];\n\t    };\n\t    t7.registerPartial = function (name, template) {\n\t        Template7.prototype.partials[name] = { template: template };\n\t    };\n\t    t7.unregisterPartial = function (name, template) {\n\t        if (Template7.prototype.partials[name]) {\n\t            Template7.prototype.partials[name] = undefined;\n\t            delete Template7.prototype.partials[name];\n\t        }\n\t    };\n\t\n\t    t7.compile = function (template, options) {\n\t        var instance = new Template7(template, options);\n\t        return instance.compile();\n\t    };\n\t\n\t    t7.options = Template7.prototype.options;\n\t    t7.helpers = Template7.prototype.helpers;\n\t    t7.partials = Template7.prototype.partials;\n\t    return t7;\n\t}();\n\t\n\t/*===========================\n\tSwiper\n\t===========================*/\n\twindow.Swiper = function (container, params) {\n\t    if (!(this instanceof Swiper)) return new Swiper(container, params);\n\t    var defaults = {\n\t        direction: 'horizontal',\n\t        touchEventsTarget: 'container',\n\t        initialSlide: 0,\n\t        speed: 300,\n\t        // autoplay\n\t        autoplay: false,\n\t        autoplayDisableOnInteraction: true,\n\t        autoplayStopOnLast: false,\n\t        // To support iOS's swipe-to-go-back gesture (when being used in-app, with UIWebView).\n\t        iOSEdgeSwipeDetection: false,\n\t        iOSEdgeSwipeThreshold: 20,\n\t        // Free mode\n\t        freeMode: false,\n\t        freeModeMomentum: true,\n\t        freeModeMomentumRatio: 1,\n\t        freeModeMomentumBounce: true,\n\t        freeModeMomentumBounceRatio: 1,\n\t        freeModeSticky: false,\n\t        freeModeMinimumVelocity: 0.02,\n\t        // Autoheight\n\t        autoHeight: false,\n\t        // Set wrapper width\n\t        setWrapperSize: false,\n\t        // Virtual Translate\n\t        virtualTranslate: false,\n\t        // Effects\n\t        effect: 'slide', // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n\t        coverflow: {\n\t            rotate: 50,\n\t            stretch: 0,\n\t            depth: 100,\n\t            modifier: 1,\n\t            slideShadows: true\n\t        },\n\t        flip: {\n\t            slideShadows: true,\n\t            limitRotation: true\n\t        },\n\t        cube: {\n\t            slideShadows: true,\n\t            shadow: true,\n\t            shadowOffset: 20,\n\t            shadowScale: 0.94\n\t        },\n\t        fade: {\n\t            crossFade: false\n\t        },\n\t        // Parallax\n\t        parallax: false,\n\t        // Scrollbar\n\t        scrollbar: null,\n\t        scrollbarHide: true,\n\t        scrollbarDraggable: false,\n\t        scrollbarSnapOnRelease: false,\n\t        // Keyboard Mousewheel\n\t        keyboardControl: false,\n\t        mousewheelControl: false,\n\t        mousewheelReleaseOnEdges: false,\n\t        mousewheelInvert: false,\n\t        mousewheelForceToAxis: false,\n\t        mousewheelSensitivity: 1,\n\t        // Hash Navigation\n\t        hashnav: false,\n\t        // Breakpoints\n\t        breakpoints: undefined,\n\t        // Slides grid\n\t        spaceBetween: 0,\n\t        slidesPerView: 1,\n\t        slidesPerColumn: 1,\n\t        slidesPerColumnFill: 'column',\n\t        slidesPerGroup: 1,\n\t        centeredSlides: false,\n\t        slidesOffsetBefore: 0, // in px\n\t        slidesOffsetAfter: 0, // in px\n\t        // Round length\n\t        roundLengths: false,\n\t        // Touches\n\t        touchRatio: 1,\n\t        touchAngle: 45,\n\t        simulateTouch: true,\n\t        shortSwipes: true,\n\t        longSwipes: true,\n\t        longSwipesRatio: 0.5,\n\t        longSwipesMs: 300,\n\t        followFinger: true,\n\t        onlyExternal: false,\n\t        threshold: 0,\n\t        touchMoveStopPropagation: true,\n\t        // Unique Navigation Elements\n\t        uniqueNavElements: true,\n\t        // Pagination\n\t        pagination: null,\n\t        paginationElement: 'span',\n\t        paginationClickable: false,\n\t        paginationHide: false,\n\t        paginationBulletRender: null,\n\t        paginationProgressRender: null,\n\t        paginationFractionRender: null,\n\t        paginationCustomRender: null,\n\t        paginationType: 'bullets', // 'bullets' or 'progress' or 'fraction' or 'custom'\n\t        // Resistance\n\t        resistance: true,\n\t        resistanceRatio: 0.85,\n\t        // Next/prev buttons\n\t        nextButton: null,\n\t        prevButton: null,\n\t        // Progress\n\t        watchSlidesProgress: false,\n\t        watchSlidesVisibility: false,\n\t        // Cursor\n\t        grabCursor: false,\n\t        // Clicks\n\t        preventClicks: true,\n\t        preventClicksPropagation: true,\n\t        slideToClickedSlide: false,\n\t        // Lazy Loading\n\t        lazyLoading: false,\n\t        lazyLoadingInPrevNext: false,\n\t        lazyLoadingInPrevNextAmount: 1,\n\t        lazyLoadingOnTransitionStart: false,\n\t        // Images\n\t        preloadImages: true,\n\t        updateOnImagesReady: true,\n\t        // loop\n\t        loop: false,\n\t        loopAdditionalSlides: 0,\n\t        loopedSlides: null,\n\t        // Control\n\t        control: undefined,\n\t        controlInverse: false,\n\t        controlBy: 'slide', //or 'container'\n\t        // Swiping/no swiping\n\t        allowSwipeToPrev: true,\n\t        allowSwipeToNext: true,\n\t        swipeHandler: null, //'.swipe-handler',\n\t        noSwiping: true,\n\t        noSwipingClass: 'swiper-no-swiping',\n\t        // NS\n\t        slideClass: 'swiper-slide',\n\t        slideActiveClass: 'swiper-slide-active',\n\t        slideVisibleClass: 'swiper-slide-visible',\n\t        slideDuplicateClass: 'swiper-slide-duplicate',\n\t        slideNextClass: 'swiper-slide-next',\n\t        slidePrevClass: 'swiper-slide-prev',\n\t        wrapperClass: 'swiper-wrapper',\n\t        bulletClass: 'swiper-pagination-bullet',\n\t        bulletActiveClass: 'swiper-pagination-bullet-active',\n\t        buttonDisabledClass: 'swiper-button-disabled',\n\t        paginationCurrentClass: 'swiper-pagination-current',\n\t        paginationTotalClass: 'swiper-pagination-total',\n\t        paginationHiddenClass: 'swiper-pagination-hidden',\n\t        paginationProgressbarClass: 'swiper-pagination-progressbar',\n\t        // Observer\n\t        observer: false,\n\t        observeParents: false,\n\t        // Accessibility\n\t        a11y: false,\n\t        prevSlideMessage: 'Previous slide',\n\t        nextSlideMessage: 'Next slide',\n\t        firstSlideMessage: 'This is the first slide',\n\t        lastSlideMessage: 'This is the last slide',\n\t        paginationBulletMessage: 'Go to slide {{index}}',\n\t        // Callbacks\n\t        runCallbacksOnInit: true\n\t        /*\n\t        Callbacks:\n\t        onInit: function (swiper)\n\t        onDestroy: function (swiper)\n\t        onClick: function (swiper, e)\n\t        onTap: function (swiper, e)\n\t        onDoubleTap: function (swiper, e)\n\t        onSliderMove: function (swiper, e)\n\t        onSlideChangeStart: function (swiper)\n\t        onSlideChangeEnd: function (swiper)\n\t        onTransitionStart: function (swiper)\n\t        onTransitionEnd: function (swiper)\n\t        onImagesReady: function (swiper)\n\t        onProgress: function (swiper, progress)\n\t        onTouchStart: function (swiper, e)\n\t        onTouchMove: function (swiper, e)\n\t        onTouchMoveOpposite: function (swiper, e)\n\t        onTouchEnd: function (swiper, e)\n\t        onReachBeginning: function (swiper)\n\t        onReachEnd: function (swiper)\n\t        onSetTransition: function (swiper, duration)\n\t        onSetTranslate: function (swiper, translate)\n\t        onAutoplayStart: function (swiper)\n\t        onAutoplayStop: function (swiper),\n\t        onLazyImageLoad: function (swiper, slide, image)\n\t        onLazyImageReady: function (swiper, slide, image)\n\t        */\n\t\n\t    };\n\t    var initialVirtualTranslate = params && params.virtualTranslate;\n\t\n\t    params = params || {};\n\t    var originalParams = {};\n\t    for (var param in params) {\n\t        if (_typeof(params[param]) === 'object' && params[param] !== null && !(params[param].nodeType || params[param] === window || params[param] === document || typeof Dom7 !== 'undefined' && params[param] instanceof Dom7 || typeof jQuery !== 'undefined' && params[param] instanceof jQuery)) {\n\t            originalParams[param] = {};\n\t            for (var deepParam in params[param]) {\n\t                originalParams[param][deepParam] = params[param][deepParam];\n\t            }\n\t        } else {\n\t            originalParams[param] = params[param];\n\t        }\n\t    }\n\t    for (var def in defaults) {\n\t        if (typeof params[def] === 'undefined') {\n\t            params[def] = defaults[def];\n\t        } else if (_typeof(params[def]) === 'object') {\n\t            for (var deepDef in defaults[def]) {\n\t                if (typeof params[def][deepDef] === 'undefined') {\n\t                    params[def][deepDef] = defaults[def][deepDef];\n\t                }\n\t            }\n\t        }\n\t    }\n\t\n\t    // Swiper\n\t    var s = this;\n\t\n\t    // Params\n\t    s.params = params;\n\t    s.originalParams = originalParams;\n\t\n\t    // Classname\n\t    s.classNames = [];\n\t    /*=========================\n\t      Dom Library and plugins\n\t      ===========================*/\n\t    if (typeof $ !== 'undefined' && typeof Dom7 !== 'undefined') {\n\t        $ = Dom7;\n\t    }\n\t    if (typeof $ === 'undefined') {\n\t        if (typeof Dom7 === 'undefined') {\n\t            $ = window.Dom7 || window.Zepto || window.jQuery;\n\t        } else {\n\t            $ = Dom7;\n\t        }\n\t        if (!$) return;\n\t    }\n\t    // Export it to Swiper instance\n\t    s.$ = $;\n\t\n\t    /*=========================\n\t      Breakpoints\n\t      ===========================*/\n\t    s.currentBreakpoint = undefined;\n\t    s.getActiveBreakpoint = function () {\n\t        //Get breakpoint for window width\n\t        if (!s.params.breakpoints) return false;\n\t        var breakpoint = false;\n\t        var points = [],\n\t            point;\n\t        for (point in s.params.breakpoints) {\n\t            if (s.params.breakpoints.hasOwnProperty(point)) {\n\t                points.push(point);\n\t            }\n\t        }\n\t        points.sort(function (a, b) {\n\t            return parseInt(a, 10) > parseInt(b, 10);\n\t        });\n\t        for (var i = 0; i < points.length; i++) {\n\t            point = points[i];\n\t            if (point >= window.innerWidth && !breakpoint) {\n\t                breakpoint = point;\n\t            }\n\t        }\n\t        return breakpoint || 'max';\n\t    };\n\t    s.setBreakpoint = function () {\n\t        //Set breakpoint for window width and update parameters\n\t        var breakpoint = s.getActiveBreakpoint();\n\t        if (breakpoint && s.currentBreakpoint !== breakpoint) {\n\t            var breakPointsParams = breakpoint in s.params.breakpoints ? s.params.breakpoints[breakpoint] : s.originalParams;\n\t            var needsReLoop = s.params.loop && breakPointsParams.slidesPerView !== s.params.slidesPerView;\n\t            for (var param in breakPointsParams) {\n\t                s.params[param] = breakPointsParams[param];\n\t            }\n\t            s.currentBreakpoint = breakpoint;\n\t            if (needsReLoop && s.destroyLoop) {\n\t                s.reLoop(true);\n\t            }\n\t        }\n\t    };\n\t    // Set breakpoint on load\n\t    if (s.params.breakpoints) {\n\t        s.setBreakpoint();\n\t    }\n\t\n\t    /*=========================\n\t      Preparation - Define Container, Wrapper and Pagination\n\t      ===========================*/\n\t    s.container = $(container);\n\t    if (s.container.length === 0) return;\n\t    if (s.container.length > 1) {\n\t        var swipers = [];\n\t        s.container.each(function () {\n\t            var container = this;\n\t            swipers.push(new Swiper(this, params));\n\t        });\n\t        return swipers;\n\t    }\n\t\n\t    // Save instance in container HTML Element and in data\n\t    s.container[0].swiper = s;\n\t    s.container.data('swiper', s);\n\t\n\t    s.classNames.push('swiper-container-' + s.params.direction);\n\t\n\t    if (s.params.freeMode) {\n\t        s.classNames.push('swiper-container-free-mode');\n\t    }\n\t    if (!s.support.flexbox) {\n\t        s.classNames.push('swiper-container-no-flexbox');\n\t        s.params.slidesPerColumn = 1;\n\t    }\n\t    if (s.params.autoHeight) {\n\t        s.classNames.push('swiper-container-autoheight');\n\t    }\n\t    // Enable slides progress when required\n\t    if (s.params.parallax || s.params.watchSlidesVisibility) {\n\t        s.params.watchSlidesProgress = true;\n\t    }\n\t    // Coverflow / 3D\n\t    if (['cube', 'coverflow', 'flip'].indexOf(s.params.effect) >= 0) {\n\t        if (s.support.transforms3d) {\n\t            s.params.watchSlidesProgress = true;\n\t            s.classNames.push('swiper-container-3d');\n\t        } else {\n\t            s.params.effect = 'slide';\n\t        }\n\t    }\n\t    if (s.params.effect !== 'slide') {\n\t        s.classNames.push('swiper-container-' + s.params.effect);\n\t    }\n\t    if (s.params.effect === 'cube') {\n\t        s.params.resistanceRatio = 0;\n\t        s.params.slidesPerView = 1;\n\t        s.params.slidesPerColumn = 1;\n\t        s.params.slidesPerGroup = 1;\n\t        s.params.centeredSlides = false;\n\t        s.params.spaceBetween = 0;\n\t        s.params.virtualTranslate = true;\n\t        s.params.setWrapperSize = false;\n\t    }\n\t    if (s.params.effect === 'fade' || s.params.effect === 'flip') {\n\t        s.params.slidesPerView = 1;\n\t        s.params.slidesPerColumn = 1;\n\t        s.params.slidesPerGroup = 1;\n\t        s.params.watchSlidesProgress = true;\n\t        s.params.spaceBetween = 0;\n\t        s.params.setWrapperSize = false;\n\t        if (typeof initialVirtualTranslate === 'undefined') {\n\t            s.params.virtualTranslate = true;\n\t        }\n\t    }\n\t\n\t    // Grab Cursor\n\t    if (s.params.grabCursor && s.support.touch) {\n\t        s.params.grabCursor = false;\n\t    }\n\t\n\t    // Wrapper\n\t    s.wrapper = s.container.children('.' + s.params.wrapperClass);\n\t\n\t    // Pagination\n\t    if (s.params.pagination) {\n\t        s.paginationContainer = $(s.params.pagination);\n\t        if (s.params.uniqueNavElements && typeof s.params.pagination === 'string' && s.paginationContainer.length > 1 && s.container.find(s.params.pagination).length === 1) {\n\t            s.paginationContainer = s.container.find(s.params.pagination);\n\t        }\n\t\n\t        if (s.params.paginationType === 'bullets' && s.params.paginationClickable) {\n\t            s.paginationContainer.addClass('swiper-pagination-clickable');\n\t        } else {\n\t            s.params.paginationClickable = false;\n\t        }\n\t        s.paginationContainer.addClass('swiper-pagination-' + s.params.paginationType);\n\t    }\n\t    // Next/Prev Buttons\n\t    if (s.params.nextButton || s.params.prevButton) {\n\t        if (s.params.nextButton) {\n\t            s.nextButton = $(s.params.nextButton);\n\t            if (s.params.uniqueNavElements && typeof s.params.nextButton === 'string' && s.nextButton.length > 1 && s.container.find(s.params.nextButton).length === 1) {\n\t                s.nextButton = s.container.find(s.params.nextButton);\n\t            }\n\t        }\n\t        if (s.params.prevButton) {\n\t            s.prevButton = $(s.params.prevButton);\n\t            if (s.params.uniqueNavElements && typeof s.params.prevButton === 'string' && s.prevButton.length > 1 && s.container.find(s.params.prevButton).length === 1) {\n\t                s.prevButton = s.container.find(s.params.prevButton);\n\t            }\n\t        }\n\t    }\n\t\n\t    // Is Horizontal\n\t    s.isHorizontal = function () {\n\t        return s.params.direction === 'horizontal';\n\t    };\n\t    // s.isH = isH;\n\t\n\t    // RTL\n\t    s.rtl = s.isHorizontal() && (s.container[0].dir.toLowerCase() === 'rtl' || s.container.css('direction') === 'rtl');\n\t    if (s.rtl) {\n\t        s.classNames.push('swiper-container-rtl');\n\t    }\n\t\n\t    // Wrong RTL support\n\t    if (s.rtl) {\n\t        s.wrongRTL = s.wrapper.css('display') === '-webkit-box';\n\t    }\n\t\n\t    // Columns\n\t    if (s.params.slidesPerColumn > 1) {\n\t        s.classNames.push('swiper-container-multirow');\n\t    }\n\t\n\t    // Check for Android\n\t    if (s.device.android) {\n\t        s.classNames.push('swiper-container-android');\n\t    }\n\t\n\t    // Add classes\n\t    s.container.addClass(s.classNames.join(' '));\n\t\n\t    // Translate\n\t    s.translate = 0;\n\t\n\t    // Progress\n\t    s.progress = 0;\n\t\n\t    // Velocity\n\t    s.velocity = 0;\n\t\n\t    /*=========================\n\t      Locks, unlocks\n\t      ===========================*/\n\t    s.lockSwipeToNext = function () {\n\t        s.params.allowSwipeToNext = false;\n\t    };\n\t    s.lockSwipeToPrev = function () {\n\t        s.params.allowSwipeToPrev = false;\n\t    };\n\t    s.lockSwipes = function () {\n\t        s.params.allowSwipeToNext = s.params.allowSwipeToPrev = false;\n\t    };\n\t    s.unlockSwipeToNext = function () {\n\t        s.params.allowSwipeToNext = true;\n\t    };\n\t    s.unlockSwipeToPrev = function () {\n\t        s.params.allowSwipeToPrev = true;\n\t    };\n\t    s.unlockSwipes = function () {\n\t        s.params.allowSwipeToNext = s.params.allowSwipeToPrev = true;\n\t    };\n\t\n\t    /*=========================\n\t      Round helper\n\t      ===========================*/\n\t    function round(a) {\n\t        return Math.floor(a);\n\t    }\n\t    /*=========================\n\t      Set grab cursor\n\t      ===========================*/\n\t    if (s.params.grabCursor) {\n\t        s.container[0].style.cursor = 'move';\n\t        s.container[0].style.cursor = '-webkit-grab';\n\t        s.container[0].style.cursor = '-moz-grab';\n\t        s.container[0].style.cursor = 'grab';\n\t    }\n\t    /*=========================\n\t      Update on Images Ready\n\t      ===========================*/\n\t    s.imagesToLoad = [];\n\t    s.imagesLoaded = 0;\n\t\n\t    s.loadImage = function (imgElement, src, srcset, checkForComplete, callback) {\n\t        var image;\n\t        function onReady() {\n\t            if (callback) callback();\n\t        }\n\t        if (!imgElement.complete || !checkForComplete) {\n\t            if (src) {\n\t                image = new window.Image();\n\t                image.onload = onReady;\n\t                image.onerror = onReady;\n\t                if (srcset) {\n\t                    image.srcset = srcset;\n\t                }\n\t                if (src) {\n\t                    image.src = src;\n\t                }\n\t            } else {\n\t                onReady();\n\t            }\n\t        } else {\n\t            //image already loaded...\n\t            onReady();\n\t        }\n\t    };\n\t    s.preloadImages = function () {\n\t        s.imagesToLoad = s.container.find('img');\n\t        function _onReady() {\n\t            if (typeof s === 'undefined' || s === null) return;\n\t            if (s.imagesLoaded !== undefined) s.imagesLoaded++;\n\t            if (s.imagesLoaded === s.imagesToLoad.length) {\n\t                if (s.params.updateOnImagesReady) s.update();\n\t                s.emit('onImagesReady', s);\n\t            }\n\t        }\n\t        for (var i = 0; i < s.imagesToLoad.length; i++) {\n\t            s.loadImage(s.imagesToLoad[i], s.imagesToLoad[i].currentSrc || s.imagesToLoad[i].getAttribute('src'), s.imagesToLoad[i].srcset || s.imagesToLoad[i].getAttribute('srcset'), true, _onReady);\n\t        }\n\t    };\n\t\n\t    /*=========================\n\t      Autoplay\n\t      ===========================*/\n\t    s.autoplayTimeoutId = undefined;\n\t    s.autoplaying = false;\n\t    s.autoplayPaused = false;\n\t    function autoplay() {\n\t        s.autoplayTimeoutId = setTimeout(function () {\n\t            if (s.params.loop) {\n\t                s.fixLoop();\n\t                s._slideNext();\n\t                s.emit('onAutoplay', s);\n\t            } else {\n\t                if (!s.isEnd) {\n\t                    s._slideNext();\n\t                    s.emit('onAutoplay', s);\n\t                } else {\n\t                    if (!params.autoplayStopOnLast) {\n\t                        s._slideTo(0);\n\t                        s.emit('onAutoplay', s);\n\t                    } else {\n\t                        s.stopAutoplay();\n\t                    }\n\t                }\n\t            }\n\t        }, s.params.autoplay);\n\t    }\n\t    s.startAutoplay = function () {\n\t        if (typeof s.autoplayTimeoutId !== 'undefined') return false;\n\t        if (!s.params.autoplay) return false;\n\t        if (s.autoplaying) return false;\n\t        s.autoplaying = true;\n\t        s.emit('onAutoplayStart', s);\n\t        autoplay();\n\t    };\n\t    s.stopAutoplay = function (internal) {\n\t        if (!s.autoplayTimeoutId) return;\n\t        if (s.autoplayTimeoutId) clearTimeout(s.autoplayTimeoutId);\n\t        s.autoplaying = false;\n\t        s.autoplayTimeoutId = undefined;\n\t        s.emit('onAutoplayStop', s);\n\t    };\n\t    s.pauseAutoplay = function (speed) {\n\t        if (s.autoplayPaused) return;\n\t        if (s.autoplayTimeoutId) clearTimeout(s.autoplayTimeoutId);\n\t        s.autoplayPaused = true;\n\t        if (speed === 0) {\n\t            s.autoplayPaused = false;\n\t            autoplay();\n\t        } else {\n\t            s.wrapper.transitionEnd(function () {\n\t                if (!s) return;\n\t                s.autoplayPaused = false;\n\t                if (!s.autoplaying) {\n\t                    s.stopAutoplay();\n\t                } else {\n\t                    autoplay();\n\t                }\n\t            });\n\t        }\n\t    };\n\t    /*=========================\n\t      Min/Max Translate\n\t      ===========================*/\n\t    s.minTranslate = function () {\n\t        return -s.snapGrid[0];\n\t    };\n\t    s.maxTranslate = function () {\n\t        return -s.snapGrid[s.snapGrid.length - 1];\n\t    };\n\t    /*=========================\n\t      Slider/slides sizes\n\t      ===========================*/\n\t    s.updateAutoHeight = function () {\n\t        // Update Height\n\t        var slide = s.slides.eq(s.activeIndex)[0];\n\t        if (typeof slide !== 'undefined') {\n\t            var newHeight = slide.offsetHeight;\n\t            if (newHeight) s.wrapper.css('height', newHeight + 'px');\n\t        }\n\t    };\n\t    s.updateContainerSize = function () {\n\t        var width, height;\n\t        if (typeof s.params.width !== 'undefined') {\n\t            width = s.params.width;\n\t        } else {\n\t            width = s.container[0].clientWidth;\n\t        }\n\t        if (typeof s.params.height !== 'undefined') {\n\t            height = s.params.height;\n\t        } else {\n\t            height = s.container[0].clientHeight;\n\t        }\n\t        if (width === 0 && s.isHorizontal() || height === 0 && !s.isHorizontal()) {\n\t            return;\n\t        }\n\t\n\t        //Subtract paddings\n\t        width = width - parseInt(s.container.css('padding-left'), 10) - parseInt(s.container.css('padding-right'), 10);\n\t        height = height - parseInt(s.container.css('padding-top'), 10) - parseInt(s.container.css('padding-bottom'), 10);\n\t\n\t        // Store values\n\t        s.width = width;\n\t        s.height = height;\n\t        s.size = s.isHorizontal() ? s.width : s.height;\n\t    };\n\t\n\t    s.updateSlidesSize = function () {\n\t        s.slides = s.wrapper.children('.' + s.params.slideClass);\n\t        s.snapGrid = [];\n\t        s.slidesGrid = [];\n\t        s.slidesSizesGrid = [];\n\t\n\t        var spaceBetween = s.params.spaceBetween,\n\t            slidePosition = -s.params.slidesOffsetBefore,\n\t            i,\n\t            prevSlideSize = 0,\n\t            index = 0;\n\t        if (typeof s.size === 'undefined') return;\n\t        if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n\t            spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * s.size;\n\t        }\n\t\n\t        s.virtualSize = -spaceBetween;\n\t        // reset margins\n\t        if (s.rtl) s.slides.css({ marginLeft: '', marginTop: '' });else s.slides.css({ marginRight: '', marginBottom: '' });\n\t\n\t        var slidesNumberEvenToRows;\n\t        if (s.params.slidesPerColumn > 1) {\n\t            if (Math.floor(s.slides.length / s.params.slidesPerColumn) === s.slides.length / s.params.slidesPerColumn) {\n\t                slidesNumberEvenToRows = s.slides.length;\n\t            } else {\n\t                slidesNumberEvenToRows = Math.ceil(s.slides.length / s.params.slidesPerColumn) * s.params.slidesPerColumn;\n\t            }\n\t            if (s.params.slidesPerView !== 'auto' && s.params.slidesPerColumnFill === 'row') {\n\t                slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, s.params.slidesPerView * s.params.slidesPerColumn);\n\t            }\n\t        }\n\t\n\t        // Calc slides\n\t        var slideSize;\n\t        var slidesPerColumn = s.params.slidesPerColumn;\n\t        var slidesPerRow = slidesNumberEvenToRows / slidesPerColumn;\n\t        var numFullColumns = slidesPerRow - (s.params.slidesPerColumn * slidesPerRow - s.slides.length);\n\t        for (i = 0; i < s.slides.length; i++) {\n\t            slideSize = 0;\n\t            var slide = s.slides.eq(i);\n\t            if (s.params.slidesPerColumn > 1) {\n\t                // Set slides order\n\t                var newSlideOrderIndex;\n\t                var column, row;\n\t                if (s.params.slidesPerColumnFill === 'column') {\n\t                    column = Math.floor(i / slidesPerColumn);\n\t                    row = i - column * slidesPerColumn;\n\t                    if (column > numFullColumns || column === numFullColumns && row === slidesPerColumn - 1) {\n\t                        if (++row >= slidesPerColumn) {\n\t                            row = 0;\n\t                            column++;\n\t                        }\n\t                    }\n\t                    newSlideOrderIndex = column + row * slidesNumberEvenToRows / slidesPerColumn;\n\t                    slide.css({\n\t                        '-webkit-box-ordinal-group': newSlideOrderIndex,\n\t                        '-moz-box-ordinal-group': newSlideOrderIndex,\n\t                        '-ms-flex-order': newSlideOrderIndex,\n\t                        '-webkit-order': newSlideOrderIndex,\n\t                        'order': newSlideOrderIndex\n\t                    });\n\t                } else {\n\t                    row = Math.floor(i / slidesPerRow);\n\t                    column = i - row * slidesPerRow;\n\t                }\n\t                slide.css({\n\t                    'margin-top': row !== 0 && s.params.spaceBetween && s.params.spaceBetween + 'px'\n\t                }).attr('data-swiper-column', column).attr('data-swiper-row', row);\n\t            }\n\t            if (slide.css('display') === 'none') continue;\n\t            if (s.params.slidesPerView === 'auto') {\n\t                slideSize = s.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n\t                if (s.params.roundLengths) slideSize = round(slideSize);\n\t            } else {\n\t                slideSize = (s.size - (s.params.slidesPerView - 1) * spaceBetween) / s.params.slidesPerView;\n\t                if (s.params.roundLengths) slideSize = round(slideSize);\n\t\n\t                if (s.isHorizontal()) {\n\t                    s.slides[i].style.width = slideSize + 'px';\n\t                } else {\n\t                    s.slides[i].style.height = slideSize + 'px';\n\t                }\n\t            }\n\t            s.slides[i].swiperSlideSize = slideSize;\n\t            s.slidesSizesGrid.push(slideSize);\n\t\n\t            if (s.params.centeredSlides) {\n\t                slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n\t                if (i === 0) slidePosition = slidePosition - s.size / 2 - spaceBetween;\n\t                if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n\t                if (index % s.params.slidesPerGroup === 0) s.snapGrid.push(slidePosition);\n\t                s.slidesGrid.push(slidePosition);\n\t            } else {\n\t                if (index % s.params.slidesPerGroup === 0) s.snapGrid.push(slidePosition);\n\t                s.slidesGrid.push(slidePosition);\n\t                slidePosition = slidePosition + slideSize + spaceBetween;\n\t            }\n\t\n\t            s.virtualSize += slideSize + spaceBetween;\n\t\n\t            prevSlideSize = slideSize;\n\t\n\t            index++;\n\t        }\n\t        s.virtualSize = Math.max(s.virtualSize, s.size) + s.params.slidesOffsetAfter;\n\t        var newSlidesGrid;\n\t\n\t        if (s.rtl && s.wrongRTL && (s.params.effect === 'slide' || s.params.effect === 'coverflow')) {\n\t            s.wrapper.css({ width: s.virtualSize + s.params.spaceBetween + 'px' });\n\t        }\n\t        if (!s.support.flexbox || s.params.setWrapperSize) {\n\t            if (s.isHorizontal()) s.wrapper.css({ width: s.virtualSize + s.params.spaceBetween + 'px' });else s.wrapper.css({ height: s.virtualSize + s.params.spaceBetween + 'px' });\n\t        }\n\t\n\t        if (s.params.slidesPerColumn > 1) {\n\t            s.virtualSize = (slideSize + s.params.spaceBetween) * slidesNumberEvenToRows;\n\t            s.virtualSize = Math.ceil(s.virtualSize / s.params.slidesPerColumn) - s.params.spaceBetween;\n\t            s.wrapper.css({ width: s.virtualSize + s.params.spaceBetween + 'px' });\n\t            if (s.params.centeredSlides) {\n\t                newSlidesGrid = [];\n\t                for (i = 0; i < s.snapGrid.length; i++) {\n\t                    if (s.snapGrid[i] < s.virtualSize + s.snapGrid[0]) newSlidesGrid.push(s.snapGrid[i]);\n\t                }\n\t                s.snapGrid = newSlidesGrid;\n\t            }\n\t        }\n\t\n\t        // Remove last grid elements depending on width\n\t        if (!s.params.centeredSlides) {\n\t            newSlidesGrid = [];\n\t            for (i = 0; i < s.snapGrid.length; i++) {\n\t                if (s.snapGrid[i] <= s.virtualSize - s.size) {\n\t                    newSlidesGrid.push(s.snapGrid[i]);\n\t                }\n\t            }\n\t            s.snapGrid = newSlidesGrid;\n\t            if (Math.floor(s.virtualSize - s.size) - Math.floor(s.snapGrid[s.snapGrid.length - 1]) > 1) {\n\t                s.snapGrid.push(s.virtualSize - s.size);\n\t            }\n\t        }\n\t        if (s.snapGrid.length === 0) s.snapGrid = [0];\n\t\n\t        if (s.params.spaceBetween !== 0) {\n\t            if (s.isHorizontal()) {\n\t                if (s.rtl) s.slides.css({ marginLeft: spaceBetween + 'px' });else s.slides.css({ marginRight: spaceBetween + 'px' });\n\t            } else s.slides.css({ marginBottom: spaceBetween + 'px' });\n\t        }\n\t        if (s.params.watchSlidesProgress) {\n\t            s.updateSlidesOffset();\n\t        }\n\t    };\n\t    s.updateSlidesOffset = function () {\n\t        for (var i = 0; i < s.slides.length; i++) {\n\t            s.slides[i].swiperSlideOffset = s.isHorizontal() ? s.slides[i].offsetLeft : s.slides[i].offsetTop;\n\t        }\n\t    };\n\t\n\t    /*=========================\n\t      Slider/slides progress\n\t      ===========================*/\n\t    s.updateSlidesProgress = function (translate) {\n\t        if (typeof translate === 'undefined') {\n\t            translate = s.translate || 0;\n\t        }\n\t        if (s.slides.length === 0) return;\n\t        if (typeof s.slides[0].swiperSlideOffset === 'undefined') s.updateSlidesOffset();\n\t\n\t        var offsetCenter = -translate;\n\t        if (s.rtl) offsetCenter = translate;\n\t\n\t        // Visible Slides\n\t        s.slides.removeClass(s.params.slideVisibleClass);\n\t        for (var i = 0; i < s.slides.length; i++) {\n\t            var slide = s.slides[i];\n\t            var slideProgress = (offsetCenter - slide.swiperSlideOffset) / (slide.swiperSlideSize + s.params.spaceBetween);\n\t            if (s.params.watchSlidesVisibility) {\n\t                var slideBefore = -(offsetCenter - slide.swiperSlideOffset);\n\t                var slideAfter = slideBefore + s.slidesSizesGrid[i];\n\t                var isVisible = slideBefore >= 0 && slideBefore < s.size || slideAfter > 0 && slideAfter <= s.size || slideBefore <= 0 && slideAfter >= s.size;\n\t                if (isVisible) {\n\t                    s.slides.eq(i).addClass(s.params.slideVisibleClass);\n\t                }\n\t            }\n\t            slide.progress = s.rtl ? -slideProgress : slideProgress;\n\t        }\n\t    };\n\t    s.updateProgress = function (translate) {\n\t        if (typeof translate === 'undefined') {\n\t            translate = s.translate || 0;\n\t        }\n\t        var translatesDiff = s.maxTranslate() - s.minTranslate();\n\t        var wasBeginning = s.isBeginning;\n\t        var wasEnd = s.isEnd;\n\t        if (translatesDiff === 0) {\n\t            s.progress = 0;\n\t            s.isBeginning = s.isEnd = true;\n\t        } else {\n\t            s.progress = (translate - s.minTranslate()) / translatesDiff;\n\t            s.isBeginning = s.progress <= 0;\n\t            s.isEnd = s.progress >= 1;\n\t        }\n\t        if (s.isBeginning && !wasBeginning) s.emit('onReachBeginning', s);\n\t        if (s.isEnd && !wasEnd) s.emit('onReachEnd', s);\n\t\n\t        if (s.params.watchSlidesProgress) s.updateSlidesProgress(translate);\n\t        s.emit('onProgress', s, s.progress);\n\t    };\n\t    s.updateActiveIndex = function () {\n\t        var translate = s.rtl ? s.translate : -s.translate;\n\t        var newActiveIndex, i, snapIndex;\n\t        for (i = 0; i < s.slidesGrid.length; i++) {\n\t            if (typeof s.slidesGrid[i + 1] !== 'undefined') {\n\t                if (translate >= s.slidesGrid[i] && translate < s.slidesGrid[i + 1] - (s.slidesGrid[i + 1] - s.slidesGrid[i]) / 2) {\n\t                    newActiveIndex = i;\n\t                } else if (translate >= s.slidesGrid[i] && translate < s.slidesGrid[i + 1]) {\n\t                    newActiveIndex = i + 1;\n\t                }\n\t            } else {\n\t                if (translate >= s.slidesGrid[i]) {\n\t                    newActiveIndex = i;\n\t                }\n\t            }\n\t        }\n\t        // Normalize slideIndex\n\t        if (newActiveIndex < 0 || typeof newActiveIndex === 'undefined') newActiveIndex = 0;\n\t        // for (i = 0; i < s.slidesGrid.length; i++) {\n\t        // if (- translate >= s.slidesGrid[i]) {\n\t        // newActiveIndex = i;\n\t        // }\n\t        // }\n\t        snapIndex = Math.floor(newActiveIndex / s.params.slidesPerGroup);\n\t        if (snapIndex >= s.snapGrid.length) snapIndex = s.snapGrid.length - 1;\n\t\n\t        if (newActiveIndex === s.activeIndex) {\n\t            return;\n\t        }\n\t        s.snapIndex = snapIndex;\n\t        s.previousIndex = s.activeIndex;\n\t        s.activeIndex = newActiveIndex;\n\t        s.updateClasses();\n\t    };\n\t\n\t    /*=========================\n\t      Classes\n\t      ===========================*/\n\t    s.updateClasses = function () {\n\t        s.slides.removeClass(s.params.slideActiveClass + ' ' + s.params.slideNextClass + ' ' + s.params.slidePrevClass);\n\t        var activeSlide = s.slides.eq(s.activeIndex);\n\t        // Active classes\n\t        activeSlide.addClass(s.params.slideActiveClass);\n\t        // Next Slide\n\t        var nextSlide = activeSlide.next('.' + s.params.slideClass).addClass(s.params.slideNextClass);\n\t        if (s.params.loop && nextSlide.length === 0) {\n\t            s.slides.eq(0).addClass(s.params.slideNextClass);\n\t        }\n\t        // Prev Slide\n\t        var prevSlide = activeSlide.prev('.' + s.params.slideClass).addClass(s.params.slidePrevClass);\n\t        if (s.params.loop && prevSlide.length === 0) {\n\t            s.slides.eq(-1).addClass(s.params.slidePrevClass);\n\t        }\n\t\n\t        // Pagination\n\t        if (s.paginationContainer && s.paginationContainer.length > 0) {\n\t            // Current/Total\n\t            var current,\n\t                total = s.params.loop ? Math.ceil((s.slides.length - s.loopedSlides * 2) / s.params.slidesPerGroup) : s.snapGrid.length;\n\t            if (s.params.loop) {\n\t                current = Math.ceil((s.activeIndex - s.loopedSlides) / s.params.slidesPerGroup);\n\t                if (current > s.slides.length - 1 - s.loopedSlides * 2) {\n\t                    current = current - (s.slides.length - s.loopedSlides * 2);\n\t                }\n\t                if (current > total - 1) current = current - total;\n\t                if (current < 0 && s.params.paginationType !== 'bullets') current = total + current;\n\t            } else {\n\t                if (typeof s.snapIndex !== 'undefined') {\n\t                    current = s.snapIndex;\n\t                } else {\n\t                    current = s.activeIndex || 0;\n\t                }\n\t            }\n\t            // Types\n\t            if (s.params.paginationType === 'bullets' && s.bullets && s.bullets.length > 0) {\n\t                s.bullets.removeClass(s.params.bulletActiveClass);\n\t                if (s.paginationContainer.length > 1) {\n\t                    s.bullets.each(function () {\n\t                        if ($(this).index() === current) $(this).addClass(s.params.bulletActiveClass);\n\t                    });\n\t                } else {\n\t                    s.bullets.eq(current).addClass(s.params.bulletActiveClass);\n\t                }\n\t            }\n\t            if (s.params.paginationType === 'fraction') {\n\t                s.paginationContainer.find('.' + s.params.paginationCurrentClass).text(current + 1);\n\t                s.paginationContainer.find('.' + s.params.paginationTotalClass).text(total);\n\t            }\n\t            if (s.params.paginationType === 'progress') {\n\t                var scale = (current + 1) / total,\n\t                    scaleX = scale,\n\t                    scaleY = 1;\n\t                if (!s.isHorizontal()) {\n\t                    scaleY = scale;\n\t                    scaleX = 1;\n\t                }\n\t                s.paginationContainer.find('.' + s.params.paginationProgressbarClass).transform('translate3d(0,0,0) scaleX(' + scaleX + ') scaleY(' + scaleY + ')').transition(s.params.speed);\n\t            }\n\t            if (s.params.paginationType === 'custom' && s.params.paginationCustomRender) {\n\t                s.paginationContainer.html(s.params.paginationCustomRender(s, current + 1, total));\n\t                s.emit('onPaginationRendered', s, s.paginationContainer[0]);\n\t            }\n\t        }\n\t\n\t        // Next/active buttons\n\t        if (!s.params.loop) {\n\t            if (s.params.prevButton && s.prevButton && s.prevButton.length > 0) {\n\t                if (s.isBeginning) {\n\t                    s.prevButton.addClass(s.params.buttonDisabledClass);\n\t                    if (s.params.a11y && s.a11y) s.a11y.disable(s.prevButton);\n\t                } else {\n\t                    s.prevButton.removeClass(s.params.buttonDisabledClass);\n\t                    if (s.params.a11y && s.a11y) s.a11y.enable(s.prevButton);\n\t                }\n\t            }\n\t            if (s.params.nextButton && s.nextButton && s.nextButton.length > 0) {\n\t                if (s.isEnd) {\n\t                    s.nextButton.addClass(s.params.buttonDisabledClass);\n\t                    if (s.params.a11y && s.a11y) s.a11y.disable(s.nextButton);\n\t                } else {\n\t                    s.nextButton.removeClass(s.params.buttonDisabledClass);\n\t                    if (s.params.a11y && s.a11y) s.a11y.enable(s.nextButton);\n\t                }\n\t            }\n\t        }\n\t    };\n\t\n\t    /*=========================\n\t      Pagination\n\t      ===========================*/\n\t    s.updatePagination = function () {\n\t        if (!s.params.pagination) return;\n\t        if (s.paginationContainer && s.paginationContainer.length > 0) {\n\t            var paginationHTML = '';\n\t            if (s.params.paginationType === 'bullets') {\n\t                var numberOfBullets = s.params.loop ? Math.ceil((s.slides.length - s.loopedSlides * 2) / s.params.slidesPerGroup) : s.snapGrid.length;\n\t                for (var i = 0; i < numberOfBullets; i++) {\n\t                    if (s.params.paginationBulletRender) {\n\t                        paginationHTML += s.params.paginationBulletRender(i, s.params.bulletClass);\n\t                    } else {\n\t                        paginationHTML += '<' + s.params.paginationElement + ' class=\"' + s.params.bulletClass + '\"></' + s.params.paginationElement + '>';\n\t                    }\n\t                }\n\t                s.paginationContainer.html(paginationHTML);\n\t                s.bullets = s.paginationContainer.find('.' + s.params.bulletClass);\n\t                if (s.params.paginationClickable && s.params.a11y && s.a11y) {\n\t                    s.a11y.initPagination();\n\t                }\n\t            }\n\t            if (s.params.paginationType === 'fraction') {\n\t                if (s.params.paginationFractionRender) {\n\t                    paginationHTML = s.params.paginationFractionRender(s, s.params.paginationCurrentClass, s.params.paginationTotalClass);\n\t                } else {\n\t                    paginationHTML = '<span class=\"' + s.params.paginationCurrentClass + '\"></span>' + ' / ' + '<span class=\"' + s.params.paginationTotalClass + '\"></span>';\n\t                }\n\t                s.paginationContainer.html(paginationHTML);\n\t            }\n\t            if (s.params.paginationType === 'progress') {\n\t                if (s.params.paginationProgressRender) {\n\t                    paginationHTML = s.params.paginationProgressRender(s, s.params.paginationProgressbarClass);\n\t                } else {\n\t                    paginationHTML = '<span class=\"' + s.params.paginationProgressbarClass + '\"></span>';\n\t                }\n\t                s.paginationContainer.html(paginationHTML);\n\t            }\n\t            if (s.params.paginationType !== 'custom') {\n\t                s.emit('onPaginationRendered', s, s.paginationContainer[0]);\n\t            }\n\t        }\n\t    };\n\t    /*=========================\n\t      Common update method\n\t      ===========================*/\n\t    s.update = function (updateTranslate) {\n\t        s.updateContainerSize();\n\t        s.updateSlidesSize();\n\t        s.updateProgress();\n\t        s.updatePagination();\n\t        s.updateClasses();\n\t        if (s.params.scrollbar && s.scrollbar) {\n\t            s.scrollbar.set();\n\t        }\n\t        function forceSetTranslate() {\n\t            newTranslate = Math.min(Math.max(s.translate, s.maxTranslate()), s.minTranslate());\n\t            s.setWrapperTranslate(newTranslate);\n\t            s.updateActiveIndex();\n\t            s.updateClasses();\n\t        }\n\t        if (updateTranslate) {\n\t            var translated, newTranslate;\n\t            if (s.controller && s.controller.spline) {\n\t                s.controller.spline = undefined;\n\t            }\n\t            if (s.params.freeMode) {\n\t                forceSetTranslate();\n\t                if (s.params.autoHeight) {\n\t                    s.updateAutoHeight();\n\t                }\n\t            } else {\n\t                if ((s.params.slidesPerView === 'auto' || s.params.slidesPerView > 1) && s.isEnd && !s.params.centeredSlides) {\n\t                    translated = s.slideTo(s.slides.length - 1, 0, false, true);\n\t                } else {\n\t                    translated = s.slideTo(s.activeIndex, 0, false, true);\n\t                }\n\t                if (!translated) {\n\t                    forceSetTranslate();\n\t                }\n\t            }\n\t        } else if (s.params.autoHeight) {\n\t            s.updateAutoHeight();\n\t        }\n\t    };\n\t\n\t    /*=========================\n\t      Resize Handler\n\t      ===========================*/\n\t    s.onResize = function (forceUpdatePagination) {\n\t        //Breakpoints\n\t        if (s.params.breakpoints) {\n\t            s.setBreakpoint();\n\t        }\n\t\n\t        // Disable locks on resize\n\t        var allowSwipeToPrev = s.params.allowSwipeToPrev;\n\t        var allowSwipeToNext = s.params.allowSwipeToNext;\n\t        s.params.allowSwipeToPrev = s.params.allowSwipeToNext = true;\n\t\n\t        s.updateContainerSize();\n\t        s.updateSlidesSize();\n\t        if (s.params.slidesPerView === 'auto' || s.params.freeMode || forceUpdatePagination) s.updatePagination();\n\t        if (s.params.scrollbar && s.scrollbar) {\n\t            s.scrollbar.set();\n\t        }\n\t        if (s.controller && s.controller.spline) {\n\t            s.controller.spline = undefined;\n\t        }\n\t        var slideChangedBySlideTo = false;\n\t        if (s.params.freeMode) {\n\t            var newTranslate = Math.min(Math.max(s.translate, s.maxTranslate()), s.minTranslate());\n\t            s.setWrapperTranslate(newTranslate);\n\t            s.updateActiveIndex();\n\t            s.updateClasses();\n\t\n\t            if (s.params.autoHeight) {\n\t                s.updateAutoHeight();\n\t            }\n\t        } else {\n\t            s.updateClasses();\n\t            if ((s.params.slidesPerView === 'auto' || s.params.slidesPerView > 1) && s.isEnd && !s.params.centeredSlides) {\n\t                slideChangedBySlideTo = s.slideTo(s.slides.length - 1, 0, false, true);\n\t            } else {\n\t                slideChangedBySlideTo = s.slideTo(s.activeIndex, 0, false, true);\n\t            }\n\t        }\n\t        if (s.params.lazyLoading && !slideChangedBySlideTo && s.lazy) {\n\t            s.lazy.load();\n\t        }\n\t        // Return locks after resize\n\t        s.params.allowSwipeToPrev = allowSwipeToPrev;\n\t        s.params.allowSwipeToNext = allowSwipeToNext;\n\t    };\n\t\n\t    /*=========================\n\t      Events\n\t      ===========================*/\n\t\n\t    //Define Touch Events\n\t    var desktopEvents = ['mousedown', 'mousemove', 'mouseup'];\n\t    if (window.navigator.pointerEnabled) desktopEvents = ['pointerdown', 'pointermove', 'pointerup'];else if (window.navigator.msPointerEnabled) desktopEvents = ['MSPointerDown', 'MSPointerMove', 'MSPointerUp'];\n\t    s.touchEvents = {\n\t        start: s.support.touch || !s.params.simulateTouch ? 'touchstart' : desktopEvents[0],\n\t        move: s.support.touch || !s.params.simulateTouch ? 'touchmove' : desktopEvents[1],\n\t        end: s.support.touch || !s.params.simulateTouch ? 'touchend' : desktopEvents[2]\n\t    };\n\t\n\t    // WP8 Touch Events Fix\n\t    if (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) {\n\t        (s.params.touchEventsTarget === 'container' ? s.container : s.wrapper).addClass('swiper-wp8-' + s.params.direction);\n\t    }\n\t\n\t    // Attach/detach events\n\t    s.initEvents = function (detach) {\n\t        var actionDom = detach ? 'off' : 'on';\n\t        var action = detach ? 'removeEventListener' : 'addEventListener';\n\t        var touchEventsTarget = s.params.touchEventsTarget === 'container' ? s.container[0] : s.wrapper[0];\n\t        var target = s.support.touch ? touchEventsTarget : document;\n\t\n\t        var moveCapture = s.params.nested ? true : false;\n\t\n\t        //Touch Events\n\t        if (s.browser.ie) {\n\t            touchEventsTarget[action](s.touchEvents.start, s.onTouchStart, false);\n\t            target[action](s.touchEvents.move, s.onTouchMove, moveCapture);\n\t            target[action](s.touchEvents.end, s.onTouchEnd, false);\n\t        } else {\n\t            if (s.support.touch) {\n\t                touchEventsTarget[action](s.touchEvents.start, s.onTouchStart, false);\n\t                touchEventsTarget[action](s.touchEvents.move, s.onTouchMove, moveCapture);\n\t                touchEventsTarget[action](s.touchEvents.end, s.onTouchEnd, false);\n\t            }\n\t            if (params.simulateTouch && !s.device.ios && !s.device.android) {\n\t                touchEventsTarget[action]('mousedown', s.onTouchStart, false);\n\t                document[action]('mousemove', s.onTouchMove, moveCapture);\n\t                document[action]('mouseup', s.onTouchEnd, false);\n\t            }\n\t        }\n\t        window[action]('resize', s.onResize);\n\t\n\t        // Next, Prev, Index\n\t        if (s.params.nextButton && s.nextButton && s.nextButton.length > 0) {\n\t            s.nextButton[actionDom]('click', s.onClickNext);\n\t            if (s.params.a11y && s.a11y) s.nextButton[actionDom]('keydown', s.a11y.onEnterKey);\n\t        }\n\t        if (s.params.prevButton && s.prevButton && s.prevButton.length > 0) {\n\t            s.prevButton[actionDom]('click', s.onClickPrev);\n\t            if (s.params.a11y && s.a11y) s.prevButton[actionDom]('keydown', s.a11y.onEnterKey);\n\t        }\n\t        if (s.params.pagination && s.params.paginationClickable) {\n\t            s.paginationContainer[actionDom]('click', '.' + s.params.bulletClass, s.onClickIndex);\n\t            if (s.params.a11y && s.a11y) s.paginationContainer[actionDom]('keydown', '.' + s.params.bulletClass, s.a11y.onEnterKey);\n\t        }\n\t\n\t        // Prevent Links Clicks\n\t        if (s.params.preventClicks || s.params.preventClicksPropagation) touchEventsTarget[action]('click', s.preventClicks, true);\n\t    };\n\t    s.attachEvents = function () {\n\t        s.initEvents();\n\t    };\n\t    s.detachEvents = function () {\n\t        s.initEvents(true);\n\t    };\n\t\n\t    /*=========================\n\t      Handle Clicks\n\t      ===========================*/\n\t    // Prevent Clicks\n\t    s.allowClick = true;\n\t    s.preventClicks = function (e) {\n\t        if (!s.allowClick) {\n\t            if (s.params.preventClicks) e.preventDefault();\n\t            if (s.params.preventClicksPropagation && s.animating) {\n\t                e.stopPropagation();\n\t                e.stopImmediatePropagation();\n\t            }\n\t        }\n\t    };\n\t    // Clicks\n\t    s.onClickNext = function (e) {\n\t        e.preventDefault();\n\t        if (s.isEnd && !s.params.loop) return;\n\t        s.slideNext();\n\t    };\n\t    s.onClickPrev = function (e) {\n\t        e.preventDefault();\n\t        if (s.isBeginning && !s.params.loop) return;\n\t        s.slidePrev();\n\t    };\n\t    s.onClickIndex = function (e) {\n\t        e.preventDefault();\n\t        var index = $(this).index() * s.params.slidesPerGroup;\n\t        if (s.params.loop) index = index + s.loopedSlides;\n\t        s.slideTo(index);\n\t    };\n\t\n\t    /*=========================\n\t      Handle Touches\n\t      ===========================*/\n\t    function findElementInEvent(e, selector) {\n\t        var el = $(e.target);\n\t        if (!el.is(selector)) {\n\t            if (typeof selector === 'string') {\n\t                el = el.parents(selector);\n\t            } else if (selector.nodeType) {\n\t                var found;\n\t                el.parents().each(function (index, _el) {\n\t                    if (_el === selector) found = selector;\n\t                });\n\t                if (!found) return undefined;else return selector;\n\t            }\n\t        }\n\t        if (el.length === 0) {\n\t            return undefined;\n\t        }\n\t        return el[0];\n\t    }\n\t    s.updateClickedSlide = function (e) {\n\t        var slide = findElementInEvent(e, '.' + s.params.slideClass);\n\t        var slideFound = false;\n\t        if (slide) {\n\t            for (var i = 0; i < s.slides.length; i++) {\n\t                if (s.slides[i] === slide) slideFound = true;\n\t            }\n\t        }\n\t\n\t        if (slide && slideFound) {\n\t            s.clickedSlide = slide;\n\t            s.clickedIndex = $(slide).index();\n\t        } else {\n\t            s.clickedSlide = undefined;\n\t            s.clickedIndex = undefined;\n\t            return;\n\t        }\n\t        if (s.params.slideToClickedSlide && s.clickedIndex !== undefined && s.clickedIndex !== s.activeIndex) {\n\t            var slideToIndex = s.clickedIndex,\n\t                realIndex,\n\t                duplicatedSlides;\n\t            if (s.params.loop) {\n\t                if (s.animating) return;\n\t                realIndex = $(s.clickedSlide).attr('data-swiper-slide-index');\n\t                if (s.params.centeredSlides) {\n\t                    if (slideToIndex < s.loopedSlides - s.params.slidesPerView / 2 || slideToIndex > s.slides.length - s.loopedSlides + s.params.slidesPerView / 2) {\n\t                        s.fixLoop();\n\t                        slideToIndex = s.wrapper.children('.' + s.params.slideClass + '[data-swiper-slide-index=\"' + realIndex + '\"]:not(.swiper-slide-duplicate)').eq(0).index();\n\t                        setTimeout(function () {\n\t                            s.slideTo(slideToIndex);\n\t                        }, 0);\n\t                    } else {\n\t                        s.slideTo(slideToIndex);\n\t                    }\n\t                } else {\n\t                    if (slideToIndex > s.slides.length - s.params.slidesPerView) {\n\t                        s.fixLoop();\n\t                        slideToIndex = s.wrapper.children('.' + s.params.slideClass + '[data-swiper-slide-index=\"' + realIndex + '\"]:not(.swiper-slide-duplicate)').eq(0).index();\n\t                        setTimeout(function () {\n\t                            s.slideTo(slideToIndex);\n\t                        }, 0);\n\t                    } else {\n\t                        s.slideTo(slideToIndex);\n\t                    }\n\t                }\n\t            } else {\n\t                s.slideTo(slideToIndex);\n\t            }\n\t        }\n\t    };\n\t\n\t    var isTouched,\n\t        isMoved,\n\t        allowTouchCallbacks,\n\t        touchStartTime,\n\t        isScrolling,\n\t        currentTranslate,\n\t        startTranslate,\n\t        allowThresholdMove,\n\t\n\t    // Form elements to match\n\t    formElements = 'input, select, textarea, button',\n\t\n\t    // Last click time\n\t    lastClickTime = Date.now(),\n\t        clickTimeout,\n\t\n\t    //Velocities\n\t    velocities = [],\n\t        allowMomentumBounce;\n\t\n\t    // Animating Flag\n\t    s.animating = false;\n\t\n\t    // Touches information\n\t    s.touches = {\n\t        startX: 0,\n\t        startY: 0,\n\t        currentX: 0,\n\t        currentY: 0,\n\t        diff: 0\n\t    };\n\t\n\t    // Touch handlers\n\t    var isTouchEvent, startMoving;\n\t    s.onTouchStart = function (e) {\n\t        if (e.originalEvent) e = e.originalEvent;\n\t        isTouchEvent = e.type === 'touchstart';\n\t        if (!isTouchEvent && 'which' in e && e.which === 3) return;\n\t        if (s.params.noSwiping && findElementInEvent(e, '.' + s.params.noSwipingClass)) {\n\t            s.allowClick = true;\n\t            return;\n\t        }\n\t        if (s.params.swipeHandler) {\n\t            if (!findElementInEvent(e, s.params.swipeHandler)) return;\n\t        }\n\t\n\t        var startX = s.touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n\t        var startY = s.touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n\t\n\t        // Do NOT start if iOS edge swipe is detected. Otherwise iOS app (UIWebView) cannot swipe-to-go-back anymore\n\t        if (s.device.ios && s.params.iOSEdgeSwipeDetection && startX <= s.params.iOSEdgeSwipeThreshold) {\n\t            return;\n\t        }\n\t\n\t        isTouched = true;\n\t        isMoved = false;\n\t        allowTouchCallbacks = true;\n\t        isScrolling = undefined;\n\t        startMoving = undefined;\n\t        s.touches.startX = startX;\n\t        s.touches.startY = startY;\n\t        touchStartTime = Date.now();\n\t        s.allowClick = true;\n\t        s.updateContainerSize();\n\t        s.swipeDirection = undefined;\n\t        if (s.params.threshold > 0) allowThresholdMove = false;\n\t        if (e.type !== 'touchstart') {\n\t            var preventDefault = true;\n\t            if ($(e.target).is(formElements)) preventDefault = false;\n\t            if (document.activeElement && $(document.activeElement).is(formElements)) {\n\t                document.activeElement.blur();\n\t            }\n\t            if (preventDefault) {\n\t                e.preventDefault();\n\t            }\n\t        }\n\t        s.emit('onTouchStart', s, e);\n\t    };\n\t\n\t    s.onTouchMove = function (e) {\n\t        if (e.originalEvent) e = e.originalEvent;\n\t        if (isTouchEvent && e.type === 'mousemove') return;\n\t        if (e.preventedByNestedSwiper) {\n\t            s.touches.startX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n\t            s.touches.startY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\t            return;\n\t        }\n\t        if (s.params.onlyExternal) {\n\t            // isMoved = true;\n\t            s.allowClick = false;\n\t            if (isTouched) {\n\t                s.touches.startX = s.touches.currentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n\t                s.touches.startY = s.touches.currentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\t                touchStartTime = Date.now();\n\t            }\n\t            return;\n\t        }\n\t        if (isTouchEvent && document.activeElement) {\n\t            if (e.target === document.activeElement && $(e.target).is(formElements)) {\n\t                isMoved = true;\n\t                s.allowClick = false;\n\t                return;\n\t            }\n\t        }\n\t        if (allowTouchCallbacks) {\n\t            s.emit('onTouchMove', s, e);\n\t        }\n\t        if (e.targetTouches && e.targetTouches.length > 1) return;\n\t\n\t        s.touches.currentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n\t        s.touches.currentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n\t\n\t        if (typeof isScrolling === 'undefined') {\n\t            var touchAngle = Math.atan2(Math.abs(s.touches.currentY - s.touches.startY), Math.abs(s.touches.currentX - s.touches.startX)) * 180 / Math.PI;\n\t            isScrolling = s.isHorizontal() ? touchAngle > s.params.touchAngle : 90 - touchAngle > s.params.touchAngle;\n\t        }\n\t        if (isScrolling) {\n\t            s.emit('onTouchMoveOpposite', s, e);\n\t        }\n\t        if (typeof startMoving === 'undefined' && s.browser.ieTouch) {\n\t            if (s.touches.currentX !== s.touches.startX || s.touches.currentY !== s.touches.startY) {\n\t                startMoving = true;\n\t            }\n\t        }\n\t        if (!isTouched) return;\n\t        if (isScrolling) {\n\t            isTouched = false;\n\t            return;\n\t        }\n\t        if (!startMoving && s.browser.ieTouch) {\n\t            return;\n\t        }\n\t        s.allowClick = false;\n\t        s.emit('onSliderMove', s, e);\n\t        e.preventDefault();\n\t        if (s.params.touchMoveStopPropagation && !s.params.nested) {\n\t            e.stopPropagation();\n\t        }\n\t\n\t        if (!isMoved) {\n\t            if (params.loop) {\n\t                s.fixLoop();\n\t            }\n\t            startTranslate = s.getWrapperTranslate();\n\t            s.setWrapperTransition(0);\n\t            if (s.animating) {\n\t                s.wrapper.trigger('webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd');\n\t            }\n\t            if (s.params.autoplay && s.autoplaying) {\n\t                if (s.params.autoplayDisableOnInteraction) {\n\t                    s.stopAutoplay();\n\t                } else {\n\t                    s.pauseAutoplay();\n\t                }\n\t            }\n\t            allowMomentumBounce = false;\n\t            //Grab Cursor\n\t            if (s.params.grabCursor) {\n\t                s.container[0].style.cursor = 'move';\n\t                s.container[0].style.cursor = '-webkit-grabbing';\n\t                s.container[0].style.cursor = '-moz-grabbin';\n\t                s.container[0].style.cursor = 'grabbing';\n\t            }\n\t        }\n\t        isMoved = true;\n\t\n\t        var diff = s.touches.diff = s.isHorizontal() ? s.touches.currentX - s.touches.startX : s.touches.currentY - s.touches.startY;\n\t\n\t        diff = diff * s.params.touchRatio;\n\t        if (s.rtl) diff = -diff;\n\t\n\t        s.swipeDirection = diff > 0 ? 'prev' : 'next';\n\t        currentTranslate = diff + startTranslate;\n\t\n\t        var disableParentSwiper = true;\n\t        if (diff > 0 && currentTranslate > s.minTranslate()) {\n\t            disableParentSwiper = false;\n\t            if (s.params.resistance) currentTranslate = s.minTranslate() - 1 + Math.pow(-s.minTranslate() + startTranslate + diff, s.params.resistanceRatio);\n\t        } else if (diff < 0 && currentTranslate < s.maxTranslate()) {\n\t            disableParentSwiper = false;\n\t            if (s.params.resistance) currentTranslate = s.maxTranslate() + 1 - Math.pow(s.maxTranslate() - startTranslate - diff, s.params.resistanceRatio);\n\t        }\n\t\n\t        if (disableParentSwiper) {\n\t            e.preventedByNestedSwiper = true;\n\t        }\n\t\n\t        // Directions locks\n\t        if (!s.params.allowSwipeToNext && s.swipeDirection === 'next' && currentTranslate < startTranslate) {\n\t            currentTranslate = startTranslate;\n\t        }\n\t        if (!s.params.allowSwipeToPrev && s.swipeDirection === 'prev' && currentTranslate > startTranslate) {\n\t            currentTranslate = startTranslate;\n\t        }\n\t\n\t        if (!s.params.followFinger) return;\n\t\n\t        // Threshold\n\t        if (s.params.threshold > 0) {\n\t            if (Math.abs(diff) > s.params.threshold || allowThresholdMove) {\n\t                if (!allowThresholdMove) {\n\t                    allowThresholdMove = true;\n\t                    s.touches.startX = s.touches.currentX;\n\t                    s.touches.startY = s.touches.currentY;\n\t                    currentTranslate = startTranslate;\n\t                    s.touches.diff = s.isHorizontal() ? s.touches.currentX - s.touches.startX : s.touches.currentY - s.touches.startY;\n\t                    return;\n\t                }\n\t            } else {\n\t                currentTranslate = startTranslate;\n\t                return;\n\t            }\n\t        }\n\t        // Update active index in free mode\n\t        if (s.params.freeMode || s.params.watchSlidesProgress) {\n\t            s.updateActiveIndex();\n\t        }\n\t        if (s.params.freeMode) {\n\t            //Velocity\n\t            if (velocities.length === 0) {\n\t                velocities.push({\n\t                    position: s.touches[s.isHorizontal() ? 'startX' : 'startY'],\n\t                    time: touchStartTime\n\t                });\n\t            }\n\t            velocities.push({\n\t                position: s.touches[s.isHorizontal() ? 'currentX' : 'currentY'],\n\t                time: new window.Date().getTime()\n\t            });\n\t        }\n\t        // Update progress\n\t        s.updateProgress(currentTranslate);\n\t        // Update translate\n\t        s.setWrapperTranslate(currentTranslate);\n\t    };\n\t    s.onTouchEnd = function (e) {\n\t        if (e.originalEvent) e = e.originalEvent;\n\t        if (allowTouchCallbacks) {\n\t            s.emit('onTouchEnd', s, e);\n\t        }\n\t        allowTouchCallbacks = false;\n\t        if (!isTouched) return;\n\t        //Return Grab Cursor\n\t        if (s.params.grabCursor && isMoved && isTouched) {\n\t            s.container[0].style.cursor = 'move';\n\t            s.container[0].style.cursor = '-webkit-grab';\n\t            s.container[0].style.cursor = '-moz-grab';\n\t            s.container[0].style.cursor = 'grab';\n\t        }\n\t\n\t        // Time diff\n\t        var touchEndTime = Date.now();\n\t        var timeDiff = touchEndTime - touchStartTime;\n\t\n\t        // Tap, doubleTap, Click\n\t        if (s.allowClick) {\n\t            s.updateClickedSlide(e);\n\t            s.emit('onTap', s, e);\n\t            if (timeDiff < 300 && touchEndTime - lastClickTime > 300) {\n\t                if (clickTimeout) clearTimeout(clickTimeout);\n\t                clickTimeout = setTimeout(function () {\n\t                    if (!s) return;\n\t                    if (s.params.paginationHide && s.paginationContainer.length > 0 && !$(e.target).hasClass(s.params.bulletClass)) {\n\t                        s.paginationContainer.toggleClass(s.params.paginationHiddenClass);\n\t                    }\n\t                    s.emit('onClick', s, e);\n\t                }, 300);\n\t            }\n\t            if (timeDiff < 300 && touchEndTime - lastClickTime < 300) {\n\t                if (clickTimeout) clearTimeout(clickTimeout);\n\t                s.emit('onDoubleTap', s, e);\n\t            }\n\t        }\n\t\n\t        lastClickTime = Date.now();\n\t        setTimeout(function () {\n\t            if (s) s.allowClick = true;\n\t        }, 0);\n\t\n\t        if (!isTouched || !isMoved || !s.swipeDirection || s.touches.diff === 0 || currentTranslate === startTranslate) {\n\t            isTouched = isMoved = false;\n\t            return;\n\t        }\n\t        isTouched = isMoved = false;\n\t\n\t        var currentPos;\n\t        if (s.params.followFinger) {\n\t            currentPos = s.rtl ? s.translate : -s.translate;\n\t        } else {\n\t            currentPos = -currentTranslate;\n\t        }\n\t        if (s.params.freeMode) {\n\t            if (currentPos < -s.minTranslate()) {\n\t                s.slideTo(s.activeIndex);\n\t                return;\n\t            } else if (currentPos > -s.maxTranslate()) {\n\t                if (s.slides.length < s.snapGrid.length) {\n\t                    s.slideTo(s.snapGrid.length - 1);\n\t                } else {\n\t                    s.slideTo(s.slides.length - 1);\n\t                }\n\t                return;\n\t            }\n\t\n\t            if (s.params.freeModeMomentum) {\n\t                if (velocities.length > 1) {\n\t                    var lastMoveEvent = velocities.pop(),\n\t                        velocityEvent = velocities.pop();\n\t\n\t                    var distance = lastMoveEvent.position - velocityEvent.position;\n\t                    var time = lastMoveEvent.time - velocityEvent.time;\n\t                    s.velocity = distance / time;\n\t                    s.velocity = s.velocity / 2;\n\t                    if (Math.abs(s.velocity) < s.params.freeModeMinimumVelocity) {\n\t                        s.velocity = 0;\n\t                    }\n\t                    // this implies that the user stopped moving a finger then released.\n\t                    // There would be no events with distance zero, so the last event is stale.\n\t                    if (time > 150 || new window.Date().getTime() - lastMoveEvent.time > 300) {\n\t                        s.velocity = 0;\n\t                    }\n\t                } else {\n\t                    s.velocity = 0;\n\t                }\n\t\n\t                velocities.length = 0;\n\t                var momentumDuration = 1000 * s.params.freeModeMomentumRatio;\n\t                var momentumDistance = s.velocity * momentumDuration;\n\t\n\t                var newPosition = s.translate + momentumDistance;\n\t                if (s.rtl) newPosition = -newPosition;\n\t                var doBounce = false;\n\t                var afterBouncePosition;\n\t                var bounceAmount = Math.abs(s.velocity) * 20 * s.params.freeModeMomentumBounceRatio;\n\t                if (newPosition < s.maxTranslate()) {\n\t                    if (s.params.freeModeMomentumBounce) {\n\t                        if (newPosition + s.maxTranslate() < -bounceAmount) {\n\t                            newPosition = s.maxTranslate() - bounceAmount;\n\t                        }\n\t                        afterBouncePosition = s.maxTranslate();\n\t                        doBounce = true;\n\t                        allowMomentumBounce = true;\n\t                    } else {\n\t                        newPosition = s.maxTranslate();\n\t                    }\n\t                } else if (newPosition > s.minTranslate()) {\n\t                    if (s.params.freeModeMomentumBounce) {\n\t                        if (newPosition - s.minTranslate() > bounceAmount) {\n\t                            newPosition = s.minTranslate() + bounceAmount;\n\t                        }\n\t                        afterBouncePosition = s.minTranslate();\n\t                        doBounce = true;\n\t                        allowMomentumBounce = true;\n\t                    } else {\n\t                        newPosition = s.minTranslate();\n\t                    }\n\t                } else if (s.params.freeModeSticky) {\n\t                    var j = 0,\n\t                        nextSlide;\n\t                    for (j = 0; j < s.snapGrid.length; j += 1) {\n\t                        if (s.snapGrid[j] > -newPosition) {\n\t                            nextSlide = j;\n\t                            break;\n\t                        }\n\t                    }\n\t                    if (Math.abs(s.snapGrid[nextSlide] - newPosition) < Math.abs(s.snapGrid[nextSlide - 1] - newPosition) || s.swipeDirection === 'next') {\n\t                        newPosition = s.snapGrid[nextSlide];\n\t                    } else {\n\t                        newPosition = s.snapGrid[nextSlide - 1];\n\t                    }\n\t                    if (!s.rtl) newPosition = -newPosition;\n\t                }\n\t                //Fix duration\n\t                if (s.velocity !== 0) {\n\t                    if (s.rtl) {\n\t                        momentumDuration = Math.abs((-newPosition - s.translate) / s.velocity);\n\t                    } else {\n\t                        momentumDuration = Math.abs((newPosition - s.translate) / s.velocity);\n\t                    }\n\t                } else if (s.params.freeModeSticky) {\n\t                    s.slideReset();\n\t                    return;\n\t                }\n\t\n\t                if (s.params.freeModeMomentumBounce && doBounce) {\n\t                    s.updateProgress(afterBouncePosition);\n\t                    s.setWrapperTransition(momentumDuration);\n\t                    s.setWrapperTranslate(newPosition);\n\t                    s.onTransitionStart();\n\t                    s.animating = true;\n\t                    s.wrapper.transitionEnd(function () {\n\t                        if (!s || !allowMomentumBounce) return;\n\t                        s.emit('onMomentumBounce', s);\n\t\n\t                        s.setWrapperTransition(s.params.speed);\n\t                        s.setWrapperTranslate(afterBouncePosition);\n\t                        s.wrapper.transitionEnd(function () {\n\t                            if (!s) return;\n\t                            s.onTransitionEnd();\n\t                        });\n\t                    });\n\t                } else if (s.velocity) {\n\t                    s.updateProgress(newPosition);\n\t                    s.setWrapperTransition(momentumDuration);\n\t                    s.setWrapperTranslate(newPosition);\n\t                    s.onTransitionStart();\n\t                    if (!s.animating) {\n\t                        s.animating = true;\n\t                        s.wrapper.transitionEnd(function () {\n\t                            if (!s) return;\n\t                            s.onTransitionEnd();\n\t                        });\n\t                    }\n\t                } else {\n\t                    s.updateProgress(newPosition);\n\t                }\n\t\n\t                s.updateActiveIndex();\n\t            }\n\t            if (!s.params.freeModeMomentum || timeDiff >= s.params.longSwipesMs) {\n\t                s.updateProgress();\n\t                s.updateActiveIndex();\n\t            }\n\t            return;\n\t        }\n\t\n\t        // Find current slide\n\t        var i,\n\t            stopIndex = 0,\n\t            groupSize = s.slidesSizesGrid[0];\n\t        for (i = 0; i < s.slidesGrid.length; i += s.params.slidesPerGroup) {\n\t            if (typeof s.slidesGrid[i + s.params.slidesPerGroup] !== 'undefined') {\n\t                if (currentPos >= s.slidesGrid[i] && currentPos < s.slidesGrid[i + s.params.slidesPerGroup]) {\n\t                    stopIndex = i;\n\t                    groupSize = s.slidesGrid[i + s.params.slidesPerGroup] - s.slidesGrid[i];\n\t                }\n\t            } else {\n\t                if (currentPos >= s.slidesGrid[i]) {\n\t                    stopIndex = i;\n\t                    groupSize = s.slidesGrid[s.slidesGrid.length - 1] - s.slidesGrid[s.slidesGrid.length - 2];\n\t                }\n\t            }\n\t        }\n\t\n\t        // Find current slide size\n\t        var ratio = (currentPos - s.slidesGrid[stopIndex]) / groupSize;\n\t\n\t        if (timeDiff > s.params.longSwipesMs) {\n\t            // Long touches\n\t            if (!s.params.longSwipes) {\n\t                s.slideTo(s.activeIndex);\n\t                return;\n\t            }\n\t            if (s.swipeDirection === 'next') {\n\t                if (ratio >= s.params.longSwipesRatio) s.slideTo(stopIndex + s.params.slidesPerGroup);else s.slideTo(stopIndex);\n\t            }\n\t            if (s.swipeDirection === 'prev') {\n\t                if (ratio > 1 - s.params.longSwipesRatio) s.slideTo(stopIndex + s.params.slidesPerGroup);else s.slideTo(stopIndex);\n\t            }\n\t        } else {\n\t            // Short swipes\n\t            if (!s.params.shortSwipes) {\n\t                s.slideTo(s.activeIndex);\n\t                return;\n\t            }\n\t            if (s.swipeDirection === 'next') {\n\t                s.slideTo(stopIndex + s.params.slidesPerGroup);\n\t            }\n\t            if (s.swipeDirection === 'prev') {\n\t                s.slideTo(stopIndex);\n\t            }\n\t        }\n\t    };\n\t    /*=========================\n\t      Transitions\n\t      ===========================*/\n\t    s._slideTo = function (slideIndex, speed) {\n\t        return s.slideTo(slideIndex, speed, true, true);\n\t    };\n\t    s.slideTo = function (slideIndex, speed, runCallbacks, internal) {\n\t        if (typeof runCallbacks === 'undefined') runCallbacks = true;\n\t        if (typeof slideIndex === 'undefined') slideIndex = 0;\n\t        if (slideIndex < 0) slideIndex = 0;\n\t        s.snapIndex = Math.floor(slideIndex / s.params.slidesPerGroup);\n\t        if (s.snapIndex >= s.snapGrid.length) s.snapIndex = s.snapGrid.length - 1;\n\t\n\t        var translate = -s.snapGrid[s.snapIndex];\n\t        // Stop autoplay\n\t        if (s.params.autoplay && s.autoplaying) {\n\t            if (internal || !s.params.autoplayDisableOnInteraction) {\n\t                s.pauseAutoplay(speed);\n\t            } else {\n\t                s.stopAutoplay();\n\t            }\n\t        }\n\t        // Update progress\n\t        s.updateProgress(translate);\n\t\n\t        // Normalize slideIndex\n\t        for (var i = 0; i < s.slidesGrid.length; i++) {\n\t            if (-Math.floor(translate * 100) >= Math.floor(s.slidesGrid[i] * 100)) {\n\t                slideIndex = i;\n\t            }\n\t        }\n\t\n\t        // Directions locks\n\t        if (!s.params.allowSwipeToNext && translate < s.translate && translate < s.minTranslate()) {\n\t            return false;\n\t        }\n\t        if (!s.params.allowSwipeToPrev && translate > s.translate && translate > s.maxTranslate()) {\n\t            if ((s.activeIndex || 0) !== slideIndex) return false;\n\t        }\n\t\n\t        // Update Index\n\t        if (typeof speed === 'undefined') speed = s.params.speed;\n\t        s.previousIndex = s.activeIndex || 0;\n\t        s.activeIndex = slideIndex;\n\t\n\t        if (s.rtl && -translate === s.translate || !s.rtl && translate === s.translate) {\n\t            // Update Height\n\t            if (s.params.autoHeight) {\n\t                s.updateAutoHeight();\n\t            }\n\t            s.updateClasses();\n\t            if (s.params.effect !== 'slide') {\n\t                s.setWrapperTranslate(translate);\n\t            }\n\t            return false;\n\t        }\n\t        s.updateClasses();\n\t        s.onTransitionStart(runCallbacks);\n\t\n\t        if (speed === 0) {\n\t            s.setWrapperTranslate(translate);\n\t            s.setWrapperTransition(0);\n\t            s.onTransitionEnd(runCallbacks);\n\t        } else {\n\t            s.setWrapperTranslate(translate);\n\t            s.setWrapperTransition(speed);\n\t            if (!s.animating) {\n\t                s.animating = true;\n\t                s.wrapper.transitionEnd(function () {\n\t                    if (!s) return;\n\t                    s.onTransitionEnd(runCallbacks);\n\t                });\n\t            }\n\t        }\n\t\n\t        return true;\n\t    };\n\t\n\t    s.onTransitionStart = function (runCallbacks) {\n\t        if (typeof runCallbacks === 'undefined') runCallbacks = true;\n\t        if (s.params.autoHeight) {\n\t            s.updateAutoHeight();\n\t        }\n\t        if (s.lazy) s.lazy.onTransitionStart();\n\t        if (runCallbacks) {\n\t            s.emit('onTransitionStart', s);\n\t            if (s.activeIndex !== s.previousIndex) {\n\t                s.emit('onSlideChangeStart', s);\n\t                if (s.activeIndex > s.previousIndex) {\n\t                    s.emit('onSlideNextStart', s);\n\t                } else {\n\t                    s.emit('onSlidePrevStart', s);\n\t                }\n\t            }\n\t        }\n\t    };\n\t    s.onTransitionEnd = function (runCallbacks) {\n\t        s.animating = false;\n\t        s.setWrapperTransition(0);\n\t        if (typeof runCallbacks === 'undefined') runCallbacks = true;\n\t        if (s.lazy) s.lazy.onTransitionEnd();\n\t        if (runCallbacks) {\n\t            s.emit('onTransitionEnd', s);\n\t            if (s.activeIndex !== s.previousIndex) {\n\t                s.emit('onSlideChangeEnd', s);\n\t                if (s.activeIndex > s.previousIndex) {\n\t                    s.emit('onSlideNextEnd', s);\n\t                } else {\n\t                    s.emit('onSlidePrevEnd', s);\n\t                }\n\t            }\n\t        }\n\t        if (s.params.hashnav && s.hashnav) {\n\t            s.hashnav.setHash();\n\t        }\n\t    };\n\t    s.slideNext = function (runCallbacks, speed, internal) {\n\t        if (s.params.loop) {\n\t            if (s.animating) return false;\n\t            s.fixLoop();\n\t            var clientLeft = s.container[0].clientLeft;\n\t            return s.slideTo(s.activeIndex + s.params.slidesPerGroup, speed, runCallbacks, internal);\n\t        } else return s.slideTo(s.activeIndex + s.params.slidesPerGroup, speed, runCallbacks, internal);\n\t    };\n\t    s._slideNext = function (speed) {\n\t        return s.slideNext(true, speed, true);\n\t    };\n\t    s.slidePrev = function (runCallbacks, speed, internal) {\n\t        if (s.params.loop) {\n\t            if (s.animating) return false;\n\t            s.fixLoop();\n\t            var clientLeft = s.container[0].clientLeft;\n\t            return s.slideTo(s.activeIndex - 1, speed, runCallbacks, internal);\n\t        } else return s.slideTo(s.activeIndex - 1, speed, runCallbacks, internal);\n\t    };\n\t    s._slidePrev = function (speed) {\n\t        return s.slidePrev(true, speed, true);\n\t    };\n\t    s.slideReset = function (runCallbacks, speed, internal) {\n\t        return s.slideTo(s.activeIndex, speed, runCallbacks);\n\t    };\n\t\n\t    /*=========================\n\t      Translate/transition helpers\n\t      ===========================*/\n\t    s.setWrapperTransition = function (duration, byController) {\n\t        s.wrapper.transition(duration);\n\t        if (s.params.effect !== 'slide' && s.effects[s.params.effect]) {\n\t            s.effects[s.params.effect].setTransition(duration);\n\t        }\n\t        if (s.params.parallax && s.parallax) {\n\t            s.parallax.setTransition(duration);\n\t        }\n\t        if (s.params.scrollbar && s.scrollbar) {\n\t            s.scrollbar.setTransition(duration);\n\t        }\n\t        if (s.params.control && s.controller) {\n\t            s.controller.setTransition(duration, byController);\n\t        }\n\t        s.emit('onSetTransition', s, duration);\n\t    };\n\t    s.setWrapperTranslate = function (translate, updateActiveIndex, byController) {\n\t        var x = 0,\n\t            y = 0,\n\t            z = 0;\n\t        if (s.isHorizontal()) {\n\t            x = s.rtl ? -translate : translate;\n\t        } else {\n\t            y = translate;\n\t        }\n\t\n\t        if (s.params.roundLengths) {\n\t            x = round(x);\n\t            y = round(y);\n\t        }\n\t\n\t        if (!s.params.virtualTranslate) {\n\t            if (s.support.transforms3d) s.wrapper.transform('translate3d(' + x + 'px, ' + y + 'px, ' + z + 'px)');else s.wrapper.transform('translate(' + x + 'px, ' + y + 'px)');\n\t        }\n\t\n\t        s.translate = s.isHorizontal() ? x : y;\n\t\n\t        // Check if we need to update progress\n\t        var progress;\n\t        var translatesDiff = s.maxTranslate() - s.minTranslate();\n\t        if (translatesDiff === 0) {\n\t            progress = 0;\n\t        } else {\n\t            progress = (translate - s.minTranslate()) / translatesDiff;\n\t        }\n\t        if (progress !== s.progress) {\n\t            s.updateProgress(translate);\n\t        }\n\t\n\t        if (updateActiveIndex) s.updateActiveIndex();\n\t        if (s.params.effect !== 'slide' && s.effects[s.params.effect]) {\n\t            s.effects[s.params.effect].setTranslate(s.translate);\n\t        }\n\t        if (s.params.parallax && s.parallax) {\n\t            s.parallax.setTranslate(s.translate);\n\t        }\n\t        if (s.params.scrollbar && s.scrollbar) {\n\t            s.scrollbar.setTranslate(s.translate);\n\t        }\n\t        if (s.params.control && s.controller) {\n\t            s.controller.setTranslate(s.translate, byController);\n\t        }\n\t        s.emit('onSetTranslate', s, s.translate);\n\t    };\n\t\n\t    s.getTranslate = function (el, axis) {\n\t        var matrix, curTransform, curStyle, transformMatrix;\n\t\n\t        // automatic axis detection\n\t        if (typeof axis === 'undefined') {\n\t            axis = 'x';\n\t        }\n\t\n\t        if (s.params.virtualTranslate) {\n\t            return s.rtl ? -s.translate : s.translate;\n\t        }\n\t\n\t        curStyle = window.getComputedStyle(el, null);\n\t        if (window.WebKitCSSMatrix) {\n\t            curTransform = curStyle.transform || curStyle.webkitTransform;\n\t            if (curTransform.split(',').length > 6) {\n\t                curTransform = curTransform.split(', ').map(function (a) {\n\t                    return a.replace(',', '.');\n\t                }).join(', ');\n\t            }\n\t            // Some old versions of Webkit choke when 'none' is passed; pass\n\t            // empty string instead in this case\n\t            transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n\t        } else {\n\t            transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n\t            matrix = transformMatrix.toString().split(',');\n\t        }\n\t\n\t        if (axis === 'x') {\n\t            //Latest Chrome and webkits Fix\n\t            if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41;\n\t            //Crazy IE10 Matrix\n\t            else if (matrix.length === 16) curTransform = parseFloat(matrix[12]);\n\t                //Normal Browsers\n\t                else curTransform = parseFloat(matrix[4]);\n\t        }\n\t        if (axis === 'y') {\n\t            //Latest Chrome and webkits Fix\n\t            if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42;\n\t            //Crazy IE10 Matrix\n\t            else if (matrix.length === 16) curTransform = parseFloat(matrix[13]);\n\t                //Normal Browsers\n\t                else curTransform = parseFloat(matrix[5]);\n\t        }\n\t        if (s.rtl && curTransform) curTransform = -curTransform;\n\t        return curTransform || 0;\n\t    };\n\t    s.getWrapperTranslate = function (axis) {\n\t        if (typeof axis === 'undefined') {\n\t            axis = s.isHorizontal() ? 'x' : 'y';\n\t        }\n\t        return s.getTranslate(s.wrapper[0], axis);\n\t    };\n\t\n\t    /*=========================\n\t      Observer\n\t      ===========================*/\n\t    s.observers = [];\n\t    function initObserver(target, options) {\n\t        options = options || {};\n\t        // create an observer instance\n\t        var ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n\t        var observer = new ObserverFunc(function (mutations) {\n\t            mutations.forEach(function (mutation) {\n\t                s.onResize(true);\n\t                s.emit('onObserverUpdate', s, mutation);\n\t            });\n\t        });\n\t\n\t        observer.observe(target, {\n\t            attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n\t            childList: typeof options.childList === 'undefined' ? true : options.childList,\n\t            characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n\t        });\n\t\n\t        s.observers.push(observer);\n\t    }\n\t    s.initObservers = function () {\n\t        if (s.params.observeParents) {\n\t            var containerParents = s.container.parents();\n\t            for (var i = 0; i < containerParents.length; i++) {\n\t                initObserver(containerParents[i]);\n\t            }\n\t        }\n\t\n\t        // Observe container\n\t        initObserver(s.container[0], { childList: false });\n\t\n\t        // Observe wrapper\n\t        initObserver(s.wrapper[0], { attributes: false });\n\t    };\n\t    s.disconnectObservers = function () {\n\t        for (var i = 0; i < s.observers.length; i++) {\n\t            s.observers[i].disconnect();\n\t        }\n\t        s.observers = [];\n\t    };\n\t    /*=========================\n\t      Loop\n\t      ===========================*/\n\t    // Create looped slides\n\t    s.createLoop = function () {\n\t        // Remove duplicated slides\n\t        s.wrapper.children('.' + s.params.slideClass + '.' + s.params.slideDuplicateClass).remove();\n\t\n\t        var slides = s.wrapper.children('.' + s.params.slideClass);\n\t\n\t        if (s.params.slidesPerView === 'auto' && !s.params.loopedSlides) s.params.loopedSlides = slides.length;\n\t\n\t        s.loopedSlides = parseInt(s.params.loopedSlides || s.params.slidesPerView, 10);\n\t        s.loopedSlides = s.loopedSlides + s.params.loopAdditionalSlides;\n\t        if (s.loopedSlides > slides.length) {\n\t            s.loopedSlides = slides.length;\n\t        }\n\t\n\t        var prependSlides = [],\n\t            appendSlides = [],\n\t            i;\n\t        slides.each(function (index, el) {\n\t            var slide = $(this);\n\t            if (index < s.loopedSlides) appendSlides.push(el);\n\t            if (index < slides.length && index >= slides.length - s.loopedSlides) prependSlides.push(el);\n\t            slide.attr('data-swiper-slide-index', index);\n\t        });\n\t        for (i = 0; i < appendSlides.length; i++) {\n\t            s.wrapper.append($(appendSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass));\n\t        }\n\t        for (i = prependSlides.length - 1; i >= 0; i--) {\n\t            s.wrapper.prepend($(prependSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass));\n\t        }\n\t    };\n\t    s.destroyLoop = function () {\n\t        s.wrapper.children('.' + s.params.slideClass + '.' + s.params.slideDuplicateClass).remove();\n\t        s.slides.removeAttr('data-swiper-slide-index');\n\t    };\n\t    s.reLoop = function (updatePosition) {\n\t        var oldIndex = s.activeIndex - s.loopedSlides;\n\t        s.destroyLoop();\n\t        s.createLoop();\n\t        s.updateSlidesSize();\n\t        if (updatePosition) {\n\t            s.slideTo(oldIndex + s.loopedSlides, 0, false);\n\t        }\n\t    };\n\t    s.fixLoop = function () {\n\t        var newIndex;\n\t        //Fix For Negative Oversliding\n\t        if (s.activeIndex < s.loopedSlides) {\n\t            newIndex = s.slides.length - s.loopedSlides * 3 + s.activeIndex;\n\t            newIndex = newIndex + s.loopedSlides;\n\t            s.slideTo(newIndex, 0, false, true);\n\t        }\n\t        //Fix For Positive Oversliding\n\t        else if (s.params.slidesPerView === 'auto' && s.activeIndex >= s.loopedSlides * 2 || s.activeIndex > s.slides.length - s.params.slidesPerView * 2) {\n\t                newIndex = -s.slides.length + s.activeIndex + s.loopedSlides;\n\t                newIndex = newIndex + s.loopedSlides;\n\t                s.slideTo(newIndex, 0, false, true);\n\t            }\n\t    };\n\t    /*=========================\n\t      Append/Prepend/Remove Slides\n\t      ===========================*/\n\t    s.appendSlide = function (slides) {\n\t        if (s.params.loop) {\n\t            s.destroyLoop();\n\t        }\n\t        if ((typeof slides === 'undefined' ? 'undefined' : _typeof(slides)) === 'object' && slides.length) {\n\t            for (var i = 0; i < slides.length; i++) {\n\t                if (slides[i]) s.wrapper.append(slides[i]);\n\t            }\n\t        } else {\n\t            s.wrapper.append(slides);\n\t        }\n\t        if (s.params.loop) {\n\t            s.createLoop();\n\t        }\n\t        if (!(s.params.observer && s.support.observer)) {\n\t            s.update(true);\n\t        }\n\t    };\n\t    s.prependSlide = function (slides) {\n\t        if (s.params.loop) {\n\t            s.destroyLoop();\n\t        }\n\t        var newActiveIndex = s.activeIndex + 1;\n\t        if ((typeof slides === 'undefined' ? 'undefined' : _typeof(slides)) === 'object' && slides.length) {\n\t            for (var i = 0; i < slides.length; i++) {\n\t                if (slides[i]) s.wrapper.prepend(slides[i]);\n\t            }\n\t            newActiveIndex = s.activeIndex + slides.length;\n\t        } else {\n\t            s.wrapper.prepend(slides);\n\t        }\n\t        if (s.params.loop) {\n\t            s.createLoop();\n\t        }\n\t        if (!(s.params.observer && s.support.observer)) {\n\t            s.update(true);\n\t        }\n\t        s.slideTo(newActiveIndex, 0, false);\n\t    };\n\t    s.removeSlide = function (slidesIndexes) {\n\t        if (s.params.loop) {\n\t            s.destroyLoop();\n\t            s.slides = s.wrapper.children('.' + s.params.slideClass);\n\t        }\n\t        var newActiveIndex = s.activeIndex,\n\t            indexToRemove;\n\t        if ((typeof slidesIndexes === 'undefined' ? 'undefined' : _typeof(slidesIndexes)) === 'object' && slidesIndexes.length) {\n\t            for (var i = 0; i < slidesIndexes.length; i++) {\n\t                indexToRemove = slidesIndexes[i];\n\t                if (s.slides[indexToRemove]) s.slides.eq(indexToRemove).remove();\n\t                if (indexToRemove < newActiveIndex) newActiveIndex--;\n\t            }\n\t            newActiveIndex = Math.max(newActiveIndex, 0);\n\t        } else {\n\t            indexToRemove = slidesIndexes;\n\t            if (s.slides[indexToRemove]) s.slides.eq(indexToRemove).remove();\n\t            if (indexToRemove < newActiveIndex) newActiveIndex--;\n\t            newActiveIndex = Math.max(newActiveIndex, 0);\n\t        }\n\t\n\t        if (s.params.loop) {\n\t            s.createLoop();\n\t        }\n\t\n\t        if (!(s.params.observer && s.support.observer)) {\n\t            s.update(true);\n\t        }\n\t        if (s.params.loop) {\n\t            s.slideTo(newActiveIndex + s.loopedSlides, 0, false);\n\t        } else {\n\t            s.slideTo(newActiveIndex, 0, false);\n\t        }\n\t    };\n\t    s.removeAllSlides = function () {\n\t        var slidesIndexes = [];\n\t        for (var i = 0; i < s.slides.length; i++) {\n\t            slidesIndexes.push(i);\n\t        }\n\t        s.removeSlide(slidesIndexes);\n\t    };\n\t\n\t    /*=========================\n\t      Effects\n\t      ===========================*/\n\t    s.effects = {\n\t        fade: {\n\t            setTranslate: function setTranslate() {\n\t                for (var i = 0; i < s.slides.length; i++) {\n\t                    var slide = s.slides.eq(i);\n\t                    var offset = slide[0].swiperSlideOffset;\n\t                    var tx = -offset;\n\t                    if (!s.params.virtualTranslate) tx = tx - s.translate;\n\t                    var ty = 0;\n\t                    if (!s.isHorizontal()) {\n\t                        ty = tx;\n\t                        tx = 0;\n\t                    }\n\t                    var slideOpacity = s.params.fade.crossFade ? Math.max(1 - Math.abs(slide[0].progress), 0) : 1 + Math.min(Math.max(slide[0].progress, -1), 0);\n\t                    slide.css({\n\t                        opacity: slideOpacity\n\t                    }).transform('translate3d(' + tx + 'px, ' + ty + 'px, 0px)');\n\t                }\n\t            },\n\t            setTransition: function setTransition(duration) {\n\t                s.slides.transition(duration);\n\t                if (s.params.virtualTranslate && duration !== 0) {\n\t                    var eventTriggered = false;\n\t                    s.slides.transitionEnd(function () {\n\t                        if (eventTriggered) return;\n\t                        if (!s) return;\n\t                        eventTriggered = true;\n\t                        s.animating = false;\n\t                        var triggerEvents = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'];\n\t                        for (var i = 0; i < triggerEvents.length; i++) {\n\t                            s.wrapper.trigger(triggerEvents[i]);\n\t                        }\n\t                    });\n\t                }\n\t            }\n\t        },\n\t        flip: {\n\t            setTranslate: function setTranslate() {\n\t                for (var i = 0; i < s.slides.length; i++) {\n\t                    var slide = s.slides.eq(i);\n\t                    var progress = slide[0].progress;\n\t                    if (s.params.flip.limitRotation) {\n\t                        progress = Math.max(Math.min(slide[0].progress, 1), -1);\n\t                    }\n\t                    var offset = slide[0].swiperSlideOffset;\n\t                    var rotate = -180 * progress,\n\t                        rotateY = rotate,\n\t                        rotateX = 0,\n\t                        tx = -offset,\n\t                        ty = 0;\n\t                    if (!s.isHorizontal()) {\n\t                        ty = tx;\n\t                        tx = 0;\n\t                        rotateX = -rotateY;\n\t                        rotateY = 0;\n\t                    } else if (s.rtl) {\n\t                        rotateY = -rotateY;\n\t                    }\n\t\n\t                    slide[0].style.zIndex = -Math.abs(Math.round(progress)) + s.slides.length;\n\t\n\t                    if (s.params.flip.slideShadows) {\n\t                        //Set shadows\n\t                        var shadowBefore = s.isHorizontal() ? slide.find('.swiper-slide-shadow-left') : slide.find('.swiper-slide-shadow-top');\n\t                        var shadowAfter = s.isHorizontal() ? slide.find('.swiper-slide-shadow-right') : slide.find('.swiper-slide-shadow-bottom');\n\t                        if (shadowBefore.length === 0) {\n\t                            shadowBefore = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'left' : 'top') + '\"></div>');\n\t                            slide.append(shadowBefore);\n\t                        }\n\t                        if (shadowAfter.length === 0) {\n\t                            shadowAfter = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'right' : 'bottom') + '\"></div>');\n\t                            slide.append(shadowAfter);\n\t                        }\n\t                        if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n\t                        if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n\t                    }\n\t\n\t                    slide.transform('translate3d(' + tx + 'px, ' + ty + 'px, 0px) rotateX(' + rotateX + 'deg) rotateY(' + rotateY + 'deg)');\n\t                }\n\t            },\n\t            setTransition: function setTransition(duration) {\n\t                s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\t                if (s.params.virtualTranslate && duration !== 0) {\n\t                    var eventTriggered = false;\n\t                    s.slides.eq(s.activeIndex).transitionEnd(function () {\n\t                        if (eventTriggered) return;\n\t                        if (!s) return;\n\t                        if (!$(this).hasClass(s.params.slideActiveClass)) return;\n\t                        eventTriggered = true;\n\t                        s.animating = false;\n\t                        var triggerEvents = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'];\n\t                        for (var i = 0; i < triggerEvents.length; i++) {\n\t                            s.wrapper.trigger(triggerEvents[i]);\n\t                        }\n\t                    });\n\t                }\n\t            }\n\t        },\n\t        cube: {\n\t            setTranslate: function setTranslate() {\n\t                var wrapperRotate = 0,\n\t                    cubeShadow;\n\t                if (s.params.cube.shadow) {\n\t                    if (s.isHorizontal()) {\n\t                        cubeShadow = s.wrapper.find('.swiper-cube-shadow');\n\t                        if (cubeShadow.length === 0) {\n\t                            cubeShadow = $('<div class=\"swiper-cube-shadow\"></div>');\n\t                            s.wrapper.append(cubeShadow);\n\t                        }\n\t                        cubeShadow.css({ height: s.width + 'px' });\n\t                    } else {\n\t                        cubeShadow = s.container.find('.swiper-cube-shadow');\n\t                        if (cubeShadow.length === 0) {\n\t                            cubeShadow = $('<div class=\"swiper-cube-shadow\"></div>');\n\t                            s.container.append(cubeShadow);\n\t                        }\n\t                    }\n\t                }\n\t                for (var i = 0; i < s.slides.length; i++) {\n\t                    var slide = s.slides.eq(i);\n\t                    var slideAngle = i * 90;\n\t                    var round = Math.floor(slideAngle / 360);\n\t                    if (s.rtl) {\n\t                        slideAngle = -slideAngle;\n\t                        round = Math.floor(-slideAngle / 360);\n\t                    }\n\t                    var progress = Math.max(Math.min(slide[0].progress, 1), -1);\n\t                    var tx = 0,\n\t                        ty = 0,\n\t                        tz = 0;\n\t                    if (i % 4 === 0) {\n\t                        tx = -round * 4 * s.size;\n\t                        tz = 0;\n\t                    } else if ((i - 1) % 4 === 0) {\n\t                        tx = 0;\n\t                        tz = -round * 4 * s.size;\n\t                    } else if ((i - 2) % 4 === 0) {\n\t                        tx = s.size + round * 4 * s.size;\n\t                        tz = s.size;\n\t                    } else if ((i - 3) % 4 === 0) {\n\t                        tx = -s.size;\n\t                        tz = 3 * s.size + s.size * 4 * round;\n\t                    }\n\t                    if (s.rtl) {\n\t                        tx = -tx;\n\t                    }\n\t\n\t                    if (!s.isHorizontal()) {\n\t                        ty = tx;\n\t                        tx = 0;\n\t                    }\n\t\n\t                    var transform = 'rotateX(' + (s.isHorizontal() ? 0 : -slideAngle) + 'deg) rotateY(' + (s.isHorizontal() ? slideAngle : 0) + 'deg) translate3d(' + tx + 'px, ' + ty + 'px, ' + tz + 'px)';\n\t                    if (progress <= 1 && progress > -1) {\n\t                        wrapperRotate = i * 90 + progress * 90;\n\t                        if (s.rtl) wrapperRotate = -i * 90 - progress * 90;\n\t                    }\n\t                    slide.transform(transform);\n\t                    if (s.params.cube.slideShadows) {\n\t                        //Set shadows\n\t                        var shadowBefore = s.isHorizontal() ? slide.find('.swiper-slide-shadow-left') : slide.find('.swiper-slide-shadow-top');\n\t                        var shadowAfter = s.isHorizontal() ? slide.find('.swiper-slide-shadow-right') : slide.find('.swiper-slide-shadow-bottom');\n\t                        if (shadowBefore.length === 0) {\n\t                            shadowBefore = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'left' : 'top') + '\"></div>');\n\t                            slide.append(shadowBefore);\n\t                        }\n\t                        if (shadowAfter.length === 0) {\n\t                            shadowAfter = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'right' : 'bottom') + '\"></div>');\n\t                            slide.append(shadowAfter);\n\t                        }\n\t                        if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n\t                        if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n\t                    }\n\t                }\n\t                s.wrapper.css({\n\t                    '-webkit-transform-origin': '50% 50% -' + s.size / 2 + 'px',\n\t                    '-moz-transform-origin': '50% 50% -' + s.size / 2 + 'px',\n\t                    '-ms-transform-origin': '50% 50% -' + s.size / 2 + 'px',\n\t                    'transform-origin': '50% 50% -' + s.size / 2 + 'px'\n\t                });\n\t\n\t                if (s.params.cube.shadow) {\n\t                    if (s.isHorizontal()) {\n\t                        cubeShadow.transform('translate3d(0px, ' + (s.width / 2 + s.params.cube.shadowOffset) + 'px, ' + -s.width / 2 + 'px) rotateX(90deg) rotateZ(0deg) scale(' + s.params.cube.shadowScale + ')');\n\t                    } else {\n\t                        var shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n\t                        var multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n\t                        var scale1 = s.params.cube.shadowScale,\n\t                            scale2 = s.params.cube.shadowScale / multiplier,\n\t                            offset = s.params.cube.shadowOffset;\n\t                        cubeShadow.transform('scale3d(' + scale1 + ', 1, ' + scale2 + ') translate3d(0px, ' + (s.height / 2 + offset) + 'px, ' + -s.height / 2 / scale2 + 'px) rotateX(-90deg)');\n\t                    }\n\t                }\n\t                var zFactor = s.isSafari || s.isUiWebView ? -s.size / 2 : 0;\n\t                s.wrapper.transform('translate3d(0px,0,' + zFactor + 'px) rotateX(' + (s.isHorizontal() ? 0 : wrapperRotate) + 'deg) rotateY(' + (s.isHorizontal() ? -wrapperRotate : 0) + 'deg)');\n\t            },\n\t            setTransition: function setTransition(duration) {\n\t                s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\t                if (s.params.cube.shadow && !s.isHorizontal()) {\n\t                    s.container.find('.swiper-cube-shadow').transition(duration);\n\t                }\n\t            }\n\t        },\n\t        coverflow: {\n\t            setTranslate: function setTranslate() {\n\t                var transform = s.translate;\n\t                var center = s.isHorizontal() ? -transform + s.width / 2 : -transform + s.height / 2;\n\t                var rotate = s.isHorizontal() ? s.params.coverflow.rotate : -s.params.coverflow.rotate;\n\t                var translate = s.params.coverflow.depth;\n\t                //Each slide offset from center\n\t                for (var i = 0, length = s.slides.length; i < length; i++) {\n\t                    var slide = s.slides.eq(i);\n\t                    var slideSize = s.slidesSizesGrid[i];\n\t                    var slideOffset = slide[0].swiperSlideOffset;\n\t                    var offsetMultiplier = (center - slideOffset - slideSize / 2) / slideSize * s.params.coverflow.modifier;\n\t\n\t                    var rotateY = s.isHorizontal() ? rotate * offsetMultiplier : 0;\n\t                    var rotateX = s.isHorizontal() ? 0 : rotate * offsetMultiplier;\n\t                    // var rotateZ = 0\n\t                    var translateZ = -translate * Math.abs(offsetMultiplier);\n\t\n\t                    var translateY = s.isHorizontal() ? 0 : s.params.coverflow.stretch * offsetMultiplier;\n\t                    var translateX = s.isHorizontal() ? s.params.coverflow.stretch * offsetMultiplier : 0;\n\t\n\t                    //Fix for ultra small values\n\t                    if (Math.abs(translateX) < 0.001) translateX = 0;\n\t                    if (Math.abs(translateY) < 0.001) translateY = 0;\n\t                    if (Math.abs(translateZ) < 0.001) translateZ = 0;\n\t                    if (Math.abs(rotateY) < 0.001) rotateY = 0;\n\t                    if (Math.abs(rotateX) < 0.001) rotateX = 0;\n\t\n\t                    var slideTransform = 'translate3d(' + translateX + 'px,' + translateY + 'px,' + translateZ + 'px)  rotateX(' + rotateX + 'deg) rotateY(' + rotateY + 'deg)';\n\t\n\t                    slide.transform(slideTransform);\n\t                    slide[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n\t                    if (s.params.coverflow.slideShadows) {\n\t                        //Set shadows\n\t                        var shadowBefore = s.isHorizontal() ? slide.find('.swiper-slide-shadow-left') : slide.find('.swiper-slide-shadow-top');\n\t                        var shadowAfter = s.isHorizontal() ? slide.find('.swiper-slide-shadow-right') : slide.find('.swiper-slide-shadow-bottom');\n\t                        if (shadowBefore.length === 0) {\n\t                            shadowBefore = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'left' : 'top') + '\"></div>');\n\t                            slide.append(shadowBefore);\n\t                        }\n\t                        if (shadowAfter.length === 0) {\n\t                            shadowAfter = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'right' : 'bottom') + '\"></div>');\n\t                            slide.append(shadowAfter);\n\t                        }\n\t                        if (shadowBefore.length) shadowBefore[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n\t                        if (shadowAfter.length) shadowAfter[0].style.opacity = -offsetMultiplier > 0 ? -offsetMultiplier : 0;\n\t                    }\n\t                }\n\t\n\t                //Set correct perspective for IE10\n\t                if (s.browser.ie) {\n\t                    var ws = s.wrapper[0].style;\n\t                    ws.perspectiveOrigin = center + 'px 50%';\n\t                }\n\t            },\n\t            setTransition: function setTransition(duration) {\n\t                s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n\t            }\n\t        }\n\t    };\n\t\n\t    /*=========================\n\t      Images Lazy Loading\n\t      ===========================*/\n\t    s.lazy = {\n\t        initialImageLoaded: false,\n\t        loadImageInSlide: function loadImageInSlide(index, loadInDuplicate) {\n\t            if (typeof index === 'undefined') return;\n\t            if (typeof loadInDuplicate === 'undefined') loadInDuplicate = true;\n\t            if (s.slides.length === 0) return;\n\t\n\t            var slide = s.slides.eq(index);\n\t            var img = slide.find('.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)');\n\t            if (slide.hasClass('swiper-lazy') && !slide.hasClass('swiper-lazy-loaded') && !slide.hasClass('swiper-lazy-loading')) {\n\t                img = img.add(slide[0]);\n\t            }\n\t            if (img.length === 0) return;\n\t\n\t            img.each(function () {\n\t                var _img = $(this);\n\t                _img.addClass('swiper-lazy-loading');\n\t                var background = _img.attr('data-background');\n\t                var src = _img.attr('data-src'),\n\t                    srcset = _img.attr('data-srcset');\n\t                s.loadImage(_img[0], src || background, srcset, false, function () {\n\t                    if (background) {\n\t                        _img.css('background-image', 'url(\"' + background + '\")');\n\t                        _img.removeAttr('data-background');\n\t                    } else {\n\t                        if (srcset) {\n\t                            _img.attr('srcset', srcset);\n\t                            _img.removeAttr('data-srcset');\n\t                        }\n\t                        if (src) {\n\t                            _img.attr('src', src);\n\t                            _img.removeAttr('data-src');\n\t                        }\n\t                    }\n\t\n\t                    _img.addClass('swiper-lazy-loaded').removeClass('swiper-lazy-loading');\n\t                    slide.find('.swiper-lazy-preloader, .preloader').remove();\n\t                    if (s.params.loop && loadInDuplicate) {\n\t                        var slideOriginalIndex = slide.attr('data-swiper-slide-index');\n\t                        if (slide.hasClass(s.params.slideDuplicateClass)) {\n\t                            var originalSlide = s.wrapper.children('[data-swiper-slide-index=\"' + slideOriginalIndex + '\"]:not(.' + s.params.slideDuplicateClass + ')');\n\t                            s.lazy.loadImageInSlide(originalSlide.index(), false);\n\t                        } else {\n\t                            var duplicatedSlide = s.wrapper.children('.' + s.params.slideDuplicateClass + '[data-swiper-slide-index=\"' + slideOriginalIndex + '\"]');\n\t                            s.lazy.loadImageInSlide(duplicatedSlide.index(), false);\n\t                        }\n\t                    }\n\t                    s.emit('onLazyImageReady', s, slide[0], _img[0]);\n\t                });\n\t\n\t                s.emit('onLazyImageLoad', s, slide[0], _img[0]);\n\t            });\n\t        },\n\t        load: function load() {\n\t            var i;\n\t            if (s.params.watchSlidesVisibility) {\n\t                s.wrapper.children('.' + s.params.slideVisibleClass).each(function () {\n\t                    s.lazy.loadImageInSlide($(this).index());\n\t                });\n\t            } else {\n\t                if (s.params.slidesPerView > 1) {\n\t                    for (i = s.activeIndex; i < s.activeIndex + s.params.slidesPerView; i++) {\n\t                        if (s.slides[i]) s.lazy.loadImageInSlide(i);\n\t                    }\n\t                } else {\n\t                    s.lazy.loadImageInSlide(s.activeIndex);\n\t                }\n\t            }\n\t            if (s.params.lazyLoadingInPrevNext) {\n\t                if (s.params.slidesPerView > 1 || s.params.lazyLoadingInPrevNextAmount && s.params.lazyLoadingInPrevNextAmount > 1) {\n\t                    var amount = s.params.lazyLoadingInPrevNextAmount;\n\t                    var spv = s.params.slidesPerView;\n\t                    var maxIndex = Math.min(s.activeIndex + spv + Math.max(amount, spv), s.slides.length);\n\t                    var minIndex = Math.max(s.activeIndex - Math.max(spv, amount), 0);\n\t                    // Next Slides\n\t                    for (i = s.activeIndex + s.params.slidesPerView; i < maxIndex; i++) {\n\t                        if (s.slides[i]) s.lazy.loadImageInSlide(i);\n\t                    }\n\t                    // Prev Slides\n\t                    for (i = minIndex; i < s.activeIndex; i++) {\n\t                        if (s.slides[i]) s.lazy.loadImageInSlide(i);\n\t                    }\n\t                } else {\n\t                    var nextSlide = s.wrapper.children('.' + s.params.slideNextClass);\n\t                    if (nextSlide.length > 0) s.lazy.loadImageInSlide(nextSlide.index());\n\t\n\t                    var prevSlide = s.wrapper.children('.' + s.params.slidePrevClass);\n\t                    if (prevSlide.length > 0) s.lazy.loadImageInSlide(prevSlide.index());\n\t                }\n\t            }\n\t        },\n\t        onTransitionStart: function onTransitionStart() {\n\t            if (s.params.lazyLoading) {\n\t                if (s.params.lazyLoadingOnTransitionStart || !s.params.lazyLoadingOnTransitionStart && !s.lazy.initialImageLoaded) {\n\t                    s.lazy.load();\n\t                }\n\t            }\n\t        },\n\t        onTransitionEnd: function onTransitionEnd() {\n\t            if (s.params.lazyLoading && !s.params.lazyLoadingOnTransitionStart) {\n\t                s.lazy.load();\n\t            }\n\t        }\n\t    };\n\t\n\t    /*=========================\n\t      Scrollbar\n\t      ===========================*/\n\t    s.scrollbar = {\n\t        isTouched: false,\n\t        setDragPosition: function setDragPosition(e) {\n\t            var sb = s.scrollbar;\n\t            var x = 0,\n\t                y = 0;\n\t            var translate;\n\t            var pointerPosition = s.isHorizontal() ? e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX || e.clientX : e.type === 'touchstart' || e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY || e.clientY;\n\t            var position = pointerPosition - sb.track.offset()[s.isHorizontal() ? 'left' : 'top'] - sb.dragSize / 2;\n\t            var positionMin = -s.minTranslate() * sb.moveDivider;\n\t            var positionMax = -s.maxTranslate() * sb.moveDivider;\n\t            if (position < positionMin) {\n\t                position = positionMin;\n\t            } else if (position > positionMax) {\n\t                position = positionMax;\n\t            }\n\t            position = -position / sb.moveDivider;\n\t            s.updateProgress(position);\n\t            s.setWrapperTranslate(position, true);\n\t        },\n\t        dragStart: function dragStart(e) {\n\t            var sb = s.scrollbar;\n\t            sb.isTouched = true;\n\t            e.preventDefault();\n\t            e.stopPropagation();\n\t\n\t            sb.setDragPosition(e);\n\t            clearTimeout(sb.dragTimeout);\n\t\n\t            sb.track.transition(0);\n\t            if (s.params.scrollbarHide) {\n\t                sb.track.css('opacity', 1);\n\t            }\n\t            s.wrapper.transition(100);\n\t            sb.drag.transition(100);\n\t            s.emit('onScrollbarDragStart', s);\n\t        },\n\t        dragMove: function dragMove(e) {\n\t            var sb = s.scrollbar;\n\t            if (!sb.isTouched) return;\n\t            if (e.preventDefault) e.preventDefault();else e.returnValue = false;\n\t            sb.setDragPosition(e);\n\t            s.wrapper.transition(0);\n\t            sb.track.transition(0);\n\t            sb.drag.transition(0);\n\t            s.emit('onScrollbarDragMove', s);\n\t        },\n\t        dragEnd: function dragEnd(e) {\n\t            var sb = s.scrollbar;\n\t            if (!sb.isTouched) return;\n\t            sb.isTouched = false;\n\t            if (s.params.scrollbarHide) {\n\t                clearTimeout(sb.dragTimeout);\n\t                sb.dragTimeout = setTimeout(function () {\n\t                    sb.track.css('opacity', 0);\n\t                    sb.track.transition(400);\n\t                }, 1000);\n\t            }\n\t            s.emit('onScrollbarDragEnd', s);\n\t            if (s.params.scrollbarSnapOnRelease) {\n\t                s.slideReset();\n\t            }\n\t        },\n\t        enableDraggable: function enableDraggable() {\n\t            var sb = s.scrollbar;\n\t            var target = s.support.touch ? sb.track : document;\n\t            $(sb.track).on(s.touchEvents.start, sb.dragStart);\n\t            $(target).on(s.touchEvents.move, sb.dragMove);\n\t            $(target).on(s.touchEvents.end, sb.dragEnd);\n\t        },\n\t        disableDraggable: function disableDraggable() {\n\t            var sb = s.scrollbar;\n\t            var target = s.support.touch ? sb.track : document;\n\t            $(sb.track).off(s.touchEvents.start, sb.dragStart);\n\t            $(target).off(s.touchEvents.move, sb.dragMove);\n\t            $(target).off(s.touchEvents.end, sb.dragEnd);\n\t        },\n\t        set: function set() {\n\t            if (!s.params.scrollbar) return;\n\t            var sb = s.scrollbar;\n\t            sb.track = $(s.params.scrollbar);\n\t            if (s.params.uniqueNavElements && typeof s.params.scrollbar === 'string' && sb.track.length > 1 && s.container.find(s.params.scrollbar).length === 1) {\n\t                sb.track = s.container.find(s.params.scrollbar);\n\t            }\n\t            sb.drag = sb.track.find('.swiper-scrollbar-drag');\n\t            if (sb.drag.length === 0) {\n\t                sb.drag = $('<div class=\"swiper-scrollbar-drag\"></div>');\n\t                sb.track.append(sb.drag);\n\t            }\n\t            sb.drag[0].style.width = '';\n\t            sb.drag[0].style.height = '';\n\t            sb.trackSize = s.isHorizontal() ? sb.track[0].offsetWidth : sb.track[0].offsetHeight;\n\t\n\t            sb.divider = s.size / s.virtualSize;\n\t            sb.moveDivider = sb.divider * (sb.trackSize / s.size);\n\t            sb.dragSize = sb.trackSize * sb.divider;\n\t\n\t            if (s.isHorizontal()) {\n\t                sb.drag[0].style.width = sb.dragSize + 'px';\n\t            } else {\n\t                sb.drag[0].style.height = sb.dragSize + 'px';\n\t            }\n\t\n\t            if (sb.divider >= 1) {\n\t                sb.track[0].style.display = 'none';\n\t            } else {\n\t                sb.track[0].style.display = '';\n\t            }\n\t            if (s.params.scrollbarHide) {\n\t                sb.track[0].style.opacity = 0;\n\t            }\n\t        },\n\t        setTranslate: function setTranslate() {\n\t            if (!s.params.scrollbar) return;\n\t            var diff;\n\t            var sb = s.scrollbar;\n\t            var translate = s.translate || 0;\n\t            var newPos;\n\t\n\t            var newSize = sb.dragSize;\n\t            newPos = (sb.trackSize - sb.dragSize) * s.progress;\n\t            if (s.rtl && s.isHorizontal()) {\n\t                newPos = -newPos;\n\t                if (newPos > 0) {\n\t                    newSize = sb.dragSize - newPos;\n\t                    newPos = 0;\n\t                } else if (-newPos + sb.dragSize > sb.trackSize) {\n\t                    newSize = sb.trackSize + newPos;\n\t                }\n\t            } else {\n\t                if (newPos < 0) {\n\t                    newSize = sb.dragSize + newPos;\n\t                    newPos = 0;\n\t                } else if (newPos + sb.dragSize > sb.trackSize) {\n\t                    newSize = sb.trackSize - newPos;\n\t                }\n\t            }\n\t            if (s.isHorizontal()) {\n\t                if (s.support.transforms3d) {\n\t                    sb.drag.transform('translate3d(' + newPos + 'px, 0, 0)');\n\t                } else {\n\t                    sb.drag.transform('translateX(' + newPos + 'px)');\n\t                }\n\t                sb.drag[0].style.width = newSize + 'px';\n\t            } else {\n\t                if (s.support.transforms3d) {\n\t                    sb.drag.transform('translate3d(0px, ' + newPos + 'px, 0)');\n\t                } else {\n\t                    sb.drag.transform('translateY(' + newPos + 'px)');\n\t                }\n\t                sb.drag[0].style.height = newSize + 'px';\n\t            }\n\t            if (s.params.scrollbarHide) {\n\t                clearTimeout(sb.timeout);\n\t                sb.track[0].style.opacity = 1;\n\t                sb.timeout = setTimeout(function () {\n\t                    sb.track[0].style.opacity = 0;\n\t                    sb.track.transition(400);\n\t                }, 1000);\n\t            }\n\t        },\n\t        setTransition: function setTransition(duration) {\n\t            if (!s.params.scrollbar) return;\n\t            s.scrollbar.drag.transition(duration);\n\t        }\n\t    };\n\t\n\t    /*=========================\n\t      Controller\n\t      ===========================*/\n\t    s.controller = {\n\t        LinearSpline: function LinearSpline(x, y) {\n\t            this.x = x;\n\t            this.y = y;\n\t            this.lastIndex = x.length - 1;\n\t            // Given an x value (x2), return the expected y2 value:\n\t            // (x1,y1) is the known point before given value,\n\t            // (x3,y3) is the known point after given value.\n\t            var i1, i3;\n\t            var l = this.x.length;\n\t\n\t            this.interpolate = function (x2) {\n\t                if (!x2) return 0;\n\t\n\t                // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n\t                i3 = binarySearch(this.x, x2);\n\t                i1 = i3 - 1;\n\t\n\t                // We have our indexes i1 & i3, so we can calculate already:\n\t                // y2 := ((x2x1)  (y3y1))  (x3x1) + y1\n\t                return (x2 - this.x[i1]) * (this.y[i3] - this.y[i1]) / (this.x[i3] - this.x[i1]) + this.y[i1];\n\t            };\n\t\n\t            var binarySearch = function () {\n\t                var maxIndex, minIndex, guess;\n\t                return function (array, val) {\n\t                    minIndex = -1;\n\t                    maxIndex = array.length;\n\t                    while (maxIndex - minIndex > 1) {\n\t                        if (array[guess = maxIndex + minIndex >> 1] <= val) {\n\t                            minIndex = guess;\n\t                        } else {\n\t                            maxIndex = guess;\n\t                        }\n\t                    }return maxIndex;\n\t                };\n\t            }();\n\t        },\n\t        //xxx: for now i will just save one spline function to to\n\t        getInterpolateFunction: function getInterpolateFunction(c) {\n\t            if (!s.controller.spline) s.controller.spline = s.params.loop ? new s.controller.LinearSpline(s.slidesGrid, c.slidesGrid) : new s.controller.LinearSpline(s.snapGrid, c.snapGrid);\n\t        },\n\t        setTranslate: function setTranslate(translate, byController) {\n\t            var controlled = s.params.control;\n\t            var multiplier, controlledTranslate;\n\t            function setControlledTranslate(c) {\n\t                // this will create an Interpolate function based on the snapGrids\n\t                // x is the Grid of the scrolled scroller and y will be the controlled scroller\n\t                // it makes sense to create this only once and recall it for the interpolation\n\t                // the function does a lot of value caching for performance\n\t                translate = c.rtl && c.params.direction === 'horizontal' ? -s.translate : s.translate;\n\t                if (s.params.controlBy === 'slide') {\n\t                    s.controller.getInterpolateFunction(c);\n\t                    // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n\t                    // but it did not work out\n\t                    controlledTranslate = -s.controller.spline.interpolate(-translate);\n\t                }\n\t\n\t                if (!controlledTranslate || s.params.controlBy === 'container') {\n\t                    multiplier = (c.maxTranslate() - c.minTranslate()) / (s.maxTranslate() - s.minTranslate());\n\t                    controlledTranslate = (translate - s.minTranslate()) * multiplier + c.minTranslate();\n\t                }\n\t\n\t                if (s.params.controlInverse) {\n\t                    controlledTranslate = c.maxTranslate() - controlledTranslate;\n\t                }\n\t                c.updateProgress(controlledTranslate);\n\t                c.setWrapperTranslate(controlledTranslate, false, s);\n\t                c.updateActiveIndex();\n\t            }\n\t            if (s.isArray(controlled)) {\n\t                for (var i = 0; i < controlled.length; i++) {\n\t                    if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n\t                        setControlledTranslate(controlled[i]);\n\t                    }\n\t                }\n\t            } else if (controlled instanceof Swiper && byController !== controlled) {\n\t\n\t                setControlledTranslate(controlled);\n\t            }\n\t        },\n\t        setTransition: function setTransition(duration, byController) {\n\t            var controlled = s.params.control;\n\t            var i;\n\t            function setControlledTransition(c) {\n\t                c.setWrapperTransition(duration, s);\n\t                if (duration !== 0) {\n\t                    c.onTransitionStart();\n\t                    c.wrapper.transitionEnd(function () {\n\t                        if (!controlled) return;\n\t                        if (c.params.loop && s.params.controlBy === 'slide') {\n\t                            c.fixLoop();\n\t                        }\n\t                        c.onTransitionEnd();\n\t                    });\n\t                }\n\t            }\n\t            if (s.isArray(controlled)) {\n\t                for (i = 0; i < controlled.length; i++) {\n\t                    if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n\t                        setControlledTransition(controlled[i]);\n\t                    }\n\t                }\n\t            } else if (controlled instanceof Swiper && byController !== controlled) {\n\t                setControlledTransition(controlled);\n\t            }\n\t        }\n\t    };\n\t\n\t    /*=========================\n\t      Parallax\n\t      ===========================*/\n\t    function setParallaxTransform(el, progress) {\n\t        el = $(el);\n\t        var p, pX, pY;\n\t        var rtlFactor = s.rtl ? -1 : 1;\n\t\n\t        p = el.attr('data-swiper-parallax') || '0';\n\t        pX = el.attr('data-swiper-parallax-x');\n\t        pY = el.attr('data-swiper-parallax-y');\n\t        if (pX || pY) {\n\t            pX = pX || '0';\n\t            pY = pY || '0';\n\t        } else {\n\t            if (s.isHorizontal()) {\n\t                pX = p;\n\t                pY = '0';\n\t            } else {\n\t                pY = p;\n\t                pX = '0';\n\t            }\n\t        }\n\t\n\t        if (pX.indexOf('%') >= 0) {\n\t            pX = parseInt(pX, 10) * progress * rtlFactor + '%';\n\t        } else {\n\t            pX = pX * progress * rtlFactor + 'px';\n\t        }\n\t        if (pY.indexOf('%') >= 0) {\n\t            pY = parseInt(pY, 10) * progress + '%';\n\t        } else {\n\t            pY = pY * progress + 'px';\n\t        }\n\t\n\t        el.transform('translate3d(' + pX + ', ' + pY + ',0px)');\n\t    }\n\t    s.parallax = {\n\t        setTranslate: function setTranslate() {\n\t            s.container.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function () {\n\t                setParallaxTransform(this, s.progress);\n\t            });\n\t            s.slides.each(function () {\n\t                var slide = $(this);\n\t                slide.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function () {\n\t                    var progress = Math.min(Math.max(slide[0].progress, -1), 1);\n\t                    setParallaxTransform(this, progress);\n\t                });\n\t            });\n\t        },\n\t        setTransition: function setTransition(duration) {\n\t            if (typeof duration === 'undefined') duration = s.params.speed;\n\t            s.container.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function () {\n\t                var el = $(this);\n\t                var parallaxDuration = parseInt(el.attr('data-swiper-parallax-duration'), 10) || duration;\n\t                if (duration === 0) parallaxDuration = 0;\n\t                el.transition(parallaxDuration);\n\t            });\n\t        }\n\t    };\n\t\n\t    /*=========================\n\t      Plugins API. Collect all and init all plugins\n\t      ===========================*/\n\t    s._plugins = [];\n\t    for (var plugin in s.plugins) {\n\t        var p = s.plugins[plugin](s, s.params[plugin]);\n\t        if (p) s._plugins.push(p);\n\t    }\n\t    // Method to call all plugins event/method\n\t    s.callPlugins = function (eventName) {\n\t        for (var i = 0; i < s._plugins.length; i++) {\n\t            if (eventName in s._plugins[i]) {\n\t                s._plugins[i][eventName](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n\t            }\n\t        }\n\t    };\n\t\n\t    /*=========================\n\t      Events/Callbacks/Plugins Emitter\n\t      ===========================*/\n\t    function normalizeEventName(eventName) {\n\t        if (eventName.indexOf('on') !== 0) {\n\t            if (eventName[0] !== eventName[0].toUpperCase()) {\n\t                eventName = 'on' + eventName[0].toUpperCase() + eventName.substring(1);\n\t            } else {\n\t                eventName = 'on' + eventName;\n\t            }\n\t        }\n\t        return eventName;\n\t    }\n\t    s.emitterEventListeners = {};\n\t    s.emit = function (eventName) {\n\t        // Trigger callbacks\n\t        if (s.params[eventName]) {\n\t            s.params[eventName](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n\t        }\n\t        var i;\n\t        // Trigger events\n\t        if (s.emitterEventListeners[eventName]) {\n\t            for (i = 0; i < s.emitterEventListeners[eventName].length; i++) {\n\t                s.emitterEventListeners[eventName][i](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n\t            }\n\t        }\n\t        // Trigger plugins\n\t        if (s.callPlugins) s.callPlugins(eventName, arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n\t    };\n\t    s.on = function (eventName, handler) {\n\t        eventName = normalizeEventName(eventName);\n\t        if (!s.emitterEventListeners[eventName]) s.emitterEventListeners[eventName] = [];\n\t        s.emitterEventListeners[eventName].push(handler);\n\t        return s;\n\t    };\n\t    s.off = function (eventName, handler) {\n\t        var i;\n\t        eventName = normalizeEventName(eventName);\n\t        if (typeof handler === 'undefined') {\n\t            // Remove all handlers for such event\n\t            s.emitterEventListeners[eventName] = [];\n\t            return s;\n\t        }\n\t        if (!s.emitterEventListeners[eventName] || s.emitterEventListeners[eventName].length === 0) return;\n\t        for (i = 0; i < s.emitterEventListeners[eventName].length; i++) {\n\t            if (s.emitterEventListeners[eventName][i] === handler) s.emitterEventListeners[eventName].splice(i, 1);\n\t        }\n\t        return s;\n\t    };\n\t    s.once = function (eventName, handler) {\n\t        eventName = normalizeEventName(eventName);\n\t        var _handler = function _handler() {\n\t            handler(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);\n\t            s.off(eventName, _handler);\n\t        };\n\t        s.on(eventName, _handler);\n\t        return s;\n\t    };\n\t\n\t    // Accessibility tools\n\t    s.a11y = {\n\t        makeFocusable: function makeFocusable($el) {\n\t            $el.attr('tabIndex', '0');\n\t            return $el;\n\t        },\n\t        addRole: function addRole($el, role) {\n\t            $el.attr('role', role);\n\t            return $el;\n\t        },\n\t\n\t        addLabel: function addLabel($el, label) {\n\t            $el.attr('aria-label', label);\n\t            return $el;\n\t        },\n\t\n\t        disable: function disable($el) {\n\t            $el.attr('aria-disabled', true);\n\t            return $el;\n\t        },\n\t\n\t        enable: function enable($el) {\n\t            $el.attr('aria-disabled', false);\n\t            return $el;\n\t        },\n\t\n\t        onEnterKey: function onEnterKey(event) {\n\t            if (event.keyCode !== 13) return;\n\t            if ($(event.target).is(s.params.nextButton)) {\n\t                s.onClickNext(event);\n\t                if (s.isEnd) {\n\t                    s.a11y.notify(s.params.lastSlideMessage);\n\t                } else {\n\t                    s.a11y.notify(s.params.nextSlideMessage);\n\t                }\n\t            } else if ($(event.target).is(s.params.prevButton)) {\n\t                s.onClickPrev(event);\n\t                if (s.isBeginning) {\n\t                    s.a11y.notify(s.params.firstSlideMessage);\n\t                } else {\n\t                    s.a11y.notify(s.params.prevSlideMessage);\n\t                }\n\t            }\n\t            if ($(event.target).is('.' + s.params.bulletClass)) {\n\t                $(event.target)[0].click();\n\t            }\n\t        },\n\t\n\t        liveRegion: $('<span class=\"swiper-notification\" aria-live=\"assertive\" aria-atomic=\"true\"></span>'),\n\t\n\t        notify: function notify(message) {\n\t            var notification = s.a11y.liveRegion;\n\t            if (notification.length === 0) return;\n\t            notification.html('');\n\t            notification.html(message);\n\t        },\n\t        init: function init() {\n\t            // Setup accessibility\n\t            if (s.params.nextButton && s.nextButton && s.nextButton.length > 0) {\n\t                s.a11y.makeFocusable(s.nextButton);\n\t                s.a11y.addRole(s.nextButton, 'button');\n\t                s.a11y.addLabel(s.nextButton, s.params.nextSlideMessage);\n\t            }\n\t            if (s.params.prevButton && s.prevButton && s.prevButton.length > 0) {\n\t                s.a11y.makeFocusable(s.prevButton);\n\t                s.a11y.addRole(s.prevButton, 'button');\n\t                s.a11y.addLabel(s.prevButton, s.params.prevSlideMessage);\n\t            }\n\t\n\t            $(s.container).append(s.a11y.liveRegion);\n\t        },\n\t        initPagination: function initPagination() {\n\t            if (s.params.pagination && s.params.paginationClickable && s.bullets && s.bullets.length) {\n\t                s.bullets.each(function () {\n\t                    var bullet = $(this);\n\t                    s.a11y.makeFocusable(bullet);\n\t                    s.a11y.addRole(bullet, 'button');\n\t                    s.a11y.addLabel(bullet, s.params.paginationBulletMessage.replace(/{{index}}/, bullet.index() + 1));\n\t                });\n\t            }\n\t        },\n\t        destroy: function destroy() {\n\t            if (s.a11y.liveRegion && s.a11y.liveRegion.length > 0) s.a11y.liveRegion.remove();\n\t        }\n\t    };\n\t\n\t    /*=========================\n\t      Init/Destroy\n\t      ===========================*/\n\t    s.init = function () {\n\t        if (s.params.loop) s.createLoop();\n\t        s.updateContainerSize();\n\t        s.updateSlidesSize();\n\t        s.updatePagination();\n\t        if (s.params.scrollbar && s.scrollbar) {\n\t            s.scrollbar.set();\n\t            if (s.params.scrollbarDraggable) {\n\t                s.scrollbar.enableDraggable();\n\t            }\n\t        }\n\t        if (s.params.effect !== 'slide' && s.effects[s.params.effect]) {\n\t            if (!s.params.loop) s.updateProgress();\n\t            s.effects[s.params.effect].setTranslate();\n\t        }\n\t        if (s.params.loop) {\n\t            s.slideTo(s.params.initialSlide + s.loopedSlides, 0, s.params.runCallbacksOnInit);\n\t        } else {\n\t            s.slideTo(s.params.initialSlide, 0, s.params.runCallbacksOnInit);\n\t            if (s.params.initialSlide === 0) {\n\t                if (s.parallax && s.params.parallax) s.parallax.setTranslate();\n\t                if (s.lazy && s.params.lazyLoading) {\n\t                    s.lazy.load();\n\t                    s.lazy.initialImageLoaded = true;\n\t                }\n\t            }\n\t        }\n\t        s.attachEvents();\n\t        if (s.params.observer && s.support.observer) {\n\t            s.initObservers();\n\t        }\n\t        if (s.params.preloadImages && !s.params.lazyLoading) {\n\t            s.preloadImages();\n\t        }\n\t        if (s.params.autoplay) {\n\t            s.startAutoplay();\n\t        }\n\t        if (s.params.keyboardControl) {\n\t            if (s.enableKeyboardControl) s.enableKeyboardControl();\n\t        }\n\t        if (s.params.mousewheelControl) {\n\t            if (s.enableMousewheelControl) s.enableMousewheelControl();\n\t        }\n\t        if (s.params.hashnav) {\n\t            if (s.hashnav) s.hashnav.init();\n\t        }\n\t        if (s.params.a11y && s.a11y) s.a11y.init();\n\t        s.emit('onInit', s);\n\t    };\n\t\n\t    // Cleanup dynamic styles\n\t    s.cleanupStyles = function () {\n\t        // Container\n\t        s.container.removeClass(s.classNames.join(' ')).removeAttr('style');\n\t\n\t        // Wrapper\n\t        s.wrapper.removeAttr('style');\n\t\n\t        // Slides\n\t        if (s.slides && s.slides.length) {\n\t            s.slides.removeClass([s.params.slideVisibleClass, s.params.slideActiveClass, s.params.slideNextClass, s.params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-column').removeAttr('data-swiper-row');\n\t        }\n\t\n\t        // Pagination/Bullets\n\t        if (s.paginationContainer && s.paginationContainer.length) {\n\t            s.paginationContainer.removeClass(s.params.paginationHiddenClass);\n\t        }\n\t        if (s.bullets && s.bullets.length) {\n\t            s.bullets.removeClass(s.params.bulletActiveClass);\n\t        }\n\t\n\t        // Buttons\n\t        if (s.params.prevButton) $(s.params.prevButton).removeClass(s.params.buttonDisabledClass);\n\t        if (s.params.nextButton) $(s.params.nextButton).removeClass(s.params.buttonDisabledClass);\n\t\n\t        // Scrollbar\n\t        if (s.params.scrollbar && s.scrollbar) {\n\t            if (s.scrollbar.track && s.scrollbar.track.length) s.scrollbar.track.removeAttr('style');\n\t            if (s.scrollbar.drag && s.scrollbar.drag.length) s.scrollbar.drag.removeAttr('style');\n\t        }\n\t    };\n\t\n\t    // Destroy\n\t    s.destroy = function (deleteInstance, cleanupStyles) {\n\t        // Detach evebts\n\t        s.detachEvents();\n\t        // Stop autoplay\n\t        s.stopAutoplay();\n\t        // Disable draggable\n\t        if (s.params.scrollbar && s.scrollbar) {\n\t            if (s.params.scrollbarDraggable) {\n\t                s.scrollbar.disableDraggable();\n\t            }\n\t        }\n\t        // Destroy loop\n\t        if (s.params.loop) {\n\t            s.destroyLoop();\n\t        }\n\t        // Cleanup styles\n\t        if (cleanupStyles) {\n\t            s.cleanupStyles();\n\t        }\n\t        // Disconnect observer\n\t        s.disconnectObservers();\n\t        // Disable keyboard/mousewheel\n\t        if (s.params.keyboardControl) {\n\t            if (s.disableKeyboardControl) s.disableKeyboardControl();\n\t        }\n\t        if (s.params.mousewheelControl) {\n\t            if (s.disableMousewheelControl) s.disableMousewheelControl();\n\t        }\n\t        // Disable a11y\n\t        if (s.params.a11y && s.a11y) s.a11y.destroy();\n\t        // Destroy callback\n\t        s.emit('onDestroy');\n\t        // Delete instance\n\t        if (deleteInstance !== false) s = null;\n\t    };\n\t\n\t    s.init();\n\t\n\t    // Return swiper instance\n\t    return s;\n\t};\n\t\n\t/*==================================================\n\t    Prototype\n\t====================================================*/\n\tSwiper.prototype = {\n\t    isSafari: function () {\n\t        var ua = navigator.userAgent.toLowerCase();\n\t        return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n\t    }(),\n\t    isUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),\n\t    isArray: function isArray(arr) {\n\t        return Object.prototype.toString.apply(arr) === '[object Array]';\n\t    },\n\t    /*==================================================\n\t    Browser\n\t    ====================================================*/\n\t    browser: {\n\t        ie: window.navigator.pointerEnabled || window.navigator.msPointerEnabled,\n\t        ieTouch: window.navigator.msPointerEnabled && window.navigator.msMaxTouchPoints > 1 || window.navigator.pointerEnabled && window.navigator.maxTouchPoints > 1\n\t    },\n\t    /*==================================================\n\t    Devices\n\t    ====================================================*/\n\t    device: function () {\n\t        var ua = navigator.userAgent;\n\t        var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n\t        var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n\t        var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n\t        var iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n\t        return {\n\t            ios: ipad || iphone || ipod,\n\t            android: android\n\t        };\n\t    }(),\n\t    /*==================================================\n\t    Feature Detection\n\t    ====================================================*/\n\t    support: {\n\t        touch: window.Modernizr && Modernizr.touch === true || function () {\n\t            return !!('ontouchstart' in window || window.DocumentTouch && document instanceof DocumentTouch);\n\t        }(),\n\t\n\t        transforms3d: window.Modernizr && Modernizr.csstransforms3d === true || function () {\n\t            var div = document.createElement('div').style;\n\t            return 'webkitPerspective' in div || 'MozPerspective' in div || 'OPerspective' in div || 'MsPerspective' in div || 'perspective' in div;\n\t        }(),\n\t\n\t        flexbox: function () {\n\t            var div = document.createElement('div').style;\n\t            var styles = 'alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient'.split(' ');\n\t            for (var i = 0; i < styles.length; i++) {\n\t                if (styles[i] in div) return true;\n\t            }\n\t        }(),\n\t\n\t        observer: function () {\n\t            return 'MutationObserver' in window || 'WebkitMutationObserver' in window;\n\t        }()\n\t    },\n\t    /*==================================================\n\t    Plugins\n\t    ====================================================*/\n\t    plugins: {}\n\t};\n\t\n\texports.default = Framework7;\n\t//# sourceMappingURL=framework7.js.map\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _config = __webpack_require__(4);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _locaStorage = __webpack_require__(1);\n\t\n\tvar _locaStorage2 = _interopRequireDefault(_locaStorage);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar CustomClass = function () {\n\t    function CustomClass() {\n\t        _classCallCheck(this, CustomClass);\n\t    }\n\t\n\t    _createClass(CustomClass, [{\n\t        key: 'getKey',\n\t        value: function getKey(api, key, val) {\n\t            var cacheKeyMaxLen = _config2.default.cacheKeyMaxLen;\n\t\n\t            var res = '' + api;\n\t            Dom7.each(key, function (index, k) {\n\t                var str = '_' + k + '_' + (val[index] || '');\n\t                res += str;\n\t            });\n\t            return res;\n\t        }\n\t    }, {\n\t        key: 'getData',\n\t        value: function getData(key, val) {\n\t            var obj = {};\n\t            Dom7.each(key, function (index, k) {\n\t                obj[k] = val[index] || '';\n\t            });\n\t            return obj;\n\t        }\n\t    }, {\n\t        key: 'checkMaxLenAndDelete',\n\t        value: function checkMaxLenAndDelete() {}\n\t        /*\n\t        *   isMandatory: Whether it is mandatory to refresh default:false\n\t        *   noCache: Local storage is not required, default: false\n\t        */\n\t\n\t    }, {\n\t        key: 'ajax',\n\t        value: function ajax(obj, callback) {\n\t            var api = obj.api;\n\t            var data = obj.data;\n\t            var apiCategory = obj.apiCategory;\n\t            var type = obj.type;\n\t            var isMandatory = obj.isMandatory;\n\t            var noCache = obj.noCache;\n\t            var val = obj.val;\n\t\n\t            var key = _config2.default[apiCategory][api];\n\t            var timeout = _config2.default.timeout;\n\t\n\t            var saveKey = this.getKey(api, key, data);\n\t            var url = '' + _config2.default.url + apiCategory + '/' + api + '/';\n\t            val && (url += '' + val.id);\n\t            var newData = data;\n\t\n\t            if (!noCache) {\n\t                var cacheData = _locaStorage2.default.get(saveKey);\n\t                cacheData && !isMandatory && callback(cacheData);\n\t            } else {\n\t                newData = this.getData(key, data);\n\t            }\n\t\n\t            Dom7.ajax({\n\t                type: type,\n\t                url: url,\n\t                timeout: timeout,\n\t                data: newData,\n\t                cache: false,\n\t                error: function error(err) {\n\t                    callback(null, err);\n\t                },\n\t                success: function success(data) {\n\t                    !noCache && _locaStorage2.default.set(saveKey, data);\n\t                    callback(JSON.parse(data), null, true);\n\t                }\n\t            });\n\t        }\n\t    }]);\n\t\n\t    return CustomClass;\n\t}();\n\t\n\tvar CustomAjax = new CustomClass();\n\t\n\texports.default = CustomAjax;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar configs = {\n\t    url: 'http://api.test.yudada.com/',\n\t    backgroundImgUrl: '../img/app_icon_108.png',\n\t    timeout: 30000, //api timeout, unit: ms\n\t    pageSize: 20,\n\t    cacheMaxLen: 5,\n\t    'demandInfo': {\n\t        'getDemandInfoList': [\"fishTypeId\", \"cityId\", \"type\", \"keyvalue\", \"pageSize\", \"pageNo\", \"keyvalue\"],\n\t        'getFishTypeList/5': ['keyvalue'],\n\t        'getDemandInfo': ['id'],\n\t        'userAddDemandInfo': []\n\t    },\n\t    'fishType': {\n\t        'getChildrenFishTypeList': ['id', 'release', 'type', 'keyvalue']\n\t    }\n\t\n\t};\n\texports.default = configs;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _config = __webpack_require__(4);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _customAjax = __webpack_require__(3);\n\t\n\tvar _customAjax2 = _interopRequireDefault(_customAjax);\n\t\n\tvar _template = __webpack_require__(6);\n\t\n\tvar _string = __webpack_require__(8);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction homeInit(f7, view, page) {\n\t    f7.hideIndicator();\n\t    var pageSize = _config2.default.pageSize;\n\t\n\t    var $$ = Dom7;\n\t    var catType = 2;\n\t\n\t    /*\n\t     *  When the type is equal to give a value.Execute the following method.\n\t     */\n\t\n\t    var callback = function callback(data, err, type) {\n\t        if (err) {\n\t            f7.alert(',!');\n\t            return;\n\t        }\n\t        //cat sell list\n\t        if (catType === 2) {\n\t            var catListHtml = '';\n\t            $$.each(data.data.list, function (index, item) {\n\t                catListHtml += _template.home.cat(item);\n\t            });\n\t\n\t            (0, _string.html)($$('.cat-list-foreach'), catListHtml, f7);\n\t            $$('.ajax-content').show(200);\n\t            $$('.home-loading').hide(100);\n\t        }\n\t        //cat buy list\n\t        if (catType === 1) {\n\t            var butListHtml = '';\n\t            $$.each(data.data.list, function (index, item) {\n\t                butListHtml += _template.home.buy(item);\n\t            });\n\t\n\t            (0, _string.html)($$('.buy-list-foreach'), butListHtml, f7);\n\t        }\n\t        if (data.data && data.data.list && type && catType === 2) {\n\t            catType = 1;\n\t            _customAjax2.default.ajax({\n\t                apiCategory: 'demandInfo',\n\t                api: 'getDemandInfoList',\n\t                data: [\"\", \"\", 1, \"\", 10, 1],\n\t                type: 'get'\n\t            }, callback);\n\t        }\n\t\n\t        //pull to refresh done.\n\t        f7.pullToRefreshDone();\n\t        $$('img.lazy').trigger('lazy');\n\t    };\n\t\n\t    /*\n\t     * initialization home page and send ajax to get list data.\n\t     */\n\t    _customAjax2.default.ajax({\n\t        apiCategory: 'demandInfo',\n\t        api: 'getDemandInfoList',\n\t        data: [\"\", \"\", 2, \"\", 10, 1],\n\t        type: 'get'\n\t    }, callback);\n\t\n\t    // pull to refresh.\n\t    var ptrContent = $$('.pull-to-refresh-content');\n\t    ptrContent.on('refresh', function (e) {\n\t        catType = 2;\n\t        _customAjax2.default.ajax({\n\t            apiCategory: 'demandInfo',\n\t            api: 'getDemandInfoList',\n\t            data: [\"\", \"\", 2, \"\", 10, 1],\n\t            type: 'get',\n\t            isMandatory: true\n\t        }, callback);\n\t    });\n\t}\n\t\n\tmodule.exports = {\n\t    homeInit: homeInit\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _time = __webpack_require__(7);\n\t\n\tvar _config = __webpack_require__(4);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar backgroundImgUrl = _config2.default.backgroundImgUrl;\n\t\n\t\n\tmodule.exports = {\n\t    home: {\n\t        cat: function cat(data) {\n\t            var id = data.id;\n\t            var imge_path = data.imge_path;\n\t            var price = data.price;\n\t            var fish_type_name = data.fish_type_name;\n\t            var specifications = data.specifications;\n\t            var create_time = data.create_time;\n\t            var contact_name = data.contact_name;\n\t            var province_name = data.province_name;\n\t            var city_name = data.city_name;\n\t            var personal_authentication_state = data.personal_authentication_state;\n\t            var enterprise_authentication_state = data.enterprise_authentication_state;\n\t\n\t            var res = '';\n\t            res += '<a class=\"row cat-list-info\" href=\"./views/selldetail.html?id=' + id + '\">' + '<div class=\"col-30\"><img data-src=\"' + ('' + (imge_path || backgroundImgUrl)) + '\" src=\"' + backgroundImgUrl + '\" class=\"lazy-fadeIn lazy lazy-loaded\"></div>' + '<div class=\"col-70\">' + '<div class=\"cat-list-title row\">' + '<div class=\"col-60 goods-name\">' + fish_type_name + '</div>' + '<div class=\"col-40 goods-price\">' + ('' + (price || '')) + '</div>' + '</div>' + '<div class=\"row cat-list-text\">' + '<div class=\"col-70 goods-weight\">' + specifications + '</div>' + '<div class=\"col-30 goods-create-time\">' + (0, _time.timeDifference)(create_time) + '</div>' + '</div>' + '<div class=\"cat-list-address\">' + '<span>' + contact_name + '</span> ' + ('' + province_name + city_name) + '</div>' + '<div class=\"cat-list-tags\">';\n\t            if (personal_authentication_state === 1 || enterprise_authentication_state === 1) {\n\t                res += '<span class=\"iconfont icon-v button\"></span>';\n\t                //'<span class=\"button\"></span>'\n\t            }\n\t            res += '</div></div>';\n\t            return res;\n\t        },\n\t        buy: function buy(data) {\n\t            var id = data.id;\n\t            var fish_type_name = data.fish_type_name;\n\t            var stock = data.stock;\n\t            var specifications = data.specifications;\n\t            var create_time = data.create_time;\n\t            var contact_name = data.contact_name;\n\t            var province_name = data.province_name;\n\t            var city_name = data.city_name;\n\t            var personal_authentication_state = data.personal_authentication_state;\n\t            var enterprise_authentication_state = data.enterprise_authentication_state;\n\t\n\t            var isV = personal_authentication_state === 1 || enterprise_authentication_state === 1;\n\t            var res = '';\n\t            res += '<a href=\"./views/buydetail.html?id=' + id + '\" class=\"buy-list-info\">' + '<div class=\"row\">' + '<div class=\"col-65 buy-name\">' + fish_type_name + '</div>' + '<div class=\"col-35 buy-price\">' + stock + '</div>' + '</div>' + '<div class=\"row\">' + '<div class=\"col-65 buy-spec\">' + specifications + '</div>' + '<div class=\"col-35 buy-time\">' + (0, _time.timeDifference)(create_time) + '</div>' + '</div>' + '<div class=\"home-buy-address\">' + '<span class=\"' + ('' + (isV && \"iconfont icon-v\")) + '\">' + ('' + (contact_name || '')) + '</span>' + ('' + province_name + city_name) + '</div>';\n\t            return res;\n\t        }\n\t    },\n\t    search: {\n\t        link: function link(data) {\n\t            var name = data.name;\n\t            var id = data.id;\n\t\n\t            var li = '';\n\t            li += '<a href=\"' + ('views/filter.html?id=' + id) + '\">' + name + '</a>';\n\t            return li;\n\t        }\n\t    },\n\t    selldetail: {\n\t        cert: function cert(data) {\n\t            var type = data.type;\n\t            var fish_type_name = data.fish_type_name;\n\t            var path = data.path;\n\t            var state = data.state;\n\t\n\t            var link = '';\n\t            var className = void 0;\n\t            var text = void 0;\n\t            var label = void 0;\n\t            if (type === 1) {\n\t                className = 'seedling';\n\t                text = ' - ' + fish_type_name;\n\t                label = '';\n\t            } else if (2 === type) {\n\t                className = 'water';\n\t                text = ' - ' + fish_type_name;\n\t                label = '';\n\t            } else if (3 === type) {\n\t                className = 'cert';\n\t                text = ' - ' + fish_type_name;\n\t                label = '';\n\t            } else if (4 === type) {\n\t                className = 'water';\n\t                text = ' - ' + fish_type_name;\n\t                label = '';\n\t            } else if (5 === type) {\n\t                className = 'water';\n\t                text = ' - ' + fish_type_name;\n\t                label = '';\n\t            } else if (6 === type) {\n\t                className = 'water';\n\t                text = ' - ' + fish_type_name;\n\t                label = '';\n\t            }\n\t            link += '<a class=\"iconfont icon-right open-cert-button\">' + '<span class=\"cert-label ' + className + '\">' + label + '</span>' + text + '</a>';\n\t            return link;\n\t        }\n\t    },\n\t    filter: {\n\t        fishType: function fishType(data, classes) {\n\t            var name = data.name;\n\t            var id = data.id;\n\t            var parant_id = data.parant_id;\n\t            var parant_name = data.parant_name;\n\t\n\t            return '<span class=\"' + (classes || '') + '\" data-id=\"' + id + '\" data-parent-id=\"' + parant_id + '\" data-parent-name=\"' + parant_name + '\">' + name + '</span>';\n\t        },\n\t        searchResultNull: function searchResultNull() {},\n\t        districtRender: function districtRender(data, classes) {\n\t            var name = data.name;\n\t            var postcode = data.postcode;\n\t\n\t            return '<span class=\"' + (classes || '') + '\" data-postcode=\"' + postcode + '\">' + name + '</span>';\n\t        }\n\t    }\n\t};\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = {\n\t    timeDifference: function timeDifference(unix) {\n\t        if (unix == \"\" || unix == null) {\n\t            return;\n\t        }\n\t        var today = new Date();\n\t        var unixs = new Date(unix * 1000);\n\t\n\t        var year = today.getFullYear();\n\t        var month = today.getMonth() + 1;\n\t        var day = today.getDate();\n\t        var hour = today.getHours();\n\t        var min = today.getMinutes();\n\t        var second = today.getSeconds();\n\t\n\t        var unixMonth = parseInt(unixs.getMonth() + 1);\n\t        var unixday = unixs.getDate();\n\t        //console.log(unixs + \"\" +unixMonth + \"**\" + unixday);\n\t\n\t\n\t        var todayZero = year + \"/\" + month + \"/\" + day;\n\t        //console.log(todayZero);\n\t\n\t        var currentUnix = Date.parse(new Date(today)) / 1000; //\n\t        var todayZeroUnix = Date.parse(new Date(todayZero)) / 1000; //\n\t        var yestedayZeroUnix = parseInt(todayZeroUnix - 24 * 60 * 60); //\n\t        var qiantianZeroUnix = parseInt(yestedayZeroUnix - 24 * 60 * 60); //\n\t        var unixDefi = parseInt(currentUnix - unix); //\n\t        var todayZero = \"\";\n\t        var temp = \"\";\n\t        var mint = \"\";\n\t        var hourt = \"\";\n\t        //\n\t        if (unixDefi <= 60) {\n\t            temp = \"\";\n\t        } else if (unixDefi > 60 && unixDefi <= 60 * 60) {\n\t            //\n\t            min = parseInt(unixDefi / 60);\n\t            temp = min + \"\";\n\t        } else if (unix < currentUnix && unix > todayZeroUnix) {\n\t            //\n\t            hourt = parseInt((currentUnix - unix) / (60 * 60));\n\t            temp = hourt + \"\";\n\t        } else if (unix > yestedayZeroUnix && unix <= todayZeroUnix) {\n\t            //\n\t            temp = \"\";\n\t        } else if (unix < yestedayZeroUnix && unix >= qiantianZeroUnix) {\n\t            //\n\t            temp = \"\";\n\t        } else {\n\t            temp = unixMonth + \"\" + unixday + \"\";\n\t        }\n\t        return temp;\n\t    },\n\t    centerShowTime: function centerShowTime(unix) {\n\t        if (unix == \"\" || unix == null) {\n\t            return;\n\t        }\n\t        var today = new Date();\n\t        var unixs = new Date(unix * 1000);\n\t\n\t        var year = today.getFullYear();\n\t        var month = today.getMonth() + 1;\n\t        var day = today.getDate();\n\t        var hour = today.getHours();\n\t        var min = today.getMinutes();\n\t        var second = today.getSeconds();\n\t\n\t        var unixYear = unixs.getFullYear();\n\t        var unixMonth = parseInt(unixs.getMonth() + 1);\n\t        var unixday = unixs.getDate();\n\t        //console.log(unixs + \"\" +unixMonth + \"**\" + unixday);\n\t\n\t\n\t        var todayZero = year + \"/\" + month + \"/\" + day;\n\t        //console.log(todayZero);\n\t\n\t        var currentUnix = Date.parse(new Date(today)) / 1000; //\n\t        var todayZeroUnix = Date.parse(new Date(todayZero)) / 1000; //\n\t        var sevenZeroUnix = todayZeroUnix - 24 * 60 * 60 * 6;\n\t        var unixDefi = parseInt(currentUnix - unix); //\n\t        var todayZero = \"\";\n\t        var temp = \"\";\n\t        var mint = \"\";\n\t        var hourt = \"\";\n\t\n\t        if (unixDefi <= 60 * 60) {\n\t            //1\n\t            min = parseInt(unixDefi / 60);\n\t            temp = \"\";\n\t        } else if (unix < currentUnix && unix > todayZeroUnix) {\n\t            //\n\t            hourt = parseInt((currentUnix - unix) / (60 * 60));\n\t            temp = hourt + \"\";\n\t        } else if (unix < todayZeroUnix && unix >= sevenZeroUnix) {\n\t            mint = parseInt((unix - sevenZeroUnix) / (60 * 60 * 24));\n\t            temp = mint + \"\";\n\t        } else {\n\t            temp = \"\";\n\t        }\n\t        return temp;\n\t    }\n\t};\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tmodule.exports = {\n\t    trim: function trim(str) {\n\t        if (!str) {\n\t            return;\n\t        }\n\t        return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n\t    },\n\t    /*\n\t    * Prevent script injection attacks.\n\t    */\n\t    html: function html(dom, str, f7) {\n\t        if (str && str.indexOf('<script') > -1) {\n\t            f7.alert(',!');\n\t            return;\n\t        }\n\t        dom.html(str);\n\t    }\n\t\n\t};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _config = __webpack_require__(4);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _customAjax = __webpack_require__(3);\n\t\n\tvar _customAjax2 = _interopRequireDefault(_customAjax);\n\t\n\tvar _string = __webpack_require__(8);\n\t\n\tvar _template = __webpack_require__(6);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction searchInit(f7, view, page) {\n\t    var $$ = Dom7;\n\t    var pageSize = _config2.default.pageSize;\n\t\n\t    var input = $$('.search-page-input');\n\t    var clear = $$('b.searchbar-clear');\n\t    var hideVal = $$('.search-val');\n\t    var searchButton = $$('span.search-button');\n\t    var list = $$('.search-return-list');\n\t    var searchVal = '';\n\t    (0, _string.trim)(input.val()) && hideVal.addClass('on');\n\t\n\t    var callback = function callback(data) {\n\t        var listHtml = '';\n\t        if (!data.data.length) {\n\t            (0, _string.html)(list, listHtml, f7);\n\t            return;\n\t        }\n\t\n\t        $$.each(data.data, function (index, item) {\n\t            listHtml += _template.search.link(item);\n\t        });\n\t        (0, _string.html)(list, listHtml, f7);\n\t    };\n\t\n\t    clear.on('click', function () {\n\t        input.val('');\n\t        clear.removeClass('on');\n\t        hideVal.removeClass('on').find('span').html('');\n\t    });\n\t\n\t    setTimeout(function () {\n\t        input.focus();\n\t    }, 500);\n\t    input[0].oninput = function () {\n\t        var val = input.val();\n\t        if ((0, _string.trim)(val) === '') {\n\t            hideVal.removeClass('on').find('span').html('');\n\t            clear.removeClass('on');\n\t            (0, _string.html)(list, '', f7);\n\t        } else {\n\t            hideVal.addClass('on').find('span').html('' + val + '');\n\t            clear.addClass('on');\n\t        }\n\t\n\t        if ((0, _string.trim)(searchVal) !== (0, _string.trim)(val) && (0, _string.trim)(val) !== '') {\n\t            searchVal = val;\n\t\n\t            _customAjax2.default.ajax({\n\t                apiCategory: 'demandInfo',\n\t                api: 'getFishTypeList/5',\n\t                data: [val],\n\t                type: 'get',\n\t                noCache: true\n\t            }, callback);\n\t        }\n\t    };\n\t    // input.on('propertychange', () => {\n\t\n\t    // })\n\t\n\t    var hrefFilterPage = function hrefFilterPage() {\n\t        var val = hideVal.removeClass('on').find('span').html();\n\t\n\t        var query = val ? '?keyvalue=' + val + '&type=2&pageSize=' + pageSize : '';\n\t        view.router.load({\n\t            url: '../views/filter.html' + query,\n\t            animatePages: true\n\t        });\n\t    };\n\t\n\t    //load filter; \n\t    hideVal.click(hrefFilterPage);\n\t\n\t    searchButton.click(hrefFilterPage);\n\t}\n\t\n\tmodule.exports = {\n\t    searchInit: searchInit\n\t};\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _string = __webpack_require__(8);\n\t\n\tvar _template = __webpack_require__(6);\n\t\n\tvar _customAjax = __webpack_require__(3);\n\t\n\tvar _customAjax2 = _interopRequireDefault(_customAjax);\n\t\n\tvar _district = __webpack_require__(11);\n\t\n\tvar _district2 = _interopRequireDefault(_district);\n\t\n\tvar _config = __webpack_require__(4);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction filterInit(f7, view, page) {\n\t    var $$ = Dom7;\n\t    var _page$query = page.query;\n\t    var keyvalue = _page$query.keyvalue;\n\t    var release = _page$query.release;\n\t    var type = _page$query.type;\n\t    var id = _page$query.id;\n\t    var cityId = _page$query.cityId;\n\t\n\t    var searchBtn = $$('.filter-searchbar input');\n\t    var pageSize = _config2.default.pageSize;\n\t\n\t    var allFishTypeChild = void 0;\n\t    var searchValue = keyvalue ? keyvalue.replace(/[^\\u4E00-\\u9FA5]/g, '') : keyvalue;\n\t    var currentFishId = id || '';\n\t    var currentCityId = cityId || '';\n\t    var pageNo = 1;\n\t    var _type = type || 2;\n\t    var isInfinite = false;\n\t    var loading = false;\n\t    var pullToRefresh = false;\n\t    var releaseFishName = void 0;\n\t    var parentFishInfo = {};\n\t    /*\n\t     * Three cases into the filter page.\n\t     * 1: home -> filter. query: type\n\t     * 2: search -> filter. query: searchVal or category id.\n\t     * 3: releaseSelectType -> filter. query: release and type\n\t     */\n\t    (0, _string.trim)(searchValue) && searchBtn.val(searchValue);\n\t\n\t    /*\n\t     * Ajax callback.\n\t     */\n\t    var listCallback = function listCallback(data) {\n\t        var listHtml = '';\n\t        if (_type === 1) {\n\t            $$.each(data.data.list, function (index, item) {\n\t                listHtml += _template.home.buy(item);\n\t            });\n\t        } else {\n\t            $$.each(data.data.list, function (index, item) {\n\t                listHtml += _template.home.cat(item);\n\t            });\n\t        }\n\t        if (!listHtml) {\n\t            listHtml += '';\n\t        }\n\t        if (isInfinite && !pullToRefresh) {\n\t            $$('.filter-list').append(listHtml);\n\t            loading = false;\n\t        } else {\n\t            (0, _string.html)($$('.filter-list'), listHtml, f7);\n\t        }\n\t        //pull to refresh done.\n\t        f7.pullToRefreshDone();\n\t        pullToRefresh = false;\n\t        $$('img.lazy').trigger('lazy');\n\t    };\n\t\n\t    var fishTypeRootCallback = function fishTypeRootCallback(data) {\n\t        var typeHtml = '<span data-id=\"0\" class=\"active-ele\"></span>';\n\t        $$.each(data.data.list, function (index, item) {\n\t            typeHtml += _template.filter.fishType(item);\n\t        });\n\t        (0, _string.html)($$('.filter-fish-type>.col-35'), typeHtml, f7);\n\t    };\n\t\n\t    var fishTypeChildCallback = function fishTypeChildCallback(data) {\n\t        allFishTypeChild = data.data.list;\n\t        var typeHtml = '';\n\t        if (!release) {\n\t            typeHtml += '<span data-postcode=\"\" class=\"first active-ele\"></span>';\n\t        }\n\t        $$.each(data.data.list, function (index, item) {\n\t            var classes = index % 3 === 0 && 'on' || '';\n\t            typeHtml += _template.filter.fishType(item, classes);\n\t        });\n\t        (0, _string.html)($$('.filter-fish-type>.col-65'), typeHtml, f7);\n\t    };\n\t\n\t    /*\n\t     * Ajax.\n\t     */\n\t    // get root fish type;\n\t    _customAjax2.default.ajax({\n\t        apiCategory: 'fishType',\n\t        api: 'getChildrenFishTypeList',\n\t        data: [0, release || '', _type, searchValue],\n\t        val: {\n\t            id: 0\n\t        },\n\t        type: 'get',\n\t        noCache: true\n\t    }, fishTypeRootCallback);\n\t\n\t    // get all fish type;\n\t    _customAjax2.default.ajax({\n\t        apiCategory: 'fishType',\n\t        api: 'getChildrenFishTypeList',\n\t        data: [id, release || '', _type, searchValue],\n\t        type: 'get',\n\t        noCache: true\n\t    }, fishTypeChildCallback);\n\t\n\t    /*\n\t     * Bind event to dom.\n\t     */\n\t    // select fish type child.\n\t    $$('.filter-fish-type>.col-35').on('click', function (e) {\n\t        var event = e || window.event;\n\t        var ele = e.target;\n\t        var rootId = ele.getAttribute('data-id');\n\t        var categoryFish = [];\n\t        var typeHtml = '';\n\t\n\t        if (rootId === '0') {\n\t            categoryFish = allFishTypeChild;\n\t            typeHtml = release ? '' : '<span data-postcode=\"' + rootId + '\" class=\"first\">' + ele.innerText + '</span>';\n\t        } else {\n\t            $$.each(allFishTypeChild, function (index, item) {\n\t                item.parant_id === rootId && categoryFish.push(item);\n\t            });\n\t            typeHtml = release ? '' : '<span data-postcode=\"' + rootId + '\" class=\"first\">' + ele.innerText + '</span>';\n\t        }\n\t        $$('.filter-fish-type span').removeClass('active-ele');\n\t        ele.className = 'active-ele';\n\t        $$.each(categoryFish, function (index, item) {\n\t            var classes = index % 3 === 0 && 'on' || '';\n\t            var select = '' + classes + (item.id == currentFishId ? ' active-ele' : '');\n\t            typeHtml += _template.filter.fishType(item, classes);\n\t        });\n\t        (0, _string.html)($$('.filter-fish-type>.col-65'), typeHtml, f7);\n\t    });\n\t\n\t    // filter tab event;\n\t    $$('.filter-tab').on('click', function (e) {\n\t        var event = e || window.event;\n\t        var ele = event.target;\n\t        var classes = ele.className;\n\t        var clickTab = function clickTab() {\n\t            if (classes.indexOf('active-ele') > -1) {\n\t                ele.className = classes.replace('active-ele', '');\n\t                $$('.winodw-mask').removeClass('on');\n\t                $$('.filter-tabs-content').removeClass('on');\n\t            } else {\n\t                $$('.filter-tab>div').removeClass('active-ele');\n\t                ele.className += ' active-ele';\n\t                $$('.winodw-mask').addClass('on');\n\t                $$('.filter-tabs-content').addClass('on');\n\t                $$('.filter-tabs-content>div').removeClass('active');\n\t                classes.indexOf('tab1') > -1 && $$('.filter-tabs-content>div').eq(0).addClass('active');\n\t                classes.indexOf('tab2') > -1 && $$('.filter-tabs-content>div').eq(1).addClass('active');\n\t                classes.indexOf('tab3') > -1 && $$('.filter-tabs-content>div').eq(2).addClass('active');\n\t            }\n\t        };\n\t        if (ele.parentNode.className.indexOf('filter-tab-title') > -1) {\n\t            ele = ele.parentNode;\n\t            classes = ele.className;\n\t            clickTab();\n\t        } else if (classes.indexOf('filter-tab-title') > -1) {\n\t            clickTab();\n\t        }\n\t    });\n\t\n\t    // filter category and release infomation.\n\t    if (!release) {\n\t\n\t        // sell or buy active; default type = 1\n\t        var type_ = _type == 2 ? 0 : 1;\n\t        $$('.filter-info-type>p').eq(type_).addClass('active-ele');\n\t        if (type_ == 1) {\n\t            $$('.filter-list').removeClass('cat-list-info').addClass('buy-list-info');\n\t        } else {\n\t            $$('.filter-list').removeClass('buy-list-info').addClass('cat-list-info');\n\t        }\n\t        /*\n\t         * initialization home page and send ajax to get list data.\n\t         */\n\t        _customAjax2.default.ajax({\n\t            apiCategory: 'demandInfo',\n\t            api: 'getDemandInfoList',\n\t            data: [currentFishId, currentCityId, _type, searchValue, pageSize, pageNo, searchValue],\n\t            type: 'get'\n\t        }, listCallback);\n\t        //root district render;\n\t        var rootDistrict = '<span class=\"active-ele\" data-postcode=\"0\"></span>';\n\t        $$.each(_district2.default.root.province, function (index, item) {\n\t            rootDistrict += _template.filter.districtRender(item);\n\t        });\n\t        (0, _string.html)($$('.filter-district>.col-35'), rootDistrict, f7);\n\t        (0, _string.html)($$('.filter-district>.col-65'), '<span class=\"active-ele\" data-postcode=\"\"></span>', f7);\n\t        //child district render\n\t        $$('.filter-district>.col-35').on('click', function (e) {\n\t            var event = e || window.event;\n\t            var ele = e.target;\n\t            var postcode = ele.getAttribute('data-postcode');\n\t            $$('.filter-district span').removeClass('active-ele');\n\t            ele.className = 'active-ele';\n\t            var districtHtml = '';\n\t            if (postcode !== '0') {\n\t                districtHtml += '<span data-postcode=\"' + postcode + '\">' + ele.innerText + '</span>';\n\t                $$.each(_district2.default.root.province, function (index, item) {\n\t                    if (item.postcode === postcode) {\n\t                        $$.each(item.city, function (index_, districtItem) {\n\t                            var select = item.postcode == currentCityId ? 'active-ele' : '';\n\t                            districtHtml += _template.filter.districtRender(districtItem, select);\n\t                        });\n\t                    }\n\t                });\n\t            } else {\n\t                districtHtml += '<span data-postcode=\"\">' + ele.innerText + '</span>';\n\t            }\n\t            (0, _string.html)($$('.filter-district>.col-65'), districtHtml, f7);\n\t        });\n\t        //change release type;\n\t        $$('.filter-info-type').on('click', function (e) {\n\t            var event = e || window.event;\n\t            var ele = event.target;\n\t            var classes = ele.className;\n\t            if (classes.indexOf('active-ele') <= -1) {\n\t                $$('.filter-info-type>p').removeClass('active-ele');\n\t                ele.className += ' active-ele';\n\t                var _type_ = ele.getAttribute('data-type');\n\t                var tabText = _type_ == 1 ? '' : '';\n\t                _type = _type == 2 ? 1 : 2;\n\t                (0, _string.html)($$('.filter-need-release span'), _type_ == 1 ? '' : '', f7);\n\t                pageNo = 1;\n\t                isInfinite = false;\n\t                (0, _string.html)($$('.filter-tab>.tab3>span'), tabText, f7);\n\t                _customAjax2.default.ajax({\n\t                    apiCategory: 'demandInfo',\n\t                    api: 'getDemandInfoList',\n\t                    data: [currentFishId, currentCityId, _type, searchValue, pageSize, pageNo, searchValue],\n\t                    type: 'get'\n\t                }, listCallback);\n\t            }\n\t            $$('.winodw-mask').removeClass('on');\n\t            $$('.filter-tabs-content').removeClass('on');\n\t            $$('.filter-tab>div').removeClass('active-ele');\n\t        });\n\t\n\t        // select city\n\t        $$('.filter-district>.col-65').on('click', function (e) {\n\t            var event = e || window.event;\n\t            var ele = event.target;\n\t            var classes = ele.className;\n\t            var postcode = ele.getAttribute('data-postcode');\n\t            $$('.filter-district>.col-65>span').removeClass('active-ele');\n\t            if (classes.indexOf('active-ele') <= -1 && ele.parentNode.className === 'col-65') {\n\t                var tabText = ele.innerText;\n\t                (0, _string.html)($$('.filter-tab>.tab2>span'), tabText, f7);\n\t                ele.className += ' active-ele';\n\t            }\n\t            pageNo = 1;\n\t            isInfinite = false;\n\t            currentCityId = postcode;\n\t            $$('.winodw-mask').removeClass('on');\n\t            $$('.filter-tabs-content').removeClass('on');\n\t            $$('.filter-tab>div').removeClass('active-ele');\n\t            _customAjax2.default.ajax({\n\t                apiCategory: 'demandInfo',\n\t                api: 'getDemandInfoList',\n\t                data: [currentFishId, currentCityId, _type, searchValue, pageSize, pageNo, searchValue],\n\t                type: 'get'\n\t            }, listCallback);\n\t        });\n\t\n\t        // Attach 'infinite' event handler\n\t        $$('.infinite-scroll').on('infinite', function () {\n\t            isInfinite = true;\n\t            // Exit, if loading in progress\n\t            if (loading) return;\n\t\n\t            // Set loading flag\n\t            loading = true;\n\t            pageNo++;\n\t            _customAjax2.default.ajax({\n\t                apiCategory: 'demandInfo',\n\t                api: 'getDemandInfoList',\n\t                data: [currentFishId, currentCityId, _type, searchValue, pageSize, pageNo, searchValue],\n\t                type: 'get',\n\t                isMandatory: true\n\t            }, listCallback);\n\t        });\n\t\n\t        // pull to refresh.\n\t        var ptrContent = $$('.pull-to-refresh-content');\n\t        ptrContent.on('refresh', function (e) {\n\t            pullToRefresh = true;\n\t            _customAjax2.default.ajax({\n\t                apiCategory: 'demandInfo',\n\t                api: 'getDemandInfoList',\n\t                data: [currentFishId, currentCityId, _type, searchValue, pageSize, pageNo, searchValue],\n\t                type: 'get',\n\t                isMandatory: true\n\t            }, listCallback);\n\t        });\n\t    } else {\n\t        $$('.filter-navbar').addClass('filter-release-info');\n\t        $$('.page-filter').addClass('filter-release-info');\n\t        $$('.filter-tabs-content').addClass('on active');\n\t        $$('.filter-fish-type').addClass('active');\n\t        $$('.winodw-mask').addClass('on');\n\t        $$('.filter-release-next').on('click', function () {\n\t            var text = _type == 1 ? '' : '';\n\t            if (!currentFishId) {\n\t                f7.alert('' + text + '');\n\t                return;\n\t            }\n\t\n\t            view.router.load({\n\t                url: '../views/releaseInfo.html?' + ('type=' + _type + '&fishId=' + currentFishId + '&fishName=' + releaseFishName + '&parentFishId=' + parentFishInfo.id + '&parentFishName=' + parentFishInfo.name),\n\t                animatePages: true\n\t            });\n\t        });\n\t    }\n\t\n\t    // select fish category;\n\t    $$('.filter-fish-type>.col-65').on('click', function (e) {\n\t        var event = e || window.event;\n\t        var ele = event.target;\n\t        var classes = ele.className;\n\t        var childId = ele.getAttribute('data-id');\n\t        $$('.filter-fish-type>.col-65>span').removeClass('active-ele');\n\t        var tabText = ele.innerText;\n\t        releaseFishName = ele.innerText;\n\t        ele.className += ' active-ele';\n\t        parentFishInfo['id'] = ele.getAttribute('data-parent-id');\n\t        parentFishInfo['name'] = ele.getAttribute('data-parent-name');\n\t        currentFishId = childId;\n\t        if (!release) {\n\t            (0, _string.html)($$('.filter-tab>.tab1>span'), tabText, f7);\n\t            $$('.winodw-mask').removeClass('on');\n\t            $$('.filter-tabs-content').removeClass('on');\n\t            $$('.filter-tab>div').removeClass('active-ele');\n\t            searchValue = '';\n\t            searchBtn.val('');\n\t            isInfinite = false;\n\t            pageNo = 1;\n\t            _customAjax2.default.ajax({\n\t                apiCategory: 'demandInfo',\n\t                api: 'getDemandInfoList',\n\t                data: [currentFishId, currentCityId, _type, searchValue, pageSize, pageNo, searchValue],\n\t                type: 'get'\n\t            }, listCallback);\n\t        }\n\t    });\n\t}\n\t\n\tmodule.exports = {\n\t    filterInit: filterInit\n\t};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tmodule.exports = {\n\t    \"root\": {\n\t        \"name\": \"\",\n\t        \"province\": [{\n\t            \"name\": \"\",\n\t            \"postcode\": \"110000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"110101\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110102\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110103\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110104\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110105\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110106\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110107\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110108\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110109\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110111\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110112\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110113\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110114\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110115\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110116\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110117\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110228\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"110229\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"120000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"120101\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120102\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120103\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120104\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120105\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120106\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120107\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120108\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120109\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120110\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120111\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120112\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120113\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120114\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120115\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120221\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120223\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"120225\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"130000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"130100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"130200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"130300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"130400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"130500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"130600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"130700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"130800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"130900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"131000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"131100\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"140000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"140100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"140200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"140300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"140400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"140500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"140600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"140700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"140800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"140900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"141000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"141100\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"150000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"150100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"150200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"150300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"150400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"150500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"150600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"150700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"150800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"150900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"152200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"152500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"152900\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"210000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"210100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"210200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"210300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"210400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"210500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"210600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"210700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"210800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"210900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"211000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"211100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"211200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"211300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"211400\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"220000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"220100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"220200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"220300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"220400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"220500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"220600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"220700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"220800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"222400\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"230000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"230100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"230200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"230300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"230400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"230500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"230600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"230700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"230800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"230900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"231000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"231100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"231200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"232700\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"310000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"310101\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310103\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310104\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310105\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310106\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310107\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310108\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310109\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310110\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310112\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310113\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310114\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310115\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310116\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310117\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310118\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310119\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310120\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"310230\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"320000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"320100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"320200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"320300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"320400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"320500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"320600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"320700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"320800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"320900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"321000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"321100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"321200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"321300\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"330000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"330100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"330200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"330300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"330400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"330500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"330600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"330700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"330800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"330900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"331000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"331100\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"340000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"340100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"340200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"340300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"340400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"340500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"340600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"340700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"340800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"341000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"341100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"341200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"341300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"341400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"341500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"341600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"341700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"341800\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"350000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"350100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"350200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"350300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"350400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"350500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"350600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"350700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"350800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"350900\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"360000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"360100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"360200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"360300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"360400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"360500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"360600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"360700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"360800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"360900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"361000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"361100\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"370000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"370100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"370200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"370300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"370400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"370500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"370600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"370700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"370800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"370900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"371000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"371100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"371200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"371300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"371400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"371500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"371600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"371700\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"410000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"410100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"410200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"410300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"410400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"410500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"410600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"410700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"410800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"410900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"411000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"411100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"411200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"411300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"411400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"411500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"411600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"411700\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"420000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"420100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"420200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"420300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"420500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"420600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"420700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"420800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"420900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"421000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"421100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"421200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"421300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"422800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"429004\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"429005\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"429006\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"429021\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"430000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"430100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"430200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"430300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"430400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"430500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"430600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"430700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"430800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"430900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"431000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"431100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"431200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"431300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"433100\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"440000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"440100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"440200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"440300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"440400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"440500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"440600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"440700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"440800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"440900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"441200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"441300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"441400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"441500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"441600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"441700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"441800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"441900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"442000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"445100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"445200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"445300\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"450000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"450100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"450200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"450300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"450400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"450500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"450600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"450700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"450800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"450900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"451000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"451100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"451200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"451300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"451400\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"460000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"460100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"460200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"460300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"469000\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"500000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"500101\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500102\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500103\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500104\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500105\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500106\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500107\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500108\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500109\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500110\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500111\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500112\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500113\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500114\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500115\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500116\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500117\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500118\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500119\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500222\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500223\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500224\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500225\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500226\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500227\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500228\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500229\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500230\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500231\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500232\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500233\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500234\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500235\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500236\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500237\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500238\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500240\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500241\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500242\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"500243\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"510000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"510100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"510300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"510400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"510500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"510600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"510700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"510800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"510900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"511000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"511100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"511300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"511400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"511500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"511600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"511700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"511800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"511900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"512000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"513200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"513300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"513400\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"520000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"520100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"520200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"520300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"520400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"522200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"522300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"522400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"522600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"522700\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"530000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"530100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"530300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"530400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"530500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"530600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"530700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"530800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"530900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"532300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"532500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"532600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"532800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"532900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"533100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"533300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"533400\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"540000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"540100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"542100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"542200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"542300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"542400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"542500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"542600\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"610000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"610100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"610200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"610300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"610400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"610500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"610600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"610700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"610800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"610900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"611000\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"620000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"620100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"620200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"620300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"620400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"620500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"620600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"620700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"620800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"620900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"621000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"621100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"621200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"622900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"623000\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"630000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"630100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"632100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"632200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"632300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"632500\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"632600\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"632700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"632800\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"640000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"640100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"640200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"640300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"640400\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"640500\"\n\t            }]\n\t        }, {\n\t            \"name\": \"\",\n\t            \"postcode\": \"650000\",\n\t            \"city\": [{\n\t                \"name\": \"\",\n\t                \"postcode\": \"650100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"650200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"652100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"652200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"652300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"652700\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"652800\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"652900\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"653000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"653100\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"653200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"654000\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"654200\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"654300\"\n\t            }, {\n\t                \"name\": \"\",\n\t                \"postcode\": \"659000\"\n\t            }]\n\t        }]\n\t    }\n\t};\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _config = __webpack_require__(4);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _customAjax = __webpack_require__(3);\n\t\n\tvar _customAjax2 = _interopRequireDefault(_customAjax);\n\t\n\tvar _locaStorage = __webpack_require__(1);\n\t\n\tvar _locaStorage2 = _interopRequireDefault(_locaStorage);\n\t\n\tvar _template = __webpack_require__(6);\n\t\n\tvar _time = __webpack_require__(7);\n\t\n\tvar _string = __webpack_require__(8);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction selldetailInit(f7, view, page) {\n\t    var $$ = Dom7;\n\t    var id = page.query.id;\n\t\n\t    var isReleaseForMe = false;\n\t    var certList = $$('.selldetail-cert-list');\n\t    // let certUrl;\n\t    var callback = function callback(data) {\n\t        if (data.data) {\n\t            (function () {\n\t                var _data$data = data.data;\n\t                var userInfo = _data$data.userInfo;\n\t                var business_license_url = _data$data.business_license_url;\n\t                var demandInfo = _data$data.demandInfo;\n\t                var user_ishCertificate_list = _data$data.user_ishCertificate_list;\n\t\n\t                var locaUserId = _locaStorage2.default.get('userId');\n\t                var specifications = demandInfo.specifications;\n\t                var stock = demandInfo.stock;\n\t                var provinceName = demandInfo.provinceName;\n\t                var describe = demandInfo.describe;\n\t                var cityName = demandInfo.cityName;\n\t                var fishTypeName = demandInfo.fishTypeName;\n\t                var price = demandInfo.price;\n\t                var createTime = demandInfo.createTime;\n\t                var imgePath = demandInfo.imgePath;\n\t                var contactName = demandInfo.contactName;\n\t                var requirementPhone = demandInfo.requirementPhone;\n\t                var id = userInfo.id;\n\t                var enterpriseAuthenticationTime = userInfo.enterpriseAuthenticationTime;\n\t                var personalAuthenticationState = userInfo.personalAuthenticationState;\n\t                var enterpriseAuthenticationState = userInfo.enterpriseAuthenticationState;\n\t                var imgUrl = userInfo.imgUrl;\n\t\n\t                if (id === locaUserId) {\n\t                    isReleaseForMe = true;\n\t                    $$('.selldetail-call-delete').removeClass('icon-share').html('').addClass('icon-delete');\n\t                }\n\t                // ajax back, edit html.\n\t                $$('.selldetail-info>.first img').attr('src', imgePath);\n\t                (0, _string.html)($$('.page-selldetail .goods-name'), fishTypeName, f7);\n\t                (0, _string.html)($$('.page-selldetail .goods-create-time'), (0, _time.timeDifference)(createTime), f7);\n\t                (0, _string.html)($$('.selldetail-price'), price || '', f7);\n\t                specifications ? (0, _string.html)($$('.selldetail-spec'), specifications, f7) : $$('.selldetail-spec').parent().remove();\n\t                stock ? (0, _string.html)($$('.selldetail-stock'), stock, f7) : $$('.selldetail-stock').parent().remove();\n\t                provinceName ? (0, _string.html)($$('.selldetail-address'), provinceName + ' ' + cityName, f7) : $$('.selldetail-address').parent().remove();\n\t                describe ? (0, _string.html)($$('.selldetail-description'), describe, f7) : $$('.selldetail-description').parent().remove();\n\t                var certHtml = '';\n\t                $$.each(user_ishCertificate_list.list, function (index, item) {\n\t                    var fish_type_name = item.fish_type_name;\n\t\n\t                    fishTypeName === fish_type_name && (certHtml += _template.selldetail.cert(item));\n\t                });\n\t                certHtml ? (0, _string.html)(certList, certHtml, f7) : certList.parent().remove();\n\t                (0, _string.html)($$('.page-selldetail .user-name'), contactName || '', f7);\n\t                (0, _string.html)($$('.page-selldetail .user-tell>b'), requirementPhone, f7);\n\t                (0, _string.html)($$('.page-selldetail .user-time'), (0, _time.centerShowTime)(enterpriseAuthenticationTime), f7);\n\t                personalAuthenticationState !== 1 && enterpriseAuthenticationState !== 1 && $$('.user-cert').remove();\n\t                imgUrl && $$('.selldetail-userinfo img').attr('src', imgUrl);\n\t                (0, _string.html)($$('.tabbar-price'), price || '', f7);\n\t            })();\n\t        }\n\t        f7.hideIndicator();\n\t    };\n\t\n\t    _customAjax2.default.ajax({\n\t        apiCategory: 'demandInfo',\n\t        api: 'getDemandInfo',\n\t        data: [id],\n\t        val: {\n\t            id: id\n\t        },\n\t        type: 'get'\n\t    }, callback);\n\t\n\t    // dom event;\n\t    $$('.selldetail-call-delete').click(function () {\n\t        if (isReleaseForMe) {\n\t            console.log('deleter info!');\n\t            return;\n\t        }\n\t        console.log('call number!');\n\t    });\n\t\n\t    // const popupWindow = f7.photoBrowser({\n\t    //     photos: [{\n\t    //         url: 'http://yumaimai.img-cn-qingdao.aliyuncs.com/img/enterprise_authentication/20160727/1469585379903_8431.jpg',\n\t    //         caption: ''\n\t    //     }],\n\t    //     theme: 'dark',\n\t    //     type: 'popup'\n\t\n\t    // })\n\t    // $$('.open-cert-button').on('click', () => {\n\t    //     certUrl = 'http://yumaimai.img-cn-qingdao.aliyuncs.com/img/enterprise_authentication/20160727/1469585379903_8431.jpg';\n\t    //     popupWindow.open();\n\t    // })\n\t}\n\t\n\tmodule.exports = {\n\t    selldetailInit: selldetailInit\n\t};\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _config = __webpack_require__(4);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _customAjax = __webpack_require__(3);\n\t\n\tvar _customAjax2 = _interopRequireDefault(_customAjax);\n\t\n\tvar _locaStorage = __webpack_require__(1);\n\t\n\tvar _locaStorage2 = _interopRequireDefault(_locaStorage);\n\t\n\tvar _template = __webpack_require__(6);\n\t\n\tvar _time = __webpack_require__(7);\n\t\n\tvar _string = __webpack_require__(8);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction buydetailInit(f7, view, page) {\n\t    var $$ = Dom7;\n\t    var id = page.query.id;\n\t\n\t    var isReleaseForMe = false;\n\t    var callback = function callback(data) {\n\t        if (data.data) {\n\t            var _data$data = data.data;\n\t            var userInfo = _data$data.userInfo;\n\t            var demandInfo = _data$data.demandInfo;\n\t\n\t            var locaUserId = _locaStorage2.default.get('userId');\n\t            var specifications = demandInfo.specifications;\n\t            var stock = demandInfo.stock;\n\t            var provinceName = demandInfo.provinceName;\n\t            var describe = demandInfo.describe;\n\t            var cityName = demandInfo.cityName;\n\t            var fishTypeName = demandInfo.fishTypeName;\n\t            var price = demandInfo.price;\n\t            var createTime = demandInfo.createTime;\n\t            var contactName = demandInfo.contactName;\n\t            var requirementPhone = demandInfo.requirementPhone;\n\t            var _id = userInfo.id;\n\t            var enterpriseAuthenticationTime = userInfo.enterpriseAuthenticationTime;\n\t            var personalAuthenticationState = userInfo.personalAuthenticationState;\n\t            var enterpriseAuthenticationState = userInfo.enterpriseAuthenticationState;\n\t            var imgUrl = userInfo.imgUrl;\n\t\n\t            if (_id === locaUserId) {\n\t                isReleaseForMe = true;\n\t                $$('.selldetail-call-delete').removeClass('icon-share').html('').addClass('icon-delete');\n\t            }\n\t            (0, _string.html)($$('.page-buydetail .goods-name'), fishTypeName, f7);\n\t            (0, _string.html)($$('.page-buydetail .goods-create-time'), (0, _time.timeDifference)(createTime), f7);\n\t            (0, _string.html)($$('.page-buydetail .selldetail-price'), price || '', f7);\n\t            specifications ? (0, _string.html)($$('.selldetail-spec'), specifications, f7) : $$('.selldetail-spec').parent().remove();\n\t            stock ? (0, _string.html)($$('.selldetail-stock'), stock, f7) : $$('.selldetail-stock').parent().remove();\n\t            provinceName ? (0, _string.html)($$('.selldetail-address'), provinceName + ' ' + cityName, f7) : $$('.selldetail-address').parent().remove();\n\t            describe ? (0, _string.html)($$('.selldetail-description'), describe, f7) : $$('.selldetail-description').parent().remove();\n\t            (0, _string.html)($$('.page-buydetail .user-name'), contactName || '', f7);\n\t            (0, _string.html)($$('.page-buydetail .user-tell>b'), requirementPhone, f7);\n\t            (0, _string.html)($$('.page-buydetail .user-time'), (0, _time.centerShowTime)(enterpriseAuthenticationTime), f7);\n\t            personalAuthenticationState !== 1 && enterpriseAuthenticationState !== 1 && $$('.user-cert').remove();\n\t            imgUrl && $$('.selldetail-userinfo img').attr('src', imgUrl);\n\t            (0, _string.html)($$('.tabbar-price'), price || '', f7);\n\t        }\n\t        f7.hideIndicator(300);\n\t    };\n\t\n\t    _customAjax2.default.ajax({\n\t        apiCategory: 'demandInfo',\n\t        api: 'getDemandInfo',\n\t        data: [id],\n\t        val: {\n\t            id: id\n\t        },\n\t        type: 'get'\n\t    }, callback);\n\t\n\t    $$('.buydetail-call-delete').click(function () {\n\t        if (isReleaseForMe) {\n\t            console.log('deleter info!');\n\t            return;\n\t        }\n\t        console.log('call number!');\n\t    });\n\t}\n\t\n\tmodule.exports = {\n\t    buydetailInit: buydetailInit\n\t};\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _nativeEvent = __webpack_require__(15);\n\t\n\tvar _nativeEvent2 = _interopRequireDefault(_nativeEvent);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction releaseInit(f7, view, page) {\n\t\tvar $$ = Dom7;\n\t\t_nativeEvent2.default.init();\n\t\n\t\t$$('.release-sound').on('click', function () {\n\t\t\t_nativeEvent2.default.apiCount();\n\t\t});\n\t\n\t\t$$('.service-contact-us').on('click', function () {\n\t\t\t_nativeEvent2.default.contactUs();\n\t\t});\n\t}\n\t\n\tmodule.exports = {\n\t\treleaseInit: releaseInit\n\t};\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar CustomClass = function () {\n\t    function CustomClass() {\n\t        _classCallCheck(this, CustomClass);\n\t    }\n\t\n\t    _createClass(CustomClass, [{\n\t        key: \"init\",\n\t        value: function init() {\n\t            this.$$ = Dom7;\n\t            this.device = window.currentDevice;\n\t        }\n\t\n\t        //The third party statistics.\n\t\n\t    }, {\n\t        key: \"apiCount\",\n\t        value: function apiCount(id) {\n\t            var _device = this.device;\n\t            var ios = _device.ios;\n\t            var android = _device.android;\n\t\n\t            ios && JS_UMengToCount(id);\n\t            android && window.yudada.JS_UMengToCount(id);\n\t        }\n\t\n\t        // contact us \n\t\n\t    }, {\n\t        key: \"contactUs\",\n\t        value: function contactUs(id) {\n\t            var _device2 = this.device;\n\t            var ios = _device2.ios;\n\t            var android = _device2.android;\n\t\n\t            ios && JS_MakeCall(id);\n\t            android && window.yudada.JS_MakeCall(id);\n\t        }\n\t    }, {\n\t        key: \"eventChooseAddress\",\n\t        value: function eventChooseAddress() {\n\t            var _device3 = this.device;\n\t            var ios = _device3.ios;\n\t            var android = _device3.android;\n\t\n\t            ios && JS_ChooseAddress();\n\t            android && window.yudada.JS_ChooseAddress();\n\t        }\n\t    }]);\n\t\n\t    return CustomClass;\n\t}();\n\t\n\tvar nativeEvent = new CustomClass();\n\texports.default = nativeEvent;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tfunction releaseSelectTypeInit(f7, view, page) {}\n\t\n\tmodule.exports = {\n\t\treleaseSelectTypeInit: releaseSelectTypeInit\n\t};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _config = __webpack_require__(4);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _customAjax = __webpack_require__(3);\n\t\n\tvar _customAjax2 = _interopRequireDefault(_customAjax);\n\t\n\tvar _string = __webpack_require__(8);\n\t\n\tvar _template = __webpack_require__(6);\n\t\n\tvar _nativeEvent = __webpack_require__(15);\n\t\n\tvar _nativeEvent2 = _interopRequireDefault(_nativeEvent);\n\t\n\tvar _locaStorage = __webpack_require__(1);\n\t\n\tvar _district = __webpack_require__(11);\n\t\n\tvar _district2 = _interopRequireDefault(_district);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction releaseInfoInit(f7, view, page) {\n\t    _nativeEvent2.default.init();\n\t    var $$ = Dom7;\n\t    var _page$query = page.query;\n\t    var type = _page$query.type;\n\t    var fishId = _page$query.fishId;\n\t    var fishName = _page$query.fishName;\n\t    var parentFishId = _page$query.parentFishId;\n\t    var parentFishName = _page$query.parentFishName;\n\t\n\t    var coordinate = void 0;\n\t    var title = void 0;\n\t    var provinceName = void 0;\n\t    var cityName = void 0;\n\t    var phoneNumber = (0, _locaStorage.get)('phoneNumber');\n\t\n\t    if (type == 1) {\n\t        title = '' + fishName + '';\n\t        (0, _string.html)($$('.release-info-title'), '', f7);\n\t        (0, _string.html)($$('.release-sub-info'), '', f7);\n\t    } else {\n\t        title = '' + fishName + '';\n\t        (0, _string.html)($$('.release-info-title'), '', f7);\n\t        (0, _string.html)($$('.release-sub-info'), '', f7);\n\t    }\n\t    (0, _string.html)($$('.release-info-name'), title, f7);\n\t\n\t    //take address ,longitude,latitude for native location.\n\t    window.getAdreesSys = function (province, city, longitude, latitude) {\n\t        if (province == \"\" || province == null) {\n\t            return;\n\t        }\n\t        var address = province + city;\n\t        provinceName = province;\n\t        cityName = city;\n\t        $(\".release-write-address>input\").val(address);\n\t        coordinate = { longitude: longitude, latitude: latitude };\n\t    };\n\t    $$(\".release-write-address\").on('click', function () {\n\t        // get address.\n\t        _nativeEvent2.default.eventChooseAddress();\n\t    });\n\t    if (phoneNumber) {\n\t        $$('.release-write-tell input').val(phoneNumber);\n\t    }\n\t\n\t    var callback = function callback(data) {};\n\t    var getCityId = function getCityId(provinceName, cityName) {\n\t        var res = {};\n\t        $$.each(_district2.default.province, function (index, item) {\n\t            if (item.name == provinceName) {\n\t                res['provinceId'] = item.postcode;\n\t                $$.each(item.city, function (_index, cityItem) {\n\t                    if (cityItem.name == cityName) {\n\t                        res['cityId'] = cityItem.postcode;\n\t                    }\n\t                });\n\t            }\n\t        });\n\t        return res;\n\t    };\n\t\n\t    var subInfoTest = function subInfoTest() {\n\t        var price = (0, _string.trim)($$('.release-write-price input').val());\n\t        var spec = (0, _string.trim)($$('.release-write-spec input').val());\n\t        var stock = (0, _string.trim)($$('.release-write-stock input').val());\n\t        var address = (0, _string.trim)($$('.release-write-address input').val());\n\t        var description = (0, _string.trim)($$('.release-info-discription textarea').val());\n\t        var name = (0, _string.trim)($$('.release-write-contact input').val());\n\t        var phone = (0, _string.trim)($$('.release-write-tell input').val());\n\t\n\t        var _getCityId = getCityId(provinceName, cityName);\n\t\n\t        var provinceId = _getCityId.provinceId;\n\t        var cityId = _getCityId.cityId;\n\t\n\t        var error = void 0;\n\t        if (!/^1[3|4|5|7|8]\\d{9}$/.test(phone)) {\n\t            error = '';\n\t        } else if (!(0, _string.trim)(address)) {\n\t            error = '';\n\t        }\n\t\n\t        return {\n\t            error: error,\n\t            fishParentTypeId: parentFishId,\n\t            fishParentTypeName: parentFishName,\n\t            fishTypeId: fishId,\n\t            fishTypeName: fishName,\n\t            requirementPhone: phone,\n\t            specifications: spec,\n\t            contactName: name,\n\t            longitude: coordinate && coordinate['longitude'],\n\t            latitude: coordinate && coordinate['latitude'],\n\t            address: address,\n\t            price: price,\n\t            stock: stock,\n\t            provinceId: provinceId,\n\t            cityId: cityId,\n\t            provinceName: provinceName,\n\t            cityName: cityName,\n\t            type: type\n\t        };\n\t    };\n\t    // submit release infomation to server;\n\t    $$('.release-sub-info').click(function () {\n\t        var data = subInfoTest();\n\t        if (data.error) {\n\t            f7.alert(data.error);\n\t        } else {\n\t            _customAjax2.default.ajax({\n\t                apiCategory: 'demandInfo',\n\t                api: 'userAddDemandInfo',\n\t                data: data,\n\t                type: 'post',\n\t                isMandatory: true,\n\t                noCache: true\n\t            }, callback);\n\t        }\n\t    });\n\t}\n\tmodule.exports = {\n\t    releaseInfoInit: releaseInfoInit\n\t};\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** common.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"js\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap f325d697c382b7c8e513\n **/","import store from './utils/locaStorage'\n\nimport Framework7 from 'framework7';\n// import _ from 'lodash';\n// import store from './utils/locaStorage'\nimport customAjax from './middlewares/customAjax';\nimport { homeInit } from './js/home';\nimport { searchInit } from './js/search';\nimport { filterInit } from './js/filter';\nimport { selldetailInit } from './js/selldetail';\nimport { buydetailInit } from './js/buydetail';\nimport { releaseInit } from './js/release';\nimport { releaseSelectTypeInit } from './js/releaseSelectType';\nimport {releaseInfoInit} from './js/releaseInfo';\n\n\n// init f7\nconst f7 = new Framework7({\n    swipeBackPage: true,\n    imagesLazyLoadThreshold: 300,\n    pushState: true,\n    animateNavBackIcon: true,\n    modalTitle: 'Yudada'\n});\nconst $$ = Dom7;\nwindow.currentDevice = f7.device;\nconst mainView = f7.addView('.view-main', {\n        dynamicNavbar: true,\n    })\n    // load index\nmainView.router.load({\n    url: 'views/home.html'\n})\n\n/*\n * Trigger lazy load img.\n */\n$$('img.lazy').trigger('lazy');\n\n/*\n * some kinds of loading style.\n * 1: app.showIndicator() \n * 2: app.showPreloader() \n * 3: app.showPreloader('My text...') \n * hide: app.hide*\n */\n\nconst initEvent = f7.onPageInit('*', (page) => {\n    // show loading.\n    if (page.name !== 'home' && page.name) {\n        // f7.showIndicator();\n    }\n    // if(page.name in ['home', 'search', 'filter']){\n    //     mainView.hideNavbar();\n    // }\n    $$('.link-back').on('click', () => {\n        mainView.router.back({\n            animatePages: true\n        });\n    })\n    page.name === 'home' && homeInit(f7, mainView, page);\n    page.name === 'search' && searchInit(f7, mainView, page);\n    page.name === 'filter' && filterInit(f7, mainView, page);\n    page.name === 'selldetail' && selldetailInit(f7, mainView, page);\n    page.name === 'buydetail' && buydetailInit(f7, mainView, page);\n    page.name === 'release' && releaseInit(f7, mainView, page);\n    page.name === 'releaseSelectType' && releaseSelectTypeInit(f7, mainView, page);\n    page.name === 'releaseInfo' && releaseInfoInit(f7, mainView, page);\n})\n\n\n\n\n\n\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app.js\n **/","module.exports = {\n    get: (key) => {\n        if (!window.localStorage.getItem(key)) {\n            return;\n        }\n        let value = window.localStorage.getItem(key);\n\n        return JSON.parse(value);\n    },\n    set: (key, val) => {\n        if(!key){\n            return;\n        }\n        let value;\n        if (typeof val === 'object') {\n            value = JSON.stringify(val);\n        } else {\n            value = val;\n        }\n        window.localStorage.setItem(key, val)\n    },\n    remove: (key) => {\n        window.localStorage.removeItem(key)\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/locaStorage.js\n **/","/**\n * Framework7 1.4.2\n * Full Featured Mobile HTML Framework For Building iOS & Android Apps\n * \n * http://www.idangero.us/framework7\n * \n * Copyright 2016, Vladimir Kharlampidi\n * The iDangero.us\n * http://www.idangero.us/\n * \n * Licensed under MIT\n * \n * Released on: February 27, 2016\n */\n\n    'use strict';\n    /*===========================\n    Framework 7\n    ===========================*/\n    var Framework7 = function (params) {\n        // App\n        var app = this;\n    \n        // Version\n        app.version = '1.4.2';\n    \n        // Default Parameters\n        app.params = {\n            cache: true,\n            cacheIgnore: [],\n            cacheIgnoreGetParameters: false,\n            cacheDuration: 1000 * 60 * 10, // Ten minutes\n            preloadPreviousPage: true,\n            uniqueHistory: false,\n            uniqueHistoryIgnoreGetParameters: false,\n            dynamicPageUrl: 'content-{{index}}',\n            allowDuplicateUrls: false,\n            router: true,\n            // Push State\n            pushState: false,\n            pushStateRoot: undefined,\n            pushStateNoAnimation: false,\n            pushStateSeparator: '#!/',\n            pushStateOnLoad: true,\n            // Fast clicks\n            fastClicks: true,\n            fastClicksDistanceThreshold: 10,\n            fastClicksDelayBetweenClicks: 50,\n            // Tap Hold\n            tapHold: false,\n            tapHoldDelay: 750,\n            tapHoldPreventClicks: true,\n            // Active State\n            activeState: true,\n            activeStateElements: 'a, button, label, span',\n            // Animate Nav Back Icon\n            animateNavBackIcon: false,\n            // Swipe Back\n            swipeBackPage: true,\n            swipeBackPageThreshold: 0,\n            swipeBackPageActiveArea: 30,\n            swipeBackPageAnimateShadow: true,\n            swipeBackPageAnimateOpacity: true,\n            // Ajax\n            ajaxLinks: undefined, // or CSS selector\n            // External Links\n            externalLinks: '.external', // CSS selector\n            // Sortable\n            sortable: true,\n            // Scroll toolbars\n            hideNavbarOnPageScroll: false,\n            hideToolbarOnPageScroll: false,\n            hideTabbarOnPageScroll: false,\n            showBarsOnPageScrollEnd: true,\n            showBarsOnPageScrollTop: true,\n            // Swipeout\n            swipeout: true,\n            swipeoutActionsNoFold: false,\n            swipeoutNoFollow: false,\n            // Smart Select Back link template\n            smartSelectOpenIn: 'page', // or 'popup' or 'picker'\n            smartSelectBackText: 'Back',\n            smartSelectPopupCloseText: 'Close',\n            smartSelectPickerCloseText: 'Done',\n            smartSelectSearchbar: false,\n            smartSelectBackOnSelect: false,\n            // Tap Navbar or Statusbar to scroll to top\n            scrollTopOnNavbarClick: false,\n            scrollTopOnStatusbarClick: false,\n            // Panels\n            swipePanel: false, // or 'left' or 'right'\n            swipePanelActiveArea: 0,\n            swipePanelCloseOpposite: true,\n            swipePanelOnlyClose: false,\n            swipePanelNoFollow: false,\n            swipePanelThreshold: 0,\n            panelsCloseByOutside: true,\n            // Modals\n            modalButtonOk: 'OK',\n            modalButtonCancel: 'Cancel',\n            modalUsernamePlaceholder: 'Username',\n            modalPasswordPlaceholder: 'Password',\n            modalTitle: 'Framework7',\n            modalCloseByOutside: false,\n            actionsCloseByOutside: true,\n            popupCloseByOutside: true,\n            modalPreloaderTitle: 'Loading... ',\n            modalStack: true,\n            // Lazy Load\n            imagesLazyLoadThreshold: 0,\n            imagesLazyLoadSequential: true,\n            // Name space\n            viewClass: 'view',\n            viewMainClass: 'view-main',\n            viewsClass: 'views',\n            // Notifications defaults\n            notificationCloseOnClick: false,\n            notificationCloseIcon: true,\n            notificationCloseButtonText: 'Close',\n            // Animate Pages\n            animatePages: true,\n            // Template7\n            templates: {},\n            template7Data: {},\n            template7Pages: false,\n            precompileTemplates: false,\n            // Material\n            material: false,\n            materialPageLoadDelay: 0,\n            materialPreloaderSvg: '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"75\" width=\"75\" viewbox=\"0 0 75 75\"><circle cx=\"37.5\" cy=\"37.5\" r=\"33.5\" stroke-width=\"8\"/></svg>',\n            materialPreloaderHtml:\n                '<span class=\"preloader-inner\">' +\n                    '<span class=\"preloader-inner-gap\"></span>' +\n                    '<span class=\"preloader-inner-left\">' +\n                        '<span class=\"preloader-inner-half-circle\"></span>' +\n                    '</span>' +\n                    '<span class=\"preloader-inner-right\">' +\n                        '<span class=\"preloader-inner-half-circle\"></span>' +\n                    '</span>' +\n                '</span>',\n            materialRipple: true,\n            materialRippleElements: '.ripple, a.link, a.item-link, .button, .modal-button, .tab-link, .label-radio, .label-checkbox, .actions-modal-button, a.searchbar-clear, a.floating-button, .floating-button > a, .speed-dial-buttons a',\n            // Auto init\n            init: true,\n        };\n    \n        // Extend defaults with parameters\n        for (var param in params) {\n            app.params[param] = params[param];\n        }\n    \n        // DOM lib\n        var $ = Dom7;\n    \n        // Template7 lib\n        var t7 = Template7;\n        app._compiledTemplates = {};\n    \n        // Touch events\n        app.touchEvents = {\n            start: app.support.touch ? 'touchstart' : 'mousedown',\n            move: app.support.touch ? 'touchmove' : 'mousemove',\n            end: app.support.touch ? 'touchend' : 'mouseup'\n        };\n    \n        // Link to local storage\n        app.ls = window.localStorage;\n    \n        // RTL\n        app.rtl = $('body').css('direction') === 'rtl';\n        if (app.rtl) $('html').attr('dir', 'rtl');\n    \n        // Overwrite statusbar overlay\n        if (typeof app.params.statusbarOverlay !== 'undefined') {\n            if (app.params.statusbarOverlay) $('html').addClass('with-statusbar-overlay');\n            else $('html').removeClass('with-statusbar-overlay');\n        }\n    \n        \n    \n\n        /*======================================================\n        ************   Views   ************\n        ======================================================*/\n        app.views = [];\n        var View = function (selector, params) {\n            var defaults = {\n                dynamicNavbar: false,\n                domCache: false,\n                linksView: undefined,\n                reloadPages: false,\n                uniqueHistory: app.params.uniqueHistory,\n                uniqueHistoryIgnoreGetParameters: app.params.uniqueHistoryIgnoreGetParameters,\n                allowDuplicateUrls: app.params.allowDuplicateUrls,\n                swipeBackPage: app.params.swipeBackPage,\n                swipeBackPageAnimateShadow: app.params.swipeBackPageAnimateShadow,\n                swipeBackPageAnimateOpacity: app.params.swipeBackPageAnimateOpacity,\n                swipeBackPageActiveArea: app.params.swipeBackPageActiveArea,\n                swipeBackPageThreshold: app.params.swipeBackPageThreshold,\n                animatePages: app.params.animatePages,\n                preloadPreviousPage: app.params.preloadPreviousPage\n            };\n            var i;\n        \n            // Params\n            params = params || {};\n        \n            // Disable dynamic navbar for material theme\n            if (params.dynamicNavbar && app.params.material) params.dynamicNavbar = false;\n        \n            // Extend params with defaults\n            for (var def in defaults) {\n                if (typeof params[def] === 'undefined') {\n                    params[def] = defaults[def];\n                }\n            }\n            // View\n            var view = this;\n            view.params = params;\n        \n            // Selector\n            view.selector = selector;\n        \n            // Container\n            var container = $(selector);\n            view.container = container[0];\n        \n            // Fix Selector\n        \n            if (typeof selector !== 'string') {\n                // Supposed to be HTMLElement or Dom7\n                selector = (container.attr('id') ? '#' + container.attr('id') : '') + (container.attr('class') ? '.' + container.attr('class').replace(/ /g, '.').replace('.active', '') : '');\n                view.selector = selector;\n            }\n        \n            // Is main\n            view.main = container.hasClass(app.params.viewMainClass);\n        \n            // Content cache\n            view.contentCache = {};\n        \n            // Pages cache\n            view.pagesCache = {};\n        \n            // Store View in element for easy access\n            container[0].f7View = view;\n        \n            // Pages\n            view.pagesContainer = container.find('.pages')[0];\n            view.initialPages = [];\n            view.initialPagesUrl = [];\n            view.initialNavbars = [];\n            if (view.params.domCache) {\n                var initialPages = container.find('.page');\n                for (i = 0; i < initialPages.length; i++) {\n                    view.initialPages.push(initialPages[i]);\n                    view.initialPagesUrl.push('#' + initialPages.eq(i).attr('data-page'));\n                }\n                if (view.params.dynamicNavbar) {\n                    var initialNavbars = container.find('.navbar-inner');\n                    for (i = 0; i < initialNavbars.length; i++) {\n                        view.initialNavbars.push(initialNavbars[i]);\n                    }\n                }\n        \n            }\n        \n            view.allowPageChange = true;\n        \n            // Location\n            var docLocation = document.location.href;\n        \n            // History\n            view.history = [];\n            var viewURL = docLocation;\n            var pushStateSeparator = app.params.pushStateSeparator;\n            var pushStateRoot = app.params.pushStateRoot;\n            if (app.params.pushState && view.main) {\n                if (pushStateRoot) {\n                    viewURL = pushStateRoot;\n                }\n                else {\n                    if (viewURL.indexOf(pushStateSeparator) >= 0 && viewURL.indexOf(pushStateSeparator + '#') < 0) viewURL = viewURL.split(pushStateSeparator)[0];\n                }\n        \n            }\n        \n            // Active Page\n            var currentPage, currentPageData;\n            if (!view.activePage) {\n                currentPage = $(view.pagesContainer).find('.page-on-center');\n                if (currentPage.length === 0) {\n                    currentPage = $(view.pagesContainer).find('.page:not(.cached)');\n                    currentPage = currentPage.eq(currentPage.length - 1);\n                }\n                if (currentPage.length > 0) {\n                    currentPageData = currentPage[0].f7PageData;\n                }\n            }\n        \n            // View startup URL\n            if (view.params.domCache && currentPage) {\n                view.url = container.attr('data-url') || view.params.url || '#' + currentPage.attr('data-page');   \n                view.pagesCache[view.url] = currentPage.attr('data-page');\n            }\n            else view.url = container.attr('data-url') || view.params.url || viewURL;\n        \n            // Update current page Data\n            if (currentPageData) {\n                currentPageData.view = view;\n                currentPageData.url = view.url;\n                if (view.params.domCache && view.params.dynamicNavbar && !currentPageData.navbarInnerContainer) {\n                    currentPageData.navbarInnerContainer = view.initialNavbars[view.initialPages.indexOf(currentPageData.container)];\n                }\n                view.activePage = currentPageData;\n                currentPage[0].f7PageData = currentPageData;\n            }\n        \n            // Store to history main view's url\n            if (view.url) {\n                view.history.push(view.url);\n            }\n        \n            // Touch events\n            var isTouched = false,\n                isMoved = false,\n                touchesStart = {},\n                isScrolling,\n                activePage = [],\n                previousPage = [],\n                viewContainerWidth,\n                touchesDiff,\n                allowViewTouchMove = true,\n                touchStartTime,\n                activeNavbar = [],\n                previousNavbar = [],\n                activeNavElements,\n                previousNavElements,\n                activeNavBackIcon,\n                previousNavBackIcon,\n                dynamicNavbar,\n                pageShadow,\n                el;\n        \n            view.handleTouchStart = function (e) {\n                if (!allowViewTouchMove || !view.params.swipeBackPage || isTouched || app.swipeoutOpenedEl || !view.allowPageChange) return;\n                isMoved = false;\n                isTouched = true;\n                isScrolling = undefined;\n                touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n                touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n                touchStartTime = (new Date()).getTime();\n                dynamicNavbar = view.params.dynamicNavbar && container.find('.navbar-inner').length > 1;\n            };\n        \n            view.handleTouchMove = function (e) {\n                if (!isTouched) return;\n                var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n                var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n                if (typeof isScrolling === 'undefined') {\n                    isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\n                }\n                if (isScrolling || e.f7PreventSwipeBack || app.preventSwipeBack) {\n                    isTouched = false;\n                    return;\n                }\n                if (!isMoved) {\n                    var cancel = false;\n                    // Calc values during first move fired\n                    viewContainerWidth = container.width();\n                    var target = $(e.target);\n                    var swipeout = target.hasClass('swipeout') ? target : target.parents('.swipeout');\n                    if (swipeout.length > 0) {\n                        if (!app.rtl && swipeout.find('.swipeout-actions-left').length > 0) cancel = true;\n                        if (app.rtl && swipeout.find('.swipeout-actions-right').length > 0) cancel = true;\n                    }\n                    activePage = target.is('.page') ? target : target.parents('.page');\n                    if (activePage.hasClass('no-swipeback')) cancel = true;\n                    previousPage = container.find('.page-on-left:not(.cached)');\n                    var notFromBorder = touchesStart.x - container.offset().left > view.params.swipeBackPageActiveArea;\n                    if (app.rtl) {\n                        notFromBorder = touchesStart.x < container.offset().left - container[0].scrollLeft + viewContainerWidth - view.params.swipeBackPageActiveArea;\n                    }\n                    else {\n                        notFromBorder = touchesStart.x - container.offset().left > view.params.swipeBackPageActiveArea;\n                    }\n                    if (notFromBorder) cancel = true;\n                    if (previousPage.length === 0 || activePage.length === 0) cancel = true;\n                    if (cancel) {\n                        isTouched = false;\n                        return;\n                    }\n        \n                    if (view.params.swipeBackPageAnimateShadow && !app.device.android) {\n                        pageShadow = activePage.find('.swipeback-page-shadow');\n                        if (pageShadow.length === 0) {\n                            pageShadow = $('<div class=\"swipeback-page-shadow\"></div>');\n                            activePage.append(pageShadow);\n                        }\n                    }\n        \n                    if (dynamicNavbar) {\n                        activeNavbar = container.find('.navbar-on-center:not(.cached)');\n                        previousNavbar = container.find('.navbar-on-left:not(.cached)');\n                        activeNavElements = activeNavbar.find('.left, .center, .right, .subnavbar, .fading');\n                        previousNavElements = previousNavbar.find('.left, .center, .right, .subnavbar, .fading');\n                        if (app.params.animateNavBackIcon) {\n                            activeNavBackIcon = activeNavbar.find('.left.sliding .back .icon');\n                            previousNavBackIcon = previousNavbar.find('.left.sliding .back .icon');\n                        }\n                    }\n        \n                    // Close/Hide Any Picker\n                    if ($('.picker-modal.modal-in').length > 0) {\n                        app.closeModal($('.picker-modal.modal-in'));\n                    }\n                }\n                e.f7PreventPanelSwipe = true;\n                isMoved = true;\n                e.preventDefault();\n        \n                // RTL inverter\n                var inverter = app.rtl ? -1 : 1;\n        \n                // Touches diff\n                touchesDiff = (pageX - touchesStart.x - view.params.swipeBackPageThreshold) * inverter;\n                if (touchesDiff < 0) touchesDiff = 0;\n                var percentage = touchesDiff / viewContainerWidth;\n        \n                // Swipe Back Callback\n                var callbackData = {\n                    percentage: percentage,\n                    activePage: activePage[0],\n                    previousPage: previousPage[0],\n                    activeNavbar: activeNavbar[0],\n                    previousNavbar: previousNavbar[0]\n                };\n                if (view.params.onSwipeBackMove) {\n                    view.params.onSwipeBackMove(callbackData);\n                }\n                container.trigger('swipeBackMove', callbackData);\n        \n                // Transform pages\n                var activePageTranslate = touchesDiff * inverter;\n                var previousPageTranslate = (touchesDiff / 5 - viewContainerWidth / 5) * inverter;\n                if (app.device.pixelRatio === 1) {\n                    activePageTranslate = Math.round(activePageTranslate);\n                    previousPageTranslate = Math.round(previousPageTranslate);\n                }\n        \n                activePage.transform('translate3d(' + activePageTranslate + 'px,0,0)');\n                if (view.params.swipeBackPageAnimateShadow && !app.device.android) pageShadow[0].style.opacity = 1 - 1 * percentage;\n        \n                previousPage.transform('translate3d(' + previousPageTranslate + 'px,0,0)');\n                if (view.params.swipeBackPageAnimateOpacity) previousPage[0].style.opacity = 0.9 + 0.1 * percentage;\n        \n                // Dynamic Navbars Animation\n                if (dynamicNavbar) {\n                    var i;\n                    for (i = 0; i < activeNavElements.length; i++) {\n                        el = $(activeNavElements[i]);\n                        if (!el.is('.subnavbar.sliding')) el[0].style.opacity = (1 - percentage * 1.3);\n                        if (el[0].className.indexOf('sliding') >= 0) {\n                            var activeNavTranslate = percentage * el[0].f7NavbarRightOffset;\n                            if (app.device.pixelRatio === 1) activeNavTranslate = Math.round(activeNavTranslate);\n                            el.transform('translate3d(' + activeNavTranslate + 'px,0,0)');\n                            if (app.params.animateNavBackIcon) {\n                                if (el[0].className.indexOf('left') >= 0 && activeNavBackIcon.length > 0) {\n                                    activeNavBackIcon.transform('translate3d(' + -activeNavTranslate + 'px,0,0)');\n                                }\n                            }\n                        }\n                    }\n                    for (i = 0; i < previousNavElements.length; i++) {\n                        el = $(previousNavElements[i]);\n                        if (!el.is('.subnavbar.sliding')) el[0].style.opacity = percentage * 1.3 - 0.3;\n                        if (el[0].className.indexOf('sliding') >= 0) {\n                            var previousNavTranslate = el[0].f7NavbarLeftOffset * (1 - percentage);\n                            if (app.device.pixelRatio === 1) previousNavTranslate = Math.round(previousNavTranslate);\n                            el.transform('translate3d(' + previousNavTranslate + 'px,0,0)');\n                            if (app.params.animateNavBackIcon) {\n                                if (el[0].className.indexOf('left') >= 0 && previousNavBackIcon.length > 0) {\n                                    previousNavBackIcon.transform('translate3d(' + -previousNavTranslate + 'px,0,0)');\n                                }\n                            }\n                        }\n                    }\n                }\n            };\n        \n            view.handleTouchEnd = function (e) {\n                if (!isTouched || !isMoved) {\n                    isTouched = false;\n                    isMoved = false;\n                    return;\n                }\n                isTouched = false;\n                isMoved = false;\n                if (touchesDiff === 0) {\n                    $([activePage[0], previousPage[0]]).transform('').css({opacity: '', boxShadow: ''});\n                    if (dynamicNavbar) {\n                        activeNavElements.transform('').css({opacity: ''});\n                        previousNavElements.transform('').css({opacity: ''});\n                        if (activeNavBackIcon && activeNavBackIcon.length > 0) activeNavBackIcon.transform('');\n                        if (previousNavBackIcon && activeNavBackIcon.length > 0) previousNavBackIcon.transform('');\n                    }\n                    return;\n                }\n                var timeDiff = (new Date()).getTime() - touchStartTime;\n                var pageChanged = false;\n                // Swipe back to previous page\n                if (\n                        timeDiff < 300 && touchesDiff > 10 ||\n                        timeDiff >= 300 && touchesDiff > viewContainerWidth / 2\n                    ) {\n                    activePage.removeClass('page-on-center').addClass('page-on-right');\n                    previousPage.removeClass('page-on-left').addClass('page-on-center');\n                    if (dynamicNavbar) {\n                        activeNavbar.removeClass('navbar-on-center').addClass('navbar-on-right');\n                        previousNavbar.removeClass('navbar-on-left').addClass('navbar-on-center');\n                    }\n                    pageChanged = true;\n                }\n                // Reset custom styles\n                // Add transitioning class for transition-duration\n                $([activePage[0], previousPage[0]]).transform('').css({opacity: '', boxShadow: ''}).addClass('page-transitioning');\n                if (dynamicNavbar) {\n                    activeNavElements.css({opacity: ''})\n                    .each(function () {\n                        var translate = pageChanged ? this.f7NavbarRightOffset : 0;\n                        var sliding = $(this);\n                        sliding.transform('translate3d(' + translate + 'px,0,0)');\n                        if (app.params.animateNavBackIcon) {\n                            if (sliding.hasClass('left') && activeNavBackIcon.length > 0) {\n                                activeNavBackIcon.addClass('page-transitioning').transform('translate3d(' + -translate + 'px,0,0)');\n                            }\n                        }\n        \n                    }).addClass('page-transitioning');\n        \n                    previousNavElements.transform('').css({opacity: ''}).each(function () {\n                        var translate = pageChanged ? 0 : this.f7NavbarLeftOffset;\n                        var sliding = $(this);\n                        sliding.transform('translate3d(' + translate + 'px,0,0)');\n                        if (app.params.animateNavBackIcon) {\n                            if (sliding.hasClass('left') && previousNavBackIcon.length > 0) {\n                                previousNavBackIcon.addClass('page-transitioning').transform('translate3d(' + -translate + 'px,0,0)');\n                            }\n                        }\n                    }).addClass('page-transitioning');\n                }\n                allowViewTouchMove = false;\n                view.allowPageChange = false;\n                // Swipe Back Callback\n                var callbackData = {\n                    activePage: activePage[0],\n                    previousPage: previousPage[0],\n                    activeNavbar: activeNavbar[0],\n                    previousNavbar: previousNavbar[0]\n                };\n                if (pageChanged) {\n                    // Update View's URL\n                    var url = view.history[view.history.length - 2];\n                    view.url = url;\n        \n                    // Page before animation callback\n                    app.pageBackCallback('before', view, {pageContainer: activePage[0], url: url, position: 'center', newPage: previousPage, oldPage: activePage, swipeBack: true});\n                    app.pageAnimCallback('before', view, {pageContainer: previousPage[0], url: url, position: 'left', newPage: previousPage, oldPage: activePage, swipeBack: true});\n        \n                    if (view.params.onSwipeBackBeforeChange) {\n                        view.params.onSwipeBackBeforeChange(callbackData);\n                    }\n                    container.trigger('swipeBackBeforeChange', callbackData);\n                }\n                else {\n                    if (view.params.onSwipeBackBeforeReset) {\n                        view.params.onSwipeBackBeforeReset(callbackData);\n                    }\n                    container.trigger('swipeBackBeforeReset', callbackData);\n                }\n        \n                activePage.transitionEnd(function () {\n                    $([activePage[0], previousPage[0]]).removeClass('page-transitioning');\n                    if (dynamicNavbar) {\n                        activeNavElements.removeClass('page-transitioning').css({opacity: ''});\n                        previousNavElements.removeClass('page-transitioning').css({opacity: ''});\n                        if (activeNavBackIcon && activeNavBackIcon.length > 0) activeNavBackIcon.removeClass('page-transitioning');\n                        if (previousNavBackIcon && previousNavBackIcon.length > 0) previousNavBackIcon.removeClass('page-transitioning');\n                    }\n                    allowViewTouchMove = true;\n                    view.allowPageChange = true;\n                    if (pageChanged) {\n                        if (app.params.pushState && view.main) history.back();\n                        // Page after animation callback\n                        app.pageBackCallback('after', view, {pageContainer: activePage[0], url: url, position: 'center', newPage: previousPage, oldPage: activePage, swipeBack: true});\n                        app.pageAnimCallback('after', view, {pageContainer: previousPage[0], url: url, position: 'left', newPage: previousPage, oldPage: activePage, swipeBack: true});\n                        app.router.afterBack(view, activePage, previousPage);\n        \n                        if (view.params.onSwipeBackAfterChange) {\n                            view.params.onSwipeBackAfterChange(callbackData);\n                        }\n                        container.trigger('swipeBackAfterChange', callbackData);\n                    }\n                    else {\n                        if (view.params.onSwipeBackAfterReset) {\n                            view.params.onSwipeBackAfterReset(callbackData);\n                        }\n                        container.trigger('swipeBackAfterReset', callbackData);\n                    }\n                    if (pageShadow && pageShadow.length > 0) pageShadow.remove();\n                });\n            };\n            view.attachEvents = function (detach) {\n                var action = detach ? 'off' : 'on';\n                container[action](app.touchEvents.start, view.handleTouchStart);\n                container[action](app.touchEvents.move, view.handleTouchMove);\n                container[action](app.touchEvents.end, view.handleTouchEnd);\n            };\n            view.detachEvents = function () {\n                view.attachEvents(true);\n            };\n        \n            // Init\n            if (view.params.swipeBackPage && !app.params.material) {\n                view.attachEvents();\n            }\n        \n            // Add view to app\n            app.views.push(view);\n            if (view.main) app.mainView = view;\n        \n            // Router \n            view.router = {\n                load: function (options) {\n                    return app.router.load(view, options);\n                },\n                back: function (options) {\n                    return app.router.back(view, options);  \n                },\n                // Shortcuts\n                loadPage: function (options) {\n                    options = options || {};\n                    if (typeof options === 'string') {\n                        var url = options;\n                        options = {};\n                        if (url && url.indexOf('#') === 0 && view.params.domCache) {\n                            options.pageName = url.split('#')[1];\n                        }\n                        else options.url = url;\n                    }\n                    return app.router.load(view, options);\n                },\n                loadContent: function (content) {\n                    return app.router.load(view, {content: content});\n                },\n                reloadPage: function (url) {\n                    return app.router.load(view, {url: url, reload: true});\n                },\n                reloadContent: function (content) {\n                    return app.router.load(view, {content: content, reload: true});\n                },\n                reloadPreviousPage: function (url) {\n                    return app.router.load(view, {url: url, reloadPrevious: true, reload: true});\n                },\n                reloadPreviousContent: function (content) {\n                    return app.router.load(view, {content: content, reloadPrevious: true, reload: true});\n                },\n                refreshPage: function () {\n                    var options = {\n                        url: view.url,\n                        reload: true,\n                        ignoreCache: true\n                    };\n                    if (options.url && options.url.indexOf('#') === 0) {\n                        if (view.params.domCache && view.pagesCache[options.url]) {\n                            options.pageName = view.pagesCache[options.url];\n                            options.url = undefined;\n                            delete options.url;\n                        }\n                        else if (view.contentCache[options.url]) {\n                            options.content = view.contentCache[options.url];\n                            options.url = undefined;\n                            delete options.url;\n                        }\n                    }\n                    return app.router.load(view, options);\n                },\n                refreshPreviousPage: function () {\n                    var options = {\n                        url: view.history[view.history.length - 2],\n                        reload: true,\n                        reloadPrevious: true,\n                        ignoreCache: true\n                    };\n                    if (options.url && options.url.indexOf('#') === 0 && view.params.domCache && view.pagesCache[options.url]) {\n                        options.pageName = view.pagesCache[options.url];\n                        options.url = undefined;\n                        delete options.url;\n                    }\n                    return app.router.load(view, options);\n                }\n            };\n        \n            // Aliases for temporary backward compatibility\n            view.loadPage = view.router.loadPage;\n            view.loadContent = view.router.loadContent;\n            view.reloadPage = view.router.reloadPage;\n            view.reloadContent = view.router.reloadContent;\n            view.reloadPreviousPage = view.router.reloadPreviousPage;\n            view.reloadPreviousContent = view.router.reloadPreviousContent;\n            view.refreshPage = view.router.refreshPage;\n            view.refreshPreviousPage = view.router.refreshPreviousPage;\n            view.back = view.router.back;\n        \n            // Bars methods\n            view.hideNavbar = function () {\n                return app.hideNavbar(container.find('.navbar'));\n            };\n            view.showNavbar = function () {\n                return app.showNavbar(container.find('.navbar'));\n            };\n            view.hideToolbar = function () {\n                return app.hideToolbar(container.find('.toolbar'));\n            };\n            view.showToolbar = function () {\n                return app.showToolbar(container.find('.toolbar'));\n            };\n        \n            // Push State on load\n            if (app.params.pushState && app.params.pushStateOnLoad && view.main) {\n                var pushStateUrl;\n                var pushStateUrlSplit = docLocation.split(pushStateSeparator)[1];\n                if (pushStateRoot) {\n                    pushStateUrl = docLocation.split(app.params.pushStateRoot + pushStateSeparator)[1];\n                }\n                else if (pushStateSeparator && docLocation.indexOf(pushStateSeparator) >= 0 && docLocation.indexOf(pushStateSeparator + '#') < 0) {\n                    pushStateUrl = pushStateUrlSplit;\n                }\n                var pushStateAnimatePages = app.params.pushStateNoAnimation ? false : undefined;\n                var historyState = history.state;\n                if (pushStateUrl) {\n                    if (pushStateUrl.indexOf('#') >= 0 && view.params.domCache && historyState && historyState.pageName && 'viewIndex' in historyState) {\n                        app.router.load(view, {pageName: historyState.pageName, url: historyState.url, animatePages: pushStateAnimatePages, pushState: false});\n                    }\n                    else if (pushStateUrl.indexOf('#') >= 0 && view.params.domCache && view.initialPagesUrl.indexOf(pushStateUrl) >= 0) {\n                        app.router.load(view, {pageName: pushStateUrl.replace('#',''), animatePages: pushStateAnimatePages, pushState: false});\n                    }\n                    else app.router.load(view, {url: pushStateUrl, animatePages: pushStateAnimatePages, pushState: false});\n                }\n                else if (view.params.domCache && docLocation.indexOf(pushStateSeparator + '#') >= 0) {\n                    if (historyState && historyState.pageName && 'viewIndex' in historyState) {\n                        app.router.load(view, {pageName: historyState.pageName, url: historyState.url, animatePages: pushStateAnimatePages, pushState: false});\n                    }\n                    else if (pushStateSeparator && pushStateUrlSplit.indexOf('#') === 0) {\n                        if (view.initialPagesUrl.indexOf(pushStateUrlSplit)) {\n                            app.router.load(view, {pageName: pushStateUrlSplit.replace('#', ''), animatePages: pushStateAnimatePages, pushState: false});\n                        }\n                    }\n                }\n            }\n        \n            // Destroy\n            view.destroy = function () {\n                view.detachEvents();\n                view = undefined;\n            };\n        \n            // Plugin hook\n            app.pluginHook('addView', view);\n        \n            // Return view\n            return view;\n        };\n        \n        app.addView = function (selector, params) {\n            return new View(selector, params);\n        };\n        \n        app.getCurrentView = function (index) {\n            var popoverView = $('.popover.modal-in .view');\n            var popupView = $('.popup.modal-in .view');\n            var panelView = $('.panel.active .view');\n            var appViews = $('.views');\n            // Find active view as tab\n            var appView = appViews.children('.view');\n            // Propably in tabs or split view\n            if (appView.length > 1) {\n                if (appView.hasClass('tab')) {\n                    // Tabs\n                    appView = appViews.children('.view.active');\n                }\n                else {\n                    // Split View, leave appView intact\n                }\n            }\n            if (popoverView.length > 0 && popoverView[0].f7View) return popoverView[0].f7View;\n            if (popupView.length > 0 && popupView[0].f7View) return popupView[0].f7View;\n            if (panelView.length > 0 && panelView[0].f7View) return panelView[0].f7View;\n            if (appView.length > 0) {\n                if (appView.length === 1 && appView[0].f7View) return appView[0].f7View;\n                if (appView.length > 1) {\n                    var currentViews = [];\n                    for (var i = 0; i < appView.length; i++) {\n                        if (appView[i].f7View) currentViews.push(appView[i].f7View);\n                    }\n                    if (currentViews.length > 0 && typeof index !== 'undefined') return currentViews[index];\n                    if (currentViews.length > 1) return currentViews;\n                    if (currentViews.length === 1) return currentViews[0];\n                    return undefined;\n                }\n            }\n            return undefined;\n        };\n        \n\n        /*======================================================\n        ************   Navbars && Toolbars   ************\n        ======================================================*/\n        // On Navbar Init Callback\n        app.navbarInitCallback = function (view, pageContainer, navbarContainer, navbarInnerContainer) {\n            if (!navbarContainer && navbarInnerContainer) navbarContainer = $(navbarInnerContainer).parent('.navbar')[0];\n            if (navbarInnerContainer.f7NavbarInitialized && view && !view.params.domCache) return;\n            var navbarData = {\n                container: navbarContainer,\n                innerContainer: navbarInnerContainer\n            };\n            var pageData = pageContainer && pageContainer.f7PageData;\n        \n            var eventData = {\n                page: pageData,\n                navbar: navbarData\n            };\n        \n            if (navbarInnerContainer.f7NavbarInitialized && ((view && view.params.domCache) || (!view && $(navbarContainer).parents('.popup, .popover, .login-screen, .modal, .actions-modal, .picker-modal').length > 0))) {\n                // Reinit Navbar\n                app.reinitNavbar(navbarContainer, navbarInnerContainer);\n        \n                // Plugin hook\n                app.pluginHook('navbarReinit', eventData);\n        \n                // Event\n                $(navbarInnerContainer).trigger('navbarReinit', eventData);\n                return;\n            }\n            navbarInnerContainer.f7NavbarInitialized = true;\n            // Before Init\n            app.pluginHook('navbarBeforeInit', navbarData, pageData);\n            $(navbarInnerContainer).trigger('navbarBeforeInit', eventData);\n        \n            // Initialize Navbar\n            app.initNavbar(navbarContainer, navbarInnerContainer);\n        \n            // On init\n            app.pluginHook('navbarInit', navbarData, pageData);\n            $(navbarInnerContainer).trigger('navbarInit', eventData);\n        };\n        // Navbar Remove Callback\n        app.navbarRemoveCallback = function (view, pageContainer, navbarContainer, navbarInnerContainer) {\n            if (!navbarContainer && navbarInnerContainer) navbarContainer = $(navbarInnerContainer).parent('.navbar')[0];\n            var navbarData = {\n                container: navbarContainer,\n                innerContainer: navbarInnerContainer\n            };\n            var pageData = pageContainer.f7PageData;\n        \n            var eventData = {\n                page: pageData,\n                navbar: navbarData\n            };\n            app.pluginHook('navbarBeforeRemove', navbarData, pageData);\n            $(navbarInnerContainer).trigger('navbarBeforeRemove', eventData);\n        };\n        app.initNavbar = function (navbarContainer, navbarInnerContainer) {\n            // Init Subnavbar Searchbar\n            if (app.initSearchbar) app.initSearchbar(navbarInnerContainer);\n        };\n        app.reinitNavbar = function (navbarContainer, navbarInnerContainer) {\n            // Re init navbar methods\n        };\n        app.initNavbarWithCallback = function (navbarContainer) {\n            navbarContainer = $(navbarContainer);\n            var viewContainer = navbarContainer.parents('.' + app.params.viewClass);\n            var view;\n            if (viewContainer.length === 0) return;\n            if (navbarContainer.parents('.navbar-through').length === 0 && viewContainer.find('.navbar-through').length === 0) return;\n            view = viewContainer[0].f7View || undefined;\n        \n            navbarContainer.find('.navbar-inner').each(function () {\n                var navbarInnerContainer = this;\n                var pageContainer;\n                if ($(navbarInnerContainer).attr('data-page')) {\n                    // For dom cache\n                    pageContainer = viewContainer.find('.page[data-page=\"' + $(navbarInnerContainer).attr('data-page') + '\"]')[0];\n                }\n                if (!pageContainer) {\n                    var pages = viewContainer.find('.page');\n                    if (pages.length === 1) {\n                        pageContainer = pages[0];\n                    }\n                    else {\n                        viewContainer.find('.page').each(function () {\n                            if (this.f7PageData && this.f7PageData.navbarInnerContainer === navbarInnerContainer) {\n                                pageContainer = this;\n                            }\n                        });\n                    }\n                }\n                app.navbarInitCallback(view, pageContainer, navbarContainer[0], navbarInnerContainer);\n            });\n        };\n        \n        // Size Navbars\n        app.sizeNavbars = function (viewContainer) {\n            if (app.params.material) return;\n            var navbarInner = viewContainer ? $(viewContainer).find('.navbar .navbar-inner:not(.cached)') : $('.navbar .navbar-inner:not(.cached)');\n            navbarInner.each(function () {\n                var n = $(this);\n                if (n.hasClass('cached')) return;\n                var left = app.rtl ? n.find('.right') : n.find('.left'),\n                    right = app.rtl ? n.find('.left') : n.find('.right'),\n                    center = n.find('.center'),\n                    subnavbar = n.find('.subnavbar'),\n                    noLeft = left.length === 0,\n                    noRight = right.length === 0,\n                    leftWidth = noLeft ? 0 : left.outerWidth(true),\n                    rightWidth = noRight ? 0 : right.outerWidth(true),\n                    centerWidth = center.outerWidth(true),\n                    navbarStyles = n.styles(),\n                    navbarWidth = n[0].offsetWidth - parseInt(navbarStyles.paddingLeft, 10) - parseInt(navbarStyles.paddingRight, 10),\n                    onLeft = n.hasClass('navbar-on-left'),\n                    currLeft, diff;\n        \n                if (noRight) {\n                    currLeft = navbarWidth - centerWidth;\n                }\n                if (noLeft) {\n                    currLeft = 0;\n                }\n                if (!noLeft && !noRight) {\n                    currLeft = (navbarWidth - rightWidth - centerWidth + leftWidth) / 2;\n                }\n                var requiredLeft = (navbarWidth - centerWidth) / 2;\n                if (navbarWidth - leftWidth - rightWidth > centerWidth) {\n                    if (requiredLeft < leftWidth) {\n                        requiredLeft = leftWidth;\n                    }\n                    if (requiredLeft + centerWidth > navbarWidth - rightWidth) {\n                        requiredLeft = navbarWidth - rightWidth - centerWidth;\n                    }\n                    diff = requiredLeft - currLeft;\n                }\n                else {\n                    diff = 0;\n                }\n                // RTL inverter\n                var inverter = app.rtl ? -1 : 1;\n        \n                if (center.hasClass('sliding')) {\n                    center[0].f7NavbarLeftOffset = -(currLeft + diff) * inverter;\n                    center[0].f7NavbarRightOffset = (navbarWidth - currLeft - diff - centerWidth) * inverter;\n                    if (onLeft) {\n                        if (app.params.animateNavBackIcon) {\n                            var activeNavbarBackLink = n.parent().find('.navbar-on-center').find('.left.sliding .back .icon ~ span');\n                            if (activeNavbarBackLink.length > 0) {\n                                center[0].f7NavbarLeftOffset += activeNavbarBackLink[0].offsetLeft;\n                            }\n                        }\n                        center.transform('translate3d(' + center[0].f7NavbarLeftOffset + 'px, 0, 0)');\n                    }\n                }\n                if (!noLeft && left.hasClass('sliding')) {\n                    if (app.rtl) {\n                        left[0].f7NavbarLeftOffset = -(navbarWidth - left[0].offsetWidth) / 2 * inverter;\n                        left[0].f7NavbarRightOffset = leftWidth * inverter;\n                    }\n                    else {\n                        left[0].f7NavbarLeftOffset = -leftWidth;\n                        left[0].f7NavbarRightOffset = (navbarWidth - left[0].offsetWidth) / 2;\n                        if (app.params.animateNavBackIcon && left.find('.back .icon').length > 0) {\n                            left[0].f7NavbarRightOffset -= left.find('.back .icon')[0].offsetWidth;\n                        }\n                    }\n                    if (onLeft) left.transform('translate3d(' + left[0].f7NavbarLeftOffset + 'px, 0, 0)');\n                }\n                if (!noRight && right.hasClass('sliding')) {\n                    if (app.rtl) {\n                        right[0].f7NavbarLeftOffset = -rightWidth * inverter;\n                        right[0].f7NavbarRightOffset = (navbarWidth - right[0].offsetWidth) / 2 * inverter;\n                    }\n                    else {\n                        right[0].f7NavbarLeftOffset = -(navbarWidth - right[0].offsetWidth) / 2;\n                        right[0].f7NavbarRightOffset = rightWidth;\n                    }\n                    if (onLeft) right.transform('translate3d(' + right[0].f7NavbarLeftOffset + 'px, 0, 0)');\n                }\n                if (subnavbar.length && subnavbar.hasClass('sliding')) {\n                    subnavbar[0].f7NavbarLeftOffset = app.rtl ? subnavbar[0].offsetWidth : -subnavbar[0].offsetWidth;\n                    subnavbar[0].f7NavbarRightOffset = -subnavbar[0].f7NavbarLeftOffset;\n                }\n        \n                // Center left\n                var centerLeft = diff;\n                if (app.rtl && noLeft && noRight && center.length > 0) centerLeft = -centerLeft;\n                center.css({left: centerLeft + 'px'});\n                \n            });\n        };\n        \n        // Hide/Show Navbars/Toolbars\n        app.hideNavbar = function (navbarContainer) {\n            $(navbarContainer).addClass('navbar-hidden');\n            return true;\n        };\n        app.showNavbar = function (navbarContainer) {\n            var navbar = $(navbarContainer);\n            navbar.addClass('navbar-hiding').removeClass('navbar-hidden').transitionEnd(function () {\n                navbar.removeClass('navbar-hiding');\n            });\n            return true;\n        };\n        app.hideToolbar = function (toolbarContainer) {\n            $(toolbarContainer).addClass('toolbar-hidden');\n            return true;\n        };\n        app.showToolbar = function (toolbarContainer) {\n            var toolbar = $(toolbarContainer);\n            toolbar.addClass('toolbar-hiding').removeClass('toolbar-hidden').transitionEnd(function () {\n                toolbar.removeClass('toolbar-hiding');\n            });\n        };\n        \n\n        /*======================================================\n        ************   Searchbar   ************\n        ======================================================*/\n        var Searchbar = function (container, params) {\n            var defaults = {\n                input: null,\n                clearButton: null,\n                cancelButton: null,\n                searchList: null,\n                searchIn: '.item-title',\n                searchBy: '',\n                found: null,\n                notFound: null,\n                overlay: null,\n                ignore: '.searchbar-ignore',\n                customSearch: false,\n                removeDiacritics: false,\n                hideDividers: true,\n                hideGroups: true,\n                /* Callbacks\n                onSearch\n                onEnable\n                onDisable\n                onClear\n                */\n        \n            };\n            params = params || {};\n            for (var def in defaults) {\n                if (typeof params[def] === 'undefined' || params[def] === null) {\n                    params[def] = defaults[def];\n                }\n            }\n            \n            // Instance\n            var s = this;\n        \n            // Material\n            s.material = app.params.material;\n        \n            // Params\n            s.params = params;\n        \n            // Container\n            container = $(container);\n            s.container = container;\n        \n            // Active\n            s.active = false;\n        \n            // Input\n            s.input = s.params.input ? $(s.params.input) : s.container.find('input[type=\"search\"]');\n            s.clearButton = s.params.clearButton ? $(s.params.clearButton) : s.container.find('.searchbar-clear');\n            s.cancelButton = s.params.cancelButton ? $(s.params.cancelButton) : s.container.find('.searchbar-cancel');\n        \n            // Search List\n            s.searchList = $(s.params.searchList);\n        \n            // Is Virtual List\n            s.isVirtualList = s.searchList.hasClass('virtual-list');\n        \n            // Is In Page\n            s.pageContainer = s.container.parents('.page').eq(0);\n        \n            // Overlay\n            if (!s.params.overlay) {\n                s.overlay = s.pageContainer.length > 0 ? s.pageContainer.find('.searchbar-overlay') : $('.searchbar-overlay');\n            }\n            else {\n                s.overlay = $(s.params.overlay);\n            }\n            // Found and not found\n            if (!s.params.found) {\n                s.found = s.pageContainer.length > 0 ? s.pageContainer.find('.searchbar-found') : $('.searchbar-found');\n            }\n            else {\n                s.found = $(s.params.found);\n            }\n            if (!s.params.notFound) {\n                s.notFound = s.pageContainer.length > 0 ? s.pageContainer.find('.searchbar-not-found') : $('.searchbar-not-found');\n            }\n            else {\n                s.notFound = $(s.params.notFound);\n            }\n        \n            \n        \n            // Diacritics\n            var defaultDiacriticsRemovalap = [\n                {base:'A', letters:'\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F'},\n                {base:'AA',letters:'\\uA732'},\n                {base:'AE',letters:'\\u00C6\\u01FC\\u01E2'},\n                {base:'AO',letters:'\\uA734'},\n                {base:'AU',letters:'\\uA736'},\n                {base:'AV',letters:'\\uA738\\uA73A'},\n                {base:'AY',letters:'\\uA73C'},\n                {base:'B', letters:'\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181'},\n                {base:'C', letters:'\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E'},\n                {base:'D', letters:'\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779'},\n                {base:'DZ',letters:'\\u01F1\\u01C4'},\n                {base:'Dz',letters:'\\u01F2\\u01C5'},\n                {base:'E', letters:'\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E'},\n                {base:'F', letters:'\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B'},\n                {base:'G', letters:'\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E'},\n                {base:'H', letters:'\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D'},\n                {base:'I', letters:'\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197'},\n                {base:'J', letters:'\\u004A\\u24BF\\uFF2A\\u0134\\u0248'},\n                {base:'K', letters:'\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2'},\n                {base:'L', letters:'\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780'},\n                {base:'LJ',letters:'\\u01C7'},\n                {base:'Lj',letters:'\\u01C8'},\n                {base:'M', letters:'\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C'},\n                {base:'N', letters:'\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4'},\n                {base:'NJ',letters:'\\u01CA'},\n                {base:'Nj',letters:'\\u01CB'},\n                {base:'O', letters:'\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C'},\n                {base:'OI',letters:'\\u01A2'},\n                {base:'OO',letters:'\\uA74E'},\n                {base:'OU',letters:'\\u0222'},\n                {base:'OE',letters:'\\u008C\\u0152'},\n                {base:'oe',letters:'\\u009C\\u0153'},\n                {base:'P', letters:'\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754'},\n                {base:'Q', letters:'\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A'},\n                {base:'R', letters:'\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782'},\n                {base:'S', letters:'\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784'},\n                {base:'T', letters:'\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786'},\n                {base:'TZ',letters:'\\uA728'},\n                {base:'U', letters:'\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244'},\n                {base:'V', letters:'\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245'},\n                {base:'VY',letters:'\\uA760'},\n                {base:'W', letters:'\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72'},\n                {base:'X', letters:'\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C'},\n                {base:'Y', letters:'\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE'},\n                {base:'Z', letters:'\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762'},\n                {base:'a', letters:'\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250'},\n                {base:'aa',letters:'\\uA733'},\n                {base:'ae',letters:'\\u00E6\\u01FD\\u01E3'},\n                {base:'ao',letters:'\\uA735'},\n                {base:'au',letters:'\\uA737'},\n                {base:'av',letters:'\\uA739\\uA73B'},\n                {base:'ay',letters:'\\uA73D'},\n                {base:'b', letters:'\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253'},\n                {base:'c', letters:'\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184'},\n                {base:'d', letters:'\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A'},\n                {base:'dz',letters:'\\u01F3\\u01C6'},\n                {base:'e', letters:'\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD'},\n                {base:'f', letters:'\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C'},\n                {base:'g', letters:'\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F'},\n                {base:'h', letters:'\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265'},\n                {base:'hv',letters:'\\u0195'},\n                {base:'i', letters:'\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131'},\n                {base:'j', letters:'\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249'},\n                {base:'k', letters:'\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3'},\n                {base:'l', letters:'\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747'},\n                {base:'lj',letters:'\\u01C9'},\n                {base:'m', letters:'\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F'},\n                {base:'n', letters:'\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5'},\n                {base:'nj',letters:'\\u01CC'},\n                {base:'o', letters:'\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275'},\n                {base:'oi',letters:'\\u01A3'},\n                {base:'ou',letters:'\\u0223'},\n                {base:'oo',letters:'\\uA74F'},\n                {base:'p',letters:'\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755'},\n                {base:'q',letters:'\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759'},\n                {base:'r',letters:'\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783'},\n                {base:'s',letters:'\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B'},\n                {base:'t',letters:'\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787'},\n                {base:'tz',letters:'\\uA729'},\n                {base:'u',letters: '\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289'},\n                {base:'v',letters:'\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C'},\n                {base:'vy',letters:'\\uA761'},\n                {base:'w',letters:'\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73'},\n                {base:'x',letters:'\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D'},\n                {base:'y',letters:'\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF'},\n                {base:'z',letters:'\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763'}\n            ];\n        \n            var diacriticsMap = {};\n            for (var i=0; i < defaultDiacriticsRemovalap.length; i++){\n                var letters = defaultDiacriticsRemovalap[i].letters;\n                for (var j=0; j < letters.length ; j++){\n                    diacriticsMap[letters[j]] = defaultDiacriticsRemovalap[i].base;\n                }\n            }\n        \n            function removeDiacritics (str) {\n                return str.replace(/[^\\u0000-\\u007E]/g, function(a){ \n                   return diacriticsMap[a] || a; \n                });\n            }\n        \n            // Set Cancel button\n            var cancelMarginProp = app.rtl ? 'margin-left' : 'margin-right';\n            var cancelButtonHasMargin = false;\n            s.setCancelButtonMargin = function () {\n                s.cancelButton.transition(0).show();\n                s.cancelButton.css(cancelMarginProp, -s.cancelButton[0].offsetWidth + 'px');\n                var clientLeft = s.cancelButton[0].clientLeft;\n                s.cancelButton.transition('');\n                cancelButtonHasMargin = true;\n            };\n        \n            // Trigger\n            s.triggerEvent = function (eventName, callbackName, eventData) {\n                s.container.trigger(eventName, eventData);\n                if (s.searchList.length > 0) s.searchList.trigger(eventName, eventData);\n                if (callbackName && s.params[callbackName]) s.params[callbackName](s, eventData);\n            };\n        \n            // Enable/disalbe\n            s.enable = function (e) {\n                function _enable() {\n                    if ((s.searchList.length || s.params.customSearch) && !s.container.hasClass('searchbar-active') && !s.query) s.overlay.addClass('searchbar-overlay-active');\n                    s.container.addClass('searchbar-active');\n                    if (s.cancelButton.length > 0 && !s.material) {\n                        if (!cancelButtonHasMargin) {\n                            s.setCancelButtonMargin();\n                        }\n                        s.cancelButton.css(cancelMarginProp, '0px');\n                    }\n                    s.triggerEvent('enableSearch', 'onEnable');\n                    s.active = true;\n                }\n                if (app.device.ios && !app.params.material && e && e.type === 'focus') {\n                    setTimeout(function () {\n                        _enable();\n                    }, 400);\n                }\n                else {\n                    _enable();\n                }\n            };\n        \n            s.disable = function () {\n                s.input.val('').trigger('change');\n                s.container.removeClass('searchbar-active searchbar-not-empty');\n                if (s.cancelButton.length > 0 && !s.material) s.cancelButton.css(cancelMarginProp, -s.cancelButton[0].offsetWidth + 'px');\n        \n                if (s.searchList.length || s.params.customSearch) s.overlay.removeClass('searchbar-overlay-active');\n        \n                s.active = false;\n                function _disable() {\n                    s.input.blur();\n                }\n                if (app.device.ios) {\n                    setTimeout(function () {\n                        _disable();\n                    }, 400);\n                }\n                else {\n                    _disable();\n                }\n                s.triggerEvent('disableSearch', 'onDisable');\n            };\n        \n            // Clear\n            s.clear = function (e) {\n                if (!s.query && e && $(e.target).hasClass('searchbar-clear')) {\n                    s.disable();\n                    return;\n                }\n                s.input.val('').trigger('change').focus();\n                s.triggerEvent('clearSearch', 'onClear');\n            };\n        \n            // Search\n            s.handleInput = function () {\n                setTimeout(function () {\n                    var value = s.input.val().trim();\n                    if ((s.searchList.length > 0 || s.params.customSearch) && (s.params.searchIn || s.isVirtualList)) s.search(value, true);\n                }, 0);\n            };\n        \n            var previousQuery = '';\n            var virtualList;\n            s.search = function (query, internal) {\n                if (query.trim() === previousQuery) return;\n                previousQuery = query.trim();\n        \n                if (!internal) {\n                    if (!s.active) {\n                        s.enable();\n                    }\n                    s.input.val(query);\n                }\n                s.query = s.value = query;\n                // Add active/inactive classes on overlay\n                if (query.length === 0) {\n                    s.container.removeClass('searchbar-not-empty');\n                    if (s.searchList.length && s.container.hasClass('searchbar-active')) s.overlay.addClass('searchbar-overlay-active');\n                }\n                else {\n                    s.container.addClass('searchbar-not-empty');\n                    if (s.searchList.length && s.container.hasClass('searchbar-active')) s.overlay.removeClass('searchbar-overlay-active');\n                }\n        \n                if (s.params.customSearch) {\n                    s.triggerEvent('search', 'onSearch', {query: query});\n                    return;\n                }\n                \n                var foundItems = [];\n                if (s.isVirtualList) {\n                    virtualList = s.searchList[0].f7VirtualList;\n                    if (query.trim() === '') {\n                        virtualList.resetFilter();\n                        s.notFound.hide();\n                        s.found.show();\n                        return;\n                    }\n                    if (virtualList.params.searchAll) {\n                        foundItems = virtualList.params.searchAll(query, virtualList.items) || [];\n                    }\n                    else if (virtualList.params.searchByItem) {\n                        for (var i = 0; i < virtualList.items.length; i++) {\n                            if(virtualList.params.searchByItem(query, i, virtualList.params.items[i])) {\n                                foundItems.push(i);\n                            }\n                        }\n                    }\n                }\n                else {\n                    var values;\n                    if (s.params.removeDiacritics) values = removeDiacritics(query.trim().toLowerCase()).split(' ');\n                    else {\n                        values = query.trim().toLowerCase().split(' ');\n                    }\n                    s.searchList.find('li').removeClass('hidden-by-searchbar').each(function (index, el) {\n                        el = $(el);\n                        var compareWithText = [];\n                        el.find(s.params.searchIn).each(function () {\n                            var itemText = $(this).text().trim().toLowerCase();\n                            if (s.params.removeDiacritics) itemText = removeDiacritics(itemText);\n                            compareWithText.push(itemText);\n                        });\n                        compareWithText = compareWithText.join(' ');\n                        var wordsMatch = 0;\n                        for (var i = 0; i < values.length; i++) {\n                            if (compareWithText.indexOf(values[i]) >= 0) wordsMatch++;\n                        }\n                        if (wordsMatch !== values.length && !(s.params.ignore && el.is(s.params.ignore))) {\n                            el.addClass('hidden-by-searchbar');\n                        }\n                        else {\n                            foundItems.push(el[0]);\n                        }\n                    });\n        \n                    if (s.params.hideDividers) {\n                        s.searchList.find('.item-divider, .list-group-title').each(function () {\n                            var title = $(this);\n                            var nextElements = title.nextAll('li');\n                            var hide = true;\n                            for (var i = 0; i < nextElements.length; i++) {\n                                var nextEl = $(nextElements[i]);\n                                if (nextEl.hasClass('list-group-title') || nextEl.hasClass('item-divider')) break;\n                                if (!nextEl.hasClass('hidden-by-searchbar')) {\n                                    hide = false;\n                                }\n                            }\n                            var ignore = s.params.ignore && title.is(s.params.ignore);\n                            if (hide && !ignore) title.addClass('hidden-by-searchbar');\n                            else title.removeClass('hidden-by-searchbar');\n                        });\n                    }\n                    if (s.params.hideGroups) {\n                        s.searchList.find('.list-group').each(function () {\n                            var group = $(this);\n                            var ignore = s.params.ignore && group.is(s.params.ignore);\n                            var notHidden = group.find('li:not(.hidden-by-searchbar)');\n                            if (notHidden.length === 0 && !ignore) {\n                                group.addClass('hidden-by-searchbar');\n                            }\n                            else {\n                                group.removeClass('hidden-by-searchbar');\n                            }\n                        });\n                    }\n                }\n                s.triggerEvent('search', 'onSearch', {query: query, foundItems: foundItems});\n                if (foundItems.length === 0) {\n                    s.notFound.show();\n                    s.found.hide();\n                }\n                else {\n                    s.notFound.hide();\n                    s.found.show();\n                }\n                if (s.isVirtualList) {\n                    virtualList.filterItems(foundItems);\n                }\n            };\n        \n            // Events\n            function preventSubmit(e) {\n                e.preventDefault();\n            }\n        \n            s.attachEvents = function (destroy) {\n                var method = destroy ? 'off' : 'on';\n                s.container[method]('submit', preventSubmit);\n                if (!s.material) s.cancelButton[method]('click', s.disable);\n                s.overlay[method]('click', s.disable);\n                s.input[method]('focus', s.enable);\n                s.input[method]('change keydown keypress keyup', s.handleInput);\n                s.clearButton[method]('click', s.clear);\n                    \n            };\n            s.detachEvents = function() {\n                s.attachEvents(true);\n            };\n        \n            // Init Destroy\n            s.init = function () {\n                s.attachEvents();\n            };\n            s.destroy = function () {\n                if (!s) return;\n                s.detachEvents();\n                s = null;\n            };\n        \n            // Init\n            s.init();\n        \n            s.container[0].f7Searchbar = s;\n            return s;\n        \n        };\n        app.searchbar = function (container, params) {\n            return new Searchbar(container, params);\n        };\n        app.initSearchbar = function (container) {\n            container = $(container);\n            var searchbar = container.hasClass('searchbar') ? container : container.find('.searchbar');\n            if (searchbar.length === 0) return;\n            if (!searchbar.hasClass('searchbar-init')) return;\n        \n            var sb = app.searchbar(searchbar, searchbar.dataset());\n        \n            function onBeforeRemove() {\n                if (sb) sb.destroy();\n            }\n            if (container.hasClass('page')) {\n                container.once('pageBeforeRemove', onBeforeRemove);   \n            }\n            else if (container.hasClass('navbar-inner')) {\n                container.once('navbarBeforeRemove', onBeforeRemove);\n            }\n        };\n\n        /*======================================================\n        ************   Messagebar   ************\n        ======================================================*/\n        var Messagebar = function (container, params) {\n            var defaults = {\n                textarea: null,\n                maxHeight: null,\n            };\n            params = params || {};\n            for (var def in defaults) {\n                if (typeof params[def] === 'undefined' || params[def] === null) {\n                    params[def] = defaults[def];\n                }\n            }\n            \n            // Instance\n            var m = this;\n        \n            // Params\n            m.params = params;\n        \n            // Container\n            m.container = $(container);\n            if (m.container.length === 0) return;\n        \n            // Textarea\n            m.textarea = m.params.textarea ? $(m.params.textarea) : m.container.find('textarea');\n        \n            // Is In Page\n            m.pageContainer = m.container.parents('.page').eq(0);\n            m.pageContent = m.pageContainer.find('.page-content');\n        \n            // Initial Sizes\n            m.pageContentPadding = parseInt(m.pageContent.css('padding-bottom'));\n            m.initialBarHeight = m.container[0].offsetHeight;\n            m.initialAreaHeight = m.textarea[0].offsetHeight;\n            \n        \n            // Resize textarea\n            m.sizeTextarea = function () {\n                // Reset\n                m.textarea.css({'height': ''});\n                \n                var height = m.textarea[0].offsetHeight;\n                var diff = height - m.textarea[0].clientHeight;\n                var scrollHeight = m.textarea[0].scrollHeight;\n        \n                // Update\n                if (scrollHeight + diff > height) {\n                    var newAreaHeight = scrollHeight + diff;\n                    var newBarHeight = m.initialBarHeight + (newAreaHeight - m.initialAreaHeight);\n                    var maxBarHeight = m.params.maxHeight || m.container.parents('.view')[0].offsetHeight - 88;\n                    if (newBarHeight > maxBarHeight) {\n                        newBarHeight = parseInt(maxBarHeight, 10);\n                        newAreaHeight = newBarHeight - m.initialBarHeight + m.initialAreaHeight;\n                    }\n                    m.textarea.css('height', newAreaHeight + 'px');\n                    m.container.css('height', newBarHeight + 'px');\n                    var onBottom = (m.pageContent[0].scrollTop === m.pageContent[0].scrollHeight - m.pageContent[0].offsetHeight);\n                    if (m.pageContent.length > 0) {\n                        m.pageContent.css('padding-bottom', newBarHeight + 'px');\n                        if (m.pageContent.find('.messages-new-first').length === 0 && onBottom) {\n                            m.pageContent.scrollTop(m.pageContent[0].scrollHeight - m.pageContent[0].offsetHeight);\n                        }\n                    }\n                }\n                else {\n                    if (m.pageContent.length > 0) {\n                        m.container.css({'height': '', 'bottom': ''});\n                        m.pageContent.css({'padding-bottom': ''});\n                    }\n                }\n            };\n            \n            // Clear\n            m.clear = function () {\n                m.textarea.val('').trigger('change');\n            };\n            m.value = function (value) {\n                if (typeof value === 'undefined') return m.textarea.val();\n                else m.textarea.val(value).trigger('change');  \n            };\n            \n            // Handle textarea\n            m.textareaTimeout = undefined;\n            m.handleTextarea = function (e) {\n                clearTimeout(m.textareaTimeout);\n                m.textareaTimeout = setTimeout(function () {\n                    m.sizeTextarea();\n                }, 0);\n            };\n        \n            //Events\n            function preventSubmit(e) {\n                e.preventDefault();\n            }\n        \n            m.attachEvents = function (destroy) {\n                var method = destroy ? 'off' : 'on';\n                m.container[method]('submit', preventSubmit);\n                m.textarea[method]('change keydown keypress keyup paste cut', m.handleTextarea);\n            };\n            m.detachEvents = function () {\n                m.attachEvents(true);\n            };\n            \n            // Init Destroy\n            m.init = function () {\n                m.attachEvents();\n            };\n            m.destroy = function () {\n                m.detachEvents();\n                m = null;\n            };\n        \n            // Init\n            m.init();\n        \n            m.container[0].f7Messagebar = m;\n            return m;\n        };\n        app.messagebar = function (container, params) {\n            return new Messagebar(container, params);\n        };\n        app.initPageMessagebar = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            var messagebar = pageContainer.hasClass('messagebar') ? pageContainer : pageContainer.find('.messagebar');\n            if (messagebar.length === 0) return;\n            if (!messagebar.hasClass('messagebar-init')) return;\n            var mb = app.messagebar(messagebar, messagebar.dataset());\n        \n            // Destroy on page remove\n            function pageBeforeRemove() {\n                mb.destroy();\n                pageContainer.off('pageBeforeRemove', pageBeforeRemove);\n            }\n            if (pageContainer.hasClass('page')) {\n                pageContainer.on('pageBeforeRemove', pageBeforeRemove);\n            }\n        };\n\n        /*======================================================\n        ************   XHR   ************\n        ======================================================*/\n        // XHR Caching\n        app.cache = [];\n        app.removeFromCache = function (url) {\n            var index = false;\n            for (var i = 0; i < app.cache.length; i++) {\n                if (app.cache[i].url === url) index = i;\n            }\n            if (index !== false) app.cache.splice(index, 1);\n        };\n        \n        // XHR\n        app.xhr = false;\n        app.get = function (url, view, ignoreCache, callback) {\n            // should we ignore get params or not\n            var _url = url;\n            if (app.params.cacheIgnoreGetParameters && url.indexOf('?') >= 0) {\n                _url = url.split('?')[0];\n            }\n            if (app.params.cache && !ignoreCache && url.indexOf('nocache') < 0 && app.params.cacheIgnore.indexOf(_url) < 0) {\n                // Check is the url cached\n                for (var i = 0; i < app.cache.length; i++) {\n                    if (app.cache[i].url === _url) {\n                        // Check expiration\n                        if ((new Date()).getTime() - app.cache[i].time < app.params.cacheDuration) {\n                            // Load from cache\n                            callback(app.cache[i].content);\n                            return false;\n                        }\n                    }\n                }\n            }\n        \n            app.xhr = $.ajax({\n                url: url,\n                method: 'GET',\n                beforeSend: app.params.onAjaxStart,\n                complete: function (xhr) {\n                    if ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 0) {\n                        if (app.params.cache) {\n                            app.removeFromCache(_url);\n                            app.cache.push({\n                                url: _url,\n                                time: (new Date()).getTime(),\n                                content: xhr.responseText\n                            });\n                        }\n                        callback(xhr.responseText, false);\n                    }\n                    else {\n                        callback(xhr.responseText, true);\n                    }\n                    if (app.params.onAjaxComplete) app.params.onAjaxComplete(xhr);\n                },\n                error: function (xhr) {\n                    callback(xhr.responseText, true);\n                    if (app.params.onAjaxError) app.params.onAjaxError(xhr);\n                }\n            });\n            if (view) view.xhr = app.xhr;\n        \n            return app.xhr;\n        };\n        \n\n        /*======================================================\n        ************   Pages   ************\n        ======================================================*/\n        // Page Callbacks API\n        app.pageCallbacks = {};\n        \n        app.onPage = function (callbackName, pageName, callback) {\n            if (pageName && pageName.split(' ').length > 1) {\n                var pageNames = pageName.split(' ');\n                var returnCallbacks = [];\n                for (var i = 0; i < pageNames.length; i++) {\n                    returnCallbacks.push(app.onPage(callbackName, pageNames[i], callback));\n                }\n                returnCallbacks.remove = function () {\n                    for (var i = 0; i < returnCallbacks.length; i++) {\n                        returnCallbacks[i].remove();\n                    }\n                };\n                returnCallbacks.trigger = function () {\n                    for (var i = 0; i < returnCallbacks.length; i++) {\n                        returnCallbacks[i].trigger();\n                    }\n                };\n                return returnCallbacks;\n            }\n            var callbacks = app.pageCallbacks[callbackName][pageName];\n            if (!callbacks) {\n                callbacks = app.pageCallbacks[callbackName][pageName] = [];\n            }\n            app.pageCallbacks[callbackName][pageName].push(callback);\n            return {\n                remove: function () {\n                    var removeIndex;\n                    for (var i = 0; i < callbacks.length; i++) {\n                        if (callbacks[i].toString() === callback.toString()) {\n                            removeIndex = i;\n                        }\n                    }\n                    if (typeof removeIndex !== 'undefined') callbacks.splice(removeIndex, 1);\n                },\n                trigger: callback\n            };\n        };\n        \n        //Create callbacks methods dynamically\n        function createPageCallback(callbackName) {\n            var capitalized = callbackName.replace(/^./, function (match) {\n                return match.toUpperCase();\n            });\n            app['onPage' + capitalized] = function (pageName, callback) {\n                return app.onPage(callbackName, pageName, callback);\n            };\n        }\n        \n        var pageCallbacksNames = ('beforeInit init reinit beforeAnimation afterAnimation back afterBack beforeRemove').split(' ');\n        for (var i = 0; i < pageCallbacksNames.length; i++) {\n            app.pageCallbacks[pageCallbacksNames[i]] = {};\n            createPageCallback(pageCallbacksNames[i]);\n        }\n        \n        app.triggerPageCallbacks = function (callbackName, pageName, pageData) {\n            var allPagesCallbacks = app.pageCallbacks[callbackName]['*'];\n            if (allPagesCallbacks) {\n                for (var j = 0; j < allPagesCallbacks.length; j++) {\n                    allPagesCallbacks[j](pageData);\n                }\n            }\n            var callbacks = app.pageCallbacks[callbackName][pageName];\n            if (!callbacks || callbacks.length === 0) return;\n            for (var i = 0; i < callbacks.length; i++) {\n                callbacks[i](pageData);\n            }\n        };\n        \n        // On Page Init Callback\n        app.pageInitCallback = function (view, params) {\n            var pageContainer = params.pageContainer;\n            if (pageContainer.f7PageInitialized && view && !view.params.domCache) return;\n        \n            var pageQuery = params.query;\n            if (!pageQuery) {\n                if (params.url && params.url.indexOf('?') > 0) {\n                    pageQuery = $.parseUrlQuery(params.url || '');\n                }\n                else if (pageContainer.f7PageData && pageContainer.f7PageData.query) {\n                    pageQuery = pageContainer.f7PageData.query;\n                }\n                else {\n                    pageQuery = {};\n                }\n            }\n        \n            // Page Data\n            var pageData = {\n                container: pageContainer,\n                url: params.url,\n                query: pageQuery,\n                name: $(pageContainer).attr('data-page'),\n                view: view,\n                from: params.position,\n                context: params.context,\n                navbarInnerContainer: params.navbarInnerContainer,\n                fromPage: params.fromPage\n            };\n            if (params.fromPage && !params.fromPage.navbarInnerContainer && params.oldNavbarInnerContainer) {\n                params.fromPage.navbarInnerContainer = params.oldNavbarInnerContainer;\n            }\n        \n            if (pageContainer.f7PageInitialized && ((view && view.params.domCache) || (!view && $(pageContainer).parents('.popup, .popover, .login-screen, .modal, .actions-modal, .picker-modal').length > 0))) {\n                // Reinit Page\n                app.reinitPage(pageContainer);\n        \n                // Callbacks\n                app.pluginHook('pageReinit', pageData);\n                if (app.params.onPageReinit) app.params.onPageReinit(app, pageData);\n                app.triggerPageCallbacks('reinit', pageData.name, pageData);\n                $(pageData.container).trigger('pageReinit', {page: pageData});\n                return;\n            }\n            pageContainer.f7PageInitialized = true;\n        \n            // Store pagedata in page\n            pageContainer.f7PageData = pageData;\n        \n            // Update View's activePage\n            if (view && !params.preloadOnly && !params.reloadPrevious) {\n                // Add data-page on view\n                $(view.container).attr('data-page', pageData.name);\n                // Update View active page data\n                view.activePage = pageData;\n            }\n        \n            // Before Init Callbacks\n            app.pluginHook('pageBeforeInit', pageData);\n            if (app.params.onPageBeforeInit) app.params.onPageBeforeInit(app, pageData);\n            app.triggerPageCallbacks('beforeInit', pageData.name, pageData);\n            $(pageData.container).trigger('pageBeforeInit', {page: pageData});\n        \n            // Init page\n            app.initPage(pageContainer);\n        \n            // Init Callback\n            app.pluginHook('pageInit', pageData);\n            if (app.params.onPageInit) app.params.onPageInit(app, pageData);\n            app.triggerPageCallbacks('init', pageData.name, pageData);\n            $(pageData.container).trigger('pageInit', {page: pageData});\n        };\n        app.pageRemoveCallback = function (view, pageContainer, position) {\n            var pageContext;\n            if (pageContainer.f7PageData) pageContext = pageContainer.f7PageData.context;\n            // Page Data\n            var pageData = {\n                container: pageContainer,\n                name: $(pageContainer).attr('data-page'),\n                view: view,\n                url: pageContainer.f7PageData && pageContainer.f7PageData.url,\n                query: pageContainer.f7PageData && pageContainer.f7PageData.query,\n                navbarInnerContainer: pageContainer.f7PageData && pageContainer.f7PageData.navbarInnerContainer,\n                from: position,\n                context: pageContext\n            };\n            // Before Init Callback\n            app.pluginHook('pageBeforeRemove', pageData);\n            if (app.params.onPageBeforeRemove) app.params.onPageBeforeRemove(app, pageData);\n            app.triggerPageCallbacks('beforeRemove', pageData.name, pageData);\n            $(pageData.container).trigger('pageBeforeRemove', {page: pageData});\n        };\n        app.pageBackCallback = function (callback, view, params) {\n            // Page Data\n            var pageContainer = params.pageContainer;\n            var pageContext;\n            if (pageContainer.f7PageData) pageContext = pageContainer.f7PageData.context;\n        \n            var pageData = {\n                container: pageContainer,\n                name: $(pageContainer).attr('data-page'),\n                url: pageContainer.f7PageData && pageContainer.f7PageData.url,\n                query: pageContainer.f7PageData && pageContainer.f7PageData.query,\n                view: view,\n                from: params.position,\n                context: pageContext,\n                navbarInnerContainer: pageContainer.f7PageData && pageContainer.f7PageData.navbarInnerContainer,\n                swipeBack: params.swipeBack\n            };\n        \n            if (callback === 'after') {\n                app.pluginHook('pageAfterBack', pageData);\n                if (app.params.onPageAfterBack) app.params.onPageAfterBack(app, pageData);\n                app.triggerPageCallbacks('afterBack', pageData.name, pageData);\n                $(pageContainer).trigger('pageAfterBack', {page: pageData});\n        \n            }\n            if (callback === 'before') {\n                app.pluginHook('pageBack', pageData);\n                if (app.params.onPageBack) app.params.onPageBack(app, pageData);\n                app.triggerPageCallbacks('back', pageData.name, pageData);\n                $(pageData.container).trigger('pageBack', {page: pageData});\n            }\n        };\n        app.pageAnimCallback = function (callback, view, params) {\n            var pageContainer = params.pageContainer;\n            var pageContext;\n            if (pageContainer.f7PageData) pageContext = pageContainer.f7PageData.context;\n        \n            var pageQuery = params.query;\n            if (!pageQuery) {\n                if (params.url && params.url.indexOf('?') > 0) {\n                    pageQuery = $.parseUrlQuery(params.url || '');\n                }\n                else if (pageContainer.f7PageData && pageContainer.f7PageData.query) {\n                    pageQuery = pageContainer.f7PageData.query;\n                }\n                else {\n                    pageQuery = {};\n                }\n            }\n            // Page Data\n            var pageData = {\n                container: pageContainer,\n                url: params.url,\n                query: pageQuery,\n                name: $(pageContainer).attr('data-page'),\n                view: view,\n                from: params.position,\n                context: pageContext,\n                swipeBack: params.swipeBack,\n                navbarInnerContainer: pageContainer.f7PageData && pageContainer.f7PageData.navbarInnerContainer,\n                fromPage: params.fromPage\n            };\n            var oldPage = params.oldPage,\n                newPage = params.newPage;\n        \n            // Update page date\n            pageContainer.f7PageData = pageData;\n        \n            if (callback === 'after') {\n                app.pluginHook('pageAfterAnimation', pageData);\n                if (app.params.onPageAfterAnimation) app.params.onPageAfterAnimation(app, pageData);\n                app.triggerPageCallbacks('afterAnimation', pageData.name, pageData);\n                $(pageData.container).trigger('pageAfterAnimation', {page: pageData});\n        \n            }\n            if (callback === 'before') {\n                // Add data-page on view\n                $(view.container).attr('data-page', pageData.name);\n        \n                // Update View's activePage\n                if (view) view.activePage = pageData;\n        \n                // Hide/show navbar dynamically\n                if (newPage.hasClass('no-navbar') && !oldPage.hasClass('no-navbar')) {\n                    view.hideNavbar();\n                }\n                if (!newPage.hasClass('no-navbar') && (oldPage.hasClass('no-navbar') || oldPage.hasClass('no-navbar-by-scroll'))) {\n                    view.showNavbar();\n                }\n                // Hide/show navbar toolbar\n                if (newPage.hasClass('no-toolbar') && !oldPage.hasClass('no-toolbar')) {\n                    view.hideToolbar();\n                }\n                if (!newPage.hasClass('no-toolbar') && (oldPage.hasClass('no-toolbar') || oldPage.hasClass('no-toolbar-by-scroll'))) {\n                    view.showToolbar();\n                }\n                // Hide/show tabbar\n                var tabBar;\n                if (newPage.hasClass('no-tabbar') && !oldPage.hasClass('no-tabbar')) {\n                    tabBar = $(view.container).find('.tabbar');\n                    if (tabBar.length === 0) tabBar = $(view.container).parents('.' + app.params.viewsClass).find('.tabbar');\n                    app.hideToolbar(tabBar);\n                }\n                if (!newPage.hasClass('no-tabbar') && (oldPage.hasClass('no-tabbar') || oldPage.hasClass('no-tabbar-by-scroll'))) {\n                    tabBar = $(view.container).find('.tabbar');\n                    if (tabBar.length === 0) tabBar = $(view.container).parents('.' + app.params.viewsClass).find('.tabbar');\n                    app.showToolbar(tabBar);\n                }\n        \n                oldPage.removeClass('no-navbar-by-scroll no-toolbar-by-scroll');\n                // Callbacks\n                app.pluginHook('pageBeforeAnimation', pageData);\n                if (app.params.onPageBeforeAnimation) app.params.onPageBeforeAnimation(app, pageData);\n                app.triggerPageCallbacks('beforeAnimation', pageData.name, pageData);\n                $(pageData.container).trigger('pageBeforeAnimation', {page: pageData});\n            }\n        };\n        \n        // Init Page Events and Manipulations\n        app.initPage = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            if (pageContainer.length === 0) return;\n            // Size navbars on page load\n            if (app.sizeNavbars) app.sizeNavbars(pageContainer.parents('.' + app.params.viewClass)[0]);\n            // Init messages\n            if (app.initPageMessages) app.initPageMessages(pageContainer);\n            // Init forms storage\n            if (app.initFormsStorage) app.initFormsStorage(pageContainer);\n            // Init smart select\n            if (app.initSmartSelects) app.initSmartSelects(pageContainer);\n            // Init slider\n            if (app.initPageSwiper) app.initPageSwiper(pageContainer);\n            // Init pull to refres\n            if (app.initPullToRefresh) app.initPullToRefresh(pageContainer);\n            // Init infinite scroll\n            if (app.initPageInfiniteScroll) app.initPageInfiniteScroll(pageContainer);\n            // Init searchbar\n            if (app.initSearchbar) app.initSearchbar(pageContainer);\n            // Init message bar\n            if (app.initPageMessagebar) app.initPageMessagebar(pageContainer);\n            // Init scroll toolbars\n            if (app.initPageScrollToolbars) app.initPageScrollToolbars(pageContainer);\n            // Init lazy images\n            if (app.initImagesLazyLoad) app.initImagesLazyLoad(pageContainer);\n            // Init progress bars\n            if (app.initPageProgressbar) app.initPageProgressbar(pageContainer);\n            // Init resizeable textareas\n            if (app.initPageResizableTextarea) app.initPageResizableTextarea(pageContainer);\n            // Init Material Preloader\n            if (app.params.material && app.initPageMaterialPreloader) app.initPageMaterialPreloader(pageContainer);\n            // Init Material Inputs\n            if (app.params.material && app.initPageMaterialInputs) app.initPageMaterialInputs(pageContainer);\n            // Init Material Tabbar\n            if (app.params.material && app.initPageMaterialTabbar) app.initPageMaterialTabbar(pageContainer);\n        };\n        app.reinitPage = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            if (pageContainer.length === 0) return;\n            // Size navbars on page reinit\n            if (app.sizeNavbars) app.sizeNavbars(pageContainer.parents('.' + app.params.viewClass)[0]);\n            // Reinit slider\n            if (app.reinitPageSwiper) app.reinitPageSwiper(pageContainer);\n            // Reinit lazy load\n            if (app.reinitLazyLoad) app.reinitLazyLoad(pageContainer);\n        };\n        app.initPageWithCallback = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            var viewContainer = pageContainer.parents('.' + app.params.viewClass);\n            if (viewContainer.length === 0) return;\n            var view = viewContainer[0].f7View || undefined;\n            var url = view && view.url ? view.url : undefined;\n            if (viewContainer && pageContainer.attr('data-page')) {\n                viewContainer.attr('data-page', pageContainer.attr('data-page'));\n            }\n            app.pageInitCallback(view, {pageContainer: pageContainer[0], url: url, position: 'center'});\n        };\n\n        /*======================================================\n        ************   Navigation / Router   ************\n        ======================================================*/\n        app.router = {\n            // Temporary DOM Element\n            temporaryDom: document.createElement('div'),\n        \n            // Find page or navbar in passed container which are related to View\n            findElement: function (selector, container, view, notCached) {\n                container = $(container);\n                if (notCached) selector = selector + ':not(.cached)';\n                var found = container.find(selector);\n                if (found.length > 1) {\n                    if (typeof view.selector === 'string') {\n                        // Search in related view\n                        found = container.find(view.selector + ' ' + selector);\n                    }\n                    if (found.length > 1) {\n                        // Search in main view\n                        found = container.find('.' + app.params.viewMainClass + ' ' + selector);\n                    }\n                }\n                if (found.length === 1) return found;\n                else {\n                    // Try to find non cached\n                    if (!notCached) found = app.router.findElement(selector, container, view, true);\n                    if (found && found.length === 1) return found;\n                    else return undefined;\n                }\n            },\n        \n            // Set pages classess for animationEnd\n            animatePages: function (leftPage, rightPage, direction, view) {\n                // Loading new page\n                var removeClasses = 'page-on-center page-on-right page-on-left';\n                if (direction === 'to-left') {\n                    leftPage.removeClass(removeClasses).addClass('page-from-center-to-left');\n                    rightPage.removeClass(removeClasses).addClass('page-from-right-to-center');\n                }\n                // Go back\n                if (direction === 'to-right') {\n                    leftPage.removeClass(removeClasses).addClass('page-from-left-to-center');\n                    rightPage.removeClass(removeClasses).addClass('page-from-center-to-right');\n        \n                }\n            },\n        \n            // Prepare navbar before animarion\n            prepareNavbar: function (newNavbarInner, oldNavbarInner, newNavbarPosition) {\n                $(newNavbarInner).find('.sliding').each(function () {\n                    var sliding = $(this);\n                    var slidingOffset = newNavbarPosition === 'right' ? this.f7NavbarRightOffset : this.f7NavbarLeftOffset;\n        \n                    if (app.params.animateNavBackIcon) {\n                        if (sliding.hasClass('left') && sliding.find('.back .icon').length > 0) {\n                            sliding.find('.back .icon').transform('translate3d(' + (-slidingOffset) + 'px,0,0)');\n                        }\n                    }\n                    sliding.transform('translate3d(' + slidingOffset + 'px,0,0)');\n                });\n            },\n        \n            // Set navbars classess for animation\n            animateNavbars: function (leftNavbarInner, rightNavbarInner, direction, view) {\n                // Loading new page\n                var removeClasses = 'navbar-on-right navbar-on-center navbar-on-left';\n                if (direction === 'to-left') {\n                    rightNavbarInner.removeClass(removeClasses).addClass('navbar-from-right-to-center');\n                    rightNavbarInner.find('.sliding').each(function () {\n                        var sliding = $(this);\n                        sliding.transform('translate3d(0px,0,0)');\n                        if (app.params.animateNavBackIcon) {\n                            if (sliding.hasClass('left') && sliding.find('.back .icon').length > 0) {\n                                sliding.find('.back .icon').transform('translate3d(0px,0,0)');\n                            }\n                        }\n                    });\n        \n                    leftNavbarInner.removeClass(removeClasses).addClass('navbar-from-center-to-left');\n                    leftNavbarInner.find('.sliding').each(function () {\n                        var sliding = $(this);\n                        var rightText;\n                        if (app.params.animateNavBackIcon) {\n                            if (sliding.hasClass('center') && rightNavbarInner.find('.sliding.left .back .icon').length > 0) {\n                                rightText = rightNavbarInner.find('.sliding.left .back span');\n                                if (rightText.length > 0) this.f7NavbarLeftOffset += rightText[0].offsetLeft;\n                            }\n                            if (sliding.hasClass('left') && sliding.find('.back .icon').length > 0) {\n                                sliding.find('.back .icon').transform('translate3d(' + (-this.f7NavbarLeftOffset) + 'px,0,0)');\n                            }\n                        }\n                        sliding.transform('translate3d(' + (this.f7NavbarLeftOffset) + 'px,0,0)');\n                    });\n                }\n                // Go back\n                if (direction === 'to-right') {\n                    leftNavbarInner.removeClass(removeClasses).addClass('navbar-from-left-to-center');\n                    leftNavbarInner.find('.sliding').each(function () {\n                        var sliding = $(this);\n                        sliding.transform('translate3d(0px,0,0)');\n                        if (app.params.animateNavBackIcon) {\n                            if (sliding.hasClass('left') && sliding.find('.back .icon').length > 0) {\n                                sliding.find('.back .icon').transform('translate3d(0px,0,0)');\n                            }\n                        }\n                    });\n        \n                    rightNavbarInner.removeClass(removeClasses).addClass('navbar-from-center-to-right');\n                    rightNavbarInner.find('.sliding').each(function () {\n                        var sliding = $(this);\n                        if (app.params.animateNavBackIcon) {\n                            if (sliding.hasClass('left') && sliding.find('.back .icon').length > 0) {\n                                sliding.find('.back .icon').transform('translate3d(' + (-this.f7NavbarRightOffset) + 'px,0,0)');\n                            }\n                        }\n                        sliding.transform('translate3d(' + (this.f7NavbarRightOffset) + 'px,0,0)');\n                    });\n                }\n            },\n        \n            preprocess: function(view, content, url, next) {\n                // Plugin hook\n                app.pluginHook('routerPreprocess', view, content, url, next);\n        \n                // Preprocess by plugin\n                content = app.pluginProcess('preprocess', content);\n        \n                if (view && view.params && view.params.preprocess) {\n                    content = view.params.preprocess(content, url, next);\n                    if (typeof content !== 'undefined') {\n                        next(content);\n                    }\n                }\n                else if (app.params.preprocess) {\n                    content = app.params.preprocess(content, url, next);\n                    if (typeof content !== 'undefined') {\n                        next(content);\n                    }\n                }\n                else {\n                    next(content);\n                }\n            },\n            preroute: function(view, options) {\n                app.pluginHook('routerPreroute', view, options);\n                if ((app.params.preroute && app.params.preroute(view, options) === false) || (view && view.params.preroute && view.params.preroute(view, options) === false)) {\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            },\n        \n            template7Render: function (view, options) {\n                var url = options.url,\n                    content = options.content, //initial content\n                    t7_rendered_content = options.content, // will be rendered using Template7\n                    context = options.context, // Context data for Template7\n                    contextName = options.contextName,\n                    template = options.template, // Template 7 compiled template\n                    pageName = options.pageName;\n        \n                var t7_ctx, t7_template;\n                if (typeof content === 'string') {\n                    if (url) {\n                        if (app.template7Cache[url] && !options.ignoreCache) t7_template = t7.cache[url];\n                        else {\n                            t7_template = t7.compile(content);\n                            t7.cache[url] = t7_template;\n                        }\n                    }\n                    else t7_template = t7.compile(content);\n                }\n                else if (template) {\n                    t7_template = template;\n                }\n        \n                if (context) t7_ctx = context;\n                else {\n                    if (contextName) {\n                        if (contextName.indexOf('.') >= 0) {\n                            var _ctx_path = contextName.split('.');\n                            var _ctx = t7.data[_ctx_path[0]];\n                            for (var i = 1; i < _ctx_path.length; i++) {\n                                if (_ctx_path[i]) _ctx = _ctx[_ctx_path[i]];\n                            }\n                            t7_ctx = _ctx;\n                        }\n                        else t7_ctx = t7.data[contextName];\n                    }\n                    if (!t7_ctx && url) {\n                        t7_ctx = t7.data['url:' + url];\n                    }\n                    if (!t7_ctx && typeof content === 'string' && !template) {\n                        //try to find by page name in content\n                        var pageNameMatch = content.match(/(data-page=[\"'][^\"^']*[\"'])/);\n                        if (pageNameMatch) {\n                            var page = pageNameMatch[0].split('data-page=')[1].replace(/['\"]/g, '');\n                            if (page) t7_ctx = t7.data['page:' + page];\n                        }\n                    }\n                    if (!t7_ctx && template && t7.templates) {\n                        // Try to find matched template name in t7.templates\n                        for (var templateName in t7.templates) {\n                            if (t7.templates[templateName] === template) t7_ctx = t7.data[templateName];\n                        }\n                    }\n                    if (!t7_ctx) t7_ctx = {};\n                }\n        \n                if (t7_template && t7_ctx) {\n                    if (typeof t7_ctx === 'function') t7_ctx = t7_ctx();\n                    if (url) {\n                        // Extend data with URL query\n                        var query = $.parseUrlQuery(url);\n                        t7_ctx.url_query = {};\n                        for (var key in query) {\n                            t7_ctx.url_query[key] = query[key];\n                        }\n                    }\n                    t7_rendered_content = t7_template(t7_ctx);\n                }\n        \n                return {content: t7_rendered_content, context: t7_ctx};\n            }\n        };\n        \n        \n        app.router._load = function (view, options) {\n            options = options || {};\n        \n            var url = options.url,\n                content = options.content, //initial content\n                t7_rendered = {content: options.content},\n                template = options.template, // Template 7 compiled template\n                pageName = options.pageName,\n                viewContainer = $(view.container),\n                pagesContainer = $(view.pagesContainer),\n                animatePages = options.animatePages,\n                newPage, oldPage, pagesInView, i, oldNavbarInner, newNavbarInner, navbar, dynamicNavbar, reloadPosition,\n                isDynamicPage = typeof url === 'undefined' && content || template,\n                pushState = options.pushState;\n        \n            if (typeof animatePages === 'undefined') animatePages = view.params.animatePages;\n        \n            // Plugin hook\n            app.pluginHook('routerLoad', view, options);\n        \n            // Render with Template7\n            if (app.params.template7Pages && typeof content === 'string' || template) {\n                t7_rendered = app.router.template7Render(view, options);\n                if (t7_rendered.content && !content) {\n                    content = t7_rendered.content;\n                }\n            }\n        \n            app.router.temporaryDom.innerHTML = '';\n        \n            // Parse DOM\n            if (!pageName) {\n                if ((typeof content === 'string') || (url && (typeof content === 'string'))) {\n                    app.router.temporaryDom.innerHTML = t7_rendered.content;\n                } else {\n                    if ('length' in content && content.length > 1) {\n                        for (var ci = 0; ci < content.length; ci++) {\n                            $(app.router.temporaryDom).append(content[ci]);\n                        }\n                    } else {\n                        $(app.router.temporaryDom).append(content);\n                    }\n                }\n            }\n        \n            // Reload position\n            reloadPosition = options.reload && (options.reloadPrevious ? 'left' : 'center');\n        \n            // Find new page\n            if (pageName) newPage = pagesContainer.find('.page[data-page=\"' + pageName + '\"]');\n            else {\n                newPage = app.router.findElement('.page', app.router.temporaryDom, view);\n            }\n        \n            // If page not found exit\n            if (!newPage || newPage.length === 0 || (pageName && view.activePage && view.activePage.name === pageName)) {\n                view.allowPageChange = true;\n                return;\n            }\n        \n            newPage.addClass(options.reload ? 'page-on-' + reloadPosition : 'page-on-right');\n        \n            // Find old page (should be the last one) and remove older pages\n            pagesInView = pagesContainer.children('.page:not(.cached)');\n        \n            if (options.reload && options.reloadPrevious && pagesInView.length === 1)  {\n                view.allowPageChange = true;\n                return;\n            }\n        \n            if (options.reload) {\n                oldPage = pagesInView.eq(pagesInView.length - 1);\n            }\n            else {\n                if (pagesInView.length > 1) {\n                    for (i = 0; i < pagesInView.length - 2; i++) {\n                        if (!view.params.domCache) {\n                            app.pageRemoveCallback(view, pagesInView[i], 'left');\n                            $(pagesInView[i]).remove();\n                        }\n                        else {\n                            $(pagesInView[i]).addClass('cached');\n                        }\n                    }\n                    if (!view.params.domCache) {\n                        app.pageRemoveCallback(view, pagesInView[i], 'left');\n                        $(pagesInView[i]).remove();\n                    }\n                    else {\n                        $(pagesInView[i]).addClass('cached');\n                    }\n                }\n                oldPage = pagesContainer.children('.page:not(.cached)');\n            }\n            if(view.params.domCache) newPage.removeClass('cached');\n        \n            // Dynamic navbar\n            if (view.params.dynamicNavbar) {\n                dynamicNavbar = true;\n                // Find navbar\n                if (pageName) {\n                    newNavbarInner = viewContainer.find('.navbar-inner[data-page=\"' + pageName + '\"]');\n                }\n                else {\n                    newNavbarInner = app.router.findElement('.navbar-inner', app.router.temporaryDom, view);\n                }\n                if (!newNavbarInner || newNavbarInner.length === 0) {\n                    dynamicNavbar = false;\n                }\n                navbar = viewContainer.find('.navbar');\n                if (options.reload) {\n                    oldNavbarInner = navbar.find('.navbar-inner:not(.cached):last-child');\n                }\n                else {\n                    oldNavbarInner = navbar.find('.navbar-inner:not(.cached)');\n        \n                    if (oldNavbarInner.length > 0) {\n                        for (i = 0; i < oldNavbarInner.length - 1; i++) {\n                            if (!view.params.domCache) {\n                                app.navbarRemoveCallback(view, pagesInView[i], navbar[0], oldNavbarInner[i]);\n                                $(oldNavbarInner[i]).remove();\n                            }\n                            else\n                                $(oldNavbarInner[i]).addClass('cached');\n                        }\n                        if (!newNavbarInner && oldNavbarInner.length === 1) {\n                            if (!view.params.domCache) {\n                                app.navbarRemoveCallback(view, pagesInView[0], navbar[0], oldNavbarInner[0]);\n                                $(oldNavbarInner[0]).remove();\n                            }\n                            else\n                                $(oldNavbarInner[0]).addClass('cached');\n                        }\n                        oldNavbarInner = navbar.find('.navbar-inner:not(.cached)');\n                    }\n                }\n            }\n            if (dynamicNavbar) {\n                newNavbarInner.addClass(options.reload ? 'navbar-on-' + reloadPosition : 'navbar-on-right');\n                if(view.params.domCache) newNavbarInner.removeClass('cached');\n                newPage[0].f7RelatedNavbar = newNavbarInner[0];\n                newNavbarInner[0].f7RelatedPage = newPage[0];\n            }\n        \n            // save content areas into view's cache\n            if (!url) {\n                var newPageName = pageName || newPage.attr('data-page');\n                if (isDynamicPage) url = '#' + app.params.dynamicPageUrl.replace(/{{name}}/g, newPageName).replace(/{{index}}/g, view.history.length - (options.reload ? 1 : 0));\n                else url = '#' + newPageName;\n                if (!view.params.domCache) {\n                    view.contentCache[url] = content;\n                }\n                if (view.params.domCache && pageName) {\n                    view.pagesCache[url] = pageName;\n                }\n            }\n        \n            // Push State\n            if (app.params.pushState && !options.reloadPrevious && view.main)  {\n                if (typeof pushState === 'undefined') pushState = true;\n                var pushStateRoot = app.params.pushStateRoot || '';\n                var method = options.reload ? 'replaceState' : 'pushState';\n                if (pushState) {\n                    if (!isDynamicPage && !pageName) {\n                        history[method]({url: url, viewIndex: app.views.indexOf(view)}, '', pushStateRoot + app.params.pushStateSeparator + url);\n                    }\n                    else if (isDynamicPage && content) {\n                        history[method]({content: typeof content === 'string' ? content : '', url: url, viewIndex: app.views.indexOf(view)}, '', pushStateRoot + app.params.pushStateSeparator + url);\n                    }\n                    else if (pageName) {\n                        history[method]({pageName: pageName, url: url, viewIndex: app.views.indexOf(view)}, '', pushStateRoot + app.params.pushStateSeparator + url);\n                    }\n                }\n            }\n        \n            // Update View history\n            view.url = url;\n            if (options.reload) {\n                var lastUrl = view.history[view.history.length - (options.reloadPrevious ? 2 : 1)];\n                if (lastUrl &&\n                    lastUrl.indexOf('#') === 0 &&\n                    lastUrl in view.contentCache &&\n                    lastUrl !== url &&\n                    view.history.indexOf(lastUrl) === -1) {\n                    view.contentCache[lastUrl] = null;\n                    delete view.contentCache[lastUrl];\n                }\n                view.history[view.history.length - (options.reloadPrevious ? 2 : 1)] = url;\n            }\n            else {\n                view.history.push(url);\n            }\n        \n            // Unique history\n            var historyBecameUnique = false;\n            if (view.params.uniqueHistory) {\n                var _history = view.history;\n                var _url = url;\n                if (view.params.uniqueHistoryIgnoreGetParameters) {\n                    _history = [];\n                    _url = url.split('?')[0];\n                    for (i = 0; i < view.history.length; i++) {\n                        _history.push(view.history[i].split('?')[0]);\n                    }\n                }\n        \n                if (_history.indexOf(_url) !== _history.lastIndexOf(_url)) {\n                    view.history = view.history.slice(0, _history.indexOf(_url));\n                    view.history.push(url);\n                    historyBecameUnique = true;\n                }\n            }\n            // Dom manipulations\n            if (options.reloadPrevious) {\n                oldPage = oldPage.prev('.page');\n                newPage.insertBefore(oldPage);\n                if (dynamicNavbar) {\n                    oldNavbarInner = oldNavbarInner.prev('.navbar-inner');\n                    newNavbarInner.insertAfter(oldNavbarInner);\n                }\n            }\n            else {\n                pagesContainer.append(newPage[0]);\n                if (dynamicNavbar) navbar.append(newNavbarInner[0]);\n            }\n            // Remove Old Page And Navbar\n            if (options.reload) {\n                if (view.params.domCache && view.initialPages.indexOf(oldPage[0]) >= 0) {\n                    oldPage.addClass('cached');\n                    if (dynamicNavbar) oldNavbarInner.addClass('cached');\n                }\n                else {\n                    app.pageRemoveCallback(view, oldPage[0], reloadPosition);\n                    if (dynamicNavbar) app.navbarRemoveCallback(view, oldPage[0], navbar[0], oldNavbarInner[0]);\n                    oldPage.remove();\n                    if (dynamicNavbar) oldNavbarInner.remove();\n                }\n            }\n        \n            // Page Init Events\n            app.pageInitCallback(view, {\n                pageContainer: newPage[0],\n                url: url,\n                position: options.reload ? reloadPosition : 'right',\n                navbarInnerContainer: dynamicNavbar ? newNavbarInner && newNavbarInner[0] : undefined,\n                oldNavbarInnerContainer: dynamicNavbar ? oldNavbarInner && oldNavbarInner[0] : undefined,\n                context: t7_rendered.context,\n                query: options.query,\n                fromPage: oldPage && oldPage.length && oldPage[0].f7PageData,\n                reload: options.reload,\n                reloadPrevious: options.reloadPrevious\n            });\n        \n            // Navbar init event\n            if (dynamicNavbar) {\n                app.navbarInitCallback(view, newPage[0], navbar[0], newNavbarInner[0], url, options.reload ? reloadPosition : 'right');\n            }\n        \n            if (options.reload) {\n                view.allowPageChange = true;\n                if (historyBecameUnique) view.refreshPreviousPage();\n                return;\n            }\n        \n            if (dynamicNavbar && animatePages) {\n                app.router.prepareNavbar(newNavbarInner, oldNavbarInner, 'right');\n            }\n            // Force reLayout\n            var clientLeft = newPage[0].clientLeft;\n        \n            // Before Anim Callback\n            app.pageAnimCallback('before', view, {\n                pageContainer: newPage[0],\n                url: url,\n                position: 'right',\n                oldPage: oldPage,\n                newPage: newPage,\n                query: options.query,\n                fromPage: oldPage && oldPage.length && oldPage[0].f7PageData\n            });\n        \n            function afterAnimation() {\n                view.allowPageChange = true;\n                newPage.removeClass('page-from-right-to-center page-on-right page-on-left').addClass('page-on-center');\n                oldPage.removeClass('page-from-center-to-left page-on-center page-on-right').addClass('page-on-left');\n                if (dynamicNavbar) {\n                    newNavbarInner.removeClass('navbar-from-right-to-center navbar-on-left navbar-on-right').addClass('navbar-on-center');\n                    oldNavbarInner.removeClass('navbar-from-center-to-left navbar-on-center navbar-on-right').addClass('navbar-on-left');\n                }\n                app.pageAnimCallback('after', view, {\n                    pageContainer: newPage[0],\n                    url: url,\n                    position: 'right',\n                    oldPage: oldPage,\n                    newPage: newPage,\n                    query: options.query,\n                    fromPage: oldPage && oldPage.length && oldPage[0].f7PageData\n                });\n                if (app.params.pushState && view.main) app.pushStateClearQueue();\n                if (!(view.params.swipeBackPage || view.params.preloadPreviousPage)) {\n                    if (view.params.domCache) {\n                        oldPage.addClass('cached');\n                        if (dynamicNavbar) oldNavbarInner.addClass('cached');\n                    }\n                    else {\n                        if (!(url.indexOf('#') === 0 && newPage.attr('data-page').indexOf('smart-select-') === 0)) {\n                            app.pageRemoveCallback(view, oldPage[0], 'left');\n                            if (dynamicNavbar) app.navbarRemoveCallback(view, oldPage[0], navbar[0], oldNavbarInner[0]);\n                            oldPage.remove();\n                            if (dynamicNavbar) oldNavbarInner.remove();\n                        }\n                    }\n                }\n                if (view.params.uniqueHistory && historyBecameUnique) {\n                    view.refreshPreviousPage();\n                }\n            }\n            if (animatePages) {\n                // Set pages before animation\n                if (app.params.material && app.params.materialPageLoadDelay) {\n                    setTimeout(function () {\n                        app.router.animatePages(oldPage, newPage, 'to-left', view);\n                    }, app.params.materialPageLoadDelay);\n                }\n                else {\n                    app.router.animatePages(oldPage, newPage, 'to-left', view);\n                }\n        \n                // Dynamic navbar animation\n                if (dynamicNavbar) {\n                    setTimeout(function() {\n                        app.router.animateNavbars(oldNavbarInner, newNavbarInner, 'to-left', view);\n                    }, 0);\n                }\n                newPage.animationEnd(function (e) {\n                    afterAnimation();\n                });\n            }\n            else {\n                if (dynamicNavbar) newNavbarInner.find('.sliding, .sliding .back .icon').transform('');\n                afterAnimation();\n            }\n        \n        };\n        \n        app.router.load = function (view, options) {\n            if (app.router.preroute(view, options)) {\n                return false;\n            }\n            options = options || {};\n            var url = options.url;\n            var content = options.content;\n            var pageName = options.pageName;\n            if (pageName) {\n                if (pageName.indexOf('?') > 0) {\n                    options.query = $.parseUrlQuery(pageName);\n                    options.pageName = pageName = pageName.split('?')[0];\n                }\n            }\n            var template = options.template;\n            if (view.params.reloadPages === true) options.reload = true;\n        \n            if (!view.allowPageChange) return false;\n            if (url && view.url === url && !options.reload && !view.params.allowDuplicateUrls) return false;\n            view.allowPageChange = false;\n            if (app.xhr && view.xhr && view.xhr === app.xhr) {\n                app.xhr.abort();\n                app.xhr = false;\n            }\n            function proceed(content) {\n                app.router.preprocess(view, content, url, function (content) {\n                    options.content = content;\n                    app.router._load(view, options);\n                });\n            }\n            if (content || pageName) {\n                proceed(content);\n                return;\n            }\n            else if (template) {\n                app.router._load(view, options);\n                return;\n            }\n        \n            if (!options.url || options.url === '#') {\n                view.allowPageChange = true;\n                return;\n            }\n            app.get(options.url, view, options.ignoreCache, function (content, error) {\n                if (error) {\n                    view.allowPageChange = true;\n                    return;\n                }\n                proceed(content);\n            });\n        };\n        \n        app.router._back = function (view, options) {\n            options = options || {};\n            var url = options.url,\n                content = options.content,\n                t7_rendered = {content: options.content}, // will be rendered using Template7\n                template = options.template, // Template 7 compiled template\n                animatePages = options.animatePages,\n                preloadOnly = options.preloadOnly,\n                pushState = options.pushState,\n                ignoreCache = options.ignoreCache,\n                force = options.force,\n                pageName = options.pageName;\n        \n            var viewContainer = $(view.container),\n                pagesContainer = $(view.pagesContainer),\n                pagesInView = pagesContainer.children('.page:not(.cached)'),\n                oldPage, newPage, oldNavbarInner, newNavbarInner, navbar, navbarInners, dynamicNavbar, manipulateDom = true;\n        \n            if (typeof animatePages === 'undefined') animatePages = view.params.animatePages;\n        \n            app.pluginHook('routerBack', view, options);\n        \n            // Render with Template7\n            if (app.params.template7Pages && typeof content === 'string' || template) {\n                t7_rendered = app.router.template7Render(view, options);\n                if (t7_rendered.content && !content) {\n                    content = t7_rendered.content;\n                }\n            }\n        \n            // Animation\n            function afterAnimation() {\n                app.pageBackCallback('after', view, {\n                    pageContainer: oldPage[0],\n                    url: url,\n                    position: 'center',\n                    oldPage: oldPage,\n                    newPage: newPage,\n                });\n                app.pageAnimCallback('after', view, {\n                    pageContainer: newPage[0],\n                    url: url,\n                    position: 'left',\n                    oldPage: oldPage,\n                    newPage: newPage,\n                    query: options.query,\n                    fromPage: oldPage && oldPage.length && oldPage[0].f7PageData\n                });\n                app.router.afterBack(view, oldPage[0], newPage[0]);\n            }\n            function animateBack() {\n                // Page before animation callback\n                app.pageBackCallback('before', view, {\n                    pageContainer: oldPage[0],\n                    url: url,\n                    position: 'center',\n                    oldPage: oldPage,\n                    newPage: newPage,\n                });\n                app.pageAnimCallback('before', view, {\n                    pageContainer: newPage[0],\n                    url: url,\n                    position: 'left',\n                    oldPage: oldPage,\n                    newPage: newPage,\n                    query: options.query,\n                    fromPage: oldPage && oldPage.length && oldPage[0].f7PageData\n                });\n        \n                if (animatePages) {\n                    // Set pages before animation\n                    app.router.animatePages(newPage, oldPage, 'to-right', view);\n        \n                    // Dynamic navbar animation\n                    if (dynamicNavbar) {\n                        setTimeout(function () {\n                            app.router.animateNavbars(newNavbarInner, oldNavbarInner, 'to-right', view);\n                        }, 0);\n                    }\n        \n                    newPage.animationEnd(function () {\n                        afterAnimation();\n                    });\n                }\n                else {\n                    if (dynamicNavbar) newNavbarInner.find('.sliding, .sliding .back .icon').transform('');\n                    afterAnimation();\n                }\n            }\n        \n            function parseNewPage() {\n                app.router.temporaryDom.innerHTML = '';\n                // Parse DOM\n                if ((typeof content === 'string') || (url && (typeof content === 'string'))) {\n                    app.router.temporaryDom.innerHTML = t7_rendered.content;\n                } else {\n                    if ('length' in content && content.length > 1) {\n                        for (var ci = 0; ci < content.length; ci++) {\n                            $(app.router.temporaryDom).append(content[ci]);\n                        }\n                    } else {\n                        $(app.router.temporaryDom).append(content);\n                    }\n                }\n                newPage = app.router.findElement('.page', app.router.temporaryDom, view);\n        \n                if (view.params.dynamicNavbar) {\n                    // Find navbar\n                    newNavbarInner = app.router.findElement('.navbar-inner', app.router.temporaryDom, view);\n                }\n            }\n            function setPages() {\n                // If pages not found or there are still more than one, exit\n                if (!newPage || newPage.length === 0) {\n                    view.allowPageChange = true;\n                    return;\n                }\n                if (view.params.dynamicNavbar && typeof dynamicNavbar === 'undefined') {\n                    if (!newNavbarInner || newNavbarInner.length === 0) {\n                        dynamicNavbar = false;\n                    }\n                    else {\n                        dynamicNavbar = true;\n                    }\n                }\n        \n                newPage.addClass('page-on-left').removeClass('cached');\n                if (dynamicNavbar) {\n                    navbar = viewContainer.find('.navbar');\n                    navbarInners = viewContainer.find('.navbar-inner:not(.cached)');\n                    newNavbarInner.addClass('navbar-on-left').removeClass('cached');\n                }\n                // Remove/hide previous page in force mode\n                if (force) {\n                    var pageToRemove, navbarToRemove;\n                    pageToRemove = $(pagesInView[pagesInView.length - 2]);\n        \n                    if (dynamicNavbar) navbarToRemove = $(pageToRemove[0] && pageToRemove[0].f7RelatedNavbar || navbarInners[navbarInners.length - 2]);\n                    if (view.params.domCache && view.initialPages.indexOf(pageToRemove[0]) >= 0) {\n                        if (pageToRemove.length && pageToRemove[0] !== newPage[0]) pageToRemove.addClass('cached');\n                        if (dynamicNavbar && navbarToRemove.length && navbarToRemove[0] !== newNavbarInner[0]) {\n                            navbarToRemove.addClass('cached');\n                        }\n                    }\n                    else {\n                        var removeNavbar = dynamicNavbar && navbarToRemove.length;\n                        if (pageToRemove.length) {\n                            app.pageRemoveCallback(view, pageToRemove[0], 'right');\n                            if (removeNavbar) {\n                                app.navbarRemoveCallback(view, pageToRemove[0], navbar[0], navbarToRemove[0]);\n                            }\n                            pageToRemove.remove();\n                            if (removeNavbar) navbarToRemove.remove();\n                        }\n                        else if (removeNavbar) {\n                            app.navbarRemoveCallback(view, pageToRemove[0], navbar[0], navbarToRemove[0]);\n                            navbarToRemove.remove();\n                        }\n                    }\n                    pagesInView = pagesContainer.children('.page:not(.cached)');\n                    if (dynamicNavbar) {\n                        navbarInners = viewContainer.find('.navbar-inner:not(.cached)');\n                    }\n                    if (view.history.indexOf(url) >= 0) {\n                        view.history = view.history.slice(0, view.history.indexOf(url) + 2);\n                    }\n                    else {\n                        if (view.history[[view.history.length - 2]]) {\n                            view.history[view.history.length - 2] = url;\n                        }\n                        else {\n                            view.history.unshift(url);\n                        }\n                    }\n                }\n        \n                oldPage = $(pagesInView[pagesInView.length - 1]);\n                if (view.params.domCache) {\n                    if (oldPage[0] === newPage[0]) {\n                        oldPage = pagesContainer.children('.page.page-on-center');\n                        if (oldPage.length === 0 && view.activePage) oldPage = $(view.activePage.container);\n                    }\n                }\n        \n                if (dynamicNavbar && !oldNavbarInner) {\n                    oldNavbarInner = $(navbarInners[navbarInners.length - 1]);\n                    if (view.params.domCache) {\n                        if (oldNavbarInner[0] === newNavbarInner[0]) {\n                            oldNavbarInner = navbar.children('.navbar-inner.navbar-on-center:not(.cached)');\n                        }\n                        if (oldNavbarInner.length === 0) {\n                            oldNavbarInner = navbar.children('.navbar-inner[data-page=\"'+oldPage.attr('data-page')+'\"]');\n                        }\n                    }\n                    if (oldNavbarInner.length === 0 || newNavbarInner[0] === oldNavbarInner[0]) dynamicNavbar = false;\n                }\n        \n                if (dynamicNavbar) {\n                    if (manipulateDom) newNavbarInner.insertBefore(oldNavbarInner);\n                    newNavbarInner[0].f7RelatedPage = newPage[0];\n                    newPage[0].f7RelatedNavbar = newNavbarInner[0];\n                }\n                if (manipulateDom) newPage.insertBefore(oldPage);\n        \n                // Page Init Events\n                app.pageInitCallback(view, {\n                    pageContainer: newPage[0],\n                    url: url,\n                    position: 'left',\n                    navbarInnerContainer: dynamicNavbar ? newNavbarInner[0] : undefined,\n                    oldNavbarInnerContainer: dynamicNavbar ? oldNavbarInner && oldNavbarInner[0] : undefined,\n                    context: t7_rendered.context,\n                    query: options.query,\n                    fromPage: oldPage && oldPage.length && oldPage[0].f7PageData,\n                    preloadOnly: preloadOnly\n                });\n                if (dynamicNavbar) {\n                    app.navbarInitCallback(view, newPage[0], navbar[0], newNavbarInner[0], url, 'right');\n                }\n        \n                if (dynamicNavbar && newNavbarInner.hasClass('navbar-on-left') && animatePages) {\n                    app.router.prepareNavbar(newNavbarInner,  oldNavbarInner, 'left');\n                }\n        \n                if (preloadOnly) {\n                    view.allowPageChange = true;\n                    return;\n                }\n        \n                // Update View's URL\n                view.url = url;\n        \n                // Force reLayout\n                var clientLeft = newPage[0].clientLeft;\n        \n                animateBack();\n        \n                // Push state\n                if (app.params.pushState && view.main)  {\n                    if (typeof pushState === 'undefined') pushState = true;\n                    if (!preloadOnly && history.state && pushState) {\n                        history.back();\n                    }\n                }\n                return;\n            }\n        \n            // Simple go back when we have pages on left\n            if (pagesInView.length > 1 && !force) {\n                // Exit if only preloadOnly\n                if (preloadOnly) {\n                    view.allowPageChange = true;\n                    return;\n                }\n                // Update View's URL\n                view.url = view.history[view.history.length - 2];\n                url = view.url;\n        \n                // Define old and new pages\n                newPage = $(pagesInView[pagesInView.length - 2]);\n                oldPage = $(pagesInView[pagesInView.length - 1]);\n        \n                // Dynamic navbar\n                if (view.params.dynamicNavbar) {\n                    dynamicNavbar = true;\n                    // Find navbar\n                    navbarInners = viewContainer.find('.navbar-inner:not(.cached)');\n                    newNavbarInner = $(navbarInners[0]);\n                    oldNavbarInner = $(navbarInners[1]);\n                    if (newNavbarInner.length === 0 || oldNavbarInner.length === 0 || oldNavbarInner[0] === newNavbarInner[0]) {\n                        dynamicNavbar = false;\n                    }\n                }\n                manipulateDom = false;\n                setPages();\n                return;\n            }\n        \n            if (!force) {\n                // Go back when there is no pages on left\n                if (!preloadOnly) {\n                    view.url = view.history[view.history.length - 2];\n                    url = view.url;\n                }\n        \n                if (content) {\n                    parseNewPage();\n                    setPages();\n                    return;\n                }\n                else if (pageName) {\n                    // Get dom cached pages\n                    newPage = $(viewContainer).find('.page[data-page=\"' + pageName + '\"]');\n                    if (view.params.dynamicNavbar) {\n                        newNavbarInner = $(viewContainer).find('.navbar-inner[data-page=\"' + pageName + '\"]');\n                        if (newNavbarInner.length === 0 && newPage[0].f7RelatedNavbar) {\n                            newNavbarInner = $(newPage[0].f7RelatedNavbar);\n                        }\n                        if (newNavbarInner.length === 0 && newPage[0].f7PageData) {\n                            newNavbarInner = $(newPage[0].f7PageData.navbarInnerContainer);\n                        }\n                    }\n                    setPages();\n                    return;\n                }\n                else {\n                    view.allowPageChange = true;\n                    return;\n                }\n            }\n            else {\n                if (url && url === view.url || pageName && view.activePage && view.activePage.name === pageName) {\n                    view.allowPageChange = true;\n                    return;\n                }\n                // Go back with force url\n                if (content) {\n                    parseNewPage();\n                    setPages();\n                    return;\n                }\n                else if (pageName && view.params.domCache) {\n                    if (pageName) url = '#' + pageName;\n        \n                    newPage = $(viewContainer).find('.page[data-page=\"' + pageName + '\"]');\n                    if (newPage[0].f7PageData && newPage[0].f7PageData.url) {\n                        url = newPage[0].f7PageData.url;\n                    }\n                    if (view.params.dynamicNavbar) {\n                        newNavbarInner = $(viewContainer).find('.navbar-inner[data-page=\"' + pageName + '\"]');\n                        if (newNavbarInner.length === 0 && newPage[0].f7RelatedNavbar) {\n                            newNavbarInner = $(newPage[0].f7RelatedNavbar);\n                        }\n                        if (newNavbarInner.length === 0 && newPage[0].f7PageData) {\n                            newNavbarInner = $(newPage[0].f7PageData.navbarInnerContainer);\n                        }\n                    }\n                    setPages();\n                    return;\n                }\n                else {\n                    view.allowPageChange = true;\n                    return;\n                }\n            }\n        \n        };\n        app.router.back = function (view, options) {\n            if (app.router.preroute(view, options)) {\n                return false;\n            }\n            options = options || {};\n            var url = options.url;\n            var content = options.content;\n            var pageName = options.pageName;\n            if (pageName) {\n                if (pageName.indexOf('?') > 0) {\n                    options.query = $.parseUrlQuery(pageName);\n                    options.pageName = pageName = pageName.split('?')[0];\n                }\n            }\n            var force = options.force;\n            if (!view.allowPageChange) return false;\n            view.allowPageChange = false;\n            if (app.xhr && view.xhr && view.xhr === app.xhr) {\n                app.xhr.abort();\n                app.xhr = false;\n            }\n            var pagesInView = $(view.pagesContainer).find('.page:not(.cached)');\n        \n            function proceed(content) {\n                app.router.preprocess(view, content, url, function (content) {\n                    options.content = content;\n                    app.router._back(view, options);\n                });\n            }\n            if (pagesInView.length > 1 && !force) {\n                // Simple go back to previos page in view\n                app.router._back(view, options);\n                return;\n            }\n            if (!force) {\n                url = options.url = view.history[view.history.length - 2];\n                if (!url) {\n                    view.allowPageChange = true;\n                    return;\n                }\n                if (url.indexOf('#') === 0 && view.contentCache[url]) {\n                    proceed(view.contentCache[url]);\n                    return;\n                }\n                else if (url.indexOf('#') === 0 && view.params.domCache) {\n                    if (!pageName) options.pageName = url.split('#')[1];\n                    proceed();\n                    return;\n                }\n                else if (url.indexOf('#') !== 0) {\n                    // Load ajax page\n                    app.get(options.url, view, options.ignoreCache, function (content, error) {\n                        if (error) {\n                            view.allowPageChange = true;\n                            return;\n                        }\n                        proceed(content);\n                    });\n                    return;\n                }\n            }\n            else {\n                // Go back with force url\n                if (!url && content) {\n                    proceed(content);\n                    return;\n                }\n                else if (!url && pageName) {\n                    if (pageName) url = '#' + pageName;\n                    proceed();\n                    return;\n                }\n                else if (url) {\n                    app.get(options.url, view, options.ignoreCache, function (content, error) {\n                        if (error) {\n                            view.allowPageChange = true;\n                            return;\n                        }\n                        proceed(content);\n                    });\n                    return;\n                }\n            }\n            view.allowPageChange = true;\n            return;\n        };\n        \n        app.router.afterBack = function (view, oldPage, newPage) {\n            // Remove old page and set classes on new one\n            oldPage = $(oldPage);\n            newPage = $(newPage);\n        \n            if (view.params.domCache && view.initialPages.indexOf(oldPage[0]) >= 0) {\n                oldPage.removeClass('page-from-center-to-right').addClass('cached');\n            }\n            else {\n                app.pageRemoveCallback(view, oldPage[0], 'right');\n                oldPage.remove();\n            }\n        \n            newPage.removeClass('page-from-left-to-center page-on-left').addClass('page-on-center');\n            view.allowPageChange = true;\n        \n            // Update View's History\n            var previousURL = view.history.pop();\n        \n            var newNavbar;\n        \n            // Updated dynamic navbar\n            if (view.params.dynamicNavbar) {\n                var inners = $(view.container).find('.navbar-inner:not(.cached)');\n                var oldNavbar = $(oldPage[0].f7RelatedNavbar || inners[1]);\n                if (view.params.domCache && view.initialNavbars.indexOf(oldNavbar[0]) >= 0) {\n                    oldNavbar.removeClass('navbar-from-center-to-right').addClass('cached');\n                }\n                else {\n                    app.navbarRemoveCallback(view, oldPage[0], undefined, oldNavbar[0]);\n                    oldNavbar.remove();\n                }\n                newNavbar = $(inners[0]).removeClass('navbar-on-left navbar-from-left-to-center').addClass('navbar-on-center');\n            }\n        \n            // Remove pages in dom cache\n            if (view.params.domCache) {\n                $(view.container).find('.page.cached').each(function () {\n                    var page = $(this);\n                    var index = page.index();\n                    var pageUrl = page[0].f7PageData && page[0].f7PageData.url;\n                    if (pageUrl && view.history.indexOf(pageUrl) < 0 && view.initialPages.indexOf(this) < 0) {\n                        app.pageRemoveCallback(view, page[0], 'right');\n                        if (page[0].f7RelatedNavbar && view.params.dynamicNavbar) app.navbarRemoveCallback(view, page[0], undefined, page[0].f7RelatedNavbar);\n                        page.remove();\n                        if (page[0].f7RelatedNavbar && view.params.dynamicNavbar) $(page[0].f7RelatedNavbar).remove();\n                    }\n                });\n            }\n        \n            // Check previous page is content based only and remove it from content cache\n            if (!view.params.domCache &&\n                previousURL &&\n                previousURL.indexOf('#') > -1 &&\n                (previousURL in view.contentCache) &&\n                // If the same page is in the history multiple times, don't remove it.\n                view.history.indexOf(previousURL) === -1) {\n                view.contentCache[previousURL] = null;\n                delete view.contentCache[previousURL];\n            }\n        \n            if (app.params.pushState && view.main) app.pushStateClearQueue();\n        \n            // Preload previous page\n            if (view.params.preloadPreviousPage) {\n                if (view.params.domCache && view.history.length > 1) {\n                    var preloadUrl = view.history[view.history.length - 2];\n                    var previousPage;\n                    var previousNavbar;\n                    if (preloadUrl && view.pagesCache[preloadUrl]) {\n                        // Load by page name\n                        previousPage = $(view.container).find('.page[data-page=\"' + view.pagesCache[preloadUrl] + '\"]');\n                        if (previousPage.next('.page')[0] !== newPage[0]) previousPage.insertBefore(newPage);\n                        if (newNavbar) {\n                            previousNavbar = $(view.container).find('.navbar-inner[data-page=\"' + view.pagesCache[preloadUrl] + '\"]');\n                            if(!previousNavbar || previousNavbar.length === 0) previousNavbar = newNavbar.prev('.navbar-inner.cached');\n                            if (previousNavbar.next('.navbar-inner')[0] !== newNavbar[0]) previousNavbar.insertBefore(newNavbar);\n                        }\n                    }\n                    else {\n                        // Just load previous page\n                        previousPage = newPage.prev('.page.cached');\n                        if (newNavbar) previousNavbar = newNavbar.prev('.navbar-inner.cached');\n                    }\n                    if (previousPage && previousPage.length > 0) previousPage.removeClass('cached page-on-right page-on-center').addClass('page-on-left');\n                    if (previousNavbar && previousNavbar.length > 0) previousNavbar.removeClass('cached navbar-on-right navbar-on-center').addClass('navbar-on-left');\n                }\n                else {\n                    app.router.back(view, {preloadOnly: true});\n                }\n            }\n        };\n        \n\n        /*======================================================\n        ************   Modals   ************\n        ======================================================*/\n        var _modalTemplateTempDiv = document.createElement('div');\n        app.modalStack = [];\n        app.modalStackClearQueue = function () {\n            if (app.modalStack.length) {\n                (app.modalStack.shift())();\n            }\n        };\n        app.modal = function (params) {\n            params = params || {};\n            var modalHTML = '';\n            if (app.params.modalTemplate) {\n                if (!app._compiledTemplates.modal) app._compiledTemplates.modal = t7.compile(app.params.modalTemplate);\n                modalHTML = app._compiledTemplates.modal(params);\n            }\n            else {\n                var buttonsHTML = '';\n                if (params.buttons && params.buttons.length > 0) {\n                    for (var i = 0; i < params.buttons.length; i++) {\n                        buttonsHTML += '<span class=\"modal-button' + (params.buttons[i].bold ? ' modal-button-bold' : '') + '\">' + params.buttons[i].text + '</span>';\n                    }\n                }\n                var titleHTML = params.title ? '<div class=\"modal-title\">' + params.title + '</div>' : '';\n                var textHTML = params.text ? '<div class=\"modal-text\">' + params.text + '</div>' : '';\n                var afterTextHTML = params.afterText ? params.afterText : '';\n                var noButtons = !params.buttons || params.buttons.length === 0 ? 'modal-no-buttons' : '';\n                var verticalButtons = params.verticalButtons ? 'modal-buttons-vertical': '';\n                var modalButtonsHTML = params.buttons && params.buttons.length > 0 ? '<div class=\"modal-buttons modal-buttons-' + params.buttons.length + ' ' + verticalButtons + '\">' + buttonsHTML + '</div>' : '';\n                modalHTML = '<div class=\"modal ' + noButtons + ' ' + (params.cssClass || '') + '\"><div class=\"modal-inner\">' + (titleHTML + textHTML + afterTextHTML) + '</div>' + modalButtonsHTML + '</div>';\n            }\n        \n            _modalTemplateTempDiv.innerHTML = modalHTML;\n        \n            var modal = $(_modalTemplateTempDiv).children();\n        \n            $('body').append(modal[0]);\n        \n            // Add events on buttons\n            modal.find('.modal-button').each(function (index, el) {\n                $(el).on('click', function (e) {\n                    if (params.buttons[index].close !== false) app.closeModal(modal);\n                    if (params.buttons[index].onClick) params.buttons[index].onClick(modal, e);\n                    if (params.onClick) params.onClick(modal, index);\n                });\n            });\n            app.openModal(modal);\n            return modal[0];\n        };\n        app.alert = function (text, title, callbackOk) {\n            if (typeof title === 'function') {\n                callbackOk = arguments[1];\n                title = undefined;\n            }\n            return app.modal({\n                text: text || '',\n                title: typeof title === 'undefined' ? app.params.modalTitle : title,\n                buttons: [ {text: app.params.modalButtonOk, bold: true, onClick: callbackOk} ]\n            });\n        };\n        app.confirm = function (text, title, callbackOk, callbackCancel) {\n            if (typeof title === 'function') {\n                callbackCancel = arguments[2];\n                callbackOk = arguments[1];\n                title = undefined;\n            }\n            return app.modal({\n                text: text || '',\n                title: typeof title === 'undefined' ? app.params.modalTitle : title,\n                buttons: [\n                    {text: app.params.modalButtonCancel, onClick: callbackCancel},\n                    {text: app.params.modalButtonOk, bold: true, onClick: callbackOk}\n                ]\n            });\n        };\n        app.prompt = function (text, title, callbackOk, callbackCancel) {\n            if (typeof title === 'function') {\n                callbackCancel = arguments[2];\n                callbackOk = arguments[1];\n                title = undefined;\n            }\n            return app.modal({\n                text: text || '',\n                title: typeof title === 'undefined' ? app.params.modalTitle : title,\n                afterText: '<div class=\"input-field\"><input type=\"text\" class=\"modal-text-input\"></div>',\n                buttons: [\n                    {\n                        text: app.params.modalButtonCancel\n                    },\n                    {\n                        text: app.params.modalButtonOk,\n                        bold: true\n                    }\n                ],\n                onClick: function (modal, index) {\n                    if (index === 0 && callbackCancel) callbackCancel($(modal).find('.modal-text-input').val());\n                    if (index === 1 && callbackOk) callbackOk($(modal).find('.modal-text-input').val());\n                }\n            });\n        };\n        app.modalLogin = function (text, title, callbackOk, callbackCancel) {\n            if (typeof title === 'function') {\n                callbackCancel = arguments[2];\n                callbackOk = arguments[1];\n                title = undefined;\n            }\n            return app.modal({\n                text: text || '',\n                title: typeof title === 'undefined' ? app.params.modalTitle : title,\n                afterText: '<div class=\"input-field modal-input-double\"><input type=\"text\" name=\"modal-username\" placeholder=\"' + app.params.modalUsernamePlaceholder + '\" class=\"modal-text-input\"></div><div class=\"input-field modal-input-double\"><input type=\"password\" name=\"modal-password\" placeholder=\"' + app.params.modalPasswordPlaceholder + '\" class=\"modal-text-input\"></div>',\n                buttons: [\n                    {\n                        text: app.params.modalButtonCancel\n                    },\n                    {\n                        text: app.params.modalButtonOk,\n                        bold: true\n                    }\n                ],\n                onClick: function (modal, index) {\n                    var username = $(modal).find('.modal-text-input[name=\"modal-username\"]').val();\n                    var password = $(modal).find('.modal-text-input[name=\"modal-password\"]').val();\n                    if (index === 0 && callbackCancel) callbackCancel(username, password);\n                    if (index === 1 && callbackOk) callbackOk(username, password);\n                }\n            });\n        };\n        app.modalPassword = function (text, title, callbackOk, callbackCancel) {\n            if (typeof title === 'function') {\n                callbackCancel = arguments[2];\n                callbackOk = arguments[1];\n                title = undefined;\n            }\n            return app.modal({\n                text: text || '',\n                title: typeof title === 'undefined' ? app.params.modalTitle : title,\n                afterText: '<div class=\"input-field\"><input type=\"password\" name=\"modal-password\" placeholder=\"' + app.params.modalPasswordPlaceholder + '\" class=\"modal-text-input\"></div>',\n                buttons: [\n                    {\n                        text: app.params.modalButtonCancel\n                    },\n                    {\n                        text: app.params.modalButtonOk,\n                        bold: true\n                    }\n                ],\n                onClick: function (modal, index) {\n                    var password = $(modal).find('.modal-text-input[name=\"modal-password\"]').val();\n                    if (index === 0 && callbackCancel) callbackCancel(password);\n                    if (index === 1 && callbackOk) callbackOk(password);\n                }\n            });\n        };\n        app.showPreloader = function (title) {\n            return app.modal({\n                title: title || app.params.modalPreloaderTitle,\n                text: '<div class=\"preloader\">' + (app.params.material ? app.params.materialPreloaderHtml : '') + '</div>',\n                cssClass: 'modal-preloader'\n            });\n        };\n        app.hidePreloader = function () {\n            app.closeModal('.modal.modal-in');\n        };\n        app.showIndicator = function () {\n            $('body').append('<div class=\"preloader-indicator-overlay\"></div><div class=\"preloader-indicator-modal\"><span class=\"preloader preloader-white\">' + (app.params.material ? app.params.materialPreloaderHtml : '') + '</span></div>');\n        };\n        app.hideIndicator = function () {\n            $('.preloader-indicator-overlay, .preloader-indicator-modal').remove();\n        };\n        // Action Sheet\n        app.actions = function (target, params) {\n            var toPopover = false, modal, groupSelector, buttonSelector;\n            if (arguments.length === 1) {\n                // Actions\n                params = target;\n            }\n            else {\n                // Popover\n                if (app.device.ios) {\n                    if (app.device.ipad) toPopover = true;\n                }\n                else {\n                    if ($(window).width() >= 768) toPopover = true;\n                }\n            }\n            params = params || [];\n        \n            if (params.length > 0 && !$.isArray(params[0])) {\n                params = [params];\n            }\n            var modalHTML;\n            if (toPopover) {\n                var actionsToPopoverTemplate = app.params.modalActionsToPopoverTemplate ||\n                    '<div class=\"popover actions-popover\">' +\n                      '<div class=\"popover-inner\">' +\n                        '{{#each this}}' +\n                        '<div class=\"list-block\">' +\n                          '<ul>' +\n                            '{{#each this}}' +\n                            '{{#if label}}' +\n                            '<li class=\"actions-popover-label {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}\">{{text}}</li>' +\n                            '{{else}}' +\n                            '<li><a href=\"#\" class=\"item-link list-button {{#if color}}color-{{color}}{{/if}} {{#if bg}}bg-{{bg}}{{/if}} {{#if bold}}actions-popover-bold{{/if}} {{#if disabled}}disabled{{/if}}\">{{text}}</a></li>' +\n                            '{{/if}}' +\n                            '{{/each}}' +\n                          '</ul>' +\n                        '</div>' +\n                        '{{/each}}' +\n                      '</div>' +\n                    '</div>';\n                if (!app._compiledTemplates.actionsToPopover) {\n                    app._compiledTemplates.actionsToPopover = t7.compile(actionsToPopoverTemplate);\n                }\n                var popoverHTML = app._compiledTemplates.actionsToPopover(params);\n                modal = $(app.popover(popoverHTML, target, true));\n                groupSelector = '.list-block ul';\n                buttonSelector = '.list-button';\n            }\n            else {\n                if (app.params.modalActionsTemplate) {\n                    if (!app._compiledTemplates.actions) app._compiledTemplates.actions = t7.compile(app.params.modalActionsTemplate);\n                    modalHTML = app._compiledTemplates.actions(params);\n                }\n                else {\n                    var buttonsHTML = '';\n                    for (var i = 0; i < params.length; i++) {\n                        for (var j = 0; j < params[i].length; j++) {\n                            if (j === 0) buttonsHTML += '<div class=\"actions-modal-group\">';\n                            var button = params[i][j];\n                            var buttonClass = button.label ? 'actions-modal-label' : 'actions-modal-button';\n                            if (button.bold) buttonClass += ' actions-modal-button-bold';\n                            if (button.color) buttonClass += ' color-' + button.color;\n                            if (button.bg) buttonClass += ' bg-' + button.bg;\n                            if (button.disabled) buttonClass += ' disabled';\n                            buttonsHTML += '<div class=\"' + buttonClass + '\">' + button.text + '</div>';\n                            if (j === params[i].length - 1) buttonsHTML += '</div>';\n                        }\n                    }\n                    modalHTML = '<div class=\"actions-modal\">' + buttonsHTML + '</div>';\n                }\n                _modalTemplateTempDiv.innerHTML = modalHTML;\n                modal = $(_modalTemplateTempDiv).children();\n                $('body').append(modal[0]);\n                groupSelector = '.actions-modal-group';\n                buttonSelector = '.actions-modal-button';\n            }\n        \n            var groups = modal.find(groupSelector);\n            groups.each(function (index, el) {\n                var groupIndex = index;\n                $(el).children().each(function (index, el) {\n                    var buttonIndex = index;\n                    var buttonParams = params[groupIndex][buttonIndex];\n                    var clickTarget;\n                    if (!toPopover && $(el).is(buttonSelector)) clickTarget = $(el);\n                    if (toPopover && $(el).find(buttonSelector).length > 0) clickTarget = $(el).find(buttonSelector);\n        \n                    if (clickTarget) {\n                        clickTarget.on('click', function (e) {\n                            if (buttonParams.close !== false) app.closeModal(modal);\n                            if (buttonParams.onClick) buttonParams.onClick(modal, e);\n                        });\n                    }\n                });\n            });\n            if (!toPopover) app.openModal(modal);\n            return modal[0];\n        };\n        app.popover = function (modal, target, removeOnClose) {\n            if (typeof removeOnClose === 'undefined') removeOnClose = true;\n            if (typeof modal === 'string' && modal.indexOf('<') >= 0) {\n                var _modal = document.createElement('div');\n                _modal.innerHTML = modal.trim();\n                if (_modal.childNodes.length > 0) {\n                    modal = _modal.childNodes[0];\n                    if (removeOnClose) modal.classList.add('remove-on-close');\n                    $('body').append(modal);\n                }\n                else return false; //nothing found\n            }\n            modal = $(modal);\n            target = $(target);\n            if (modal.length === 0 || target.length === 0) return false;\n            if (modal.parents('body').length === 0) {\n                if (removeOnClose) modal.addClass('remove-on-close');\n                $('body').append(modal[0]);\n            }\n            if (modal.find('.popover-angle').length === 0 && !app.params.material) {\n                modal.append('<div class=\"popover-angle\"></div>');\n            }\n            modal.show();\n        \n            var material = app.params.material;\n        \n            function sizePopover() {\n                modal.css({left: '', top: ''});\n                var modalWidth =  modal.width();\n                var modalHeight =  modal.height(); // 13 - height of angle\n                var modalAngle, modalAngleSize = 0, modalAngleLeft, modalAngleTop;\n                if (!material) {\n                    modalAngle = modal.find('.popover-angle');\n                    modalAngleSize = modalAngle.width() / 2;\n                    modalAngle.removeClass('on-left on-right on-top on-bottom').css({left: '', top: ''});\n                }\n                else {\n                    modal.removeClass('popover-on-left popover-on-right popover-on-top popover-on-bottom').css({left: '', top: ''});\n                }\n        \n                var targetWidth = target.outerWidth();\n                var targetHeight = target.outerHeight();\n                var targetOffset = target.offset();\n                var targetParentPage = target.parents('.page');\n                if (targetParentPage.length > 0) {\n                    targetOffset.top = targetOffset.top - targetParentPage[0].scrollTop;\n                }\n        \n                var windowHeight = $(window).height();\n                var windowWidth = $(window).width();\n        \n                var modalTop = 0;\n                var modalLeft = 0;\n                var diff = 0;\n                // Top Position\n                var modalPosition = material ? 'bottom' : 'top';\n                if (material) {\n                    if (modalHeight < windowHeight - targetOffset.top - targetHeight) {\n                        // On bottom\n                        modalPosition = 'bottom';\n                        modalTop = targetOffset.top;\n                    }\n                    else if (modalHeight < targetOffset.top) {\n                        // On top\n                        modalTop = targetOffset.top - modalHeight + targetHeight;\n                        modalPosition = 'top';\n                    }\n                    else {\n                        // On middle\n                        modalPosition = 'bottom';\n                        modalTop = targetOffset.top;\n                    }\n        \n                    if (modalTop <= 0) {\n                        modalTop = 8;\n                    }\n                    else if (modalTop + modalHeight >= windowHeight) {\n                        modalTop = windowHeight - modalHeight - 8;\n                    }\n        \n                    // Horizontal Position\n                    modalLeft = targetOffset.left;\n                    if (modalLeft + modalWidth >= windowWidth - 8) {\n                        modalLeft = targetOffset.left + targetWidth - modalWidth - 8;\n                    }\n                    if (modalLeft < 8) {\n                        modalLeft = 8;\n                    }\n                    if (modalPosition === 'top') {\n                        modal.addClass('popover-on-top');\n                    }\n                    if (modalPosition === 'bottom') {\n                        modal.addClass('popover-on-bottom');\n                    }\n                    if (target.hasClass('floating-button-to-popover') && !modal.hasClass('modal-in')) {\n                        modal.addClass('popover-floating-button');\n                        var diffX = (modalLeft + modalWidth / 2) - (targetOffset.left + targetWidth / 2),\n                            diffY = (modalTop + modalHeight / 2) - (targetOffset.top + targetHeight / 2);\n                        target\n                            .addClass('floating-button-to-popover-in')\n                            .transform('translate3d(' + diffX + 'px, ' + diffY + 'px,0)')\n                            .transitionEnd(function (e) {\n                                if (!target.hasClass('floating-button-to-popover-in')) return;\n                                target\n                                    .addClass('floating-button-to-popover-scale')\n                                    .transform('translate3d(' + diffX + 'px, ' + diffY + 'px,0) scale(' + (modalWidth/targetWidth) + ', ' + (modalHeight/targetHeight) + ')');\n                            });\n        \n                        modal.once('close', function () {\n                            target\n                                .removeClass('floating-button-to-popover-in floating-button-to-popover-scale')\n                                .addClass('floating-button-to-popover-out')\n                                .transform('')\n                                .transitionEnd(function (e) {\n                                    target.removeClass('floating-button-to-popover-out');\n                                });\n                        });\n                        modal.once('closed', function () {\n                            modal.removeClass('popover-floating-button');\n                        });\n                    }\n        \n                }\n                else {\n                    if ((modalHeight + modalAngleSize) < targetOffset.top) {\n                        // On top\n                        modalTop = targetOffset.top - modalHeight - modalAngleSize;\n                    }\n                    else if ((modalHeight + modalAngleSize) < windowHeight - targetOffset.top - targetHeight) {\n                        // On bottom\n                        modalPosition = 'bottom';\n                        modalTop = targetOffset.top + targetHeight + modalAngleSize;\n                    }\n                    else {\n                        // On middle\n                        modalPosition = 'middle';\n                        modalTop = targetHeight / 2 + targetOffset.top - modalHeight / 2;\n                        diff = modalTop;\n                        if (modalTop <= 0) {\n                            modalTop = 5;\n                        }\n                        else if (modalTop + modalHeight >= windowHeight) {\n                            modalTop = windowHeight - modalHeight - 5;\n                        }\n                        diff = diff - modalTop;\n                    }\n        \n                    // Horizontal Position\n                    if (modalPosition === 'top' || modalPosition === 'bottom') {\n                        modalLeft = targetWidth / 2 + targetOffset.left - modalWidth / 2;\n                        diff = modalLeft;\n                        if (modalLeft < 5) modalLeft = 5;\n                        if (modalLeft + modalWidth > windowWidth) modalLeft = windowWidth - modalWidth - 5;\n                        if (modalPosition === 'top') {\n                            modalAngle.addClass('on-bottom');\n                        }\n                        if (modalPosition === 'bottom') {\n                            modalAngle.addClass('on-top');\n                        }\n                        diff = diff - modalLeft;\n                        modalAngleLeft = (modalWidth / 2 - modalAngleSize + diff);\n                        modalAngleLeft = Math.max(Math.min(modalAngleLeft, modalWidth - modalAngleSize * 2 - 13), 13);\n                        modalAngle.css({left: modalAngleLeft + 'px'});\n        \n                    }\n                    else if (modalPosition === 'middle') {\n                        modalLeft = targetOffset.left - modalWidth - modalAngleSize;\n                        modalAngle.addClass('on-right');\n                        if (modalLeft < 5 || (modalLeft + modalWidth > windowWidth)) {\n                            if (modalLeft < 5) modalLeft = targetOffset.left + targetWidth + modalAngleSize;\n                            if (modalLeft + modalWidth > windowWidth) modalLeft = windowWidth - modalWidth - 5;\n                            modalAngle.removeClass('on-right').addClass('on-left');\n                        }\n                        modalAngleTop = (modalHeight / 2 - modalAngleSize + diff);\n                        modalAngleTop = Math.max(Math.min(modalAngleTop, modalHeight - modalAngleSize * 2 - 13), 13);\n                        modalAngle.css({top: modalAngleTop + 'px'});\n                    }\n                }\n        \n        \n                // Apply Styles\n                modal.css({top: modalTop + 'px', left: modalLeft + 'px'});\n            }\n        \n            sizePopover();\n        \n            $(window).on('resize', sizePopover);\n        \n            modal.on('close', function () {\n                $(window).off('resize', sizePopover);\n            });\n        \n            app.openModal(modal);\n            return modal[0];\n        };\n        app.popup = function (modal, removeOnClose) {\n            if (typeof removeOnClose === 'undefined') removeOnClose = true;\n            if (typeof modal === 'string' && modal.indexOf('<') >= 0) {\n                var _modal = document.createElement('div');\n                _modal.innerHTML = modal.trim();\n                if (_modal.childNodes.length > 0) {\n                    modal = _modal.childNodes[0];\n                    if (removeOnClose) modal.classList.add('remove-on-close');\n                    $('body').append(modal);\n                }\n                else return false; //nothing found\n            }\n            modal = $(modal);\n            if (modal.length === 0) return false;\n            if (modal.parents('body').length === 0) {\n                if (removeOnClose) modal.addClass('remove-on-close');\n                $('body').append(modal[0]);\n            }\n            modal.show();\n        \n            app.openModal(modal);\n            return modal[0];\n        };\n        app.pickerModal = function (modal, removeOnClose) {\n            if (typeof removeOnClose === 'undefined') removeOnClose = true;\n            if (typeof modal === 'string' && modal.indexOf('<') >= 0) {\n                modal = $(modal);\n                if (modal.length > 0) {\n                    if (removeOnClose) modal.addClass('remove-on-close');\n                    $('body').append(modal[0]);\n                }\n                else return false; //nothing found\n            }\n            modal = $(modal);\n            if (modal.length === 0) return false;\n            if (modal.parents('body').length === 0) {\n                if (removeOnClose) modal.addClass('remove-on-close');\n                $('body').append(modal[0]);\n            }\n            if ($('.picker-modal.modal-in:not(.modal-out)').length > 0 && !modal.hasClass('modal-in')) {\n                app.closeModal('.picker-modal.modal-in:not(.modal-out)');\n            }\n            modal.show();\n            app.openModal(modal);\n            return modal[0];\n        };\n        app.loginScreen = function (modal) {\n            if (!modal) modal = '.login-screen';\n            modal = $(modal);\n            if (modal.length === 0) return false;\n            if ($('.login-screen.modal-in:not(.modal-out)').length > 0 && !modal.hasClass('modal-in')) {\n                app.closeModal('.login-screen.modal-in:not(.modal-out)');\n            }\n            modal.show();\n            \n            app.openModal(modal);\n            return modal[0];\n        };\n        app.openModal = function (modal) {\n            modal = $(modal);\n            var isModal = modal.hasClass('modal');\n            if ($('.modal.modal-in:not(.modal-out)').length && app.params.modalStack && isModal) {\n                app.modalStack.push(function () {\n                    app.openModal(modal);\n                });\n                return;\n            }\n            // do nothing if this modal already shown\n            if (true === modal.data('f7-modal-shown')) {\n                return;\n            }\n            modal.data('f7-modal-shown', true);\n            modal.once('close', function() {\n               modal.removeData('f7-modal-shown');\n            });\n            var isPopover = modal.hasClass('popover');\n            var isPopup = modal.hasClass('popup');\n            var isLoginScreen = modal.hasClass('login-screen');\n            var isPickerModal = modal.hasClass('picker-modal');\n            if (isModal) {\n                modal.show();\n                modal.css({\n                    marginTop: - Math.round(modal.outerHeight() / 2) + 'px'\n                });\n            }\n        \n            var overlay;\n            if (!isLoginScreen && !isPickerModal) {\n                if ($('.modal-overlay').length === 0 && !isPopup) {\n                    $('body').append('<div class=\"modal-overlay\"></div>');\n                }\n                if ($('.popup-overlay').length === 0 && isPopup) {\n                    $('body').append('<div class=\"popup-overlay\"></div>');\n                }\n                overlay = isPopup ? $('.popup-overlay') : $('.modal-overlay');\n            }\n            if (app.params.material && isPickerModal) {\n                if (modal.hasClass('picker-calendar')) {\n                    if ($('.picker-modal-overlay').length === 0 && !isPopup) {\n                        $('body').append('<div class=\"picker-modal-overlay\"></div>');\n                    }\n                    overlay = $('.picker-modal-overlay');\n                }\n            }\n        \n            //Make sure that styles are applied, trigger relayout;\n            var clientLeft = modal[0].clientLeft;\n        \n            // Trugger open event\n            modal.trigger('open');\n        \n            // Picker modal body class\n            if (isPickerModal) {\n                $('body').addClass('with-picker-modal');\n            }\n        \n            // Init Pages and Navbars in modal\n            if (modal.find('.' + app.params.viewClass).length > 0) {\n                modal.find('.page').each(function () {\n                    app.initPageWithCallback(this);\n                });\n                modal.find('.navbar').each(function () {\n                    app.initNavbarWithCallback(this); \n                });\n            }\n        \n            // Classes for transition in\n            if (!isLoginScreen && !isPickerModal) overlay.addClass('modal-overlay-visible');\n            if (app.params.material && isPickerModal && overlay) overlay.addClass('modal-overlay-visible');\n            modal.removeClass('modal-out').addClass('modal-in').transitionEnd(function (e) {\n                if (modal.hasClass('modal-out')) modal.trigger('closed');\n                else modal.trigger('opened');\n            });\n            return true;\n        };\n        app.closeModal = function (modal) {\n            modal = $(modal || '.modal-in');\n            if (typeof modal !== 'undefined' && modal.length === 0) {\n                return;\n            }\n            var isModal = modal.hasClass('modal');\n            var isPopover = modal.hasClass('popover');\n            var isPopup = modal.hasClass('popup');\n            var isLoginScreen = modal.hasClass('login-screen');\n            var isPickerModal = modal.hasClass('picker-modal');\n        \n            var removeOnClose = modal.hasClass('remove-on-close');\n        \n            var overlay;\n            \n            if (isPopup) overlay = $('.popup-overlay');\n            else {\n                if (isPickerModal && app.params.material) overlay = $('.picker-modal-overlay');\n                else if (!isPickerModal) overlay = $('.modal-overlay');\n            }\n        \n            if (isPopup){\n                if (modal.length === $('.popup.modal-in').length) {\n                    overlay.removeClass('modal-overlay-visible');\n                }\n            }\n            else if (overlay && overlay.length > 0) {\n                overlay.removeClass('modal-overlay-visible');\n            }\n        \n            modal.trigger('close');\n        \n            // Picker modal body class\n            if (isPickerModal) {\n                $('body').removeClass('with-picker-modal');\n                $('body').addClass('picker-modal-closing');\n            }\n        \n            if (!(isPopover && !app.params.material)) {\n                modal.removeClass('modal-in').addClass('modal-out').transitionEnd(function (e) {\n                    if (modal.hasClass('modal-out')) modal.trigger('closed');\n                    else {\n                        modal.trigger('opened');\n                        if (isPopover) return;\n                    }\n        \n                    if (isPickerModal) {\n                        $('body').removeClass('picker-modal-closing');\n                    }\n                    if (isPopup || isLoginScreen || isPickerModal || isPopover) {\n                        modal.removeClass('modal-out').hide();\n                        if (removeOnClose && modal.length > 0) {\n                            modal.remove();\n                        }\n                    }\n                    else {\n                        modal.remove();\n                    }\n                });\n                if (isModal && app.params.modalStack) {\n                    app.modalStackClearQueue();\n                }\n            }\n            else {\n                modal.removeClass('modal-in modal-out').trigger('closed').hide();\n                if (removeOnClose) {\n                    modal.remove();\n                }\n            }\n            return true;\n        };\n        \n\n        /*===============================================================================\n        ************   Progress Bar   ************\n        ===============================================================================*/\n        app.setProgressbar = function (container, progress, speed) {\n            container = $(container || 'body');\n            if (container.length === 0) return;\n            if (progress) progress = Math.min(Math.max(progress, 0), 100);\n            var progressbar;\n            if (container.hasClass('progressbar')) progressbar = container;\n            else {\n                progressbar = container.children('.progressbar');\n            }\n            if (progressbar.length === 0 || progressbar.hasClass('progressbar-infinite')) return;\n            var clientLeft = progressbar[0].clientLeft;\n            progressbar.children('span').transform('translate3d(' + (-100 + progress) + '%,0,0)');\n            if (typeof speed !== 'undefined') {\n                progressbar.children('span').transition(speed);\n            }\n            else {\n                progressbar.children('span').transition('');\n            }\n            return progressbar[0];\n        };\n        app.showProgressbar = function (container, progress, color) {\n            if (typeof container === 'number') {\n                container = 'body';\n                progress = arguments[0];\n                color = arguments[1];\n            }\n            if (progress && typeof progress === 'string' && parseFloat(progress) !== progress * 1) {\n                color = progress;\n                progress = undefined;\n            }\n            container = $(container || 'body');\n            if (container.length === 0) return;\n            var progressbar;\n            if (container.hasClass('progressbar')) progressbar = container;\n            else {\n                progressbar = container.children('.progressbar:not(.progressbar-out), .progressbar-infinite:not(.progressbar-out)');\n                if (progressbar.length === 0) {\n                    // Create one\n                    if (typeof progress !== 'undefined') {\n                        // Determined\n                        progressbar = $('<span class=\"progressbar progressbar-in' + (color ? ' color-' + color : '') + '\"><span></span></span>');\n                    }\n                    else {\n                        // Infinite\n                        progressbar = $('<span class=\"progressbar-infinite progressbar-in' + (color ? ' color-' + color : '') + '\"></span>');\n                    }\n                    container.append(progressbar);\n                }\n            }\n            if (progress) app.setProgressbar(container, progress);\n            return progressbar[0];\n        };\n        app.hideProgressbar = function (container) {\n            container = $(container || 'body');\n            if (container.length === 0) return;\n            var progressbar;\n            if (container.hasClass('progressbar')) progressbar = container;\n            else {\n                progressbar = container.children('.progressbar, .progressbar-infinite');\n            }\n            if (progressbar.length === 0 || !progressbar.hasClass('progressbar-in') || progressbar.hasClass('progressbar-out')) return;\n            progressbar.removeClass('progressbar-in').addClass('progressbar-out').animationEnd(function () {\n                progressbar.remove();\n                progressbar = null;\n            });\n            return;\n        };\n        app.initPageProgressbar = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            pageContainer.find('.progressbar').each(function () {\n                var p = $(this);\n                if (p.children('span').length === 0) p.append('<span></span>');\n                if (p.attr('data-progress')) app.setProgressbar(p, p.attr('data-progress'));\n            });\n        };\n\n        /*======================================================\n        ************   Panels   ************\n        ======================================================*/\n        app.allowPanelOpen = true;\n        app.openPanel = function (panelPosition) {\n            if (!app.allowPanelOpen) return false;\n            var panel = $('.panel-' + panelPosition);\n            if (panel.length === 0 || panel.hasClass('active')) return false;\n            app.closePanel(); // Close if some panel is opened\n            app.allowPanelOpen = false;\n            var effect = panel.hasClass('panel-reveal') ? 'reveal' : 'cover';\n            panel.css({display: 'block'}).addClass('active');\n            panel.trigger('open');\n            if (app.params.material) {\n                $('.panel-overlay').show();\n            }\n            if (panel.find('.' + app.params.viewClass).length > 0) {\n                if (app.sizeNavbars) app.sizeNavbars(panel.find('.' + app.params.viewClass)[0]);\n            }\n        \n            // Trigger reLayout\n            var clientLeft = panel[0].clientLeft;\n            \n            // Transition End;\n            var transitionEndTarget = effect === 'reveal' ? $('.' + app.params.viewsClass) : panel;\n            var openedTriggered = false;\n            \n            function panelTransitionEnd() {\n                transitionEndTarget.transitionEnd(function (e) {\n                    if ($(e.target).is(transitionEndTarget)) {\n                        if (panel.hasClass('active')) {\n                            panel.trigger('opened');\n                        }\n                        else {\n                            panel.trigger('closed');\n                        }\n                        if (app.params.material) $('.panel-overlay').css({display: ''});\n                        app.allowPanelOpen = true;\n                    }\n                    else panelTransitionEnd();\n                });\n            }\n            panelTransitionEnd();\n        \n            $('body').addClass('with-panel-' + panelPosition + '-' + effect);\n            return true;\n        };\n        app.closePanel = function () {\n            var activePanel = $('.panel.active');\n            if (activePanel.length === 0) return false;\n            var effect = activePanel.hasClass('panel-reveal') ? 'reveal' : 'cover';\n            var panelPosition = activePanel.hasClass('panel-left') ? 'left' : 'right';\n            activePanel.removeClass('active');\n            var transitionEndTarget = effect === 'reveal' ? $('.' + app.params.viewsClass) : activePanel;\n            activePanel.trigger('close');\n            app.allowPanelOpen = false;\n        \n            transitionEndTarget.transitionEnd(function () {\n                if (activePanel.hasClass('active')) return;\n                activePanel.css({display: ''});\n                activePanel.trigger('closed');\n                $('body').removeClass('panel-closing');\n                app.allowPanelOpen = true;\n            });\n        \n            $('body').addClass('panel-closing').removeClass('with-panel-' + panelPosition + '-' + effect);\n        };\n        /*======================================================\n        ************   Swipe panels   ************\n        ======================================================*/\n        app.initSwipePanels = function () {\n            var panel, side;\n            if (app.params.swipePanel) {\n                panel = $('.panel.panel-' + app.params.swipePanel);\n                side = app.params.swipePanel;\n                if (panel.length === 0) return;\n            }\n            else {\n                if (app.params.swipePanelOnlyClose) {\n                    if ($('.panel').length === 0) return;\n                }\n                else return;\n            }\n            \n            var panelOverlay = $('.panel-overlay');\n            var isTouched, isMoved, isScrolling, touchesStart = {}, touchStartTime, touchesDiff, translate, overlayOpacity, opened, panelWidth, effect, direction;\n            var views = $('.' + app.params.viewsClass);\n        \n            function handleTouchStart(e) {\n                if (!app.allowPanelOpen || (!app.params.swipePanel && !app.params.swipePanelOnlyClose) || isTouched) return;\n                if ($('.modal-in, .photo-browser-in').length > 0) return;\n                if (!(app.params.swipePanelCloseOpposite || app.params.swipePanelOnlyClose)) {\n                    if ($('.panel.active').length > 0 && !panel.hasClass('active')) return;\n                }\n                touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n                touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n                if (app.params.swipePanelCloseOpposite || app.params.swipePanelOnlyClose) {\n                    if ($('.panel.active').length > 0) {\n                        side = $('.panel.active').hasClass('panel-left') ? 'left' : 'right';\n                    }\n                    else {\n                        if (app.params.swipePanelOnlyClose) return;\n                        side = app.params.swipePanel;\n                    }\n                    if (!side) return;\n                }\n                panel = $('.panel.panel-' + side);\n                opened = panel.hasClass('active');\n                if (app.params.swipePanelActiveArea && !opened) {\n                    if (side === 'left') {\n                        if (touchesStart.x > app.params.swipePanelActiveArea) return;\n                    }\n                    if (side === 'right') {\n                        if (touchesStart.x < window.innerWidth - app.params.swipePanelActiveArea) return;\n                    }\n                }\n                isMoved = false;\n                isTouched = true;\n                isScrolling = undefined;\n                \n                touchStartTime = (new Date()).getTime();\n                direction = undefined;\n            }\n            function handleTouchMove(e) {\n                if (!isTouched) return;\n                if (e.f7PreventPanelSwipe) return;\n                var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n                var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n                if (typeof isScrolling === 'undefined') {\n                    isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\n                }\n                if (isScrolling) {\n                    isTouched = false;\n                    return;\n                }\n                if (!direction) {\n                    if (pageX > touchesStart.x) {\n                        direction = 'to-right';\n                    }\n                    else {\n                        direction = 'to-left';\n                    }\n        \n                    if (\n                        side === 'left' &&\n                        (\n                            direction === 'to-left' && !panel.hasClass('active')\n                        ) ||\n                        side === 'right' &&\n                        (\n                            direction === 'to-right' && !panel.hasClass('active')\n                        )\n                    )\n                    {\n                        isTouched = false;\n                        return;\n                    }\n                }\n        \n                if (app.params.swipePanelNoFollow) {\n                    var timeDiff = (new Date()).getTime() - touchStartTime;\n                    if (timeDiff < 300) {\n                        if (direction === 'to-left') {\n                            if (side === 'right') app.openPanel(side);\n                            if (side === 'left' && panel.hasClass('active')) app.closePanel();\n                        }\n                        if (direction === 'to-right') {\n                            if (side === 'left') app.openPanel(side);\n                            if (side === 'right' && panel.hasClass('active')) app.closePanel();\n                        }\n                    }\n                    isTouched = false;\n                    isMoved = false;\n                    return;\n                }\n        \n                if (!isMoved) {\n                    effect = panel.hasClass('panel-cover') ? 'cover' : 'reveal';\n                    if (!opened) {\n                        panel.show();\n                        panelOverlay.show();\n                    }\n                    panelWidth = panel[0].offsetWidth;\n                    panel.transition(0);\n                    if (panel.find('.' + app.params.viewClass).length > 0) {\n                        if (app.sizeNavbars) app.sizeNavbars(panel.find('.' + app.params.viewClass)[0]);\n                    }\n                }\n        \n                isMoved = true;\n        \n                e.preventDefault();\n                var threshold = opened ? 0 : -app.params.swipePanelThreshold;\n                if (side === 'right') threshold = -threshold;\n                \n                touchesDiff = pageX - touchesStart.x + threshold;\n        \n                if (side === 'right') {\n                    translate = touchesDiff  - (opened ? panelWidth : 0);\n                    if (translate > 0) translate = 0;\n                    if (translate < -panelWidth) {\n                        translate = -panelWidth;\n                    }\n                }\n                else {\n                    translate = touchesDiff  + (opened ? panelWidth : 0);\n                    if (translate < 0) translate = 0;\n                    if (translate > panelWidth) {\n                        translate = panelWidth;\n                    }\n                }\n                if (effect === 'reveal') {\n                    views.transform('translate3d(' + translate + 'px,0,0)').transition(0);\n                    panelOverlay.transform('translate3d(' + translate + 'px,0,0)').transition(0);\n                    \n                    app.pluginHook('swipePanelSetTransform', views[0], panel[0], Math.abs(translate / panelWidth));\n                }\n                else {\n                    panel.transform('translate3d(' + translate + 'px,0,0)').transition(0);\n                    if (app.params.material) {\n                        panelOverlay.transition(0);\n                        overlayOpacity = Math.abs(translate/panelWidth);\n                        panelOverlay.css({opacity: overlayOpacity});\n                    }\n                    app.pluginHook('swipePanelSetTransform', views[0], panel[0], Math.abs(translate / panelWidth));\n                }\n            }\n            function handleTouchEnd(e) {\n                if (!isTouched || !isMoved) {\n                    isTouched = false;\n                    isMoved = false;\n                    return;\n                }\n                isTouched = false;\n                isMoved = false;\n                var timeDiff = (new Date()).getTime() - touchStartTime;\n                var action;\n                var edge = (translate === 0 || Math.abs(translate) === panelWidth);\n        \n                if (!opened) {\n                    if (translate === 0) {\n                        action = 'reset';\n                    }\n                    else if (\n                        timeDiff < 300 && Math.abs(translate) > 0 ||\n                        timeDiff >= 300 && (Math.abs(translate) >= panelWidth / 2)\n                    ) {\n                        action = 'swap';\n                    }\n                    else {\n                        action = 'reset';\n                    }\n                }\n                else {\n                    if (translate === -panelWidth) {\n                        action = 'reset';\n                    }\n                    else if (\n                        timeDiff < 300 && Math.abs(translate) >= 0 ||\n                        timeDiff >= 300 && (Math.abs(translate) <= panelWidth / 2)\n                    ) {\n                        if (side === 'left' && translate === panelWidth) action = 'reset';\n                        else action = 'swap';\n                    }\n                    else {\n                        action = 'reset';\n                    }\n                }\n                if (action === 'swap') {\n                    app.allowPanelOpen = true;\n                    if (opened) {\n                        app.closePanel();\n                        if (edge) {\n                            panel.css({display: ''});\n                            $('body').removeClass('panel-closing');\n                        }\n                    }\n                    else {\n                        app.openPanel(side);\n                    }\n                    if (edge) app.allowPanelOpen = true;\n                }\n                if (action === 'reset') {\n                    if (opened) {\n                        app.allowPanelOpen = true;\n                        app.openPanel(side);\n                    }\n                    else {\n                        app.closePanel();\n                        if (edge) {\n                            app.allowPanelOpen = true;\n                            panel.css({display: ''});\n                        }\n                        else {\n                            var target = effect === 'reveal' ? views : panel;\n                            panel.trigger('close');\n                            $('body').addClass('panel-closing');\n                            target.transitionEnd(function () {\n                                panel.trigger('closed');\n                                panel.css({display: ''});\n                                $('body').removeClass('panel-closing');\n                                app.allowPanelOpen = true;\n                            });\n                        }\n                    }\n                }\n                if (effect === 'reveal') {\n                    views.transition('');\n                    views.transform('');\n                }\n                panel.transition('').transform('');\n                panelOverlay.css({display: ''}).transform('').transition('').css('opacity', '');\n            }\n            $(document).on(app.touchEvents.start, handleTouchStart);\n            $(document).on(app.touchEvents.move, handleTouchMove);\n            $(document).on(app.touchEvents.end, handleTouchEnd);\n        };\n        \n\n        /*======================================================\n        ************   Image Lazy Loading   ************\n        ************   Based on solution by Marc Godard, https://github.com/MarcGodard   ************\n        ======================================================*/\n        app.initImagesLazyLoad = function (pageContainer) {\n            pageContainer = $(pageContainer);\n        \n            // Lazy images\n            var lazyLoadImages;\n            if (pageContainer.hasClass('lazy')) {\n                lazyLoadImages = pageContainer;\n                pageContainer = lazyLoadImages.parents('.page');\n            }\n            else {\n                lazyLoadImages = pageContainer.find('.lazy');\n            }\n            if (lazyLoadImages.length === 0) return;\n        \n            // Scrollable page content\n            var pageContent;\n            if (pageContainer.hasClass('page-content'))  {\n                pageContent = pageContainer;\n                pageContainer = pageContainer.parents('.page');\n            }\n            else  {\n                pageContent = pageContainer.find('.page-content');\n            }\n            if (pageContent.length === 0) return;\n        \n            // Placeholder\n            var placeholderSrc = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABAQMAAAAl21bKAAAAA1BMVEXCwsK592mkAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==';\n            if (typeof app.params.imagesLazyLoadPlaceholder === 'string') {\n                placeholderSrc = app.params.imagesLazyLoadPlaceholder;\n            }\n            if (app.params.imagesLazyLoadPlaceholder !== false) lazyLoadImages.each(function(){\n                if ($(this).attr('data-src')) $(this).attr('src', placeholderSrc);\n            });\n        \n            // load image\n            var imagesSequence = [];\n            var imageIsLoading = false;\n            function loadImage(el) {\n                el = $(el);\n        \n                var bg = el.attr('data-background');\n                var src = bg ? bg : el.attr('data-src');\n                if (!src) return;\n        \n                function onLoad() {\n                    el.removeClass('lazy').addClass('lazy-loaded');\n                    if (bg) {\n                        el.css('background-image', 'url(' + src + ')');\n                    }\n                    else {\n                        el.attr('src', src);\n                    }\n        \n                    if (app.params.imagesLazyLoadSequential) {\n                        imageIsLoading = false;\n                        if (imagesSequence.length > 0) {\n                            loadImage(imagesSequence.shift());\n                        }\n                    }\n                }\n        \n                if (app.params.imagesLazyLoadSequential) {\n                    if (imageIsLoading) {\n                        if (imagesSequence.indexOf(el[0]) < 0) imagesSequence.push(el[0]);\n                        return;\n                    }\n                }\n        \n                // Loading flag\n                imageIsLoading = true;\n                \n                var image = new Image();\n                image.onload = onLoad;\n                image.onerror = onLoad;\n                image.src =src;\n            }\n            function lazyHandler() {\n                lazyLoadImages = pageContainer.find('.lazy');\n                lazyLoadImages.each(function(index, el) {\n                    el = $(el);\n                    if (el.parents('.tab:not(.active)').length > 0) {\n                        return;\n                    }\n                    if (isElementInViewport(el[0])) {\n                        loadImage(el);\n                    }\n                });\n            }\n        \n            function isElementInViewport (el) {\n                var rect = el.getBoundingClientRect();\n                var threshold = app.params.imagesLazyLoadThreshold || 0;\n                return (\n                    rect.top >= (0 - threshold) &&\n                    rect.left >= (0 - threshold) &&\n                    rect.top <= (window.innerHeight + threshold) &&\n                    rect.left <= (window.innerWidth + threshold)\n                );\n            }\n        \n            function attachEvents(destroy) {\n                var method = destroy ? 'off' : 'on';\n                lazyLoadImages[method]('lazy', lazyHandler);\n                lazyLoadImages.parents('.tab')[method]('show', lazyHandler);\n                pageContainer[method]('lazy', lazyHandler);\n                pageContent[method]('lazy', lazyHandler);\n                pageContent[method]('scroll', lazyHandler);\n                $(window)[method]('resize', lazyHandler);\n            }\n            function detachEvents() {\n                attachEvents(true);\n            }\n        \n            // Store detach function\n            pageContainer[0].f7DestroyImagesLazyLoad = detachEvents;\n        \n            // Attach events\n            attachEvents();\n        \n            // Destroy on page remove\n            if (pageContainer.hasClass('page')) {\n                pageContainer.once('pageBeforeRemove', detachEvents);\n            }\n        \n            // Run loader on page load/init\n            lazyHandler();\n        \n            // Run after page animation\n            pageContainer.once('pageAfterAnimation', lazyHandler);\n        };\n        app.destroyImagesLazyLoad = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            if (pageContainer.length > 0 && pageContainer[0].f7DestroyImagesLazyLoad) {\n                pageContainer[0].f7DestroyImagesLazyLoad();\n            }\n        };\n        app.reinitImagesLazyLoad = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            if (pageContainer.length > 0) {\n                pageContainer.trigger('lazy');\n            }\n        };\n\n        /*======================================================\n        ************   Material Preloader   ************\n        ======================================================*/\n        app.initPageMaterialPreloader = function (pageContainer) {\n            $(pageContainer).find('.preloader').each(function () {\n                if ($(this).children().length === 0) {\n                    $(this).html(app.params.materialPreloaderHtml);\n                }\n            });\n        };\n\n        /*======================================================\n        ************   Messages   ************\n        ======================================================*/\n        var Messages = function (container, params) {\n            var defaults = {\n                autoLayout: true,\n                newMessagesFirst: false,\n                messageTemplate: \n                    '{{#if day}}' +\n                    '<div class=\"messages-date\">{{day}} {{#if time}}, <span>{{time}}</span>{{/if}}</div>' +\n                    '{{/if}}' +\n                    '<div class=\"message message-{{type}} {{#if hasImage}}message-pic{{/if}} {{#if avatar}}message-with-avatar{{/if}} {{#if position}}message-appear-from-{{position}}{{/if}}\">' +\n                        '{{#if name}}<div class=\"message-name\">{{name}}</div>{{/if}}' +\n                        '<div class=\"message-text\">{{text}}{{#if date}}<div class=\"message-date\">{{date}}</div>{{/if}}</div>' +\n                        '{{#if avatar}}<div class=\"message-avatar\" style=\"background-image:url({{avatar}})\"></div>{{/if}}' +\n                        '{{#if label}}<div class=\"message-label\">{{label}}</div>{{/if}}' +\n                    '</div>'\n            };\n            params = params || {};\n            for (var def in defaults) {\n                if (typeof params[def] === 'undefined' || params[def] === null) {\n                    params[def] = defaults[def];\n                }\n            }\n        \n            // Instance\n            var m = this;\n        \n            // Params\n            m.params = params;\n        \n            // Container\n            m.container = $(container);\n            if (m.container.length === 0) return;\n        \n            // Autolayout\n            if (m.params.autoLayout) m.container.addClass('messages-auto-layout');\n        \n            // New messages first\n            if (m.params.newMessagesFirst) m.container.addClass('messages-new-first');\n        \n            // Is In Page\n            m.pageContainer = m.container.parents('.page').eq(0);\n            m.pageContent = m.pageContainer.find('.page-content');\n        \n            // Compiled template\n            m.template = Template7.compile(m.params.messageTemplate);\n        \n            // Auto Layout\n            m.layout = function () {\n                if (!m.container.hasClass('messages-auto-layout')) m.container.addClass('messages-auto-layout');\n                m.container.find('.message').each(function () {\n                    var message = $(this);\n                    if (message.find('.message-text img').length > 0) message.addClass('message-pic');\n                    if (message.find('.message-avatar').length > 0) message.addClass('message-with-avatar');\n                });\n                m.container.find('.message').each(function () {\n                    var message = $(this);\n                    var isSent = message.hasClass('message-sent');\n                    var next = message.next('.message-' + (isSent ? 'sent' : 'received'));\n                    var prev = message.prev('.message-' + (isSent ? 'sent' : 'received'));\n                    if (next.length === 0) {\n                        message.addClass('message-last message-with-tail');\n                    }\n                    else message.removeClass('message-last message-with-tail');\n        \n                    if (prev.length === 0) {\n                        message.addClass('message-first');\n                    }\n                    else message.removeClass('message-first');\n        \n                    if (prev.length > 0 && prev.find('.message-name').length > 0 && message.find('.message-name').length > 0) {\n                        if (prev.find('.message-name').text() !== message.find('.message-name').text()) {\n                            prev.addClass('message-last message-with-tail');\n                            message.addClass('message-first');\n                        }\n                    }\n                });\n                \n            };\n        \n            // Add Message\n            m.appendMessage = function (props, animate) {\n                return m.addMessage(props, 'append', animate);\n            };\n            m.prependMessage = function (props, animate) {\n                return m.addMessage(props, 'prepend', animate);\n            };\n            m.addMessage = function (props, method, animate) {\n                return m.addMessages([props], method, animate);\n            };\n            m.addMessages = function (newMessages, method, animate) {\n                if (typeof animate === 'undefined') {\n                    animate = true;\n                }\n                if (typeof method === 'undefined') {\n                    method = m.params.newMessagesFirst ? 'prepend' : 'append';\n                }\n                var newMessagesHTML = '', i;\n                for (i = 0; i < newMessages.length; i++) {\n                    var props = newMessages[i] || {};\n                    props.type = props.type || 'sent';\n                    if (!props.text) continue;\n                    props.hasImage = props.text.indexOf('<img') >= 0;\n                    if (animate) props.position = method === 'append' ? 'bottom' : 'top';\n        \n                    newMessagesHTML += m.template(props);\n                }\n                var heightBefore, scrollBefore;\n                if (method === 'prepend') {\n                    heightBefore = m.pageContent[0].scrollHeight;\n                    scrollBefore = m.pageContent[0].scrollTop;\n                }\n                m.container[method](newMessagesHTML);\n                if (m.params.autoLayout) m.layout();\n                if (method === 'prepend') {\n                    m.pageContent[0].scrollTop = scrollBefore + (m.pageContent[0].scrollHeight - heightBefore);\n                }\n                if ((method === 'append' && !m.params.newMessagesFirst) || (method === 'prepend' && m.params.newMessagesFirst)) {\n                    m.scrollMessages(animate ? undefined : 0);\n                }\n                var messages = m.container.find('.message');\n                if (newMessages.length === 1) {\n                    return method === 'append' ? messages[messages.length - 1] : messages[0];\n                }\n                else {\n                    var messagesToReturn = [];\n                    if (method === 'append') {\n                        for (i = messages.length - newMessages.length; i < messages.length; i++) {\n                            messagesToReturn.push(messages[i]);\n                        }\n                    }\n                    else {\n                        for (i = 0; i < newMessages.length; i++) {\n                            messagesToReturn.push(messages[i]);\n                        }   \n                    }\n                    return messagesToReturn;\n                }\n                \n            };\n            m.removeMessage = function (message) {\n                message = $(message);\n                if (message.length === 0) {\n                    return false;\n                }\n                else {\n                    message.remove();\n                    if (m.params.autoLayout) m.layout();\n                    return true;\n                }\n            };\n            m.removeMessages = function (messages) {\n                m.removeMessage(messages);\n            };\n            m.clean = function () {\n                m.container.html('');\n            };\n        \n            // Scroll\n            m.scrollMessages = function (duration, scrollTop) {\n                if (typeof duration === 'undefined') duration = 400;\n                var currentScroll = m.pageContent[0].scrollTop;\n                var newScroll;\n                if (typeof scrollTop !== 'undefined') newScroll = scrollTop;\n                else {\n                    newScroll = m.params.newMessagesFirst ? 0 : m.pageContent[0].scrollHeight - m.pageContent[0].offsetHeight;\n                    if (newScroll === currentScroll) return;\n                }\n                m.pageContent.scrollTop(newScroll, duration);\n            };\n        \n            // Init Destroy\n            m.init = function () {\n                if (m.params.messages) {\n                    m.addMessages(m.params.messages, undefined, false);\n                }\n                else {\n                    if (m.params.autoLayout) m.layout();    \n                    m.scrollMessages(0);\n                }\n                \n            };\n            m.destroy = function () {\n                m = null;\n            };\n        \n            // Init\n            m.init();\n        \n            m.container[0].f7Messages = m;\n            return m;\n        };\n        app.messages = function (container, params) {\n            return new Messages (container, params);\n        };\n        app.initPageMessages = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            var messages = pageContainer.find('.messages');\n            if (messages.length === 0) return;\n            if (!messages.hasClass('messages-init')) {\n                return;\n            }\n            var m = app.messages(messages, messages.dataset());\n        \n            // Destroy on page remove\n            function pageBeforeRemove() {\n                m.destroy();\n                pageContainer.off('pageBeforeRemove', pageBeforeRemove);\n            }\n            if (pageContainer.hasClass('page')) {\n                pageContainer.on('pageBeforeRemove', pageBeforeRemove);\n            }\n        };\n        \n\n        /*===============================================================================\n        ************   Swipeout Actions (Swipe to delete)   ************\n        ===============================================================================*/\n        app.swipeoutOpenedEl = undefined;\n        app.allowSwipeout = true;\n        app.initSwipeout = function (swipeoutEl) {\n            var isTouched, isMoved, isScrolling, touchesStart = {}, touchStartTime, touchesDiff, swipeOutEl, swipeOutContent, actionsRight, actionsLeft, actionsLeftWidth, actionsRightWidth, translate, opened, openedActions, buttonsLeft, buttonsRight, direction, overswipeLeftButton, overswipeRightButton, overswipeLeft, overswipeRight, noFoldLeft, noFoldRight;\n            $(document).on(app.touchEvents.start, function (e) {\n                if (app.swipeoutOpenedEl) {\n                    var target = $(e.target);\n                    if (!(\n                        app.swipeoutOpenedEl.is(target[0]) ||\n                        target.parents('.swipeout').is(app.swipeoutOpenedEl) ||\n                        target.hasClass('modal-in') ||\n                        target.hasClass('modal-overlay') ||\n                        target.hasClass('actions-modal') || \n                        target.parents('.actions-modal.modal-in, .modal.modal-in').length > 0\n                        )) {\n                        app.swipeoutClose(app.swipeoutOpenedEl);\n                    }\n                }\n            });\n        \n            function handleTouchStart(e) {\n                if (!app.allowSwipeout) return;\n                isMoved = false;\n                isTouched = true;\n                isScrolling = undefined;\n                touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n                touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n                touchStartTime = (new Date()).getTime();\n            }\n            function handleTouchMove(e) {\n                if (!isTouched) return;\n                var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n                var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n                if (typeof isScrolling === 'undefined') {\n                    isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\n                }\n                if (isScrolling) {\n                    isTouched = false;\n                    return;\n                }\n        \n                if (!isMoved) {\n                    if ($('.list-block.sortable-opened').length > 0) return;\n                    /*jshint validthis:true */\n                    swipeOutEl = $(this);\n                    swipeOutContent = swipeOutEl.find('.swipeout-content');\n                    actionsRight = swipeOutEl.find('.swipeout-actions-right');\n                    actionsLeft = swipeOutEl.find('.swipeout-actions-left');\n                    actionsLeftWidth = actionsRightWidth = buttonsLeft = buttonsRight = overswipeRightButton = overswipeLeftButton = null;\n                    noFoldLeft = actionsLeft.hasClass('swipeout-actions-no-fold') || app.params.swipeoutActionsNoFold;\n                    noFoldRight = actionsRight.hasClass('swipeout-actions-no-fold') || app.params.swipeoutActionsNoFold;\n                    if (actionsLeft.length > 0) {\n                        actionsLeftWidth = actionsLeft.outerWidth();\n                        buttonsLeft = actionsLeft.children('a');\n                        overswipeLeftButton = actionsLeft.find('.swipeout-overswipe');\n                    }\n                    if (actionsRight.length > 0) {\n                        actionsRightWidth = actionsRight.outerWidth();\n                        buttonsRight = actionsRight.children('a');\n                        overswipeRightButton = actionsRight.find('.swipeout-overswipe');\n                    }\n                    opened = swipeOutEl.hasClass('swipeout-opened');\n                    if (opened) {\n                        openedActions = swipeOutEl.find('.swipeout-actions-left.swipeout-actions-opened').length > 0 ? 'left' : 'right';\n                    }\n                    swipeOutEl.removeClass('transitioning');\n                    if (!app.params.swipeoutNoFollow) {\n                        swipeOutEl.find('.swipeout-actions-opened').removeClass('swipeout-actions-opened');\n                        swipeOutEl.removeClass('swipeout-opened');\n                    }\n                }\n                isMoved = true;\n                e.preventDefault();\n                \n                touchesDiff = pageX - touchesStart.x;\n                translate = touchesDiff;\n        \n                if (opened) {\n                    if (openedActions === 'right') translate = translate - actionsRightWidth;\n                    else translate = translate + actionsLeftWidth;\n                }\n        \n                if (translate > 0 && actionsLeft.length === 0 || translate < 0 && actionsRight.length === 0) {\n                    if (!opened) {\n                        isTouched = isMoved = false;\n                        swipeOutContent.transform('');\n                        if (buttonsRight && buttonsRight.length > 0) {\n                            buttonsRight.transform('');\n                        }\n                        if (buttonsLeft && buttonsLeft.length > 0) {\n                            buttonsLeft.transform('');\n                        }\n                        return;\n                    }\n                    translate = 0;\n                }\n        \n                if (translate < 0) direction = 'to-left';\n                else if (translate > 0) direction = 'to-right';\n                else {\n                    if (direction) direction = direction;\n                    else direction = 'to-left';\n                }\n                \n                var i, buttonOffset, progress;\n                \n                e.f7PreventPanelSwipe = true;\n                if (app.params.swipeoutNoFollow) {\n                    if (opened) {\n                        if (openedActions === 'right' && touchesDiff > 0) {\n                            app.swipeoutClose(swipeOutEl);\n                        }\n                        if (openedActions === 'left' && touchesDiff < 0) {\n                            app.swipeoutClose(swipeOutEl);\n                        }\n                    }\n                    else {\n                        if (touchesDiff < 0 && actionsRight.length > 0) {\n                            app.swipeoutOpen(swipeOutEl, 'right');\n                        }\n                        if (touchesDiff > 0 && actionsLeft.length > 0) {\n                            app.swipeoutOpen(swipeOutEl, 'left');\n                        }\n                    }\n                    isTouched = false;\n                    isMoved = false;\n                    return;\n                }\n                overswipeLeft = false;\n                overswipeRight = false;\n                var $button;\n                if (actionsRight.length > 0) {\n                    // Show right actions\n                    progress = translate / actionsRightWidth;\n                    if (translate < -actionsRightWidth) {\n                        translate = -actionsRightWidth - Math.pow(-translate - actionsRightWidth, 0.8);\n                        if (overswipeRightButton.length > 0) {\n                            overswipeRight = true;\n                        }\n                    }\n                    for (i = 0; i < buttonsRight.length; i++) {\n                        if (typeof buttonsRight[i]._buttonOffset === 'undefined') {\n                            buttonsRight[i]._buttonOffset = buttonsRight[i].offsetLeft;\n                        }\n                        buttonOffset = buttonsRight[i]._buttonOffset;\n                        $button = $(buttonsRight[i]);\n                        if (overswipeRightButton.length > 0 && $button.hasClass('swipeout-overswipe')) {\n                            $button.css({left: (overswipeRight ? -buttonOffset : 0) + 'px'});\n                            if (overswipeRight) {\n                                $button.addClass('swipeout-overswipe-active');\n                            }\n                            else {\n                                $button.removeClass('swipeout-overswipe-active');   \n                            }\n                        }\n                        $button.transform('translate3d(' + (translate - buttonOffset * (1 + Math.max(progress, -1))) + 'px,0,0)');\n                    }\n                }\n                if (actionsLeft.length > 0) {\n                    // Show left actions\n                    progress = translate / actionsLeftWidth;\n                    if (translate > actionsLeftWidth) {\n                        translate = actionsLeftWidth + Math.pow(translate - actionsLeftWidth, 0.8);\n                        if (overswipeLeftButton.length > 0) {\n                            overswipeLeft = true;\n                        }\n                    }\n                    for (i = 0; i < buttonsLeft.length; i++) {\n                        if (typeof buttonsLeft[i]._buttonOffset === 'undefined') {\n                            buttonsLeft[i]._buttonOffset = actionsLeftWidth - buttonsLeft[i].offsetLeft - buttonsLeft[i].offsetWidth;\n                        }\n                        buttonOffset = buttonsLeft[i]._buttonOffset;\n                        $button = $(buttonsLeft[i]);\n                        if (overswipeLeftButton.length > 0 && $button.hasClass('swipeout-overswipe')) {\n                            $button.css({left: (overswipeLeft ? buttonOffset : 0) + 'px'});\n                            if (overswipeLeft) {\n                                $button.addClass('swipeout-overswipe-active');\n                            }\n                            else {\n                                $button.removeClass('swipeout-overswipe-active');   \n                            }\n                        }\n                        if (buttonsLeft.length > 1) {\n                            $button.css('z-index', buttonsLeft.length - i); \n                        }\n                        $button.transform('translate3d(' + (translate + buttonOffset * (1 - Math.min(progress, 1))) + 'px,0,0)');\n                    }\n                }\n                swipeOutContent.transform('translate3d(' + translate + 'px,0,0)');\n            }\n            function handleTouchEnd(e) {\n                if (!isTouched || !isMoved) {\n                    isTouched = false;\n                    isMoved = false;\n                    return;\n                }\n        \n                isTouched = false;\n                isMoved = false;\n                var timeDiff = (new Date()).getTime() - touchStartTime;\n                var action, actionsWidth, actions, buttons, i, noFold;\n                \n                noFold = direction === 'to-left' ? noFoldRight : noFoldLeft;\n                actions = direction === 'to-left' ? actionsRight : actionsLeft;\n                actionsWidth = direction === 'to-left' ? actionsRightWidth : actionsLeftWidth;\n        \n                if (\n                    timeDiff < 300 && (touchesDiff < -10 && direction === 'to-left' || touchesDiff > 10 && direction === 'to-right') ||\n                    timeDiff >= 300 && Math.abs(translate) > actionsWidth / 2\n                ) {\n                    action = 'open';\n                }\n                else {\n                    action = 'close';\n                }\n                if (timeDiff < 300) {\n                    if (Math.abs(translate) === 0) action = 'close';\n                    if (Math.abs(translate) === actionsWidth) action = 'open';\n                }\n                \n                if (action === 'open') {\n                    app.swipeoutOpenedEl = swipeOutEl;\n                    swipeOutEl.trigger('open');\n                    swipeOutEl.addClass('swipeout-opened transitioning');\n                    var newTranslate = direction === 'to-left' ? -actionsWidth : actionsWidth;\n                    swipeOutContent.transform('translate3d(' + newTranslate + 'px,0,0)');\n                    actions.addClass('swipeout-actions-opened');\n                    buttons = direction === 'to-left' ? buttonsRight : buttonsLeft;\n                    if (buttons) {\n                        for (i = 0; i < buttons.length; i++) {\n                            $(buttons[i]).transform('translate3d(' + newTranslate + 'px,0,0)');\n                        }\n                    }\n                    if (overswipeRight) {\n                        actionsRight.find('.swipeout-overswipe')[0].click();\n                    }\n                    if (overswipeLeft) {\n                        actionsLeft.find('.swipeout-overswipe')[0].click();\n                    }\n                }\n                else {\n                    swipeOutEl.trigger('close');\n                    app.swipeoutOpenedEl = undefined;\n                    swipeOutEl.addClass('transitioning').removeClass('swipeout-opened');\n                    swipeOutContent.transform('');\n                    actions.removeClass('swipeout-actions-opened');\n                }\n                \n                var buttonOffset;\n                if (buttonsLeft && buttonsLeft.length > 0 && buttonsLeft !== buttons) {\n                    for (i = 0; i < buttonsLeft.length; i++) {\n                        buttonOffset = buttonsLeft[i]._buttonOffset;\n                        if (typeof buttonOffset === 'undefined') {\n                            buttonsLeft[i]._buttonOffset = actionsLeftWidth - buttonsLeft[i].offsetLeft - buttonsLeft[i].offsetWidth;\n                        }\n                        $(buttonsLeft[i]).transform('translate3d(' + (buttonOffset) + 'px,0,0)');\n                    }\n                }\n                if (buttonsRight && buttonsRight.length > 0 && buttonsRight !== buttons) {\n                    for (i = 0; i < buttonsRight.length; i++) {\n                        buttonOffset = buttonsRight[i]._buttonOffset;\n                        if (typeof buttonOffset === 'undefined') {\n                            buttonsRight[i]._buttonOffset = buttonsRight[i].offsetLeft;\n                        }\n                        $(buttonsRight[i]).transform('translate3d(' + (-buttonOffset) + 'px,0,0)');\n                    }\n                }\n                swipeOutContent.transitionEnd(function (e) {\n                    if (opened && action === 'open' || closed && action === 'close') return;\n                    swipeOutEl.trigger(action === 'open' ? 'opened' : 'closed');\n                    if (opened && action === 'close') {\n                        if (actionsRight.length > 0) {\n                            buttonsRight.transform('');\n                        }\n                        if (actionsLeft.length > 0) {\n                            buttonsLeft.transform('');\n                        }\n                    }\n                });\n            }\n            if (swipeoutEl) {\n                $(swipeoutEl).on(app.touchEvents.start, handleTouchStart);\n                $(swipeoutEl).on(app.touchEvents.move, handleTouchMove);\n                $(swipeoutEl).on(app.touchEvents.end, handleTouchEnd);\n            }\n            else {\n                $(document).on(app.touchEvents.start, '.list-block li.swipeout', handleTouchStart);\n                $(document).on(app.touchEvents.move, '.list-block li.swipeout', handleTouchMove);\n                $(document).on(app.touchEvents.end, '.list-block li.swipeout', handleTouchEnd);\n            }\n                \n        };\n        app.swipeoutOpen = function (el, dir, callback) {\n            el = $(el);\n            if (arguments.length === 2) {\n                if (typeof arguments[1] === 'function') {\n                    callback = dir;\n                }\n            }\n        \n            if (el.length === 0) return;\n            if (el.length > 1) el = $(el[0]);\n            if (!el.hasClass('swipeout') || el.hasClass('swipeout-opened')) return;\n            if (!dir) {\n                if (el.find('.swipeout-actions-right').length > 0) dir = 'right';\n                else dir = 'left';\n            }\n            var swipeOutActions = el.find('.swipeout-actions-' + dir);\n            if (swipeOutActions.length === 0) return;\n            var noFold = swipeOutActions.hasClass('swipeout-actions-no-fold') || app.params.swipeoutActionsNoFold;\n            el.trigger('open').addClass('swipeout-opened').removeClass('transitioning');\n            swipeOutActions.addClass('swipeout-actions-opened');\n            var buttons = swipeOutActions.children('a');\n            var swipeOutActionsWidth = swipeOutActions.outerWidth();\n            var translate = dir === 'right' ? -swipeOutActionsWidth : swipeOutActionsWidth;\n            var i;\n            if (buttons.length > 1) {\n                for (i = 0; i < buttons.length; i++) {\n                    if (dir === 'right') {\n                        $(buttons[i]).transform('translate3d(' + (- buttons[i].offsetLeft) + 'px,0,0)');\n                    }\n                    else {\n                        $(buttons[i]).css('z-index', buttons.length - i).transform('translate3d(' + (swipeOutActionsWidth - buttons[i].offsetWidth - buttons[i].offsetLeft) + 'px,0,0)');\n                    }\n                }\n                var clientLeft = buttons[1].clientLeft;\n            }\n            el.addClass('transitioning');\n            for (i = 0; i < buttons.length; i++) {\n                $(buttons[i]).transform('translate3d(' + (translate) + 'px,0,0)');\n            }\n            el.find('.swipeout-content').transform('translate3d(' + translate + 'px,0,0)').transitionEnd(function () {\n                el.trigger('opened');\n                if (callback) callback.call(el[0]);\n            });\n            app.swipeoutOpenedEl = el;\n        };\n        app.swipeoutClose = function (el, callback) {\n            el = $(el);\n            if (el.length === 0) return;\n            if (!el.hasClass('swipeout-opened')) return;\n            var dir = el.find('.swipeout-actions-opened').hasClass('swipeout-actions-right') ? 'right' : 'left';\n            var swipeOutActions = el.find('.swipeout-actions-opened').removeClass('swipeout-actions-opened');\n            var noFold = swipeOutActions.hasClass('swipeout-actions-no-fold') || app.params.swipeoutActionsNoFold;\n            var buttons = swipeOutActions.children('a');\n            var swipeOutActionsWidth = swipeOutActions.outerWidth();\n            app.allowSwipeout = false;\n            el.trigger('close');\n            el.removeClass('swipeout-opened').addClass('transitioning');\n        \n            var closeTO;\n            function onSwipeoutClose() {\n                app.allowSwipeout = true;\n                if (el.hasClass('swipeout-opened')) return;\n                el.removeClass('transitioning');\n                buttons.transform('');\n                el.trigger('closed');\n                if (callback) callback.call(el[0]);\n                if (closeTO) clearTimeout(closeTO);\n            }\n            el.find('.swipeout-content').transform('').transitionEnd(onSwipeoutClose);\n            closeTO = setTimeout(onSwipeoutClose, 500);\n            \n            for (var i = 0; i < buttons.length; i++) {\n                if (dir === 'right') {\n                    $(buttons[i]).transform('translate3d(' + (-buttons[i].offsetLeft) + 'px,0,0)');\n                }\n                else {\n                    $(buttons[i]).transform('translate3d(' + (swipeOutActionsWidth - buttons[i].offsetWidth - buttons[i].offsetLeft) + 'px,0,0)');\n                }\n                $(buttons[i]).css({left:0 + 'px'}).removeClass('swipeout-overswipe-active');\n            }\n            if (app.swipeoutOpenedEl && app.swipeoutOpenedEl[0] === el[0]) app.swipeoutOpenedEl = undefined;\n        };\n        app.swipeoutDelete = function (el, callback) {\n            el = $(el);\n            if (el.length === 0) return;\n            if (el.length > 1) el = $(el[0]);\n            app.swipeoutOpenedEl = undefined;\n            el.trigger('delete');\n            el.css({height: el.outerHeight() + 'px'});\n            var clientLeft = el[0].clientLeft;\n            el.css({height: 0 + 'px'}).addClass('deleting transitioning').transitionEnd(function () {\n                el.trigger('deleted');\n                if (callback) callback.call(el[0]);\n                if (el.parents('.virtual-list').length > 0) {\n                    var virtualList = el.parents('.virtual-list')[0].f7VirtualList;\n                    var virtualIndex = el[0].f7VirtualListIndex;\n                    if (virtualList && typeof virtualIndex !== 'undefined') virtualList.deleteItem(virtualIndex);\n                }\n                else {\n                    el.remove();\n                }\n            });\n            var translate = '-100%';\n            el.find('.swipeout-content').transform('translate3d(' + translate + ',0,0)');\n        };\n        \n\n        /*===============================================================================\n        ************   Sortable   ************\n        ===============================================================================*/\n        app.sortableToggle = function (sortableContainer) {\n            sortableContainer = $(sortableContainer);\n            if (sortableContainer.length === 0) sortableContainer = $('.list-block.sortable');\n            sortableContainer.toggleClass('sortable-opened');\n            if (sortableContainer.hasClass('sortable-opened')) {\n                sortableContainer.trigger('open');\n            }\n            else {\n                sortableContainer.trigger('close');\n            }\n            return sortableContainer;\n        };\n        app.sortableOpen = function (sortableContainer) {\n            sortableContainer = $(sortableContainer);\n            if (sortableContainer.length === 0) sortableContainer = $('.list-block.sortable');\n            sortableContainer.addClass('sortable-opened');\n            sortableContainer.trigger('open');\n            return sortableContainer;\n        };\n        app.sortableClose = function (sortableContainer) {\n            sortableContainer = $(sortableContainer);\n            if (sortableContainer.length === 0) sortableContainer = $('.list-block.sortable');\n            sortableContainer.removeClass('sortable-opened');\n            sortableContainer.trigger('close');\n            return sortableContainer;\n        };\n        app.initSortable = function () {\n            var isTouched, isMoved, touchStartY, touchesDiff, sortingEl, sortingElHeight, sortingItems, minTop, maxTop, insertAfter, insertBefore, sortableContainer;\n            \n            function handleTouchStart(e) {\n                isMoved = false;\n                isTouched = true;\n                touchStartY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n                /*jshint validthis:true */\n                sortingEl = $(this).parent();\n                sortingItems = sortingEl.parent().find('li');\n                sortableContainer = sortingEl.parents('.sortable');\n                e.preventDefault();\n                app.allowPanelOpen = app.allowSwipeout = false;\n            }\n            function handleTouchMove(e) {\n                if (!isTouched || !sortingEl) return;\n                var pageX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n                var pageY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n                if (!isMoved) {\n                    sortingEl.addClass('sorting');\n                    sortableContainer.addClass('sortable-sorting');\n                    minTop = sortingEl[0].offsetTop;\n                    maxTop = sortingEl.parent().height() - sortingEl[0].offsetTop - sortingEl.height();\n                    sortingElHeight = sortingEl[0].offsetHeight;\n                }\n                isMoved = true;\n        \n                e.preventDefault();\n                e.f7PreventPanelSwipe = true;\n                touchesDiff = pageY - touchStartY;\n                var translate = touchesDiff;\n                if (translate < -minTop) translate = -minTop;\n                if (translate > maxTop) translate = maxTop;\n                sortingEl.transform('translate3d(0,' + translate + 'px,0)');\n        \n                insertBefore = insertAfter = undefined;\n        \n                sortingItems.each(function () {\n                    var currentEl = $(this);\n                    if (currentEl[0] === sortingEl[0]) return;\n                    var currentElOffset = currentEl[0].offsetTop;\n                    var currentElHeight = currentEl.height();\n                    var sortingElOffset = sortingEl[0].offsetTop + translate;\n        \n                    if ((sortingElOffset >= currentElOffset - currentElHeight / 2) && sortingEl.index() < currentEl.index()) {\n                        currentEl.transform('translate3d(0, '+(-sortingElHeight)+'px,0)');\n                        insertAfter = currentEl;\n                        insertBefore = undefined;\n                    }\n                    else if ((sortingElOffset <= currentElOffset + currentElHeight / 2) && sortingEl.index() > currentEl.index()) {\n                        currentEl.transform('translate3d(0, '+(sortingElHeight)+'px,0)');\n                        insertAfter = undefined;\n                        if (!insertBefore) insertBefore = currentEl;\n                    }\n                    else {\n                        $(this).transform('translate3d(0, 0%,0)');\n                    }\n                });\n            }\n            function handleTouchEnd(e) {\n                app.allowPanelOpen = app.allowSwipeout = true;\n                if (!isTouched || !isMoved) {\n                    isTouched = false;\n                    isMoved = false;\n                    return;\n                }\n                e.preventDefault();\n                sortingItems.transform('');\n                sortingEl.removeClass('sorting');\n                sortableContainer.removeClass('sortable-sorting');\n                var virtualList, oldIndex, newIndex;\n                if (insertAfter) {\n                    sortingEl.insertAfter(insertAfter);\n                    sortingEl.trigger('sort');\n                }\n                if (insertBefore) {\n                    sortingEl.insertBefore(insertBefore);\n                    sortingEl.trigger('sort');\n                }\n                if ((insertAfter || insertBefore) && sortableContainer.hasClass('virtual-list')) {\n                    virtualList = sortableContainer[0].f7VirtualList;\n                    oldIndex = sortingEl[0].f7VirtualListIndex;\n                    newIndex = insertBefore ? insertBefore[0].f7VirtualListIndex : insertAfter[0].f7VirtualListIndex;\n                    if (virtualList) virtualList.moveItem(oldIndex, newIndex);\n                }\n                insertAfter = insertBefore = undefined;\n                isTouched = false;\n                isMoved = false;\n            }\n            $(document).on(app.touchEvents.start, '.list-block.sortable .sortable-handler', handleTouchStart);\n            if (app.support.touch) {\n                $(document).on(app.touchEvents.move, '.list-block.sortable .sortable-handler', handleTouchMove);\n                $(document).on(app.touchEvents.end, '.list-block.sortable .sortable-handler', handleTouchEnd);\n            }\n            else {\n                $(document).on(app.touchEvents.move, handleTouchMove);\n                $(document).on(app.touchEvents.end, handleTouchEnd);\n            }\n                \n        };\n        \n\n        /*===============================================================================\n        ************   Smart Select   ************\n        ===============================================================================*/\n        app.initSmartSelects = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            var selects;\n            if (pageContainer.is('.smart-select')) {\n                selects = pageContainer;\n            }\n            else {\n                selects = pageContainer.find('.smart-select');\n            }\n            if (selects.length === 0) return;\n        \n            selects.each(function () {\n                var smartSelect = $(this);\n        \n                var $select = smartSelect.find('select');\n                if ($select.length === 0) return;\n        \n                var select = $select[0];\n                if (select.length === 0) return;\n        \n                var valueText = [];\n                for (var i = 0; i < select.length; i++) {\n                    if (select[i].selected) valueText.push(select[i].textContent.trim());\n                }\n        \n                var itemAfter = smartSelect.find('.item-after');\n                if (itemAfter.length === 0) {\n                    smartSelect.find('.item-inner').append('<div class=\"item-after\">' + valueText.join(', ') + '</div>');\n                }\n                else {\n                    var selectedText = itemAfter.text();\n                    if (itemAfter.hasClass('smart-select-value')) {\n                        for (i = 0; i < select.length; i++) {\n                            select[i].selected = select[i].textContent.trim() === selectedText.trim();\n                        }\n                    } else {\n                        itemAfter.text(valueText.join(', '));\n                    }\n                }\n                \n            });\n            \n        };\n        app.smartSelectAddOption = function (select, option, index) {\n            select = $(select);\n            var smartSelect = select.parents('.smart-select');\n            if (typeof index === 'undefined') {\n                select.append(option);\n            }\n            else {\n                $(option).insertBefore(select.find('option').eq(index));\n            }\n            app.initSmartSelects(smartSelect);\n            var selectName = smartSelect.find('select').attr('name');\n            var opened = $('.page.smart-select-page[data-select-name=\"' + selectName + '\"]').length > 0;\n            if (opened) {\n                app.smartSelectOpen(smartSelect, true);\n            }\n        };\n        app.smartSelectOpen = function (smartSelect, reLayout) {\n            smartSelect = $(smartSelect);\n            if (smartSelect.length === 0) return;\n        \n            // Find related view\n            var view = smartSelect.parents('.' + app.params.viewClass);\n            if (view.length === 0) return;\n            view = view[0].f7View;\n        \n            // Parameters\n            var openIn = smartSelect.attr('data-open-in') || app.params.smartSelectOpenIn;\n            if (openIn === 'popup') {\n                if ($('.popup.smart-select-popup').length > 0) return;\n            }\n            else if (openIn === 'picker') {\n                if ($('.picker-modal.modal-in').length > 0 && !reLayout){\n                    if (smartSelect[0].f7SmartSelectPicker !== $('.picker-modal.modal-in:not(.modal-out)')[0]) app.closeModal($('.picker-modal.modal-in:not(.modal-out)'));\n                    else return;\n                }\n            }\n            else {\n                if (!view) return;\n            }\n        \n            var smartSelectData = smartSelect.dataset();\n            var pageTitle = smartSelectData.pageTitle || smartSelect.find('.item-title').text();\n            var backText = smartSelectData.backText || app.params.smartSelectBackText;\n            var closeText;\n            if (openIn === 'picker') {\n                closeText = smartSelectData.pickerCloseText || smartSelectData.backText || app.params.smartSelectPickerCloseText ;   \n            }\n            else {\n                closeText = smartSelectData.popupCloseText || smartSelectData.backText || app.params.smartSelectPopupCloseText ;      \n            }\n            var backOnSelect = smartSelectData.backOnSelect !== undefined ? smartSelectData.backOnSelect : app.params.smartSelectBackOnSelect;\n            var formTheme = smartSelectData.formTheme || app.params.smartSelectFormTheme;\n            var navbarTheme = smartSelectData.navbarTheme || app.params.smartSelectNavbarTheme;\n            var toolbarTheme = smartSelectData.toolbarTheme || app.params.smartSelectToolbarTheme;\n            var virtualList = smartSelectData.virtualList;\n            var virtualListHeight = smartSelectData.virtualListHeight;\n            var material = app.params.material;\n            var pickerHeight = smartSelectData.pickerHeight || app.params.smartSelectPickerHeight;\n        \n            // Collect all options/values\n            var select = smartSelect.find('select')[0];\n            var $select = $(select);\n            var $selectData = $select.dataset();\n            if (select.disabled || smartSelect.hasClass('disabled') || $select.hasClass('disabled')) {\n                return;\n            }\n            var values = [];\n            var id = (new Date()).getTime();\n            var inputType = select.multiple ? 'checkbox' : 'radio';\n            var inputName = inputType + '-' + id;\n            var maxLength = $select.attr('maxlength');\n            var selectName = select.name;\n            var option, optionHasMedia, optionImage, optionIcon, optionGroup, optionGroupLabel, optionPreviousGroup, optionIsLabel, previousGroup, optionColor, optionClassName, optionData;\n            for (var i = 0; i < select.length; i++) {\n                option = $(select[i]);\n                optionData = option.dataset();\n                optionImage = optionData.optionImage || $selectData.optionImage || smartSelectData.optionImage;\n                optionIcon = optionData.optionIcon || $selectData.optionIcon || smartSelectData.optionIcon;\n                optionHasMedia = optionImage || optionIcon || inputType === 'checkbox';\n                if (material) optionHasMedia = optionImage || optionIcon;\n                optionColor = optionData.optionColor;\n                optionClassName = optionData.optionClass;\n                if (option[0].disabled) optionClassName += ' disabled';\n                optionGroup = option.parent('optgroup')[0];\n                optionGroupLabel = optionGroup && optionGroup.label;\n                optionIsLabel = false;\n                if (optionGroup) {\n                    if (optionGroup !== previousGroup) {\n                        optionIsLabel = true;\n                        previousGroup = optionGroup;\n                        values.push({\n                            groupLabel: optionGroupLabel,\n                            isLabel: optionIsLabel\n                        });\n                    }\n                }\n                values.push({\n                    value: option[0].value,\n                    text: option[0].textContent.trim(),\n                    selected: option[0].selected,\n                    group: optionGroup,\n                    groupLabel: optionGroupLabel,\n                    image: optionImage,\n                    icon: optionIcon,\n                    color: optionColor,\n                    className: optionClassName,\n                    disabled: option[0].disabled,\n                    inputType: inputType,\n                    id: id,\n                    hasMedia: optionHasMedia,\n                    checkbox: inputType === 'checkbox',\n                    inputName: inputName,\n                    material: app.params.material\n                });\n            }\n        \n        \n            // Item template/HTML\n            if (!app._compiledTemplates.smartSelectItem) {\n                app._compiledTemplates.smartSelectItem = t7.compile(app.params.smartSelectItemTemplate || \n                    '{{#if isLabel}}' +\n                    '<li class=\"item-divider\">{{groupLabel}}</li>' +\n                    '{{else}}' +\n                    '<li{{#if className}} class=\"{{className}}\"{{/if}}>' +\n                        '<label class=\"label-{{inputType}} item-content\">' +\n                            '<input type=\"{{inputType}}\" name=\"{{inputName}}\" value=\"{{value}}\" {{#if selected}}checked{{/if}}>' +\n                            '{{#if material}}' +\n                                '{{#if hasMedia}}' +\n                                '<div class=\"item-media\">' +\n                                    '{{#if icon}}<i class=\"icon {{icon}}\"></i>{{/if}}' +\n                                    '{{#if image}}<img src=\"{{image}}\">{{/if}}' +\n                                '</div>' +\n                                '<div class=\"item-inner\">' +\n                                    '<div class=\"item-title{{#if color}} color-{{color}}{{/if}}\">{{text}}</div>' +\n                                '</div>' +\n                                '<div class=\"item-after\">' +\n                                    '<i class=\"icon icon-form-{{inputType}}\"></i>' +\n                                '</div>' +\n                                '{{else}}' +\n                                '<div class=\"item-media\">' +\n                                    '<i class=\"icon icon-form-{{inputType}}\"></i>' +\n                                '</div>' +\n                                '<div class=\"item-inner\">' +\n                                    '<div class=\"item-title{{#if color}} color-{{color}}{{/if}}\">{{text}}</div>' +\n                                '</div>' +\n                                '{{/if}}' +\n                            '{{else}}' +\n                                '{{#if hasMedia}}' +\n                                '<div class=\"item-media\">' +\n                                    '{{#if checkbox}}<i class=\"icon icon-form-checkbox\"></i>{{/if}}' +\n                                    '{{#if icon}}<i class=\"icon {{icon}}\"></i>{{/if}}' +\n                                    '{{#if image}}<img src=\"{{image}}\">{{/if}}' +\n                                '</div>' +\n                                '{{/if}}' +\n                                '<div class=\"item-inner\">' +\n                                    '<div class=\"item-title{{#if color}} color-{{color}}{{/if}}\">{{text}}</div>' +\n                                '</div>' +\n                            '{{/if}}' +\n                        '</label>' +\n                    '</li>' +\n                    '{{/if}}'\n                );\n            }\n            var smartSelectItemTemplate = app._compiledTemplates.smartSelectItem;\n            \n            var inputsHTML = '';\n            if (!virtualList) {\n                for (var j = 0; j < values.length; j++) {\n                    inputsHTML += smartSelectItemTemplate(values[j]);\n                }\n            }\n        \n            // Toolbar / Navbar\n            var toolbarHTML = '', navbarHTML;\n            var noNavbar = '', noToolbar = '', noTabbar = '', navbarLayout;\n        \n            if (openIn === 'picker') {\n                if (!app._compiledTemplates.smartSelectToolbar) {\n                    app._compiledTemplates.smartSelectToolbar = t7.compile(app.params.smartSelectToolbarTemplate || \n                        '<div class=\"toolbar {{#if toolbarTheme}}theme-{{toolbarTheme}}{{/if}}\">' +\n                          '<div class=\"toolbar-inner\">' +\n                            '<div class=\"left\"></div>' +\n                            '<div class=\"right\"><a href=\"#\" class=\"link close-picker\"><span>{{closeText}}</span></a></div>' +\n                        '</div>' +\n                      '</div>'\n                    );\n                }\n        \n                toolbarHTML = app._compiledTemplates.smartSelectToolbar({\n                    pageTitle: pageTitle,\n                    closeText: closeText,\n                    openIn: openIn,\n                    toolbarTheme: toolbarTheme,\n                    inPicker: openIn === 'picker'              \n                });\n            }\n            else {\n                // Navbar HTML\n                if (!app._compiledTemplates.smartSelectNavbar) {\n                    app._compiledTemplates.smartSelectNavbar = t7.compile(app.params.smartSelectNavbarTemplate || \n                        '<div class=\"navbar {{#if navbarTheme}}theme-{{navbarTheme}}{{/if}}\">' +\n                            '<div class=\"navbar-inner\">' +\n                                '{{leftTemplate}}' +\n                                '<div class=\"center sliding\">{{pageTitle}}</div>' +\n                            '</div>' +\n                        '</div>'\n                    );\n                }\n                navbarHTML = app._compiledTemplates.smartSelectNavbar({\n                    pageTitle: pageTitle,\n                    backText: backText,\n                    closeText: closeText,\n                    openIn: openIn,\n                    navbarTheme: navbarTheme,\n                    inPopup: openIn === 'popup',\n                    inPage: openIn === 'page',\n                    leftTemplate: openIn === 'popup' ? \n                        (app.params.smartSelectPopupCloseTemplate || (material ? '<div class=\"left\"><a href=\"#\" class=\"link close-popup icon-only\"><i class=\"icon icon-back\"></i></a></div>' : '<div class=\"left\"><a href=\"#\" class=\"link close-popup\"><i class=\"icon icon-back\"></i><span>{{closeText}}</span></a></div>')).replace(/{{closeText}}/g, closeText) :\n                        (app.params.smartSelectBackTemplate || (material ? '<div class=\"left\"><a href=\"#\" class=\"back link icon-only\"><i class=\"icon icon-back\"></i></a></div>' : '<div class=\"left sliding\"><a href=\"#\" class=\"back link\"><i class=\"icon icon-back\"></i><span>{{backText}}</span></a></div>')).replace(/{{backText}}/g, backText)\n                });\n                // Determine navbar layout type - static/fixed/through\n                if (openIn === 'page') {\n                    navbarLayout = 'static';\n                    if (smartSelect.parents('.navbar-through').length > 0) navbarLayout = 'through';\n                    if (smartSelect.parents('.navbar-fixed').length > 0) navbarLayout = 'fixed';\n                    noToolbar = smartSelect.parents('.page').hasClass('no-toolbar') ? 'no-toolbar' : '';\n                    noNavbar  = smartSelect.parents('.page').hasClass('no-navbar')  ? 'no-navbar'  : 'navbar-' + navbarLayout;\n                    noTabbar = smartSelect.parents('.page').hasClass('no-tabbar') ? 'no-tabbar' : '';\n                }\n                else {\n                    navbarLayout = 'fixed';\n                }\n            }\n                \n        \n            // Page Layout\n            var pageName = 'smart-select-' + inputName;\n        \n            var useSearchbar = typeof smartSelect.data('searchbar') === 'undefined' ? app.params.smartSelectSearchbar : (smartSelect.data('searchbar') === 'true' ? true : false);\n            var searchbarPlaceholder, searchbarCancel;\n                \n            if (useSearchbar) {\n                searchbarPlaceholder = smartSelect.data('searchbar-placeholder') || 'Search';\n                searchbarCancel = smartSelect.data('searchbar-cancel') || 'Cancel';\n            }\n        \n            var searchbarHTML =   '<form class=\"searchbar searchbar-init\" data-search-list=\".smart-select-list-' + id + '\" data-search-in=\".item-title\">' +\n                                    '<div class=\"searchbar-input\">' +\n                                        '<input type=\"search\" placeholder=\"' + searchbarPlaceholder + '\">' +\n                                        '<a href=\"#\" class=\"searchbar-clear\"></a>' +\n                                    '</div>' +\n                                    (material ? '' : '<a href=\"#\" class=\"searchbar-cancel\">' + searchbarCancel + '</a>') +\n                                  '</form>' +\n                                  '<div class=\"searchbar-overlay\"></div>';\n        \n            var pageHTML =\n                (openIn !== 'picker' && navbarLayout === 'through' ? navbarHTML : '') +\n                '<div class=\"pages\">' +\n                '  <div data-page=\"' + pageName + '\" data-select-name=\"' + selectName + '\" class=\"page smart-select-page ' + noNavbar + ' ' + noToolbar + ' ' + noTabbar + '\">' +\n                     (openIn !== 'picker' && navbarLayout === 'fixed' ? navbarHTML : '') +\n                     (useSearchbar ? searchbarHTML : '') +\n                '    <div class=\"page-content\">' +\n                       (openIn !== 'picker' && navbarLayout === 'static' ? navbarHTML : '') +\n                '      <div class=\"list-block ' + (virtualList ? 'virtual-list' : '') + ' smart-select-list-' + id + ' ' + (formTheme ? 'theme-' + formTheme : '') + '\">' +\n                '        <ul>' +\n                            (virtualList ? '' : inputsHTML) +\n                '        </ul>' +\n                '      </div>' +\n                '    </div>' +\n                '  </div>' +\n                '</div>';\n        \n            // Define popup and picker\n            var popup, picker;\n        \n            // Scroll SS Picker To Input\n            function scrollToInput() {\n                var pageContent = smartSelect.parents('.page-content');\n                if (pageContent.length === 0) return;\n                var paddingTop = parseInt(pageContent.css('padding-top'), 10),\n                    paddingBottom = parseInt(pageContent.css('padding-bottom'), 10),\n                    pageHeight = pageContent[0].offsetHeight - paddingTop - picker.height(),\n                    pageScrollHeight = pageContent[0].scrollHeight - paddingTop - picker.height(),\n                    newPaddingBottom;\n                var inputTop = smartSelect.offset().top - paddingTop + smartSelect[0].offsetHeight;\n                if (inputTop > pageHeight) {\n                    var scrollTop = pageContent.scrollTop() + inputTop - pageHeight;\n                    if (scrollTop + pageHeight > pageScrollHeight) {\n                        newPaddingBottom = scrollTop + pageHeight - pageScrollHeight + paddingBottom;\n                        if (pageHeight === pageScrollHeight) {\n                            newPaddingBottom = picker.height();\n                        }\n                        pageContent.css({'padding-bottom': (newPaddingBottom) + 'px'});\n                    }\n                    pageContent.scrollTop(scrollTop, 300);\n                }\n            }\n            // Close SS Picker on HTML Click\n            function closeOnHTMLClick(e) {\n                var close = true;\n                if (e.target === smartSelect[0] || $(e.target).parents(smartSelect[0]).length > 0) {\n                    close = false;\n                }\n                if ($(e.target).parents('.picker-modal').length > 0) {\n                    close = false;\n                }\n                if (close) {\n                    app.closeModal('.smart-select-picker.modal-in');   \n                }\n            }\n        \n            // Check max length\n            function checkMaxLength(container) {\n                if (select.selectedOptions.length >= maxLength) {\n                    container.find('input[type=\"checkbox\"]').each(function () {\n                        if (!this.checked) {\n                            $(this).parents('li').addClass('disabled');\n                        }\n                        else {\n                            $(this).parents('li').removeClass('disabled');   \n                        }\n                    });\n                }\n                else {\n                    container.find('.disabled').removeClass('disabled');\n                }\n            }\n            // Event Listeners on new page\n            function handleInputs(container) {\n                container = $(container);\n                if (virtualList) {\n                    var virtualListInstance = app.virtualList(container.find('.virtual-list'), {\n                        items: values,\n                        template: smartSelectItemTemplate,\n                        height: virtualListHeight || undefined,\n                        searchByItem: function (query, index, item) {\n                            if (item.text.toLowerCase().indexOf(query.trim().toLowerCase()) >=0 ) return true;\n                            return false;\n                        }\n                    });\n                    container.once(openIn === 'popup' || openIn === 'picker' ? 'closed': 'pageBeforeRemove', function () {\n                        if (virtualListInstance && virtualListInstance.destroy) virtualListInstance.destroy();\n                    });\n                }\n                if (maxLength) {\n                    checkMaxLength(container);\n                }\n                container.on('change', 'input[name=\"' + inputName + '\"]', function () {\n                    var input = this;\n                    var value = input.value;\n                    var optionText = [];\n                    if (input.type === 'checkbox') {\n                        var values = [];\n                        for (var i = 0; i < select.options.length; i++) {\n                            var option = select.options[i];\n                            if (option.value === value) {\n                                option.selected = input.checked;\n                            }\n                            if (option.selected) {\n                                optionText.push(option.textContent.trim());\n                            }\n                        }\n                        if (maxLength) {\n                            checkMaxLength(container);\n                        }\n                    }\n                    else {\n                        optionText = [smartSelect.find('option[value=\"' + value + '\"]').text()];\n                        select.value = value;\n                    }\n                        \n                    $select.trigger('change');\n                    smartSelect.find('.item-after').text(optionText.join(', '));\n                    if (backOnSelect && inputType === 'radio') {\n                        if (openIn === 'popup') app.closeModal(popup);\n                        else if (openIn === 'picker') app.closeModal(picker);\n                        else view.router.back();\n                    }\n                });\n            }\n            function pageInit(e) {\n                var page = e.detail.page;\n                if (page.name === pageName) {\n                    handleInputs(page.container);\n                }\n            }\n            if (openIn === 'popup') {\n                if (reLayout) {\n                    popup = $('.popup.smart-select-popup .view');\n                    popup.html(pageHTML);\n                }\n                else {\n                    popup = app.popup(\n                        '<div class=\"popup smart-select-popup smart-select-popup-' + inputName + '\">' +\n                            '<div class=\"view navbar-fixed\">' +\n                                pageHTML +\n                            '</div>' +\n                        '</div>'\n                        );\n                    popup = $(popup);\n                }\n                app.initPage(popup.find('.page'));\n                handleInputs(popup);\n            }\n            else if (openIn === 'picker') {\n                if (reLayout) {\n                    picker = $('.picker-modal.smart-select-picker .view');\n                    picker.html(pageHTML);\n                }\n                else {\n                    picker = app.pickerModal(\n                        '<div class=\"picker-modal smart-select-picker smart-select-picker-' + inputName + '\"' + (pickerHeight ? ' style=\"height:' + pickerHeight + '\"' : '') + '>' +\n                            toolbarHTML +\n                            '<div class=\"picker-modal-inner\">' +\n                                '<div class=\"view\">' +\n                                    pageHTML +\n                                '</div>' +\n                            '</div>' +\n                        '</div>'\n                        );\n                    picker = $(picker);\n        \n                    // Scroll To Input\n                    scrollToInput();\n        \n                    // Close On Click\n                    $('html').on('click', closeOnHTMLClick);\n        \n                    // On Close\n                    picker.once('close', function () {\n                        // Reset linked picker\n                        smartSelect[0].f7SmartSelectPicker = undefined;\n                        \n                        // Detach html click\n                        $('html').off('click', closeOnHTMLClick);    \n                        \n                        // Restore page padding bottom\n                        smartSelect.parents('.page-content').css({paddingBottom: ''});\n                    });\n        \n                    // Link Picker\n                    smartSelect[0].f7SmartSelectPicker = picker[0];\n                }\n        \n                // Init Page\n                app.initPage(picker.find('.page'));\n        \n                // Attach events\n                handleInputs(picker);\n            }\n            else {\n                $(document).once('pageInit', '.smart-select-page', pageInit);\n                view.router.load({\n                    content: pageHTML,\n                    reload: reLayout ? true : undefined\n                });\n            }\n        };\n        \n\n        /*===============================================================================\n        ************   Virtual List   ************\n        ===============================================================================*/\n        var VirtualList = function (listBlock, params) {\n            var defaults = {\n                cols: 1,\n                height: app.params.material ? 48 : 44,\n                cache: true,\n                dynamicHeightBufferSize: 1,\n                showFilteredItemsOnly: false\n            };\n            params = params || {};\n            for (var def in defaults) {\n                if (typeof params[def] === 'undefined') {\n                    params[def] = defaults[def];\n                }\n            }\n        \n            // Preparation\n            var vl = this;\n            vl.listBlock = $(listBlock);\n            vl.params = params;\n            vl.items = vl.params.items;\n            if (vl.params.showFilteredItemsOnly) {\n                vl.filteredItems = [];\n            }\n            if (vl.params.template) {\n                if (typeof vl.params.template === 'string') vl.template = t7.compile(vl.params.template);\n                else if (typeof vl.params.template === 'function') vl.template = vl.params.template;\n            }\n            vl.pageContent = vl.listBlock.parents('.page-content');\n        \n            // Bad scroll\n            var updatableScroll;\n            if (typeof vl.params.updatableScroll !== 'undefined') {\n                updatableScroll = vl.params.updatableScroll;\n            }\n            else {\n                updatableScroll = true;\n                if (app.device.ios && app.device.osVersion.split('.')[0] < 8) {\n                    updatableScroll = false;\n                }\n            }\n        \n            // Append <ul>\n            vl.ul = vl.params.ul ? $(vl.params.ul) : vl.listBlock.children('ul');\n            if (vl.ul.length === 0) {\n                vl.listBlock.append('<ul></ul>');\n                vl.ul = vl.listBlock.children('ul');\n            }\n        \n            // DOM cached items\n            vl.domCache = {};\n            vl.displayDomCache = {};\n        \n            // Temporary DOM Element\n            vl.tempDomElement = document.createElement('ul');\n        \n            // Last repain position\n            vl.lastRepaintY = null;\n        \n            // Fragment\n            vl.fragment = document.createDocumentFragment();\n        \n            // Filter\n            vl.filterItems = function (indexes, resetScrollTop) {\n                vl.filteredItems = [];\n                var firstIndex = indexes[0];\n                var lastIndex = indexes[indexes.length - 1];\n                for (var i = 0; i < indexes.length; i++) {\n                    vl.filteredItems.push(vl.items[indexes[i]]);\n                }\n                if (typeof resetScrollTop === 'undefined') resetScrollTop = true;\n                if (resetScrollTop) {\n                    vl.pageContent[0].scrollTop = 0;\n                }\n                vl.update();\n            };\n            vl.resetFilter = function () {\n                if (vl.params.showFilteredItemsOnly) {\n                    vl.filteredItems = [];\n                }\n                else {\n                    vl.filteredItems = null;\n                    delete vl.filteredItems;    \n                }\n                vl.update();\n            };\n        \n            var pageHeight, rowsPerScreen, rowsBefore, rowsAfter, rowsToRender, maxBufferHeight = 0, listHeight;\n            var dynamicHeight = typeof vl.params.height === 'function';\n        \n            // Set list size\n            vl.setListSize = function () {\n                var items = vl.filteredItems || vl.items;\n                pageHeight = vl.pageContent[0].offsetHeight;\n                if (dynamicHeight) {\n                    listHeight = 0;\n                    vl.heights = [];\n                    for (var i = 0; i < items.length; i++) {\n                        var itemHeight = vl.params.height(items[i]);\n                        listHeight += itemHeight;\n                        vl.heights.push(itemHeight);\n                    }\n                }\n                else {\n                    listHeight = items.length * vl.params.height / vl.params.cols;\n                    rowsPerScreen = Math.ceil(pageHeight / vl.params.height);\n                    rowsBefore = vl.params.rowsBefore || rowsPerScreen * 2;\n                    rowsAfter = vl.params.rowsAfter || rowsPerScreen;\n                    rowsToRender = (rowsPerScreen + rowsBefore + rowsAfter);\n                    maxBufferHeight = rowsBefore / 2 * vl.params.height;\n                }\n        \n                if (updatableScroll) {\n                    vl.ul.css({height: listHeight + 'px'});\n                }\n            };\n        \n            // Render items\n            vl.render = function (force, forceScrollTop) {\n                if (force) vl.lastRepaintY = null;\n        \n                var scrollTop = -(vl.listBlock[0].getBoundingClientRect().top - vl.pageContent[0].getBoundingClientRect().top);\n        \n                if (typeof forceScrollTop !== 'undefined') scrollTop = forceScrollTop;\n        \n                if (vl.lastRepaintY === null || Math.abs(scrollTop - vl.lastRepaintY) > maxBufferHeight || (!updatableScroll && (vl.pageContent[0].scrollTop + pageHeight >= vl.pageContent[0].scrollHeight))) {\n                    vl.lastRepaintY = scrollTop;\n                }\n                else {\n                    return;\n                }\n        \n                var items = vl.filteredItems || vl.items, \n                    fromIndex, toIndex, heightBeforeFirstItem = 0, heightBeforeLastItem = 0;\n                if (dynamicHeight) {\n                    var itemTop = 0, j, itemHeight; \n                    maxBufferHeight = pageHeight;\n        \n                    for (j = 0; j < vl.heights.length; j++) {\n                        itemHeight = vl.heights[j];\n                        if (typeof fromIndex === 'undefined') {\n                            if (itemTop + itemHeight >= scrollTop - pageHeight * 2 * vl.params.dynamicHeightBufferSize) fromIndex = j;\n                            else heightBeforeFirstItem += itemHeight;\n                        }\n        \n                        if (typeof toIndex === 'undefined') {\n                            if (itemTop + itemHeight >= scrollTop + pageHeight * 2 * vl.params.dynamicHeightBufferSize || j === vl.heights.length - 1) toIndex = j + 1;\n                            heightBeforeLastItem += itemHeight;\n                        }\n                        itemTop += itemHeight;\n                    }\n                    toIndex = Math.min(toIndex, items.length);\n                }\n                else {\n                    fromIndex = (parseInt(scrollTop / vl.params.height) - rowsBefore) * vl.params.cols;\n                    if (fromIndex < 0) {\n                        fromIndex = 0;\n                    }\n                    toIndex = Math.min(fromIndex + rowsToRender * vl.params.cols, items.length);\n                }\n        \n                var topPosition;\n                vl.reachEnd = false;\n                for (var i = fromIndex; i < toIndex; i++) {\n                    var item, index;\n                    // Define real item index\n                    index = vl.items.indexOf(items[i]);\n        \n                    if (i === fromIndex) vl.currentFromIndex = index;\n                    if (i === toIndex - 1) vl.currentToIndex = index;\n                    if (index === vl.items.length - 1) vl.reachEnd = true;\n        \n                    // Find items\n                    if (vl.domCache[index]) {\n                        item = vl.domCache[index];\n                    }\n                    else {\n                        if (vl.template) {\n                            vl.tempDomElement.innerHTML = vl.template(items[i], {index: index}).trim();\n                        }\n                        else if (vl.params.renderItem) {\n                            vl.tempDomElement.innerHTML = vl.params.renderItem(index, items[i]).trim();\n                        }\n                        else {\n                            vl.tempDomElement.innerHTML = items[i].trim();\n                        }\n                        item = vl.tempDomElement.childNodes[0];\n                        if (vl.params.cache) vl.domCache[index] = item;\n                    }\n                    item.f7VirtualListIndex = index;\n        \n                    // Set item top position\n                    if (i === fromIndex) {\n                        if (dynamicHeight) {\n                            topPosition = heightBeforeFirstItem;\n                        }\n                        else {\n                            topPosition = (i * vl.params.height / vl.params.cols);\n                        }\n                    }\n                    item.style.top = topPosition + 'px';\n        \n                    // Before item insert\n                    if (vl.params.onItemBeforeInsert) vl.params.onItemBeforeInsert(vl, item);\n        \n                    // Append item to fragment\n                    vl.fragment.appendChild(item);\n        \n        \n                }\n        \n                // Update list height with not updatable scroll\n                if (!updatableScroll) {\n                    if (dynamicHeight) {\n                        vl.ul[0].style.height = heightBeforeLastItem + 'px';\n                    }\n                    else {\n                        vl.ul[0].style.height = i * vl.params.height / vl.params.cols + 'px';\n                    }\n                }\n        \n        \n                // Update list html\n                if (vl.params.onBeforeClear) vl.params.onBeforeClear(vl, vl.fragment);\n                vl.ul[0].innerHTML = '';\n        \n                if (vl.params.onItemsBeforeInsert) vl.params.onItemsBeforeInsert(vl, vl.fragment);\n                vl.ul[0].appendChild(vl.fragment);\n                if (vl.params.onItemsAfterInsert) vl.params.onItemsAfterInsert(vl, vl.fragment);\n        \n                if (typeof forceScrollTop !== 'undefined' && force) {\n                    vl.pageContent.scrollTop(forceScrollTop, 0);\n                }\n            };\n        \n            vl.scrollToItem = function (index) {\n                if (index > vl.items.length) return false;\n        \n                var itemTop = 0, listTop;\n                if (dynamicHeight) {\n                    for (var i = 0; i < index; i++) {\n                        itemTop += vl.heights[i];\n                    }\n                }\n                else {\n                    itemTop = index * vl.params.height;\n                }\n                listTop = vl.listBlock[0].offsetTop;\n                vl.render(true, listTop + itemTop - parseInt(vl.pageContent.css('padding-top'), 10));\n                return true;\n            };\n        \n            // Handle scroll event\n            vl.handleScroll = function (e) {\n                vl.render();\n            };\n            // Handle resize event\n            vl.handleResize = function (e) {\n                vl.setListSize();\n                vl.render(true);\n            };\n        \n            vl.attachEvents = function (detach) {\n                var action = detach ? 'off' : 'on';\n                vl.pageContent[action]('scroll', vl.handleScroll);\n                vl.listBlock.parents('.tab').eq(0)[action]('show', vl.handleResize);\n                $(window)[action]('resize', vl.handleResize);\n            };\n        \n            // Init Virtual List\n            vl.init = function () {\n                vl.attachEvents();\n                vl.setListSize();\n                vl.render();\n            };\n        \n            // Append\n            vl.appendItems = function (items) {\n                for (var i = 0; i < items.length; i++) {\n                    vl.items.push(items[i]);\n                }\n                vl.update();\n            };\n            vl.appendItem = function (item) {\n                vl.appendItems([item]);\n            };\n            // Replace\n            vl.replaceAllItems = function (items) {\n                vl.items = items;\n                delete vl.filteredItems;\n                vl.domCache = {};\n                vl.update();\n            };\n            vl.replaceItem = function (index, item) {\n                vl.items[index] = item;\n                if (vl.params.cache) delete vl.domCache[index];\n                vl.update();\n            };\n            // Prepend\n            vl.prependItems = function (items) {\n                for (var i = items.length - 1; i >= 0; i--) {\n                    vl.items.unshift(items[i]);\n                }\n                if (vl.params.cache) {\n                    var newCache = {};\n                    for (var cached in vl.domCache) {\n                        newCache[parseInt(cached, 10) + items.length] = vl.domCache[cached];\n                    }\n                    vl.domCache = newCache;\n                }\n                vl.update();\n            };\n            vl.prependItem = function (item) {\n                vl.prependItems([item]);\n            };\n        \n            // Move\n            vl.moveItem = function (oldIndex, newIndex) {\n                if (oldIndex === newIndex) return;\n                // remove item from array\n                var item = vl.items.splice(oldIndex, 1)[0];\n                if (newIndex >= vl.items.length) {\n                    // Add item to the end\n                    vl.items.push(item);\n                    newIndex = vl.items.length - 1;\n                }\n                else {\n                    // Add item to new index\n                    vl.items.splice(newIndex, 0, item);\n                }\n                // Update cache\n                if (vl.params.cache) {\n                    var newCache = {};\n                    for (var cached in vl.domCache) {\n                        var cachedIndex = parseInt(cached, 10);\n                        var leftIndex = oldIndex < newIndex ? oldIndex : newIndex;\n                        var rightIndex = oldIndex < newIndex ? newIndex : oldIndex;\n                        var indexShift = oldIndex < newIndex ? -1 : 1;\n                        if (cachedIndex < leftIndex || cachedIndex > rightIndex) newCache[cachedIndex] = vl.domCache[cachedIndex];\n                        if (cachedIndex === leftIndex) newCache[rightIndex] = vl.domCache[cachedIndex];\n                        if (cachedIndex > leftIndex && cachedIndex <= rightIndex) newCache[cachedIndex + indexShift] = vl.domCache[cachedIndex];\n                    }\n                    vl.domCache = newCache;\n                }\n                vl.update();\n            };\n            // Insert before\n            vl.insertItemBefore = function (index, item) {\n                if (index === 0) {\n                    vl.prependItem(item);\n                    return;\n                }\n                if (index >= vl.items.length) {\n                    vl.appendItem(item);\n                    return;\n                }\n                vl.items.splice(index, 0, item);\n                // Update cache\n                if (vl.params.cache) {\n                    var newCache = {};\n                    for (var cached in vl.domCache) {\n                        var cachedIndex = parseInt(cached, 10);\n                        if (cachedIndex >= index) {\n                            newCache[cachedIndex + 1] = vl.domCache[cachedIndex];\n                        }\n                    }\n                    vl.domCache = newCache;\n                }\n                vl.update();\n            };\n            // Delete\n            vl.deleteItems = function (indexes) {\n                var prevIndex, indexShift = 0;\n                for (var i = 0; i < indexes.length; i++) {\n                    var index = indexes[i];\n                    if (typeof prevIndex !== 'undefined') {\n                        if (index > prevIndex) {\n                            indexShift = -i;\n                        }\n                    }\n                    index = index + indexShift;\n                    prevIndex = indexes[i];\n                    // Delete item\n                    var deletedItem = vl.items.splice(index, 1)[0];\n        \n                    // Delete from filtered\n                    if (vl.filteredItems && vl.filteredItems.indexOf(deletedItem) >= 0) {\n                        vl.filteredItems.splice(vl.filteredItems.indexOf(deletedItem), 1);\n                    }\n                    // Update cache\n                    if (vl.params.cache) {\n                        var newCache = {};\n                        for (var cached in vl.domCache) {\n                            var cachedIndex = parseInt(cached, 10);\n                            if (cachedIndex === index) {\n                                delete vl.domCache[index];\n                            }\n                            else if (parseInt(cached, 10) > index) {\n                                newCache[cachedIndex - 1] = vl.domCache[cached];\n                            }\n                            else {\n                                newCache[cachedIndex] = vl.domCache[cached];   \n                            }\n                        }\n                        vl.domCache = newCache;\n                    }\n                }\n                vl.update();\n            };\n            vl.deleteAllItems = function () {\n                vl.items = [];\n                delete vl.filteredItems;\n                if (vl.params.cache) vl.domCache = {};\n                vl.update();\n            };\n            vl.deleteItem = function (index) {\n                vl.deleteItems([index]);\n            };\n        \n            // Clear cache\n            vl.clearCache = function () {\n                vl.domCache = {};\n            };\n        \n            // Update Virtual List\n            vl.update = function () {\n                vl.setListSize();\n                vl.render(true);\n            };\n        \n            // Destroy\n            vl.destroy = function () {\n                vl.attachEvents(true);\n                delete vl.items;\n                delete vl.domCache;\n            };\n        \n            // Init Virtual List\n            vl.init();\n        \n            // Store vl in container\n            vl.listBlock[0].f7VirtualList = vl;\n            return vl;\n        };\n        \n        // App Method\n        app.virtualList = function (listBlock, params) {\n            return new VirtualList(listBlock, params);\n        };\n        \n        app.reinitVirtualList = function (pageContainer) {\n            var page = $(pageContainer);\n            var vlists = page.find('.virtual-list');\n            if (vlists.length === 0) return;\n            for (var i = 0; i < vlists.length; i++) {\n                var vlistInstance = vlists[i].f7VirtualList;\n                if (vlistInstance) {\n                    vlistInstance.update();\n                }\n            }\n        };\n\n        /*======================================================\n        ************   Pull To Refresh   ************\n        ======================================================*/\n        app.initPullToRefresh = function (pageContainer) {\n            var eventsTarget = $(pageContainer);\n            if (!eventsTarget.hasClass('pull-to-refresh-content')) {\n                eventsTarget = eventsTarget.find('.pull-to-refresh-content');\n            }\n            if (!eventsTarget || eventsTarget.length === 0) return;\n        \n            var touchId, isTouched, isMoved, touchesStart = {}, isScrolling, touchesDiff, touchStartTime, container, refresh = false, useTranslate = false, startTranslate = 0, translate, scrollTop, wasScrolled, layer, triggerDistance, dynamicTriggerDistance, pullStarted;\n            var page = eventsTarget.hasClass('page') ? eventsTarget : eventsTarget.parents('.page');\n            var hasNavbar = false;\n            if (page.find('.navbar').length > 0 || page.parents('.navbar-fixed, .navbar-through').length > 0 || page.hasClass('navbar-fixed') || page.hasClass('navbar-through')) hasNavbar = true;\n            if (page.hasClass('no-navbar')) hasNavbar = false;\n            if (!hasNavbar) eventsTarget.addClass('pull-to-refresh-no-navbar');\n        \n            container = eventsTarget;\n        \n            // Define trigger distance\n            if (container.attr('data-ptr-distance')) {\n                dynamicTriggerDistance = true;\n            }\n            else {\n                triggerDistance = 44;   \n            }\n            \n            function handleTouchStart(e) {\n                if (isTouched) {\n                    if (app.device.os === 'android') {\n                        if ('targetTouches' in e && e.targetTouches.length > 1) return;\n                    }\n                    else return;\n                }\n                \n                /*jshint validthis:true */\n                container = $(this);\n                if (container.hasClass('refreshing')) {\n                    return;\n                }\n                \n                isMoved = false;\n                pullStarted = false;\n                isTouched = true;\n                isScrolling = undefined;\n                wasScrolled = undefined;\n                if (e.type === 'touchstart') touchId = e.targetTouches[0].identifier;\n                touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n                touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n                touchStartTime = (new Date()).getTime();\n                \n            }\n            \n            function handleTouchMove(e) {\n                if (!isTouched) return;\n                var pageX, pageY, touch;\n                if (e.type === 'touchmove') {\n                    if (touchId && e.touches) {\n                        for (var i = 0; i < e.touches.length; i++) {\n                            if (e.touches[i].identifier === touchId) {\n                                touch = e.touches[i];\n                            }\n                        }\n                    }\n                    if (!touch) touch = e.targetTouches[0];\n                    pageX = touch.pageX;\n                    pageY = touch.pageY;\n                }\n                else {\n                    pageX = e.pageX;\n                    pageY = e.pageY;\n                }\n                if (!pageX || !pageY) return;\n                    \n        \n                if (typeof isScrolling === 'undefined') {\n                    isScrolling = !!(isScrolling || Math.abs(pageY - touchesStart.y) > Math.abs(pageX - touchesStart.x));\n                }\n                if (!isScrolling) {\n                    isTouched = false;\n                    return;\n                }\n        \n                scrollTop = container[0].scrollTop;\n                if (typeof wasScrolled === 'undefined' && scrollTop !== 0) wasScrolled = true; \n        \n                if (!isMoved) {\n                    /*jshint validthis:true */\n                    container.removeClass('transitioning');\n                    if (scrollTop > container[0].offsetHeight) {\n                        isTouched = false;\n                        return;\n                    }\n                    if (dynamicTriggerDistance) {\n                        triggerDistance = container.attr('data-ptr-distance');\n                        if (triggerDistance.indexOf('%') >= 0) triggerDistance = container[0].offsetHeight * parseInt(triggerDistance, 10) / 100;\n                    }\n                    startTranslate = container.hasClass('refreshing') ? triggerDistance : 0;\n                    if (container[0].scrollHeight === container[0].offsetHeight || app.device.os !== 'ios') {\n                        useTranslate = true;\n                    }\n                    else {\n                        useTranslate = false;\n                    }\n                }\n                isMoved = true;\n                touchesDiff = pageY - touchesStart.y;\n                \n                if (touchesDiff > 0 && scrollTop <= 0 || scrollTop < 0) {\n                    // iOS 8 fix\n                    if (app.device.os === 'ios' && parseInt(app.device.osVersion.split('.')[0], 10) > 7 && scrollTop === 0 && !wasScrolled) useTranslate = true;\n        \n                    if (useTranslate) {\n                        e.preventDefault();\n                        translate = (Math.pow(touchesDiff, 0.85) + startTranslate);\n                        container.transform('translate3d(0,' + translate + 'px,0)');\n                    }\n                    if ((useTranslate && Math.pow(touchesDiff, 0.85) > triggerDistance) || (!useTranslate && touchesDiff >= triggerDistance * 2)) {\n                        refresh = true;\n                        container.addClass('pull-up').removeClass('pull-down');\n                    }\n                    else {\n                        refresh = false;\n                        container.removeClass('pull-up').addClass('pull-down');\n                    }\n                    if (!pullStarted) {\n                        container.trigger('pullstart');\n                        pullStarted = true;\n                    }\n                    container.trigger('pullmove', {\n                        event: e,\n                        scrollTop: scrollTop,\n                        translate: translate,\n                        touchesDiff: touchesDiff\n                    });\n                }\n                else {\n                    pullStarted = false;\n                    container.removeClass('pull-up pull-down');\n                    refresh = false;\n                    return;\n                }\n            }\n            function handleTouchEnd(e) {\n                if (e.type === 'touchend' && e.changedTouches && e.changedTouches.length > 0 && touchId) {\n                    if (e.changedTouches[0].identifier !== touchId) return;\n                }\n                if (!isTouched || !isMoved) {\n                    isTouched = false;\n                    isMoved = false;\n                    return;\n                }\n                if (translate) {\n                    container.addClass('transitioning');\n                    translate = 0;\n                }\n                container.transform('');\n                if (refresh) {\n                    container.addClass('refreshing');\n                    container.trigger('refresh', {\n                        done: function () {\n                            app.pullToRefreshDone(container);\n                        }\n                    });\n                }\n                else {\n                    container.removeClass('pull-down');\n                }\n                isTouched = false;\n                isMoved = false;\n                if (pullStarted) container.trigger('pullend');\n            }\n        \n            // Attach Events\n            eventsTarget.on(app.touchEvents.start, handleTouchStart);\n            eventsTarget.on(app.touchEvents.move, handleTouchMove);\n            eventsTarget.on(app.touchEvents.end, handleTouchEnd);\n        \n            // Detach Events on page remove\n            if (page.length === 0) return;\n            function destroyPullToRefresh() {\n                eventsTarget.off(app.touchEvents.start, handleTouchStart);\n                eventsTarget.off(app.touchEvents.move, handleTouchMove);\n                eventsTarget.off(app.touchEvents.end, handleTouchEnd);\n            }\n            eventsTarget[0].f7DestroyPullToRefresh = destroyPullToRefresh;\n            function detachEvents() {\n                destroyPullToRefresh();\n                page.off('pageBeforeRemove', detachEvents);\n            }\n            page.on('pageBeforeRemove', detachEvents);\n        \n        };\n        \n        app.pullToRefreshDone = function (container) {\n            container = $(container);\n            if (container.length === 0) container = $('.pull-to-refresh-content.refreshing');\n            container.removeClass('refreshing').addClass('transitioning');\n            container.transitionEnd(function () {\n                container.removeClass('transitioning pull-up pull-down');\n                container.trigger('refreshdone');\n            });\n        };\n        app.pullToRefreshTrigger = function (container) {\n            container = $(container);\n            if (container.length === 0) container = $('.pull-to-refresh-content');\n            if (container.hasClass('refreshing')) return;\n            container.addClass('transitioning refreshing');\n            container.trigger('refresh', {\n                done: function () {\n                    app.pullToRefreshDone(container);\n                }\n            });\n        };\n        \n        app.destroyPullToRefresh = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            var pullToRefreshContent = pageContainer.hasClass('pull-to-refresh-content') ? pageContainer : pageContainer.find('.pull-to-refresh-content');\n            if (pullToRefreshContent.length === 0) return;\n            if (pullToRefreshContent[0].f7DestroyPullToRefresh) pullToRefreshContent[0].f7DestroyPullToRefresh();\n        };\n        \n\n        /* ===============================================================================\n        ************   Infinite Scroll   ************\n        =============================================================================== */\n        function handleInfiniteScroll() {\n            /*jshint validthis:true */\n            var inf = $(this);\n            var scrollTop = inf[0].scrollTop;\n            var scrollHeight = inf[0].scrollHeight;\n            var height = inf[0].offsetHeight;\n            var distance = inf[0].getAttribute('data-distance');\n            var virtualListContainer = inf.find('.virtual-list');\n            var virtualList;\n            var onTop = inf.hasClass('infinite-scroll-top');\n            if (!distance) distance = 50;\n            if (typeof distance === 'string' && distance.indexOf('%') >= 0) {\n                distance = parseInt(distance, 10) / 100 * height;\n            }\n            if (distance > height) distance = height;\n            if (onTop) {\n                if (scrollTop < distance) {\n                    inf.trigger('infinite');\n                }\n            }\n            else {\n                if (scrollTop + height >= scrollHeight - distance) {\n                    if (virtualListContainer.length > 0) {\n                        virtualList = virtualListContainer[0].f7VirtualList;\n                        if (virtualList && !virtualList.reachEnd) return;\n                    }\n                    inf.trigger('infinite');\n                }\n            }\n        \n        }\n        app.attachInfiniteScroll = function (infiniteContent) {\n            $(infiniteContent).on('scroll', handleInfiniteScroll);\n        };\n        app.detachInfiniteScroll = function (infiniteContent) {\n            $(infiniteContent).off('scroll', handleInfiniteScroll);\n        };\n        \n        app.initPageInfiniteScroll = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            var infiniteContent = pageContainer.find('.infinite-scroll');\n            if (infiniteContent.length === 0) return;\n            app.attachInfiniteScroll(infiniteContent);\n            function detachEvents() {\n                app.detachInfiniteScroll(infiniteContent);\n                pageContainer.off('pageBeforeRemove', detachEvents);\n            }\n            pageContainer.on('pageBeforeRemove', detachEvents);\n        };\n\n        /*=============================================================\n        ************   Hide/show Toolbar/Navbar on scroll   ************\n        =============================================================*/\n        app.initPageScrollToolbars = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            var scrollContent = pageContainer.find('.page-content');\n            if (scrollContent.length === 0) return;\n            var hideNavbar = (app.params.hideNavbarOnPageScroll || scrollContent.hasClass('hide-navbar-on-scroll') || scrollContent.hasClass('hide-bars-on-scroll')) && !(scrollContent.hasClass('keep-navbar-on-scroll') || scrollContent.hasClass('keep-bars-on-scroll'));\n            var hideToolbar = (app.params.hideToolbarOnPageScroll || scrollContent.hasClass('hide-toolbar-on-scroll') || scrollContent.hasClass('hide-bars-on-scroll')) && !(scrollContent.hasClass('keep-toolbar-on-scroll') || scrollContent.hasClass('keep-bars-on-scroll'));\n            var hideTabbar = (app.params.hideTabbarOnPageScroll || scrollContent.hasClass('hide-tabbar-on-scroll')) && !(scrollContent.hasClass('keep-tabbar-on-scroll'));\n        \n            if (!(hideNavbar || hideToolbar || hideTabbar)) return;\n            \n            var viewContainer = scrollContent.parents('.' + app.params.viewClass);\n            if (viewContainer.length === 0) return;\n        \n            var navbar = viewContainer.find('.navbar'), \n                toolbar = viewContainer.find('.toolbar'), \n                tabbar;\n            if (hideTabbar) {\n                tabbar = viewContainer.find('.tabbar');\n                if (tabbar.length === 0) tabbar = viewContainer.parents('.' + app.params.viewsClass).find('.tabbar');\n            }\n        \n            var hasNavbar = navbar.length > 0,\n                hasToolbar = toolbar.length > 0,\n                hasTabbar = tabbar && tabbar.length > 0;\n        \n            var previousScroll, currentScroll;\n                previousScroll = currentScroll = scrollContent[0].scrollTop;\n        \n            var scrollHeight, offsetHeight, reachEnd, action, navbarHidden, toolbarHidden, tabbarHidden;\n        \n            var toolbarHeight = (hasToolbar && hideToolbar) ? toolbar[0].offsetHeight : 0;\n            var tabbarHeight = (hasTabbar && hideTabbar) ? tabbar[0].offsetHeight : 0;\n            var bottomBarHeight = tabbarHeight || toolbarHeight;\n        \n            function handleScroll(e) {\n                if (pageContainer.hasClass('page-on-left')) return;\n                currentScroll = scrollContent[0].scrollTop;\n                scrollHeight = scrollContent[0].scrollHeight;\n                offsetHeight = scrollContent[0].offsetHeight;\n                reachEnd =  currentScroll + offsetHeight >= scrollHeight - bottomBarHeight;\n                navbarHidden = navbar.hasClass('navbar-hidden');\n                toolbarHidden = toolbar.hasClass('toolbar-hidden');\n                tabbarHidden = tabbar && tabbar.hasClass('toolbar-hidden');\n        \n                if (reachEnd) {\n                    if (app.params.showBarsOnPageScrollEnd) {\n                        action = 'show';\n                    }\n                }\n                else if (previousScroll > currentScroll) {\n                    if (app.params.showBarsOnPageScrollTop || currentScroll <= 44) {\n                        action = 'show';\n                    }\n                    else {\n                        action = 'hide';\n                    }\n                }\n                else {\n                    if (currentScroll > 44) {\n                        action = 'hide';\n                    }\n                    else {\n                        action = 'show';\n                    }\n                }\n        \n                if (action === 'show') {\n                    if (hasNavbar && hideNavbar && navbarHidden) {\n                        app.showNavbar(navbar);\n                        pageContainer.removeClass('no-navbar-by-scroll'); \n                        navbarHidden = false;\n                    }\n                    if (hasToolbar && hideToolbar && toolbarHidden) {\n                        app.showToolbar(toolbar);\n                        pageContainer.removeClass('no-toolbar-by-scroll'); \n                        toolbarHidden = false;\n                    }\n                    if (hasTabbar && hideTabbar && tabbarHidden) {\n                        app.showToolbar(tabbar);\n                        pageContainer.removeClass('no-tabbar-by-scroll'); \n                        tabbarHidden = false;\n                    }\n                }\n                else {\n                    if (hasNavbar && hideNavbar && !navbarHidden) {\n                        app.hideNavbar(navbar);\n                        pageContainer.addClass('no-navbar-by-scroll'); \n                        navbarHidden = true;\n                    }\n                    if (hasToolbar && hideToolbar && !toolbarHidden) {\n                        app.hideToolbar(toolbar);\n                        pageContainer.addClass('no-toolbar-by-scroll'); \n                        toolbarHidden = true;\n                    }\n                    if (hasTabbar && hideTabbar && !tabbarHidden) {\n                        app.hideToolbar(tabbar);\n                        pageContainer.addClass('no-tabbar-by-scroll'); \n                        tabbarHidden = true;\n                    }\n                }\n                    \n                previousScroll = currentScroll;\n            }\n            scrollContent.on('scroll', handleScroll);\n            scrollContent[0].f7ScrollToolbarsHandler = handleScroll;\n        };\n        app.destroyScrollToolbars = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            var scrollContent = pageContainer.find('.page-content');\n            if (scrollContent.length === 0) return;\n            var handler = scrollContent[0].f7ScrollToolbarsHandler;\n            if (!handler) return;\n            scrollContent.off('scroll', scrollContent[0].f7ScrollToolbarsHandler);\n        };\n\n        /*======================================================\n        ************   Material Tabbar   ************\n        ======================================================*/\n        app.materialTabbarSetHighlight = function (tabbar, activeLink) {\n            tabbar = $(tabbar);\n            activeLink = activeLink || tabbar.find('.tab-link.active');\n        \n            var tabLinkWidth, highlightTranslate;\n            if (tabbar.hasClass('tabbar-scrollable')) {\n                tabLinkWidth = activeLink[0].offsetWidth + 'px';\n                highlightTranslate = (app.rtl ? - activeLink[0].offsetLeft: activeLink[0].offsetLeft) + 'px';\n            }\n            else {\n                tabLinkWidth = 1 / tabbar.find('.tab-link').length * 100 + '%';\n                highlightTranslate = (app.rtl ? - activeLink.index(): activeLink.index()) * 100 + '%';\n            }\n        \n            tabbar.find('.tab-link-highlight')\n                .css({width: tabLinkWidth})\n                .transform('translate3d(' + highlightTranslate + ',0,0)');\n        };\n        app.initPageMaterialTabbar = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            var tabbar = $(pageContainer).find('.tabbar');\n        \n            function tabbarSetHighlight() {\n                app.materialTabbarSetHighlight(tabbar);\n            }\n            if (tabbar.length > 0) {\n                if (tabbar.find('.tab-link-highlight').length === 0) {\n                    tabbar.find('.toolbar-inner').append('<span class=\"tab-link-highlight\"></span>');\n                }\n        \n                tabbarSetHighlight();\n                $(window).on('resize', tabbarSetHighlight);\n                pageContainer.once('pageBeforeRemove', function () {\n                    $(window).off('resize', tabbarSetHighlight);\n                });\n            }\n        };\n\n        /* ===============================================================================\n        ************   Tabs   ************\n        =============================================================================== */\n        app.showTab = function (tab, tabLink, force) {\n            var newTab = $(tab);\n            if (arguments.length === 2) {\n                if (typeof tabLink === 'boolean') {\n                    force = tabLink;\n                }\n            }\n            if (newTab.length === 0) return false;\n            if (newTab.hasClass('active')) {\n                if (force) newTab.trigger('show');\n                return false;\n            }\n            var tabs = newTab.parent('.tabs');\n            if (tabs.length === 0) return false;\n        \n            // Return swipeouts in hidden tabs\n            app.allowSwipeout = true;\n        \n            // Animated tabs\n            var isAnimatedTabs = tabs.parent().hasClass('tabs-animated-wrap');\n            if (isAnimatedTabs) {\n                var tabTranslate = (app.rtl ? newTab.index() : -newTab.index()) * 100;\n                tabs.transform('translate3d(' + tabTranslate + '%,0,0)');\n            }\n        \n            // Swipeable tabs\n            var isSwipeableTabs = tabs.parent().hasClass('tabs-swipeable-wrap'), swiper;\n            if (isSwipeableTabs) {\n                swiper = tabs.parent()[0].swiper;\n                if (swiper.activeIndex !== newTab.index()) swiper.slideTo(newTab.index(), undefined, false);\n            }\n        \n            // Remove active class from old tabs\n            var oldTab = tabs.children('.tab.active').removeClass('active');\n            // Add active class to new tab\n            newTab.addClass('active');\n            // Trigger 'show' event on new tab\n            newTab.trigger('show');\n        \n            // Update navbars in new tab\n            if (!isAnimatedTabs && !isSwipeableTabs && newTab.find('.navbar').length > 0) {\n                // Find tab's view\n                var viewContainer;\n                if (newTab.hasClass(app.params.viewClass)) viewContainer = newTab[0];\n                else viewContainer = newTab.parents('.' + app.params.viewClass)[0];\n                app.sizeNavbars(viewContainer);\n            }\n        \n            // Find related link for new tab\n            if (tabLink) tabLink = $(tabLink);\n            else {\n                // Search by id\n                if (typeof tab === 'string') tabLink = $('.tab-link[href=\"' + tab + '\"]');\n                else tabLink = $('.tab-link[href=\"#' + newTab.attr('id') + '\"]');\n                // Search by data-tab\n                if (!tabLink || tabLink && tabLink.length === 0) {\n                    $('[data-tab]').each(function () {\n                        if (newTab.is($(this).attr('data-tab'))) tabLink = $(this);\n                    });\n                }\n            }\n            if (tabLink.length === 0) return;\n        \n            // Find related link for old tab\n            var oldTabLink;\n            if (oldTab && oldTab.length > 0) {\n                // Search by id\n                var oldTabId = oldTab.attr('id');\n                if (oldTabId) oldTabLink = $('.tab-link[href=\"#' + oldTabId + '\"]');\n                // Search by data-tab\n                if (!oldTabLink || oldTabLink && oldTabLink.length === 0) {\n                    $('[data-tab]').each(function () {\n                        if (oldTab.is($(this).attr('data-tab'))) oldTabLink = $(this);\n                    });\n                }\n            }\n        \n            // Update links' classes\n            if (tabLink && tabLink.length > 0) {\n                tabLink.addClass('active');\n                // Material Highlight\n                if (app.params.material) {\n                    var tabbar = tabLink.parents('.tabbar');\n                    if (tabbar.length > 0) {\n                        if (tabbar.find('.tab-link-highlight').length === 0) {\n                            tabbar.find('.toolbar-inner').append('<span class=\"tab-link-highlight\"></span>');\n                        }\n                        app.materialTabbarSetHighlight(tabbar, tabLink);\n                    }\n                }\n            }\n            if (oldTabLink && oldTabLink.length > 0) oldTabLink.removeClass('active');\n        \n            return true;\n        };\n\n        /*===============================================================================\n        ************   Accordion   ************\n        ===============================================================================*/\n        app.accordionToggle = function (item) {\n            item = $(item);\n            if (item.length === 0) return;\n            if (item.hasClass('accordion-item-expanded')) app.accordionClose(item);\n            else app.accordionOpen(item);\n        };\n        app.accordionOpen = function (item) {\n            item = $(item);\n            var list = item.parents('.accordion-list').eq(0);\n            var content = item.children('.accordion-item-content');\n            if (content.length === 0) content = item.find('.accordion-item-content');\n            var expandedItem = list.length > 0 && item.parent().children('.accordion-item-expanded');\n            if (expandedItem.length > 0) {\n                app.accordionClose(expandedItem);\n            }\n            content.css('height', content[0].scrollHeight + 'px').transitionEnd(function () {\n                if (item.hasClass('accordion-item-expanded')) {\n                    content.transition(0);\n                    content.css('height', 'auto');\n                    var clientLeft = content[0].clientLeft;\n                    content.transition('');\n                    item.trigger('opened');\n                }\n                else {\n                    content.css('height', '');\n                    item.trigger('closed');\n                }\n            });\n            item.trigger('open');\n            item.addClass('accordion-item-expanded');\n        };\n        app.accordionClose = function (item) {\n            item = $(item);\n            var content = item.children('.accordion-item-content');\n            if (content.length === 0) content = item.find('.accordion-item-content');\n            item.removeClass('accordion-item-expanded');\n            content.transition(0);\n            content.css('height', content[0].scrollHeight + 'px');\n            // Relayout\n            var clientLeft = content[0].clientLeft;\n            // Close\n            content.transition('');\n            content.css('height', '').transitionEnd(function () {\n                if (item.hasClass('accordion-item-expanded')) {\n                    content.transition(0);\n                    content.css('height', 'auto');\n                    var clientLeft = content[0].clientLeft;\n                    content.transition('');\n                    item.trigger('opened');\n                }\n                else {\n                    content.css('height', '');\n                    item.trigger('closed');\n                }\n            });\n            item.trigger('close');\n        };\n\n        /*===============================================================================\n        ************   Fast Clicks   ************\n        ************   Inspired by https://github.com/ftlabs/fastclick   ************\n        ===============================================================================*/\n        app.initFastClicks = function () {\n            if (app.params.activeState) {\n                $('html').addClass('watch-active-state');\n            }\n            if (app.device.ios && app.device.webView) {\n                // Strange hack required for iOS 8 webview to work on inputs\n                window.addEventListener('touchstart', function () {});\n            }\n        \n            var touchStartX, touchStartY, touchStartTime, targetElement, trackClick, activeSelection, scrollParent, lastClickTime, isMoved, tapHoldFired, tapHoldTimeout;\n            var activableElement, activeTimeout, needsFastClick, needsFastClickTimeOut;\n            var rippleWave, rippleTarget, rippleTransform, rippleTimeout;\n            function findActivableElement(el) {\n                var target = $(el);\n                var parents = target.parents(app.params.activeStateElements);\n                var activable;\n                if (target.is(app.params.activeStateElements)) {\n                    activable = target;\n                }\n                if (parents.length > 0) {\n                    activable = activable ? activable.add(parents) : parents;\n                }\n                return activable ? activable : target;\n            }\n            function isInsideScrollableView(el) {\n                var pageContent = el.parents('.page-content, .panel');\n        \n                if (pageContent.length === 0) {\n                    return false;\n                }\n        \n                // This event handler covers the \"tap to stop scrolling\".\n                if (pageContent.prop('scrollHandlerSet') !== 'yes') {\n                    pageContent.on('scroll', function() {\n                      clearTimeout(activeTimeout);\n                      clearTimeout(rippleTimeout);\n                    });\n                    pageContent.prop('scrollHandlerSet', 'yes');\n                }\n        \n                return true;\n            }\n            function addActive() {\n                if (!activableElement) return;\n                activableElement.addClass('active-state');\n            }\n            function removeActive(el) {\n                if (!activableElement) return;\n                activableElement.removeClass('active-state');\n                activableElement = null;\n            }\n            function isFormElement(el) {\n                var nodes = ('input select textarea label').split(' ');\n                if (el.nodeName && nodes.indexOf(el.nodeName.toLowerCase()) >= 0) return true;\n                return false;\n            }\n            function androidNeedsBlur(el) {\n                var noBlur = ('button input textarea select').split(' ');\n                if (document.activeElement && el !== document.activeElement && document.activeElement !== document.body) {\n                    if (noBlur.indexOf(el.nodeName.toLowerCase()) >= 0) {\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                }\n                else {\n                    return false;\n                }\n            }\n            function targetNeedsFastClick(el) {\n                var $el = $(el);\n                if (el.nodeName.toLowerCase() === 'input' && el.type === 'file') return false;\n                if ($el.hasClass('no-fastclick') || $el.parents('.no-fastclick').length > 0) return false;\n                return true;\n            }\n            function targetNeedsFocus(el) {\n                if (document.activeElement === el) {\n                    return false;\n                }\n                var tag = el.nodeName.toLowerCase();\n                var skipInputs = ('button checkbox file image radio submit').split(' ');\n                if (el.disabled || el.readOnly) return false;\n                if (tag === 'textarea') return true;\n                if (tag === 'select') {\n                    if (app.device.android) return false;\n                    else return true;\n                }\n                if (tag === 'input' && skipInputs.indexOf(el.type) < 0) return true;\n            }\n            function targetNeedsPrevent(el) {\n                el = $(el);\n                var prevent = true;\n                if (el.is('label') || el.parents('label').length > 0) {\n                    if (app.device.android) {\n                        prevent = false;\n                    }\n                    else if (app.device.ios && el.is('input')) {\n                        prevent = true;\n                    }\n                    else prevent = false;\n                }\n                return prevent;\n            }\n        \n            // Mouse Handlers\n            function handleMouseDown (e) {\n                findActivableElement(e.target).addClass('active-state');\n                if ('which' in e && e.which === 3) {\n                    setTimeout(function () {\n                        $('.active-state').removeClass('active-state');\n                    }, 0);\n                }\n                if (app.params.material && app.params.materialRipple) {\n                    touchStartX = e.pageX;\n                    touchStartY = e.pageY;\n                    rippleTouchStart(e.target, e.pageX, e.pageY);\n                }\n            }\n            function handleMouseMove (e) {\n                $('.active-state').removeClass('active-state');\n                if (app.params.material && app.params.materialRipple) {\n                    rippleTouchMove();\n                }\n            }\n            function handleMouseUp (e) {\n                $('.active-state').removeClass('active-state');\n                if (app.params.material && app.params.materialRipple) {\n                    rippleTouchEnd();\n                }\n            }\n        \n            // Material Touch Ripple Effect\n            function findRippleElement(el) {\n                var needsRipple = app.params.materialRippleElements;\n                var $el = $(el);\n                if ($el.is(needsRipple)) {\n                    if ($el.hasClass('no-ripple')) {\n                        return false;\n                    }\n                    return $el;\n                }\n                else if ($el.parents(needsRipple).length > 0) {\n                    var rippleParent = $el.parents(needsRipple).eq(0);\n                    if (rippleParent.hasClass('no-ripple')) {\n                        return false;\n                    }\n                    return rippleParent;\n                }\n                else return false;\n            }\n            function createRipple(x, y, el) {\n                var box = el[0].getBoundingClientRect();\n                var center = {\n                    x: x - box.left,\n                    y: y - box.top\n                },\n                    height = box.height,\n                    width = box.width;\n                var diameter = Math.max(Math.pow((Math.pow(height, 2) + Math.pow(width, 2)), 0.5), 48);\n        \n                rippleWave = $(\n                    '<div class=\"ripple-wave\" style=\"width: ' + diameter + 'px; height: '+diameter+'px; margin-top:-'+diameter/2+'px; margin-left:-'+diameter/2+'px; left:'+center.x+'px; top:'+center.y+'px;\"></div>'\n                );\n                el.prepend(rippleWave);\n                var clientLeft = rippleWave[0].clientLeft;\n                rippleTransform = 'translate3d('+(-center.x + width/2)+'px, '+(-center.y + height/2)+'px, 0) scale(1)';\n                rippleWave.transform(rippleTransform);\n            }\n        \n            function removeRipple() {\n                if (!rippleWave) return;\n                var toRemove = rippleWave;\n        \n                var removeTimeout = setTimeout(function () {\n                    toRemove.remove();\n                }, 400);\n        \n                rippleWave\n                    .addClass('ripple-wave-fill')\n                    .transform(rippleTransform.replace('scale(1)', 'scale(1.01)'))\n                    .transitionEnd(function () {\n                        clearTimeout(removeTimeout);\n        \n                        var rippleWave = $(this)\n                            .addClass('ripple-wave-out')\n                            .transform(rippleTransform.replace('scale(1)', 'scale(1.01)'));\n        \n                        removeTimeout = setTimeout(function () {\n                            rippleWave.remove();\n                        }, 700);\n        \n                        setTimeout(function () {\n                            rippleWave.transitionEnd(function(){\n                                clearTimeout(removeTimeout);\n                                $(this).remove();\n                            });\n                        }, 0);\n                    });\n        \n                rippleWave = rippleTarget = undefined;\n            }\n        \n            function rippleTouchStart (el, x, y) {\n                rippleTarget = findRippleElement(el);\n                if (!rippleTarget || rippleTarget.length === 0) {\n                    rippleTarget = undefined;\n                    return;\n                }\n                if (!isInsideScrollableView(rippleTarget)) {\n                    createRipple(touchStartX, touchStartY, rippleTarget);\n                }\n                else {\n                    rippleTimeout = setTimeout(function () {\n                        createRipple(touchStartX, touchStartY, rippleTarget);\n                    }, 80);\n                }\n            }\n            function rippleTouchMove() {\n                clearTimeout(rippleTimeout);\n                removeRipple();\n            }\n            function rippleTouchEnd() {\n                if (rippleWave) {\n                    removeRipple();\n                }\n                else if (rippleTarget && !isMoved) {\n                    clearTimeout(rippleTimeout);\n                    createRipple(touchStartX, touchStartY, rippleTarget);\n                    setTimeout(removeRipple, 0);\n                }\n                else {\n                    removeRipple();\n                }\n            }\n        \n            // Send Click\n            function sendClick(e) {\n                var touch = e.changedTouches[0];\n                var evt = document.createEvent('MouseEvents');\n                var eventType = 'click';\n                if (app.device.android && targetElement.nodeName.toLowerCase() === 'select') {\n                    eventType = 'mousedown';\n                }\n                evt.initMouseEvent(eventType, true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);\n                evt.forwardedTouchEvent = true;\n                targetElement.dispatchEvent(evt);\n            }\n        \n            // Touch Handlers\n            function handleTouchStart(e) {\n                isMoved = false;\n                tapHoldFired = false;\n                if (e.targetTouches.length > 1) {\n                    if (activableElement) removeActive();\n                    return true;\n                }\n                if (e.touches.length > 1 && activableElement) {\n                    removeActive();\n                }\n                if (app.params.tapHold) {\n                    if (tapHoldTimeout) clearTimeout(tapHoldTimeout);\n                    tapHoldTimeout = setTimeout(function () {\n                        if (e && e.touches && e.touches.length > 1) return;\n                        tapHoldFired = true;\n                        e.preventDefault();\n                        $(e.target).trigger('taphold');\n                    }, app.params.tapHoldDelay);\n                }\n                if (needsFastClickTimeOut) clearTimeout(needsFastClickTimeOut);\n                needsFastClick = targetNeedsFastClick(e.target);\n        \n                if (!needsFastClick) {\n                    trackClick = false;\n                    return true;\n                }\n                if (app.device.ios) {\n                    var selection = window.getSelection();\n                    if (selection.rangeCount && selection.focusNode !== document.body && (!selection.isCollapsed || document.activeElement === selection.focusNode)) {\n                        activeSelection = true;\n                        return true;\n                    }\n                    else {\n                        activeSelection = false;\n                    }\n                }\n                if (app.device.android)  {\n                    if (androidNeedsBlur(e.target)) {\n                        document.activeElement.blur();\n                    }\n                }\n        \n                trackClick = true;\n                targetElement = e.target;\n                touchStartTime = (new Date()).getTime();\n                touchStartX = e.targetTouches[0].pageX;\n                touchStartY = e.targetTouches[0].pageY;\n        \n                // Detect scroll parent\n                if (app.device.ios) {\n                    scrollParent = undefined;\n                    $(targetElement).parents().each(function () {\n                        var parent = this;\n                        if (parent.scrollHeight > parent.offsetHeight && !scrollParent) {\n                            scrollParent = parent;\n                            scrollParent.f7ScrollTop = scrollParent.scrollTop;\n                        }\n                    });\n                }\n                if ((e.timeStamp - lastClickTime) < app.params.fastClicksDelayBetweenClicks) {\n                    e.preventDefault();\n                }\n        \n                if (app.params.activeState) {\n                    activableElement = findActivableElement(targetElement);\n                    // If it's inside a scrollable view, we don't trigger active-state yet,\n                    // because it can be a scroll instead. Based on the link:\n                    // http://labnote.beedesk.com/click-scroll-and-pseudo-active-on-mobile-webk\n                    if (!isInsideScrollableView(activableElement)) {\n                        addActive();\n                    } else {\n                        activeTimeout = setTimeout(addActive, 80);\n                    }\n                }\n                if (app.params.material && app.params.materialRipple) {\n                    rippleTouchStart(targetElement, touchStartX, touchStartY);\n                }\n            }\n            function handleTouchMove(e) {\n                if (!trackClick) return;\n                var _isMoved = false;\n                var distance = app.params.fastClicksDistanceThreshold;\n                if (distance) {\n                    var pageX = e.targetTouches[0].pageX;\n                    var pageY = e.targetTouches[0].pageY;\n                    if (Math.abs(pageX - touchStartX) > distance ||  Math.abs(pageY - touchStartY) > distance) {\n                        _isMoved = true;\n                    }\n                }\n                else {\n                    _isMoved = true;\n                }\n                if (_isMoved) {\n                    trackClick = false;\n                    targetElement = null;\n                    isMoved = true;\n                    if (app.params.tapHold) {\n                        clearTimeout(tapHoldTimeout);\n                    }\n        \t\t\tif (app.params.activeState) {\n        \t\t\t\tclearTimeout(activeTimeout);\n        \t\t\t\tremoveActive();\n        \t\t\t}\n                    if (app.params.material && app.params.materialRipple) {\n                        rippleTouchMove();\n                    }\n                }\n            }\n            function handleTouchEnd(e) {\n                clearTimeout(activeTimeout);\n                clearTimeout(tapHoldTimeout);\n        \n                if (!trackClick) {\n                    if (!activeSelection && needsFastClick) {\n                        if (!(app.device.android && !e.cancelable)) {\n                            e.preventDefault();\n                        }\n                    }\n                    return true;\n                }\n        \n                if (document.activeElement === e.target) {\n                    if (app.params.activeState) removeActive();\n                    if (app.params.material && app.params.materialRipple) {\n                        rippleTouchEnd();\n                    }\n                    return true;\n                }\n        \n                if (!activeSelection) {\n                    e.preventDefault();\n                }\n        \n                if ((e.timeStamp - lastClickTime) < app.params.fastClicksDelayBetweenClicks) {\n                    setTimeout(removeActive, 0);\n                    return true;\n                }\n        \n                lastClickTime = e.timeStamp;\n        \n                trackClick = false;\n        \n                if (app.device.ios && scrollParent) {\n                    if (scrollParent.scrollTop !== scrollParent.f7ScrollTop) {\n                        return false;\n                    }\n                }\n        \n                // Add active-state here because, in a very fast tap, the timeout didn't\n                // have the chance to execute. Removing active-state in a timeout gives\n                // the chance to the animation execute.\n                if (app.params.activeState) {\n                    addActive();\n                    setTimeout(removeActive, 0);\n                }\n                // Remove Ripple\n                if (app.params.material && app.params.materialRipple) {\n                    rippleTouchEnd();\n                }\n        \n                // Trigger focus when required\n                if (targetNeedsFocus(targetElement)) {\n                    if (app.device.ios && app.device.webView) {\n                        if ((event.timeStamp - touchStartTime) > 159) {\n                            targetElement = null;\n                            return false;\n                        }\n                        targetElement.focus();\n                        return false;\n                    }\n                    else {\n                        targetElement.focus();\n                    }\n                }\n        \n                // Blur active elements\n                if (document.activeElement && targetElement !== document.activeElement && document.activeElement !== document.body && targetElement.nodeName.toLowerCase() !== 'label') {\n                    document.activeElement.blur();\n                }\n        \n                // Send click\n                e.preventDefault();\n                sendClick(e);\n                return false;\n            }\n            function handleTouchCancel(e) {\n                trackClick = false;\n                targetElement = null;\n        \n                // Remove Active State\n                clearTimeout(activeTimeout);\n                clearTimeout(tapHoldTimeout);\n                if (app.params.activeState) {\n                    removeActive();\n                }\n        \n                // Remove Ripple\n                if (app.params.material && app.params.materialRipple) {\n                    rippleTouchEnd();\n                }\n            }\n        \n            function handleClick(e) {\n                var allowClick = false;\n        \n                if (trackClick) {\n                    targetElement = null;\n                    trackClick = false;\n                    return true;\n                }\n                if (e.target.type === 'submit' && e.detail === 0) {\n                    return true;\n                }\n                if (!targetElement) {\n                    if (!isFormElement(e.target)) {\n                        allowClick =  true;\n                    }\n                }\n                if (!needsFastClick) {\n                    allowClick = true;\n                }\n                if (document.activeElement === targetElement) {\n                    allowClick =  true;\n                }\n                if (e.forwardedTouchEvent) {\n                    allowClick =  true;\n                }\n                if (!e.cancelable) {\n                    allowClick =  true;\n                }\n                if (app.params.tapHold && app.params.tapHoldPreventClicks && tapHoldFired) {\n                    allowClick = false;\n                }\n                if (!allowClick) {\n                    e.stopImmediatePropagation();\n                    e.stopPropagation();\n                    if (targetElement) {\n                        if (targetNeedsPrevent(targetElement) || isMoved) {\n                            e.preventDefault();\n                        }\n                    }\n                    else {\n                        e.preventDefault();\n                    }\n                    targetElement = null;\n                }\n                needsFastClickTimeOut = setTimeout(function () {\n                    needsFastClick = false;\n                }, (app.device.ios || app.device.androidChrome ? 100 : 400));\n        \n                if (app.params.tapHold) {\n                    tapHoldTimeout = setTimeout(function () {\n                        tapHoldFired = false;\n                    }, (app.device.ios || app.device.androidChrome ? 100 : 400));\n                }\n        \n                return allowClick;\n            }\n            if (app.support.touch) {\n                document.addEventListener('click', handleClick, true);\n        \n                document.addEventListener('touchstart', handleTouchStart);\n                document.addEventListener('touchmove', handleTouchMove);\n                document.addEventListener('touchend', handleTouchEnd);\n                document.addEventListener('touchcancel', handleTouchCancel);\n            }\n            else {\n                if (app.params.activeState) {\n                    document.addEventListener('mousedown', handleMouseDown);\n                    document.addEventListener('mousemove', handleMouseMove);\n                    document.addEventListener('mouseup', handleMouseUp);\n                }\n            }\n            if (app.params.material && app.params.materialRipple) {\n                document.addEventListener('contextmenu', function (e) {\n                    if (activableElement) removeActive();\n                    rippleTouchEnd();\n                });\n            }\n        \n        };\n        \n\n        /*===============================================================================\n        ************   Handle clicks and make them fast (on tap);   ************\n        ===============================================================================*/\n        app.initClickEvents = function () {\n            function handleScrollTop(e) {\n                /*jshint validthis:true */\n                var clicked = $(this);\n                var target = $(e.target);\n                var isLink = clicked[0].nodeName.toLowerCase() === 'a' ||\n                             clicked.parents('a').length > 0 ||\n                             target[0].nodeName.toLowerCase() === 'a' ||\n                             target.parents('a').length > 0;\n        \n                if (isLink) return;\n                var pageContent, page;\n                if (app.params.scrollTopOnNavbarClick && clicked.is('.navbar .center')) {\n                    // Find active page\n                    var navbar = clicked.parents('.navbar');\n        \n                    // Static Layout\n                    pageContent = navbar.parents('.page-content');\n        \n                    if (pageContent.length === 0) {\n                        // Fixed Layout\n                        if (navbar.parents('.page').length > 0) {\n                            pageContent = navbar.parents('.page').find('.page-content');\n                        }\n                        // Through Layout\n                        if (pageContent.length === 0) {\n                            if (navbar.nextAll('.pages').length > 0) {\n                                pageContent = navbar.nextAll('.pages').find('.page:not(.page-on-left):not(.page-on-right):not(.cached)').find('.page-content');\n                            }\n                        }\n                    }\n                }\n                if (app.params.scrollTopOnStatusbarClick && clicked.is('.statusbar-overlay')) {\n                    if ($('.popup.modal-in').length > 0) {\n                        // Check for opened popup\n                        pageContent = $('.popup.modal-in').find('.page:not(.page-on-left):not(.page-on-right):not(.cached)').find('.page-content');\n                    }\n                    else if ($('.panel.active').length > 0) {\n                        // Check for opened panel\n                        pageContent = $('.panel.active').find('.page:not(.page-on-left):not(.page-on-right):not(.cached)').find('.page-content');\n                    }\n                    else if ($('.views > .view.active').length > 0) {\n                        // View in tab bar app layout\n                        pageContent = $('.views > .view.active').find('.page:not(.page-on-left):not(.page-on-right):not(.cached)').find('.page-content');\n                    }\n                    else {\n                        // Usual case\n                        pageContent = $('.views').find('.page:not(.page-on-left):not(.page-on-right):not(.cached)').find('.page-content');\n                    }\n                }\n        \n                if (pageContent && pageContent.length > 0) {\n                    // Check for tab\n                    if (pageContent.hasClass('tab')) {\n                        pageContent = pageContent.parent('.tabs').children('.page-content.active');\n                    }\n                    if (pageContent.length > 0) pageContent.scrollTop(0, 300);\n                }\n            }\n            function handleClicks(e) {\n                /*jshint validthis:true */\n                var clicked = $(this);\n                var url = clicked.attr('href');\n                var isLink = clicked[0].nodeName.toLowerCase() === 'a';\n        \n                // Check if link is external\n                if (isLink) {\n                    if (clicked.is(app.params.externalLinks) || (url && url.indexOf('javascript:') >= 0)) {\n                        if(url && clicked.attr('target') === '_system') {\n                            e.preventDefault();\n                            window.open(url, '_system');\n                        }\n                        return;\n                    }\n                }\n        \n                // Collect Clicked data- attributes\n                var clickedData = clicked.dataset();\n        \n                // Smart Select\n                if (clicked.hasClass('smart-select')) {\n                    if (app.smartSelectOpen) app.smartSelectOpen(clicked);\n                }\n        \n                // Open Panel\n                if (clicked.hasClass('open-panel')) {\n                    if ($('.panel').length === 1) {\n                        if ($('.panel').hasClass('panel-left')) app.openPanel('left');\n                        else app.openPanel('right');\n                    }\n                    else {\n                        if (clickedData.panel === 'right') app.openPanel('right');\n                        else app.openPanel('left');\n                    }\n                }\n                // Close Panel\n                if (clicked.hasClass('close-panel')) {\n                    app.closePanel();\n                }\n        \n                if (clicked.hasClass('panel-overlay') && app.params.panelsCloseByOutside) {\n                    app.closePanel();\n                }\n                // Popover\n                if (clicked.hasClass('open-popover')) {\n                    var popover;\n                    if (clickedData.popover) {\n                        popover = clickedData.popover;\n                    }\n                    else popover = '.popover';\n                    app.popover(popover, clicked);\n                }\n                if (clicked.hasClass('close-popover')) {\n                    app.closeModal('.popover.modal-in');\n                }\n                // Popup\n                var popup;\n                if (clicked.hasClass('open-popup')) {\n                    if (clickedData.popup) {\n                        popup = clickedData.popup;\n                    }\n                    else popup = '.popup';\n                    app.popup(popup);\n                }\n                if (clicked.hasClass('close-popup')) {\n                    if (clickedData.popup) {\n                        popup = clickedData.popup;\n                    }\n                    else popup = '.popup.modal-in';\n                    app.closeModal(popup);\n                }\n                // Login Screen\n                var loginScreen;\n                if (clicked.hasClass('open-login-screen')) {\n                    if (clickedData.loginScreen) {\n                        loginScreen = clickedData.loginScreen;\n                    }\n                    else loginScreen = '.login-screen';\n                    app.loginScreen(loginScreen);\n                }\n                if (clicked.hasClass('close-login-screen')) {\n                    app.closeModal('.login-screen.modal-in');\n                }\n                // Close Modal\n                if (clicked.hasClass('modal-overlay')) {\n                    if ($('.modal.modal-in').length > 0 && app.params.modalCloseByOutside)\n                        app.closeModal('.modal.modal-in');\n                    if ($('.actions-modal.modal-in').length > 0 && app.params.actionsCloseByOutside)\n                        app.closeModal('.actions-modal.modal-in');\n        \n                    if ($('.popover.modal-in').length > 0) app.closeModal('.popover.modal-in');\n                }\n                if (clicked.hasClass('popup-overlay')) {\n                    if ($('.popup.modal-in').length > 0 && app.params.popupCloseByOutside)\n                        app.closeModal('.popup.modal-in');\n                }\n                if (clicked.hasClass('picker-modal-overlay')) {\n                    if ($('.picker-modal.modal-in').length > 0)\n                        app.closeModal('.picker-modal.modal-in');\n                }\n        \n                // Picker\n                if (clicked.hasClass('close-picker')) {\n                    var pickerToClose = $('.picker-modal.modal-in');\n                    if (pickerToClose.length > 0) {\n                        app.closeModal(pickerToClose);\n                    }\n                    else {\n                        pickerToClose = $('.popover.modal-in .picker-modal');\n                        if (pickerToClose.length > 0) {\n                            app.closeModal(pickerToClose.parents('.popover'));\n                        }\n                    }\n                }\n                if (clicked.hasClass('open-picker')) {\n                    var pickerToOpen;\n                    if (clickedData.picker) {\n                        pickerToOpen = clickedData.picker;\n                    }\n                    else pickerToOpen = '.picker-modal';\n                    app.pickerModal(pickerToOpen, clicked);\n                }\n        \n                // Tabs\n                var isTabLink;\n                if (clicked.hasClass('tab-link')) {\n                    isTabLink = true;\n                    app.showTab(clickedData.tab || clicked.attr('href'), clicked);\n                }\n                // Swipeout Close\n                if (clicked.hasClass('swipeout-close')) {\n                    app.swipeoutClose(clicked.parents('.swipeout-opened'));\n                }\n                // Swipeout Delete\n                if (clicked.hasClass('swipeout-delete')) {\n                    if (clickedData.confirm) {\n                        var text = clickedData.confirm;\n                        var title = clickedData.confirmTitle;\n                        if (title) {\n                            app.confirm(text, title, function () {\n                                app.swipeoutDelete(clicked.parents('.swipeout'));\n                            }, function () {\n                                if (clickedData.closeOnCancel) app.swipeoutClose(clicked.parents('.swipeout'));\n                            });\n                        }\n                        else {\n                            app.confirm(text, function () {\n                                app.swipeoutDelete(clicked.parents('.swipeout'));\n                            }, function () {\n                                if (clickedData.closeOnCancel) app.swipeoutClose(clicked.parents('.swipeout'));\n                            });\n                        }\n                    }\n                    else {\n                        app.swipeoutDelete(clicked.parents('.swipeout'));\n                    }\n        \n                }\n                // Sortable\n                if (clicked.hasClass('toggle-sortable')) {\n                    app.sortableToggle(clickedData.sortable);\n                }\n                if (clicked.hasClass('open-sortable')) {\n                    app.sortableOpen(clickedData.sortable);\n                }\n                if (clicked.hasClass('close-sortable')) {\n                    app.sortableClose(clickedData.sortable);\n                }\n                // Accordion\n                if (clicked.hasClass('accordion-item-toggle') || (clicked.hasClass('item-link') && clicked.parent().hasClass('accordion-item'))) {\n                    var accordionItem = clicked.parent('.accordion-item');\n                    if (accordionItem.length === 0) accordionItem = clicked.parents('.accordion-item');\n                    if (accordionItem.length === 0) accordionItem = clicked.parents('li');\n                    app.accordionToggle(accordionItem);\n                }\n        \n                // Speed Dial\n                if (app.params.material) {\n                    if (clicked.hasClass('floating-button') && clicked.parent().hasClass('speed-dial')) {\n                        clicked.parent().toggleClass('speed-dial-opened');\n                    }\n                    if (clicked.hasClass('close-speed-dial')) {\n                        $('.speed-dial-opened').removeClass('speed-dial-opened');\n                    }\n                }\n        \n                // Load Page\n                if (app.params.ajaxLinks && !clicked.is(app.params.ajaxLinks) || !isLink || !app.params.router) {\n                    return;\n                }\n                if (isLink) {\n                    e.preventDefault();\n                }\n        \n                var validUrl = url && url.length > 0 && url !== '#' && !isTabLink;\n                var template = clickedData.template;\n                if (validUrl || clicked.hasClass('back') || template) {\n                    var view;\n                    if (clickedData.view) {\n                        view = $(clickedData.view)[0].f7View;\n                    }\n                    else {\n                        view = clicked.parents('.' + app.params.viewClass)[0] && clicked.parents('.' + app.params.viewClass)[0].f7View;\n                        if (view && view.params.linksView) {\n                            if (typeof view.params.linksView === 'string') view = $(view.params.linksView)[0].f7View;\n                            else if (view.params.linksView instanceof View) view = view.params.linksView;\n                        }\n                    }\n                    if (!view) {\n                        if (app.mainView) view = app.mainView;\n                    }\n                    if (!view) return;\n        \n                    var pageName;\n                    if (!template) {\n                        if (url.indexOf('#') === 0 && url !== '#')  {\n                            if (view.params.domCache) {\n                                pageName = url.split('#')[1];\n                            }\n                            else return;\n                        }\n                        if (url === '#' && !clicked.hasClass('back')) return;\n                    }\n                    else {\n                        url = undefined;\n                    }\n        \n                    var animatePages;\n                    if (typeof clickedData.animatePages !== 'undefined') {\n                        animatePages = clickedData.animatePages;\n                    }\n                    else {\n                        if (clicked.hasClass('with-animation')) animatePages = true;\n                        if (clicked.hasClass('no-animation')) animatePages = false;\n                    }\n        \n                    var options = {\n                        animatePages: animatePages,\n                        ignoreCache: clickedData.ignoreCache,\n                        force: clickedData.force,\n                        reload: clickedData.reload,\n                        reloadPrevious: clickedData.reloadPrevious,\n                        pageName: pageName,\n                        pushState: clickedData.pushState,\n                        url: url\n                    };\n        \n                    if (app.params.template7Pages) {\n                        options.contextName = clickedData.contextName;\n                        var context = clickedData.context;\n                        if (context) {\n                            options.context = JSON.parse(context);\n                        }\n                    }\n                    if (template && template in t7.templates) {\n                        options.template = t7.templates[template];\n                    }\n        \n                    if (clicked.hasClass('back')) view.router.back(options);\n                    else view.router.load(options);\n                }\n            }\n            $(document).on('click', 'a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .swipeout-close, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle, .close-picker, .picker-modal-overlay', handleClicks);\n            if (app.params.scrollTopOnNavbarClick || app.params.scrollTopOnStatusbarClick) {\n                $(document).on('click', '.statusbar-overlay, .navbar .center', handleScrollTop);\n            }\n        \n            // Prevent scrolling on overlays\n            function preventScrolling(e) {\n                e.preventDefault();\n            }\n            if (app.support.touch && !app.device.android) {\n                $(document).on((app.params.fastClicks ? 'touchstart' : 'touchmove'), '.panel-overlay, .modal-overlay, .preloader-indicator-overlay, .popup-overlay, .searchbar-overlay', preventScrolling);\n            }\n        };\n        \n\n        /*======================================================\n        ************   App Resize Actions   ************\n        ======================================================*/\n        // Prevent iPad horizontal body scrolling when soft keyboard is opened\n        function _fixIpadBodyScrolLeft() {\n            if (app.device.ipad) {\n                document.body.scrollLeft = 0;\n                setTimeout(function () {\n                    document.body.scrollLeft = 0;\n                }, 0);\n            }\n        }\n        app.initResize = function () {\n            $(window).on('resize', app.resize);\n            $(window).on('orientationchange', app.orientationchange);\n        };\n        app.resize = function () {\n            if (app.sizeNavbars) app.sizeNavbars();\n            _fixIpadBodyScrolLeft();\n            \n        };\n        app.orientationchange = function () {\n            if (app.device && app.device.minimalUi) {\n                if (window.orientation === 90 || window.orientation === -90) document.body.scrollTop = 0;\n            }\n            _fixIpadBodyScrolLeft();\n        };\n        \n\n        /*===============================================================================\n        ************   Store and parse forms data   ************\n        ===============================================================================*/\n        app.formsData = {};\n        app.formStoreData = function (formId, formJSON) {\n            // Store form data in app.formsData\n            app.formsData[formId] = formJSON;\n        \n            // Store form data in local storage also\n            app.ls['f7form-' + formId] = JSON.stringify(formJSON);\n        };\n        app.formDeleteData = function (formId) {\n            // Delete form data from app.formsData\n            if (app.formsData[formId]) {\n                app.formsData[formId] = '';\n                delete app.formsData[formId];\n            }\n        \n            // Delete form data from local storage also\n            if (app.ls['f7form-' + formId]) {\n                app.ls['f7form-' + formId] = '';\n                app.ls.removeItem('f7form-' + formId);\n            }\n        };\n        app.formGetData = function (formId) {\n            // First of all check in local storage\n            if (app.ls['f7form-' + formId]) {\n                return JSON.parse(app.ls['f7form-' + formId]);\n            }\n            // Try to get it from formsData obj\n            else if (app.formsData[formId]) return app.formsData[formId];\n        };\n        app.formToJSON = function (form) {\n            form = $(form);\n            if (form.length !== 1) return false;\n        \n            // Form data\n            var formData = {};\n        \n            // Skip input types\n            var skipTypes = ['submit', 'image', 'button', 'file'];\n            var skipNames = [];\n            form.find('input, select, textarea').each(function () {\n                var input = $(this);\n                var name = input.attr('name');\n                var type = input.attr('type');\n                var tag = this.nodeName.toLowerCase();\n                if (skipTypes.indexOf(type) >= 0) return;\n                if (skipNames.indexOf(name) >= 0 || !name) return;\n                if (tag === 'select' && input.prop('multiple')) {\n                    skipNames.push(name);\n                    formData[name] = [];\n                    form.find('select[name=\"' + name + '\"] option').each(function () {\n                        if (this.selected) formData[name].push(this.value);\n                    });\n                }\n                else {\n                    switch (type) {\n                        case 'checkbox' :\n                            skipNames.push(name);\n                            formData[name] = [];\n                            form.find('input[name=\"' + name + '\"]').each(function () {\n                                if (this.checked) formData[name].push(this.value);\n                            });\n                            break;\n                        case 'radio' :\n                            skipNames.push(name);\n                            form.find('input[name=\"' + name + '\"]').each(function () {\n                                if (this.checked) formData[name] = this.value;\n                            });\n                            break;\n                        default :\n                            formData[name] = input.val();\n                            break;\n                    }\n                }\n                    \n            });\n            form.trigger('formToJSON', {formData: formData});\n        \n            return formData;\n        };\n        app.formFromJSON = function (form, formData) {\n            form = $(form);\n            if (form.length !== 1) return false;\n        \n            // Skip input types\n            var skipTypes = ['submit', 'image', 'button', 'file'];\n            var skipNames = [];\n        \n            form.find('input, select, textarea').each(function () {\n                var input = $(this);\n                var name = input.attr('name');\n                var type = input.attr('type');\n                var tag = this.nodeName.toLowerCase();\n                if (!formData[name]) return;\n                if (skipTypes.indexOf(type) >= 0) return;\n                if (skipNames.indexOf(name) >= 0 || !name) return;\n                if (tag === 'select' && input.prop('multiple')) {\n                    skipNames.push(name);\n                    form.find('select[name=\"' + name + '\"] option').each(function () {\n                        if (formData[name].indexOf(this.value) >= 0) this.selected = true;\n                        else this.selected = false;\n                    });\n                }\n                else {\n                    switch (type) {\n                        case 'checkbox' :\n                            skipNames.push(name);\n                            form.find('input[name=\"' + name + '\"]').each(function () {\n                                if (formData[name].indexOf(this.value) >= 0) this.checked = true;\n                                else this.checked = false;\n                            });\n                            break;\n                        case 'radio' :\n                            skipNames.push(name);\n                            form.find('input[name=\"' + name + '\"]').each(function () {\n                                if (formData[name] === this.value) this.checked = true;\n                                else this.checked = false;\n                            });\n                            break;\n                        default :\n                            input.val(formData[name]);\n                            break;\n                    }\n                }\n                    \n            });\n            form.trigger('formFromJSON', {formData: formData});\n        };\n        app.initFormsStorage = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            var forms = pageContainer.find('form.store-data');\n            if (forms.length === 0) return;\n            \n            // Parse forms data and fill form if there is such data\n            forms.each(function () {\n                var id = this.getAttribute('id');\n                if (!id) return;\n                var formData = app.formGetData(id);\n                if (formData) app.formFromJSON(this, formData);\n            });\n            // Update forms data on inputs change\n            function storeForm() {\n                /*jshint validthis:true */\n                var form = $(this);\n                var formId = form[0].id;\n                if (!formId) return;\n                var formJSON = app.formToJSON(form);\n                if (!formJSON) return;\n                app.formStoreData(formId, formJSON);\n                form.trigger('store', {data: formJSON});\n            }\n            forms.on('change submit', storeForm);\n        \n            // Detach Listeners\n            function pageBeforeRemove() {\n                forms.off('change submit', storeForm);\n                pageContainer.off('pageBeforeRemove', pageBeforeRemove);\n            }\n            pageContainer.on('pageBeforeRemove', pageBeforeRemove);\n        };\n\n        /*===============================================================================\n        ************   Ajax submit for forms   ************\n        ===============================================================================*/\n        // Ajax submit on forms\n        $(document).on('submit change', 'form.ajax-submit, form.ajax-submit-onchange', function (e) {\n            var form = $(this);\n            if (e.type === 'change' && !form.hasClass('ajax-submit-onchange')) return;\n            if (e.type === 'submit') e.preventDefault();\n            \n            var method = form.attr('method') || 'GET';\n            var contentType = form.prop('enctype') || form.attr('enctype');\n        \n            var url = form.attr('action');\n            if (!url) return;\n        \n            var data;\n            if (method === 'POST') data = new FormData(form[0]);\n            else data = $.serializeObject(app.formToJSON(form[0]));\n        \n            var xhr = $.ajax({\n                method: method,\n                url: url,\n                contentType: contentType,\n                data: data,\n                beforeSend: function (xhr) {\n                    form.trigger('beforeSubmit', {data:data, xhr: xhr});\n                },\n                error: function (xhr) {\n                    form.trigger('submitError', {data:data, xhr: xhr});  \n                },\n                success: function (data) {\n                    form.trigger('submitted', {data: data, xhr: xhr});\n                }\n            });\n        });\n        \n        \n\n        /*===============================================================================\n        ************   Resizable textarea   ************\n        ===============================================================================*/\n        app.resizeTextarea = function (textarea) {\n            textarea = $(textarea);\n            if (!textarea.hasClass('resizable')) {\n                return;\n            }\n            textarea.css({'height': ''});\n            var height = textarea[0].offsetHeight;\n            var diff = height - textarea[0].clientHeight;\n            var scrollHeight = textarea[0].scrollHeight;\n        \n            if (scrollHeight + diff > height) {\n                var newAreaHeight = scrollHeight + diff;\n                textarea.css('height', newAreaHeight + 'px');\n            }\n        };\n        app.resizableTextarea = function (textarea) {\n            textarea = $(textarea);\n            if (textarea.length === 0) return;\n            var textareaTimeout;\n            function handleTextarea() {\n                clearTimeout(textareaTimeout);\n                textareaTimeout = setTimeout(function () {\n                    app.resizeTextarea(textarea);\n                }, 0);\n            }\n            textarea[0].f7DestroyResizableTextarea = function () {\n                textarea.off('change keydown keypress keyup paste cut', handleTextarea);\n            };\n            return textarea.on('change keydown keypress keyup paste cut', handleTextarea);\n        };\n        app.destroyResizableTextarea = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            if (pageContainer.length > 0 && pageContainer.is('textarea') && pageContainer[0].f7DestroyResizableTextarea) {\n                pageContainer[0].f7DestroyResizableTextarea();\n            }\n            else if (pageContainer.length > 0) {\n                pageContainer.find('textarea.resiable').each(function () {\n                    var textarea = this;\n                    if (textarea.f7DestroyResizableTextarea) {\n                        textarea.f7DestroyResizableTextarea ();\n                    }\n                });\n            }\n        };\n        app.initPageResizableTextarea = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            var textareas = pageContainer.find('textarea.resizable');\n            textareas.each(function () {\n                app.resizableTextarea(this);\n            });\n        };\n\n        /*======================================================\n        ************   Material Text Inputs   ************\n        ======================================================*/\n        app.initPageMaterialInputs = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            var textareas = pageContainer.find('textarea.resizable');\n            pageContainer.find('.item-input').each(function () {\n                var itemInput = $(this);\n                var notInputs = ['checkbox', 'button', 'submit', 'range', 'radio', 'image'];\n                itemInput.find('input, select, textarea').each(function () {\n                    var input = $(this);\n                    if (notInputs.indexOf(input.attr('type')) < 0) {\n                        itemInput.addClass('item-input-field');\n                        if (input.val().trim() !== '') {\n                            input.parents('.item-input, .input-field').add(input.parents('.item-inner')).addClass('not-empty-state');\n                        }\n                    }\n                });\n                if (itemInput.parents('.input-item, .inputs-list').length > 0) return;\n                itemInput.parents('.list-block').eq(0).addClass('inputs-list');\n            });\n        };\n        /*======================================================\n        ************   Material Focus Inputs   ************\n        ======================================================*/\n        app.initMaterialWatchInputs = function () {\n            var notInputs = ['checkbox', 'button', 'submit', 'range', 'radio', 'image'];\n            function addFocusState(e) {\n                /*jshint validthis:true*/\n                var i = $(this);\n                var type = i.attr('type');\n                if (notInputs.indexOf(type) >= 0) return;\n                var els = i.add(i.parents('.item-input, .input-field')).add(i.parents('.item-inner').eq(0));\n                els.addClass('focus-state');\n            }\n            function removeFocusState(e) {\n                /*jshint validthis:true*/\n                var i = $(this), value = i.val();\n                var type = i.attr('type');\n                if (notInputs.indexOf(type) >= 0) return;\n                var els = i.add(i.parents('.item-input, .input-field')).add(i.parents('.item-inner').eq(0));\n                els.removeClass('focus-state');\n                if (value && value.trim() !== '') {\n                    els.addClass('not-empty-state');\n                }\n                else {\n                    els.removeClass('not-empty-state');\n                }\n            }\n            function watchChangeState(e) {\n                /*jshint validthis:true*/\n                var i = $(this), value = i.val();\n                var type = i.attr('type');\n                if (notInputs.indexOf(type) >= 0) return;\n                var els = i.add(i.parents('.item-input, .input-field')).add(i.parents('.item-inner').eq(0));\n                if (value && value.trim() !== '') {\n                    els.addClass('not-empty-state');\n                }\n                else {\n                    els.removeClass('not-empty-state');\n                }\n            }\n            $(document).on('change', '.item-input input, .item-input select, .item-input textarea, input, textarea, select', watchChangeState, true);\n            $(document).on('focus', '.item-input input, .item-input select, .item-input textarea, input, textarea, select', addFocusState, true);\n            $(document).on('blur', '.item-input input, .item-input select, .item-input textarea, input, textarea, select', removeFocusState, true);\n        };\n\n        /*======================================================\n        ************   Handle Browser's History   ************\n        ======================================================*/\n        app.pushStateQueue = [];\n        app.pushStateClearQueue = function () {\n            if (app.pushStateQueue.length === 0) return;\n            var queue = app.pushStateQueue.pop();\n            var animatePages;\n            if (app.params.pushStateNoAnimation === true) animatePages = false;\n            if (queue.action === 'back') {\n                app.router.back(queue.view, {animatePages: animatePages});\n            }\n            if (queue.action === 'loadPage') {\n                app.router.load(queue.view, {url: queue.stateUrl, animatePages: animatePages, pushState: false});\n            }\n            if (queue.action === 'loadContent') {\n                app.router.load(queue.view, {content: queue.stateContent, animatePages: animatePages, pushState: false});\n            }\n            if (queue.action === 'loadPageName') {\n                app.router.load(queue.view, {pageName: queue.statePageName, url: queue.stateUrl, animatePages: animatePages, pushState: false});\n            }\n        };\n        \n        app.initPushState = function () {\n            var blockPopstate = true;\n            $(window).on('load', function () {\n                setTimeout(function () {\n                    blockPopstate = false;\n                }, 0);\n            });\n        \n            if (document.readyState && document.readyState === 'complete') {\n                blockPopstate = false;\n            }\n        \n            function handlePopState(e) {\n                if (blockPopstate) return;\n                var mainView = app.mainView;\n                if (!mainView) return;\n                var state = e.state;\n                if (!state) {\n                    state = {\n                        viewIndex: app.views.indexOf(mainView),\n                        url : mainView.history[0]\n                    };\n                }\n                if (state.viewIndex < 0) return;\n                var view = app.views[state.viewIndex];\n                var stateUrl = state && state.url || undefined;\n                var stateContent = state && state.content || undefined;\n                var statePageName = state && state.pageName || undefined;\n                var animatePages;\n        \n                if (app.params.pushStateNoAnimation === true) animatePages = false;\n        \n                if (stateUrl !== view.url) {\n                    if (view.history.indexOf(stateUrl) >= 0) {\n                        // Go Back\n                        if (view.allowPageChange) {\n                            app.router.back(view, {url:undefined, animatePages: animatePages, pushState: false, preloadOnly:false});\n                        }\n                        else {\n                            app.pushStateQueue.push({\n                                action: 'back',\n                                view: view\n                            });\n                        }\n                    }\n                    else if (stateContent) {\n                        // Load Page\n                        if (view.allowPageChange) {\n                            app.router.load(view, {content:stateContent, animatePages: animatePages, pushState: false});\n                        }\n                        else {\n                            app.pushStateQueue.unshift({\n                                action: 'loadContent',\n                                stateContent: stateContent,\n                                view: view\n                            });\n                        }\n        \n                    }\n                    else if (statePageName) {\n                        // Load Page by page name with Dom Cache\n                        if (view.allowPageChange) {\n                            app.router.load(view, {pageName:statePageName, url: stateUrl, animatePages: animatePages, pushState: false});\n                        }\n                        else {\n                            app.pushStateQueue.unshift({\n                                action: 'loadPageName',\n                                statePageName: statePageName,\n                                view: view\n                            });\n                        }\n                    }\n                    else  {\n                        // Load Page\n                        if (view.allowPageChange) {\n                            app.router.load(view, {url:stateUrl, animatePages: animatePages, pushState: false});\n                        }\n                        else {\n                            app.pushStateQueue.unshift({\n                                action: 'loadPage',\n                                stateUrl: stateUrl,\n                                view: view\n                            });\n                        }\n                    }\n                }\n            }\n            $(window).on('popstate', handlePopState);\n        };\n        \n\n        /*===========================\n        Framework7 Swiper Additions\n        ===========================*/\n        app.swiper = function (container, params) {\n            return new Swiper(container, params);\n        };\n        app.initPageSwiper = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            var swipers = pageContainer.find('.swiper-init, .tabs-swipeable-wrap');\n            if (swipers.length === 0) return;\n            function destroySwiperOnRemove(slider) {\n                function destroySwiper() {\n                    slider.destroy();\n                    pageContainer.off('pageBeforeRemove', destroySwiper);\n                }\n                pageContainer.on('pageBeforeRemove', destroySwiper);\n            }\n            swipers.each(function () {\n                var swiper = $(this);\n                if (swiper.hasClass('tabs-swipeable-wrap')) {\n                    swiper.addClass('swiper-container').children('.tabs').addClass('swiper-wrapper').children('.tab').addClass('swiper-slide');\n                }\n                var params;\n                if (swiper.data('swiper')) {\n                    params = JSON.parse(swiper.data('swiper'));\n                }\n                else {\n                    params = swiper.dataset();\n                }\n                if (swiper.hasClass('tabs-swipeable-wrap')) {\n                    params.onSlideChangeStart = function (s) {\n                        app.showTab(s.slides.eq(s.activeIndex));\n                    };\n                }\n                var _slider = app.swiper(swiper[0], params);\n                destroySwiperOnRemove(_slider);\n            });\n        };\n        app.reinitPageSwiper = function (pageContainer) {\n            pageContainer = $(pageContainer);\n            var sliders = pageContainer.find('.swiper-init, .tabs-swipeable-wrap');\n            if (sliders.length === 0) return;\n            for (var i = 0; i < sliders.length; i++) {\n                var sliderInstance = sliders[0].swiper;\n                if (sliderInstance) {\n                    sliderInstance.update(true);\n                }\n            }\n        };\n        \n\n        /*======================================================\n        ************   Photo Browser   ************\n        ======================================================*/\n        var PhotoBrowser = function (params) {\n            var pb = this, i;\n        \n            var defaults = {\n                photos : [],\n                initialSlide: 0,\n                spaceBetween: 20,\n                speed: 300,\n                zoom: true,\n                maxZoom: 3,\n                minZoom: 1,\n                exposition: true,\n                expositionHideCaptions: false,\n                type: 'standalone',\n                navbar: true,\n                toolbar: true,\n                theme: 'light',\n                swipeToClose: true,\n                backLinkText: 'Close',\n                ofText: 'of',\n                loop: false,\n                lazyLoading: false,\n                lazyLoadingInPrevNext: false,\n                lazyLoadingOnTransitionStart: false,\n                material: app.params.material,\n                materialPreloaderSvg: app.params.materialPreloaderSvg,\n                materialPreloaderHtml: app.params.materialPreloaderHtml,\n                /*\n                Callbacks:\n                onLazyImageLoad(pb, slide, img)\n                onLazyImageReady(pb, slide, img)\n                onOpen(pb)\n                onClose(pb)\n                onTransitionStart(swiper)\n                onTransitionEnd(swiper)\n                onSlideChangeStart(swiper)\n                onSlideChangeEnd(swiper)\n                onTap(swiper, e)\n                onClick(swiper, e)\n                onDoubleTap(swiper, e)\n                onSwipeToClose(pb)\n                */\n            };\n            \n            params = params || {};\n            if (!params.backLinkText && app.params.material) defaults.backLinkText = '';\n            for (var def in defaults) {\n                if (typeof params[def] === 'undefined') {\n                    params[def] = defaults[def];\n                }\n            }\n        \n            pb.params = params;\n            pb.params.iconsColorClass = pb.params.iconsColor ? 'color-' + pb.params.iconsColor : (pb.params.theme === 'dark' ? 'color-white' : '');\n            pb.params.preloaderColorClass = pb.params.theme === 'dark' ? 'preloader-white' : '';\n        \n            // Templates\n            var photoTemplate = pb.params.photoTemplate || \n                '<div class=\"photo-browser-slide swiper-slide\">' +\n                    '<span class=\"photo-browser-zoom-container\">' +\n                        '<img src=\"{{js \"this.url || this\"}}\">' +\n                    '</span>' +\n                '</div>';\n            var photoLazyTemplate = pb.params.lazyPhotoTemplate ||\n                '<div class=\"photo-browser-slide photo-browser-slide-lazy swiper-slide\">' +\n                    '<div class=\"preloader {{@root.preloaderColorClass}}\">{{#if @root.material}}{{@root.materialPreloaderHtml}}{{/if}}</div>' +\n                    '<span class=\"photo-browser-zoom-container\">' +\n                        '<img data-src=\"{{js \"this.url || this\"}}\" class=\"swiper-lazy\">' +\n                    '</span>' +\n                '</div>';\n            var objectTemplate = pb.params.objectTemplate ||\n                '<div class=\"photo-browser-slide photo-browser-object-slide swiper-slide\">{{js \"this.html || this\"}}</div>';\n            var captionTemplate = pb.params.captionTemplate ||\n                '<div class=\"photo-browser-caption\" data-caption-index=\"{{@index}}\">' +\n                    '{{caption}}' +\n                '</div>';\n            var navbarTemplate = pb.params.navbarTemplate ||\n                '<div class=\"navbar\">' +\n                    '<div class=\"navbar-inner\">' +\n                        '<div class=\"left sliding\">' +\n                            '<a href=\"#\" class=\"link close-popup photo-browser-close-link {{#unless backLinkText}}icon-only{{/unless}} {{js \"this.type === \\'page\\' ? \\'back\\' : \\'\\'\"}}\">' +\n                                '<i class=\"icon icon-back {{iconsColorClass}}\"></i>' +\n                                '{{#if backLinkText}}<span>{{backLinkText}}</span>{{/if}}' +\n                            '</a>' +\n                        '</div>' +\n                        '<div class=\"center sliding\">' +\n                            '<span class=\"photo-browser-current\"></span> ' +\n                            '<span class=\"photo-browser-of\">{{ofText}}</span> ' +\n                            '<span class=\"photo-browser-total\"></span>' +\n                        '</div>' +\n                        '<div class=\"right\"></div>' +\n                    '</div>' +\n                '</div>';\n            var toolbarTemplate = pb.params.toolbarTemplate ||\n                '<div class=\"toolbar tabbar\">' +\n                    '<div class=\"toolbar-inner\">' +\n                        '<a href=\"#\" class=\"link photo-browser-prev\">' +\n                            '<i class=\"icon icon-prev {{iconsColorClass}}\"></i>' +\n                        '</a>' +\n                        '<a href=\"#\" class=\"link photo-browser-next\">' +\n                            '<i class=\"icon icon-next {{iconsColorClass}}\"></i>' +\n                        '</a>' +\n                    '</div>' +\n                '</div>';\n        \n            var htmlTemplate = t7.compile('<div class=\"photo-browser photo-browser-{{theme}}\">' +\n                    '<div class=\"view navbar-fixed toolbar-fixed\">' +\n                        '{{#unless material}}{{#if navbar}}' +\n                        navbarTemplate +\n                        '{{/if}}{{/unless}}' +\n                        '<div class=\"page no-toolbar {{#unless navbar}}no-navbar{{/unless}} toolbar-fixed navbar-fixed\" data-page=\"photo-browser-slides\">' +\n                            '{{#if material}}{{#if navbar}}' +\n                            navbarTemplate +\n                            '{{/if}}{{/if}}' +\n                            '{{#if toolbar}}' +\n                            toolbarTemplate +\n                            '{{/if}}' +\n                            '<div class=\"photo-browser-captions photo-browser-captions-{{js \"this.captionsTheme || this.theme\"}}\">' +\n                                '{{#each photos}}{{#if caption}}' +\n                                captionTemplate +\n                                '{{/if}}{{/each}}' +\n                            '</div>' +\n                            '<div class=\"photo-browser-swiper-container swiper-container\">' +\n                                '<div class=\"photo-browser-swiper-wrapper swiper-wrapper\">' +\n                                    '{{#each photos}}' +\n                                    '{{#js_compare \"this.html || ((typeof this === \\'string\\' || this instanceof String) && (this.indexOf(\\'<\\') >= 0 || this.indexOf(\\'>\\') >= 0))\"}}' +\n                                        objectTemplate +\n                                    '{{else}}' +\n                                        '{{#if @root.lazyLoading}}' +\n                                        photoLazyTemplate +\n                                        '{{else}}' +\n                                        photoTemplate +\n                                        '{{/if}}' +\n                                    '{{/js_compare}}' +\n                                    '{{/each}}' +\n                                '</div>' +\n                            '</div>' +\n                        '</div>' +\n                    '</div>' +\n                '</div>')(pb.params);\n        \n            pb.activeIndex = pb.params.initialSlide;\n            pb.openIndex = pb.activeIndex;\n            pb.opened = false;\n        \n            pb.open = function (index) {\n                if (typeof index === 'undefined') index = pb.activeIndex;\n                index = parseInt(index, 10);\n                if (pb.opened && pb.swiper) {\n                    pb.swiper.slideTo(index);\n                    return;\n                }\n                pb.opened = true;\n                pb.openIndex = index;\n                if (pb.params.type === 'standalone') {\n                    $('body').append(htmlTemplate);\n                }\n                if (pb.params.type === 'popup') {\n                    pb.popup = app.popup('<div class=\"popup photo-browser-popup\">' + htmlTemplate + '</div>');\n                    $(pb.popup).on('closed', pb.onPopupClose);\n                }\n                if (pb.params.type === 'page') {\n                    $(document).on('pageBeforeInit', pb.onPageBeforeInit);\n                    $(document).on('pageBeforeRemove', pb.onPageBeforeRemove);\n                    if (!pb.params.view) pb.params.view = app.mainView;\n                    pb.params.view.loadContent(htmlTemplate);\n                    return;\n                }\n                pb.layout(pb.openIndex);\n                if (pb.params.onOpen) {\n                    pb.params.onOpen(pb);\n                }\n        \n            };\n            pb.close = function () {\n                pb.opened = false;\n                if (!pb.swiperContainer || pb.swiperContainer.length === 0) {\n                    return;\n                }\n                if (pb.params.onClose) {\n                    pb.params.onClose(pb);\n                }\n                // Detach events\n                pb.attachEvents(true);\n                // Delete from DOM\n                if (pb.params.type === 'standalone') {\n                    pb.container.removeClass('photo-browser-in').addClass('photo-browser-out').animationEnd(function () {\n                        pb.container.remove();\n                    });\n                }\n                // Destroy slider\n                pb.swiper.destroy();\n                // Delete references\n                pb.swiper = pb.swiperContainer = pb.swiperWrapper = pb.slides = gestureSlide = gestureImg = gestureImgWrap = undefined;\n            };\n        \n            pb.onPopupClose = function (e) {\n                pb.close();\n                $(pb.popup).off('pageBeforeInit', pb.onPopupClose);\n            };\n            pb.onPageBeforeInit = function (e) {\n                if (e.detail.page.name === 'photo-browser-slides') {\n                    pb.layout(pb.openIndex);\n                }\n                $(document).off('pageBeforeInit', pb.onPageBeforeInit);\n            };\n            pb.onPageBeforeRemove = function (e) {\n                if (e.detail.page.name === 'photo-browser-slides') {\n                    pb.close();\n                }\n                $(document).off('pageBeforeRemove', pb.onPageBeforeRemove);\n            };\n        \n            pb.onSliderTransitionStart = function (swiper) {\n                pb.activeIndex = swiper.activeIndex;\n        \n                var current = swiper.activeIndex + 1;\n                var total = swiper.slides.length;\n                if (pb.params.loop) {\n                    total = total - 2;\n                    current = current - swiper.loopedSlides;\n                    if (current < 1) current = total + current;\n                    if (current > total) current = current - total;\n                }\n                pb.container.find('.photo-browser-current').text(current);\n                pb.container.find('.photo-browser-total').text(total);\n        \n                $('.photo-browser-prev, .photo-browser-next').removeClass('photo-browser-link-inactive');\n                \n                if (swiper.isBeginning && !pb.params.loop) {\n                    $('.photo-browser-prev').addClass('photo-browser-link-inactive');\n                }\n                if (swiper.isEnd && !pb.params.loop) {\n                    $('.photo-browser-next').addClass('photo-browser-link-inactive');\n                }\n        \n                // Update captions\n                if (pb.captions.length > 0) {\n                    pb.captionsContainer.find('.photo-browser-caption-active').removeClass('photo-browser-caption-active');\n                    var captionIndex = pb.params.loop ? swiper.slides.eq(swiper.activeIndex).attr('data-swiper-slide-index') : pb.activeIndex;\n                    pb.captionsContainer.find('[data-caption-index=\"' + captionIndex + '\"]').addClass('photo-browser-caption-active');\n                }\n        \n        \n                // Stop Video\n                var previousSlideVideo = swiper.slides.eq(swiper.previousIndex).find('video');\n                if (previousSlideVideo.length > 0) {\n                    if ('pause' in previousSlideVideo[0]) previousSlideVideo[0].pause();\n                }\n                // Callback\n                if (pb.params.onTransitionStart) pb.params.onTransitionStart(swiper);\n            };\n            pb.onSliderTransitionEnd = function (swiper) {\n                // Reset zoom\n                if (pb.params.zoom && gestureSlide && swiper.previousIndex !== swiper.activeIndex) {\n                    gestureImg.transform('translate3d(0,0,0) scale(1)');\n                    gestureImgWrap.transform('translate3d(0,0,0)');\n                    gestureSlide = gestureImg = gestureImgWrap = undefined;\n                    scale = currentScale = 1;\n                }\n                if (pb.params.onTransitionEnd) pb.params.onTransitionEnd(swiper);\n            };\n            \n            pb.layout = function (index) {\n                if (pb.params.type === 'page') {\n                    pb.container = $('.photo-browser-swiper-container').parents('.view');\n                }\n                else {\n                    pb.container = $('.photo-browser');\n                }\n                if (pb.params.type === 'standalone') {\n                    pb.container.addClass('photo-browser-in');\n                    app.sizeNavbars(pb.container);\n                }\n                pb.swiperContainer = pb.container.find('.photo-browser-swiper-container');\n                pb.swiperWrapper = pb.container.find('.photo-browser-swiper-wrapper');\n                pb.slides = pb.container.find('.photo-browser-slide');\n                pb.captionsContainer = pb.container.find('.photo-browser-captions');\n                pb.captions = pb.container.find('.photo-browser-caption');\n                \n                var sliderSettings = {\n                    nextButton: pb.params.nextButton || '.photo-browser-next',\n                    prevButton: pb.params.prevButton || '.photo-browser-prev',\n                    indexButton: pb.params.indexButton,\n                    initialSlide: index,\n                    spaceBetween: pb.params.spaceBetween,\n                    speed: pb.params.speed,\n                    loop: pb.params.loop,\n                    lazyLoading: pb.params.lazyLoading,\n                    lazyLoadingInPrevNext: pb.params.lazyLoadingInPrevNext,\n                    lazyLoadingOnTransitionStart: pb.params.lazyLoadingOnTransitionStart,\n                    preloadImages: pb.params.lazyLoading ? false : true,\n                    onTap: function (swiper, e) {\n                        if (pb.params.onTap) pb.params.onTap(swiper, e);\n                    },\n                    onClick: function (swiper, e) {\n                        if (pb.params.exposition) pb.toggleExposition();\n                        if (pb.params.onClick) pb.params.onClick(swiper, e);\n                    },\n                    onDoubleTap: function (swiper, e) {\n                        pb.toggleZoom(e);\n                        if (pb.params.onDoubleTap) pb.params.onDoubleTap(swiper, e);\n                    },\n                    onTransitionStart: function (swiper) {\n                        pb.onSliderTransitionStart(swiper);\n                    },\n                    onTransitionEnd: function (swiper) {\n                        pb.onSliderTransitionEnd(swiper);  \n                    },\n                    onSlideChangeStart: pb.params.onSlideChangeStart,\n                    onSlideChangeEnd: pb.params.onSlideChangeEnd,\n                    onLazyImageLoad: function (swiper, slide, img) {\n                        if (pb.params.onLazyImageLoad) pb.params.onLazyImageLoad(pb, slide, img);\n                    },\n                    onLazyImageReady: function (swiper, slide, img) {\n                        $(slide).removeClass('photo-browser-slide-lazy');\n                        if (pb.params.onLazyImageReady) pb.params.onLazyImageReady(pb, slide, img);\n                    }\n                };\n        \n                if (pb.params.swipeToClose && pb.params.type !== 'page') {\n                    sliderSettings.onTouchStart = pb.swipeCloseTouchStart;\n                    sliderSettings.onTouchMoveOpposite = pb.swipeCloseTouchMove;\n                    sliderSettings.onTouchEnd = pb.swipeCloseTouchEnd;\n                }\n        \n                pb.swiper = app.swiper(pb.swiperContainer, sliderSettings);\n                if (index === 0) {\n                    pb.onSliderTransitionStart(pb.swiper);\n                }\n                pb.attachEvents();\n            };\n            pb.attachEvents = function (detach) {\n                var action = detach ? 'off' : 'on';\n                // Slide between photos\n        \n                if (pb.params.zoom) {\n                    var target = pb.params.loop ? pb.swiper.slides : pb.slides;\n                    // Scale image\n                    target[action]('gesturestart', pb.onSlideGestureStart);\n                    target[action]('gesturechange', pb.onSlideGestureChange);\n                    target[action]('gestureend', pb.onSlideGestureEnd);\n        \n                    // Move image\n                    target[action](app.touchEvents.start, pb.onSlideTouchStart);\n                    target[action](app.touchEvents.move, pb.onSlideTouchMove);\n                    target[action](app.touchEvents.end, pb.onSlideTouchEnd);\n                }\n                pb.container.find('.photo-browser-close-link')[action]('click', pb.close);\n            };\n        \n            var isTouched, isMoved, touchesStart = {}, touchesCurrent = {}, touchStartTime, isScrolling, animating = false, currentTranslate;\n            var allowClick = true;\n        \n            // Expose\n            pb.exposed = false;\n            pb.toggleExposition = function () {\n                if (pb.container) pb.container.toggleClass('photo-browser-exposed');\n                if (pb.params.expositionHideCaptions) pb.captionsContainer.toggleClass('photo-browser-captions-exposed');\n                pb.exposed = !pb.exposed;\n            };\n            pb.enableExposition = function () {\n                if (pb.container) pb.container.addClass('photo-browser-exposed');\n                if (pb.params.expositionHideCaptions) pb.captionsContainer.addClass('photo-browser-captions-exposed');\n                pb.exposed = true;\n            };\n            pb.disableExposition = function () {\n                if (pb.container) pb.container.removeClass('photo-browser-exposed');\n                if (pb.params.expositionHideCaptions) pb.captionsContainer.removeClass('photo-browser-captions-exposed');\n                pb.exposed = false;\n            };\n            \n            // Gestures\n            var gestureSlide, gestureImg, gestureImgWrap, scale = 1, currentScale = 1, isScaling = false;\n            pb.onSlideGestureStart = function (e) {\n                if (!gestureSlide || !gestureSlide.length) {\n                    gestureSlide = $(this);\n                    if (gestureSlide.length === 0) gestureSlide = pb.swiper.slides.eq(pb.swiper.activeIndex);\n                    gestureImg = gestureSlide.find('img, svg, canvas');\n                    gestureImgWrap = gestureImg.parent('.photo-browser-zoom-container');\n                    if (gestureImgWrap.length === 0) {\n                        gestureImg = undefined;\n                        return;\n                    }\n                }\n                gestureImg.transition(0);\n                isScaling = true;\n            };\n            pb.onSlideGestureChange = function (e) {\n                if (!gestureImg || gestureImg.length === 0) return;\n                scale = e.scale * currentScale;\n                if (scale > pb.params.maxZoom) {\n                    scale = pb.params.maxZoom - 1 + Math.pow((scale - pb.params.maxZoom + 1), 0.5);\n                }\n                if (scale < pb.params.minZoom) {\n                    scale =  pb.params.minZoom + 1 - Math.pow((pb.params.minZoom - scale + 1), 0.5);\n                }\n                gestureImg.transform('translate3d(0,0,0) scale(' + scale + ')');\n            };\n            pb.onSlideGestureEnd = function (e) {\n                if (!gestureImg || gestureImg.length === 0) return;\n                scale = Math.max(Math.min(scale, pb.params.maxZoom), pb.params.minZoom);\n                gestureImg.transition(pb.params.speed).transform('translate3d(0,0,0) scale(' + scale + ')');\n                currentScale = scale;\n                isScaling = false;\n                if (scale === 1) gestureSlide = undefined;\n            };\n            pb.toggleZoom = function (e) {\n                if (!gestureSlide) {\n                    gestureSlide = pb.swiper.slides.eq(pb.swiper.activeIndex);\n                    gestureImg = gestureSlide.find('img, svg, canvas');\n                    gestureImgWrap = gestureImg.parent('.photo-browser-zoom-container');\n                }\n                if (!gestureImg || gestureImg.length === 0) return;\n                \n                var touchX, touchY, offsetX, offsetY, diffX, diffY, translateX, translateY, imageWidth, imageHeight, scaledWidth, scaledHeight, translateMinX, translateMinY, translateMaxX, translateMaxY;\n        \n                if (typeof imageTouchesStart.x === 'undefined' && e) {\n                    touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;\n                    touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY;\n                }\n                else {\n                    touchX = imageTouchesStart.x;\n                    touchY = imageTouchesStart.y;\n                }\n                \n                if (scale && scale !== 1) {\n                    // Zoom Out\n                    scale = currentScale = 1;\n                    gestureImgWrap.transition(300).transform('translate3d(0,0,0)');\n                    gestureImg.transition(300).transform('translate3d(0,0,0) scale(1)');\n                    gestureSlide = undefined;\n                }\n                else {\n                    // Zoom In\n                    scale = currentScale = pb.params.maxZoom;\n                    if (e) {\n                        offsetX = pb.container.offset().left;\n                        offsetY = pb.container.offset().top;\n                        diffX = offsetX + pb.container[0].offsetWidth/2 - touchX;\n                        diffY = offsetY + pb.container[0].offsetHeight/2 - touchY;\n        \n                        imageWidth = gestureImg[0].offsetWidth;\n                        imageHeight = gestureImg[0].offsetHeight;\n                        scaledWidth = imageWidth * scale;\n                        scaledHeight = imageHeight * scale;\n        \n                        translateMinX = Math.min((pb.swiper.width / 2 - scaledWidth / 2), 0);\n                        translateMinY = Math.min((pb.swiper.height / 2 - scaledHeight / 2), 0);\n                        translateMaxX = -translateMinX;\n                        translateMaxY = -translateMinY;\n        \n                        translateX = diffX * scale;\n                        translateY = diffY * scale;\n                        \n                        if (translateX < translateMinX) {\n                            translateX =  translateMinX;\n                        }\n                        if (translateX > translateMaxX) {\n                            translateX = translateMaxX;\n                        }\n                        \n                        if (translateY < translateMinY) {\n                            translateY =  translateMinY;\n                        }\n                        if (translateY > translateMaxY) {\n                            translateY = translateMaxY;\n                        }\n                    }\n                    else {\n                        translateX = 0;\n                        translateY = 0;\n                    }\n                    gestureImgWrap.transition(300).transform('translate3d(' + translateX + 'px, ' + translateY + 'px,0)');\n                    gestureImg.transition(300).transform('translate3d(0,0,0) scale(' + scale + ')');\n                }\n            };\n        \n            var imageIsTouched, imageIsMoved, imageCurrentX, imageCurrentY, imageMinX, imageMinY, imageMaxX, imageMaxY, imageWidth, imageHeight, imageTouchesStart = {}, imageTouchesCurrent = {}, imageStartX, imageStartY, velocityPrevPositionX, velocityPrevTime, velocityX, velocityPrevPositionY, velocityY;\n        \n            pb.onSlideTouchStart = function (e) {\n                if (!gestureImg || gestureImg.length === 0) return;\n                if (imageIsTouched) return;\n                if (app.device.os === 'android') e.preventDefault();\n                imageIsTouched = true;\n                imageTouchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n                imageTouchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n            };\n            pb.onSlideTouchMove = function (e) {\n                if (!gestureImg || gestureImg.length === 0) return;\n                pb.swiper.allowClick = false;\n                if (!imageIsTouched || !gestureSlide) return;\n        \n                if (!imageIsMoved) {\n                    imageWidth = gestureImg[0].offsetWidth;\n                    imageHeight = gestureImg[0].offsetHeight;\n                    imageStartX = $.getTranslate(gestureImgWrap[0], 'x') || 0;\n                    imageStartY = $.getTranslate(gestureImgWrap[0], 'y') || 0;\n                    gestureImgWrap.transition(0);\n                }\n                // Define if we need image drag\n                var scaledWidth = imageWidth * scale;\n                var scaledHeight = imageHeight * scale;\n        \n                if (scaledWidth < pb.swiper.width && scaledHeight < pb.swiper.height) return;\n        \n                imageMinX = Math.min((pb.swiper.width / 2 - scaledWidth / 2), 0);\n                imageMaxX = -imageMinX;\n                imageMinY = Math.min((pb.swiper.height / 2 - scaledHeight / 2), 0);\n                imageMaxY = -imageMinY;\n                \n                imageTouchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n                imageTouchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n        \n                if (!imageIsMoved && !isScaling) {\n                    if (\n                        (Math.floor(imageMinX) === Math.floor(imageStartX) && imageTouchesCurrent.x < imageTouchesStart.x) ||\n                        (Math.floor(imageMaxX) === Math.floor(imageStartX) && imageTouchesCurrent.x > imageTouchesStart.x)\n                        ) {\n                        imageIsTouched = false;\n                        return;\n                    }\n                }\n                e.preventDefault();\n                e.stopPropagation();\n                imageIsMoved = true;\n                imageCurrentX = imageTouchesCurrent.x - imageTouchesStart.x + imageStartX;\n                imageCurrentY = imageTouchesCurrent.y - imageTouchesStart.y + imageStartY;\n                \n                if (imageCurrentX < imageMinX) {\n                    imageCurrentX =  imageMinX + 1 - Math.pow((imageMinX - imageCurrentX + 1), 0.8);\n                }\n                if (imageCurrentX > imageMaxX) {\n                    imageCurrentX = imageMaxX - 1 + Math.pow((imageCurrentX - imageMaxX + 1), 0.8);\n                }\n                \n                if (imageCurrentY < imageMinY) {\n                    imageCurrentY =  imageMinY + 1 - Math.pow((imageMinY - imageCurrentY + 1), 0.8);\n                }\n                if (imageCurrentY > imageMaxY) {\n                    imageCurrentY = imageMaxY - 1 + Math.pow((imageCurrentY - imageMaxY + 1), 0.8);\n                }\n        \n                //Velocity\n                if (!velocityPrevPositionX) velocityPrevPositionX = imageTouchesCurrent.x;\n                if (!velocityPrevPositionY) velocityPrevPositionY = imageTouchesCurrent.y;\n                if (!velocityPrevTime) velocityPrevTime = Date.now();\n                velocityX = (imageTouchesCurrent.x - velocityPrevPositionX) / (Date.now() - velocityPrevTime) / 2;\n                velocityY = (imageTouchesCurrent.y - velocityPrevPositionY) / (Date.now() - velocityPrevTime) / 2;\n                if (Math.abs(imageTouchesCurrent.x - velocityPrevPositionX) < 2) velocityX = 0;\n                if (Math.abs(imageTouchesCurrent.y - velocityPrevPositionY) < 2) velocityY = 0;\n                velocityPrevPositionX = imageTouchesCurrent.x;\n                velocityPrevPositionY = imageTouchesCurrent.y;\n                velocityPrevTime = Date.now();\n        \n                gestureImgWrap.transform('translate3d(' + imageCurrentX + 'px, ' + imageCurrentY + 'px,0)');\n            };\n            pb.onSlideTouchEnd = function (e) {\n                if (!gestureImg || gestureImg.length === 0) return;\n                if (!imageIsTouched || !imageIsMoved) {\n                    imageIsTouched = false;\n                    imageIsMoved = false;\n                    return;\n                }\n                imageIsTouched = false;\n                imageIsMoved = false;\n                var momentumDurationX = 300;\n                var momentumDurationY = 300;\n                var momentumDistanceX = velocityX * momentumDurationX;\n                var newPositionX = imageCurrentX + momentumDistanceX;\n                var momentumDistanceY = velocityY * momentumDurationY;\n                var newPositionY = imageCurrentY + momentumDistanceY;\n        \n                //Fix duration\n                if (velocityX !== 0) momentumDurationX = Math.abs((newPositionX - imageCurrentX) / velocityX);\n                if (velocityY !== 0) momentumDurationY = Math.abs((newPositionY - imageCurrentY) / velocityY);\n                var momentumDuration = Math.max(momentumDurationX, momentumDurationY);\n        \n                imageCurrentX = newPositionX;\n                imageCurrentY = newPositionY;\n        \n                // Define if we need image drag\n                var scaledWidth = imageWidth * scale;\n                var scaledHeight = imageHeight * scale;\n                imageMinX = Math.min((pb.swiper.width / 2 - scaledWidth / 2), 0);\n                imageMaxX = -imageMinX;\n                imageMinY = Math.min((pb.swiper.height / 2 - scaledHeight / 2), 0);\n                imageMaxY = -imageMinY;\n                imageCurrentX = Math.max(Math.min(imageCurrentX, imageMaxX), imageMinX);\n                imageCurrentY = Math.max(Math.min(imageCurrentY, imageMaxY), imageMinY);\n        \n                gestureImgWrap.transition(momentumDuration).transform('translate3d(' + imageCurrentX + 'px, ' + imageCurrentY + 'px,0)');\n            };\n        \n            // Swipe Up To Close\n            var swipeToCloseIsTouched = false;\n            var allowSwipeToClose = true;\n            var swipeToCloseDiff, swipeToCloseStart, swipeToCloseCurrent, swipeToCloseStarted = false, swipeToCloseActiveSlide, swipeToCloseTimeStart;\n            pb.swipeCloseTouchStart = function (swiper, e) {\n                if (!allowSwipeToClose) return;\n                swipeToCloseIsTouched = true;\n            };\n            pb.swipeCloseTouchMove = function (swiper, e) {\n                if (!swipeToCloseIsTouched) return;\n                if (!swipeToCloseStarted) {\n                    swipeToCloseStarted = true;\n                    swipeToCloseStart = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n                    swipeToCloseActiveSlide = pb.swiper.slides.eq(pb.swiper.activeIndex);\n                    swipeToCloseTimeStart = (new Date()).getTime();\n                }\n                e.preventDefault();\n                swipeToCloseCurrent = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n                swipeToCloseDiff = swipeToCloseStart - swipeToCloseCurrent;\n                var opacity = 1 - Math.abs(swipeToCloseDiff) / 300;\n                swipeToCloseActiveSlide.transform('translate3d(0,' + (-swipeToCloseDiff) + 'px,0)');\n                pb.swiper.container.css('opacity', opacity).transition(0);\n            };\n            pb.swipeCloseTouchEnd = function (swiper, e) {\n                swipeToCloseIsTouched = false;\n                if (!swipeToCloseStarted) {\n                    swipeToCloseStarted = false;\n                    return;\n                }\n                swipeToCloseStarted = false;\n                allowSwipeToClose = false;\n                var diff = Math.abs(swipeToCloseDiff);\n                var timeDiff = (new Date()).getTime() - swipeToCloseTimeStart;\n                if ((timeDiff < 300 && diff > 20) || (timeDiff >= 300 && diff > 100)) {\n                    setTimeout(function () {\n                        if (pb.params.type === 'standalone') {\n                            pb.close();\n                        }\n                        if (pb.params.type === 'popup') {\n                            app.closeModal(pb.popup);\n                        }\n                        if (pb.params.onSwipeToClose) {\n                            pb.params.onSwipeToClose(pb);\n                        }\n                        allowSwipeToClose = true;\n                    }, 0);\n                    return;\n                }\n                if (diff !== 0) {\n                    swipeToCloseActiveSlide.addClass('transitioning').transitionEnd(function () {\n                        allowSwipeToClose = true;\n                        swipeToCloseActiveSlide.removeClass('transitioning');\n                    });\n                }\n                else {\n                    allowSwipeToClose = true;\n                }\n                pb.swiper.container.css('opacity', '').transition('');\n                swipeToCloseActiveSlide.transform('');\n            };\n        \n            return pb;\n        };\n        \n        app.photoBrowser = function (params) {\n            return new PhotoBrowser(params);\n        };\n        \n\n        /*===============================================================================\n        ************   Autocomplete   ************\n        ===============================================================================*/\n        var Autocomplete = function (params) {\n            var a = this;\n        \n            // Params\n            var defaults = {\n                // Standalone Options\n                /*\n                opener: undefined,\n                */\n                popupCloseText: 'Close',\n                backText: 'Back',\n                searchbarPlaceholderText: 'Search...',\n                searchbarCancelText: 'Cancel',\n                openIn: 'page',\n                backOnSelect: false,\n                notFoundText: 'Nothing found',\n                /*\n                pageTitle: undefined,\n                */\n        \n                // Handle Data\n                /*\n                source: undefined,\n                limit: undefined,\n                */\n                valueProperty: 'id',\n                textProperty: 'text',\n        \n                // Dropdown Options\n                /*\n                dropdownPlaceholderText: 'Type anything...',\n                */\n                updateInputValueOnSelect: true,\n                expandInput: false,\n        \n                // Preloader\n                preloaderColor: false,\n                preloader: false,\n        \n                // Templates\n                /*\n                itemTemplate: undefined,\n                navbarTemplate: undefined,\n                dropdownTemplate: undefined\n                dropdownItemTemplate: undefined,\n                dropdownPlaceholderTemplate: undefined\n                */\n        \n                // Color themes\n                /*\n                navbarTheme: undefined,\n                formTheme: undefined,\n                */\n        \n                // Callbacks\n                /*\n                onChange: function (a, value) - for not dropdown\n                onOpen: function (a)\n                onClose: function (a)\n                */\n            };\n        \n            params = params || {};\n            for (var def in defaults) {\n                if (typeof params[def] === 'undefined') {\n                    params[def] = defaults[def];\n                }\n            }\n            a.params = params;\n        \n            // Opener Link & View\n            if (a.params.opener) {\n                a.opener = $(a.params.opener);\n            }\n            var view = a.params.view;\n            if (!a.params.view && a.opener && a.opener.length) {\n                // Find related view\n                view = a.opener.parents('.' + app.params.viewClass);\n                if (view.length === 0) return;\n                view = view[0].f7View;\n            }\n        \n            // Input\n            if (a.params.input) {\n                a.input = $(a.params.input);\n                if (a.input.length === 0 && a.params.openIn === 'dropdown') return;\n            }\n        \n            // Array with selected items\n            a.value = a.params.value || [];\n        \n            // ID & Inputs\n            a.id = (new Date()).getTime();\n            a.inputType = a.params.multiple ? 'checkbox' : 'radio';\n            a.inputName = a.inputType + '-' + a.id;\n        \n            // Is Material\n            var material = app.params.material;\n        \n            // Back On Select\n            var backOnSelect = a.params.backOnSelect;\n        \n            if (a.params.openIn !== 'dropdown') {\n                // Item Template\n                a.itemTemplate = t7.compile(a.params.itemTemplate ||\n                    '<li>' +\n                        '<label class=\"label-{{inputType}} item-content\">' +\n                            '<input type=\"{{inputType}}\" name=\"{{inputName}}\" value=\"{{value}}\" {{#if selected}}checked{{/if}}>' +\n                            '{{#if material}}' +\n                                '<div class=\"item-media\">' +\n                                    '<i class=\"icon icon-form-{{inputType}}\"></i>' +\n                                '</div>' +\n                                '<div class=\"item-inner\">' +\n                                    '<div class=\"item-title\">{{text}}</div>' +\n                                '</div>' +\n                            '{{else}}' +\n                                '{{#if checkbox}}' +\n                                '<div class=\"item-media\">' +\n                                    '<i class=\"icon icon-form-checkbox\"></i>' +\n                                '</div>' +\n                                '{{/if}}' +\n                                '<div class=\"item-inner\">' +\n                                    '<div class=\"item-title\">{{text}}</div>' +\n                                '</div>' +\n                            '{{/if}}' +\n                        '</label>' +\n                    '</li>'\n                );\n                // Page Layout\n                var pageTitle = a.params.pageTitle || '';\n                if (!pageTitle && a.opener && a.opener.length) {\n                    pageTitle = a.opener.find('.item-title').text();\n                }\n                var pageName = 'autocomplete-' + a.inputName;\n        \n                var navbarTheme = a.params.navbarTheme,\n                    formTheme = a.params.formTheme;\n        \n                // Navbar HTML\n                var navbarHTML;\n                var noNavbar = '', noToolbar = '', navbarLayout;\n        \n                a.navbarTemplate = t7.compile(a.params.navbarTemplate ||\n                    '<div class=\"navbar {{#if navbarTheme}}theme-{{navbarTheme}}{{/if}}\">' +\n                        '<div class=\"navbar-inner\">' +\n                            '<div class=\"left sliding\">' +\n                                '{{#if material}}' +\n                                '<a href=\"#\" class=\"link {{#if inPopup}}close-popup{{else}}back{{/if}} icon-only\"><i class=\"icon icon-back\"></i></a>' +\n                                '{{else}}' +\n                                '<a href=\"#\" class=\"link {{#if inPopup}}close-popup{{else}}back{{/if}}\">' +\n                                    '<i class=\"icon icon-back\"></i>' +\n                                    '{{#if inPopup}}' +\n                                    '<span>{{popupCloseText}}</span>' +\n                                    '{{else}}' +\n                                    '<span>{{backText}}</span>' +\n                                    '{{/if}}' +\n                                '</a>' +\n                                '{{/if}}' +\n                            '</div>' +\n                            '<div class=\"center sliding\">{{pageTitle}}</div>' +\n                            '{{#if preloader}}' +\n                            '<div class=\"right\">' +\n                                '<div class=\"autocomplete-preloader preloader {{#if preloaderColor}}preloader-{{preloaderColor}}{{/if}}\"></div>' +\n                            '</div>' +\n                            '{{/if}}' +\n                        '</div>' +\n                    '</div>'\n                );\n                navbarHTML = a.navbarTemplate({\n                    pageTitle: pageTitle,\n                    backText: a.params.backText,\n                    popupCloseText: a.params.popupCloseText,\n                    openIn: a.params.openIn,\n                    navbarTheme: navbarTheme,\n                    inPopup: a.params.openIn === 'popup',\n                    inPage: a.params.openIn === 'page',\n                    material: material,\n                    preloader: a.params.preloader,\n                    preloaderColor: a.params.preloaderColor,\n                });\n        \n                // Determine navbar layout type - static/fixed/through\n                if (a.params.openIn === 'page') {\n                    navbarLayout = 'static';\n                    if (a.opener) {\n                        if (a.opener.parents('.navbar-through').length > 0) navbarLayout = 'through';\n                        if (a.opener.parents('.navbar-fixed').length > 0) navbarLayout = 'fixed';\n                        noToolbar = a.opener.parents('.page').hasClass('no-toolbar') ? 'no-toolbar' : '';\n                        noNavbar  = a.opener.parents('.page').hasClass('no-navbar')  ? 'no-navbar'  : 'navbar-' + navbarLayout;\n                    }\n                    else if (view.container) {\n                        if ($(view.container).hasClass('navbar-through') || $(view.container).find('.navbar-through').length > 0) navbarLayout = 'through';\n                        if ($(view.container).hasClass('navbar-fixed') || $(view.container).find('.navbar-fixed').length > 0) navbarLayout = 'fixed';\n                        noToolbar = $(view.activePage.container).hasClass('no-toolbar') ? 'no-toolbar' : '';\n                        noNavbar  = $(view.activePage.container).hasClass('no-navbar')  ? 'no-navbar'  : 'navbar-' + navbarLayout;\n                    }\n                }\n                else {\n                    navbarLayout = 'fixed';\n                }\n                var searchbarHTML =\n                    '<form class=\"searchbar\">' +\n                        '<div class=\"searchbar-input\">' +\n                            '<input type=\"search\" placeholder=\"' + a.params.searchbarPlaceholderText + '\">' +\n                            '<a href=\"#\" class=\"searchbar-clear\"></a>' +\n                        '</div>' +\n                        (material ? '' : '<a href=\"#\" class=\"searchbar-cancel\">' + a.params.searchbarCancelText + '</a>') +\n                    '</form>' +\n                    '<div class=\"searchbar-overlay\"></div>';\n                var pageHTML =\n                    (navbarLayout === 'through' ? navbarHTML : '') +\n                    '<div class=\"pages\">' +\n                        '<div data-page=\"' + pageName + '\" class=\"page autocomplete-page ' + noNavbar + ' ' + noToolbar + '\">' +\n                            (navbarLayout === 'fixed' ? navbarHTML : '') +\n                            searchbarHTML +\n                            '<div class=\"page-content\">' +\n                                (navbarLayout === 'static' ? navbarHTML : '') +\n                                '<div class=\"list-block autocomplete-found autocomplete-list-' + a.id + ' ' + (formTheme ? 'theme-' + formTheme : '') + '\">' +\n                                    '<ul></ul>' +\n                                '</div>' +\n                                '<div class=\"list-block autocomplete-not-found\">' +\n                                    '<ul><li class=\"item-content\"><div class=\"item-inner\"><div class=\"item-title\">' + a.params.notFoundText + '</div></div></li></ul>' +\n                                '</div>' +\n                                '<div class=\"list-block autocomplete-values\">' +\n                                    '<ul></ul>' +\n                                '</div>' +\n                            '</div>' +\n                        '</div>' +\n                    '</div>';\n            }\n            else {\n                a.dropdownItemTemplate = t7.compile(a.params.dropdownItemTemplate ||\n                    '<li>' +\n                        '<label class=\"{{#unless placeholder}}label-radio{{/unless}} item-content\" data-value=\"{{value}}\">' +\n                            '<div class=\"item-inner\">' +\n                                '<div class=\"item-title\">{{text}}</div>' +\n                            '</div>' +\n                        '</label>' +\n                    '</li>'\n                );\n                a.dropdownPlaceholderTemplate = t7.compile(a.params.dropdownPlaceholderTemplate ||\n                    '<li class=\"autocomplete-dropdown-placeholder\">' +\n                        '<div class=\"item-content\">' +\n                            '<div class=\"item-inner\">' +\n                                '<div class=\"item-title\">{{text}}</div>' +\n                            '</div>' +\n                        '</label>' +\n                    '</li>'\n                );\n                a.dropdownTemplate = t7.compile(a.params.dropdownTemplate ||\n                    '<div class=\"autocomplete-dropdown\">' +\n                        '<div class=\"autocomplete-dropdown-inner\">' +\n                            '<div class=\"list-block\">' +\n                                '<ul></ul>' +\n                            '</div>' +\n                        '</div>' +\n                        '{{#if preloader}}' +\n                        '<div class=\"autocomplete-preloader preloader {{#if preloaderColor}}preloader-{{preloaderColor}}{{/if}}\">{{#if material}}{{materialPreloaderHtml}}{{/if}}</div>' +\n                        '{{/if}}' +\n                    '</div>'\n                );\n            }\n        \n            // Define popup\n            a.popup = undefined;\n        \n            // Define Dropdown\n            a.dropdown = undefined;\n        \n            // Handle Input Value Change\n            function handleInputValue (e) {\n                var query = a.input.val();\n                if (a.params.source) {\n                    a.params.source(a, query, function (items) {\n                        var itemsHTML = '';\n                        var limit = a.params.limit ? Math.min(a.params.limit, items.length) : items.length;\n                        a.items = items;\n                        var i, j;\n                        var regExp = new RegExp('('+query+')', 'i');\n                        for (i = 0; i < limit; i++) {\n                            var itemValue = typeof items[i] === 'object' ? items[i][a.params.valueProperty] : items[i];\n                            itemsHTML += a.dropdownItemTemplate({\n                                value: itemValue,\n                                text: (typeof items[i] !== 'object' ? items[i] : items[i][a.params.textProperty]).replace(regExp, '<b>$1</b>')\n                            });\n                        }\n                        if (itemsHTML === '' && query === '' && a.params.dropdownPlaceholderText) {\n                            itemsHTML += a.dropdownPlaceholderTemplate({\n                                text: a.params.dropdownPlaceholderText,\n                            });\n                        }\n                        a.dropdown.find('ul').html(itemsHTML);\n                    });\n                }\n            }\n            // Handle Drop Down Click\n            function handleDropdownClick (e) {\n                /*jshint validthis:true */\n                var clicked = $(this);\n                var clickedItem;\n                for (var i = 0; i < a.items.length; i++) {\n                    var itemValue = typeof a.items[i] === 'object' ? a.items[i][a.params.valueProperty] : a.items[i];\n                    var value = clicked.attr('data-value');\n                    if (itemValue === value || itemValue * 1 === value * 1) {\n                        clickedItem = a.items[i];\n                    }\n                }\n                if (a.params.updateInputValueOnSelect) {\n                    a.input.val(typeof clickedItem === 'object' ? clickedItem[a.params.textProperty] : clickedItem);\n                    a.input.trigger('input change');\n                }\n        \n                if (a.params.onChange) {\n                    a.params.onChange(a, clickedItem);\n                }\n        \n                a.close();\n            }\n        \n            // Handle HTML Click to close Dropdown\n            function closeOnHTMLClick (e) {\n                var target = $(e.target);\n                if (!(target.is(a.input[0]) || a.dropdown && target.parents(a.dropdown[0]).length > 0)) {\n                    a.close();\n                }\n            }\n        \n            a.positionDropDown = function () {\n                var listBlock = a.input.parents('.list-block'),\n                    pageContent = a.input.parents('.page-content'),\n                    paddingTop = parseInt(pageContent.css('padding-top'), 10),\n                    paddingBottom = parseInt(pageContent.css('padding-top'), 10),\n                    inputOffset = a.input.offset(),\n                    listBlockOffset = listBlock.length > 0 ? listBlock.offset() : 0,\n                    maxHeight = pageContent[0].scrollHeight - paddingBottom - (inputOffset.top + pageContent[0].scrollTop) - a.input[0].offsetHeight;\n        \n                a.dropdown.css({\n                    left: (listBlock.length > 0 ? listBlockOffset.left : inputOffset.left) + 'px',\n                    top: inputOffset.top + pageContent[0].scrollTop + a.input[0].offsetHeight + 'px',\n                    width: (listBlock.length > 0 ? listBlock[0].offsetWidth : a.input[0].offsetWidth) + 'px'\n                });\n                a.dropdown.children('.autocomplete-dropdown-inner').css({\n                    maxHeight: maxHeight + 'px',\n                    paddingLeft: listBlock.length > 0 && !a.params.expandInput ? inputOffset.left - (material ? 16 : 15) + 'px' : ''\n                });\n            };\n        \n            // Event Listeners on new page\n            a.pageInit = function (e) {\n                var page = e.detail.page;\n                a.page = $(page.container);\n                a.pageData = page;\n                if (page.name !== pageName) {\n                    return;\n                }\n                var container = $(page.container);\n                // Init Search Bar\n                var searchbar = app.searchbar(container.find('.searchbar'), {\n                    customSearch: true,\n                    onSearch: function (searchbar, data) {\n                        if (data.query.length === 0 && searchbar.active) {\n                            searchbar.overlay.addClass('searchbar-overlay-active');\n                        }\n                        else {\n                            searchbar.overlay.removeClass('searchbar-overlay-active');\n                        }\n        \n                        var i, j, k;\n        \n                        if (a.params.source) {\n                            a.params.source(a, data.query, function(items) {\n                                var itemsHTML = '';\n                                var limit = a.params.limit ? Math.min(a.params.limit, items.length) : items.length;\n                                a.items = items;\n                                for (i = 0; i < limit; i++) {\n                                    var selected = false;\n                                    var itemValue = typeof items[i] === 'object' ? items[i][a.params.valueProperty] : items[i];\n                                    for (j = 0; j < a.value.length; j++) {\n                                        var aValue = typeof a.value[j] === 'object' ? a.value[j][a.params.valueProperty] : a.value[j];\n                                        if (aValue === itemValue || aValue * 1 === itemValue * 1) selected = true;\n                                    }\n                                    itemsHTML += a.itemTemplate({\n                                        value: itemValue,\n                                        text: typeof items[i] !== 'object' ? items[i] : items[i][a.params.textProperty],\n                                        inputType: a.inputType,\n                                        id: a.id,\n                                        inputName: a.inputName,\n                                        selected: selected,\n                                        checkbox: a.inputType === 'checkbox',\n                                        material: material\n                                    });\n                                }\n                                container.find('.autocomplete-found ul').html(itemsHTML);\n                                if (items.length === 0) {\n                                    if (data.query.length !== 0) {\n                                        container.find('.autocomplete-not-found').show();\n                                        container.find('.autocomplete-found, .autocomplete-values').hide();\n                                    }\n                                    else {\n                                        container.find('.autocomplete-values').show();\n                                        container.find('.autocomplete-found, .autocomplete-not-found').hide();\n                                    }\n                                }\n                                else {\n                                    container.find('.autocomplete-found').show();\n                                    container.find('.autocomplete-not-found, .autocomplete-values').hide();\n                                }\n                            });\n                        }\n                    }\n                });\n        \n                // Save searchbar instance\n                a.searchbar = searchbar;\n        \n                // Update values\n                function updateValues() {\n                    var valuesHTML = '';\n                    var i;\n                    for (i = 0; i < a.value.length; i++) {\n        \n                        valuesHTML += a.itemTemplate({\n                            value: typeof a.value[i] === 'object' ? a.value[i][a.params.valueProperty] : a.value[i],\n                            text: typeof a.value[i] === 'object' ? a.value[i][a.params.textProperty]: a.value[i],\n                            inputType: a.inputType,\n                            id: a.id,\n                            inputName: a.inputName + '-checked',\n                            checkbox: a.inputType === 'checkbox',\n                            material: material,\n                            selected: true\n                        });\n                    }\n                    container.find('.autocomplete-values ul').html(valuesHTML);\n                }\n        \n                // Handle Inputs\n                container.on('change', 'input[type=\"radio\"], input[type=\"checkbox\"]', function () {\n                    var i;\n                    var input = this;\n                    var value = input.value;\n                    var text = $(input).parents('li').find('.item-title').text();\n                    var isValues = $(input).parents('.autocomplete-values').length > 0;\n                    var item, itemValue, aValue;\n                    if (isValues) {\n                        if (a.inputType === 'checkbox' && !input.checked) {\n                            for (i = 0; i < a.value.length; i++) {\n                                aValue = typeof a.value[i] === 'string' ? a.value[i] : a.value[i][a.params.valueProperty];\n                                if (aValue === value || aValue * 1 === value * 1) {\n                                    a.value.splice(i, 1);\n                                }\n                            }\n                            updateValues();\n                            if (a.params.onChange) a.params.onChange(a, a.value);\n                        }\n                        return;\n                    }\n        \n                    // Find Related Item\n                    for (i = 0; i < a.items.length; i++) {\n                        itemValue = typeof a.items[i] === 'string' ? a.items[i] : a.items[i][a.params.valueProperty];\n                        if (itemValue === value || itemValue * 1 === value * 1) item = a.items[i];\n                    }\n                    // Update Selected Value\n                    if (a.inputType === 'radio') {\n                        a.value = [item];\n                    }\n                    else {\n                        if (input.checked) {\n                            a.value.push(item);\n                        }\n                        else {\n                            for (i = 0; i < a.value.length; i++) {\n                                aValue = typeof a.value[i] === 'string' ? a.value[i] : a.value[i][a.params.valueProperty];\n                                if (aValue === value || aValue * 1 === value * 1) {\n                                    a.value.splice(i, 1);\n                                }\n                            }\n                        }\n                    }\n        \n                    // Update Values Block\n                    updateValues();\n        \n                    // On Select Callback\n                    if ((a.inputType === 'radio' && input.checked || a.inputType === 'checkbox') && a.params.onChange ) {\n                        a.params.onChange(a, a.value);\n                    }\n                    if (backOnSelect && a.inputType === 'radio') {\n                        if (a.params.openIn === 'popup') app.closeModal(a.popup);\n                        else view.router.back();\n                    }\n                });\n        \n                // Update Values On Page Init\n                updateValues();\n        \n                if (a.params.onOpen) a.params.onOpen(a);\n            };\n        \n            // Show Hide Preloader\n            a.showPreloader = function () {\n                if (a.params.openIn === 'dropdown') {\n                    if (a.dropdown) a.dropdown.find('.autocomplete-preloader').addClass('autocomplete-preloader-visible');\n                }\n                else $('.autocomplete-preloader').addClass('autocomplete-preloader-visible');\n            };\n        \n            a.hidePreloader = function () {\n                if (a.params.openIn === 'dropdown') {\n                    if (a.dropdown) a.dropdown.find('.autocomplete-preloader').removeClass('autocomplete-preloader-visible');\n                }\n                else $('.autocomplete-preloader').removeClass('autocomplete-preloader-visible');\n            };\n        \n            // Open Autocomplete Page/Popup\n            a.open = function () {\n                if (a.opened) return;\n                a.opened = true;\n                if (a.params.openIn === 'dropdown') {\n                    if (!a.dropdown) {\n                        a.dropdown = $(a.dropdownTemplate({\n                            preloader: a.params.preloader,\n                            preloaderColor: a.params.preloaderColor,\n                            material: material,\n                            materialPreloaderHtml: app.params.materialPreloaderHtml\n                        }));\n                        a.dropdown.on('click', 'label', handleDropdownClick);\n        \n                    }\n                    var listBlock = a.input.parents('.list-block');\n                    if (listBlock.length && a.input.parents('.item-content').length > 0 && a.params.expandInput) {\n                        a.input.parents('.item-content').addClass('item-content-dropdown-expand');\n                    }\n                    a.positionDropDown();\n                    a.input.parents('.page-content').append(a.dropdown);\n                    a.dropdown.addClass('autocomplete-dropdown-in');\n                    a.input.trigger('input');\n                    $(window).on('resize', a.positionDropDown);\n                    if (a.params.onOpen) a.params.onOpen(a);\n                }\n                else {\n                    $(document).once('pageInit', '.autocomplete-page', a.pageInit);\n                    if (a.params.openIn === 'popup') {\n                        a.popup = app.popup(\n                            '<div class=\"popup autocomplete-popup autocomplete-popup-' + a.inputName + '\">' +\n                                '<div class=\"view navbar-fixed\">' +\n                                    pageHTML +\n                                '</div>' +\n                            '</div>'\n                            );\n                        a.popup = $(a.popup);\n                        a.popup.once('closed', function () {\n                            a.popup = undefined;\n                            a.opened = false;\n                            if (a.params.onClose) a.params.onClose(a);\n                        });\n                    }\n                    else {\n                        view.router.load({\n                            content: pageHTML\n                        });\n                        $(document).once('pageBack', '.autocomplete-page', function () {\n                            a.opened = false;\n                            if (a.params.onClose) a.params.onClose(a);\n                        });\n                    }\n                }\n            };\n            a.close = function (e) {\n                if (!a.opened) return;\n                if (a.params.openIn === 'dropdown') {\n                    if (e && e.type === 'blur' && a.dropdown.find('label.active-state').length > 0) return;\n                    a.dropdown.removeClass('autocomplete-dropdown-in').remove();\n                    a.input.parents('.item-content-dropdown-expand').removeClass('item-content-dropdown-expand');\n                    a.opened = false;\n                    $(window).off('resize', a.positionDropDown);\n                    if (a.params.onClose) a.params.onClose(a);\n                }\n                if (a.params.openIn === 'popup') {\n                    if (a.popup) app.closeModal(a.popup);\n                }\n            };\n        \n            // Init Events\n            a.initEvents = function (detach) {\n                var method = detach ? 'off' : 'on';\n                if (a.params.openIn !== 'dropdown' && a.opener) {\n                    a.opener[method]('click', a.open);\n                }\n                if (a.params.openIn === 'dropdown' && a.input) {\n                    a.input[method]('focus', a.open);\n                    a.input[method]('input', handleInputValue);\n                    if (app.device.android) {\n                        $('html')[method]('click', closeOnHTMLClick);\n                    }\n                    else {\n                        a.input[method]('blur', a.close);\n                    }\n                }\n                if (detach && a.dropdown) {\n                    a.dropdown = null;\n                }\n            };\n        \n            // Init/Destroy Methods\n            a.init = function () {\n                a.initEvents();\n            };\n            a.destroy = function () {\n                a.initEvents(true);\n                a = null;\n            };\n        \n            // Init\n            a.init();\n        \n            return a;\n        };\n        app.autocomplete = function (params) {\n            return new Autocomplete(params);\n        };\n\n        /*======================================================\n        ************   Picker   ************\n        ======================================================*/\n        var Picker = function (params) {\n            var p = this;\n            var defaults = {\n                updateValuesOnMomentum: false,\n                updateValuesOnTouchmove: true,\n                rotateEffect: false,\n                momentumRatio: 7,\n                freeMode: false,\n                // Common settings\n                closeByOutsideClick: true,\n                scrollToInput: true,\n                inputReadOnly: true,\n                convertToPopover: true,\n                onlyInPopover: false,\n                toolbar: true,\n                toolbarCloseText: 'Done',\n                toolbarTemplate: \n                    '<div class=\"toolbar\">' +\n                        '<div class=\"toolbar-inner\">' +\n                            '<div class=\"left\"></div>' +\n                            '<div class=\"right\">' +\n                                '<a href=\"#\" class=\"link close-picker\">{{closeText}}</a>' +\n                            '</div>' +\n                        '</div>' +\n                    '</div>'\n            };\n            params = params || {};\n            for (var def in defaults) {\n                if (typeof params[def] === 'undefined') {\n                    params[def] = defaults[def];\n                }\n            }\n            p.params = params;\n            p.cols = [];\n            p.initialized = false;\n            \n            // Inline flag\n            p.inline = p.params.container ? true : false;\n        \n            // 3D Transforms origin bug, only on safari\n            var originBug = app.device.ios || (navigator.userAgent.toLowerCase().indexOf('safari') >= 0 && navigator.userAgent.toLowerCase().indexOf('chrome') < 0) && !app.device.android;\n        \n            // Should be converted to popover\n            function isPopover() {\n                var toPopover = false;\n                if (!p.params.convertToPopover && !p.params.onlyInPopover) return toPopover;\n                if (!p.inline && p.params.input) {\n                    if (p.params.onlyInPopover) toPopover = true;\n                    else {\n                        if (app.device.ios) {\n                            toPopover = app.device.ipad ? true : false;\n                        }\n                        else {\n                            if ($(window).width() >= 768) toPopover = true;\n                        }\n                    }\n                } \n                return toPopover; \n            }\n            function inPopover() {\n                if (p.opened && p.container && p.container.length > 0 && p.container.parents('.popover').length > 0) return true;\n                else return false;\n            }\n        \n            // Value\n            p.setValue = function (arrValues, transition) {\n                var valueIndex = 0;\n                if (p.cols.length === 0) {\n                    p.value = arrValues;\n                    p.updateValue(arrValues);\n                    return;\n                }\n                for (var i = 0; i < p.cols.length; i++) {\n                    if (p.cols[i] && !p.cols[i].divider) {\n                        p.cols[i].setValue(arrValues[valueIndex], transition);\n                        valueIndex++;\n                    }\n                }\n            };\n            p.updateValue = function (forceValues) {\n                var newValue = forceValues || [];\n                var newDisplayValue = [];\n                for (var i = 0; i < p.cols.length; i++) {\n                    if (!p.cols[i].divider) {\n                        newValue.push(p.cols[i].value);\n                        newDisplayValue.push(p.cols[i].displayValue);\n                    }\n                }\n                if (newValue.indexOf(undefined) >= 0) {\n                    return;\n                }\n                p.value = newValue;\n                p.displayValue = newDisplayValue;\n                if (p.params.onChange) {\n                    p.params.onChange(p, p.value, p.displayValue);\n                }\n                if (p.input && p.input.length > 0) {\n                    $(p.input).val(p.params.formatValue ? p.params.formatValue(p, p.value, p.displayValue) : p.value.join(' '));\n                    $(p.input).trigger('change');\n                }\n            };\n        \n            // Columns Handlers\n            p.initPickerCol = function (colElement, updateItems) {\n                var colContainer = $(colElement);\n                var colIndex = colContainer.index();\n                var col = p.cols[colIndex];\n                if (col.divider) return;\n                col.container = colContainer;\n                col.wrapper = col.container.find('.picker-items-col-wrapper');\n                col.items = col.wrapper.find('.picker-item');\n                \n                var i, j;\n                var wrapperHeight, itemHeight, itemsHeight, minTranslate, maxTranslate;\n                col.replaceValues = function (values, displayValues) {\n                    col.destroyEvents();\n                    col.values = values;\n                    col.displayValues = displayValues;\n                    var newItemsHTML = p.columnHTML(col, true);\n                    col.wrapper.html(newItemsHTML);\n                    col.items = col.wrapper.find('.picker-item');\n                    col.calcSize();\n                    col.setValue(col.values[0], 0, true);\n                    col.initEvents();\n                };\n                col.calcSize = function () {\n                    if (p.params.rotateEffect) {\n                        col.container.removeClass('picker-items-col-absolute');\n                        if (!col.width) col.container.css({width:''});\n                    }\n                    var colWidth, colHeight;\n                    colWidth = 0;\n                    colHeight = col.container[0].offsetHeight;\n                    wrapperHeight = col.wrapper[0].offsetHeight;\n                    itemHeight = col.items[0].offsetHeight;\n                    itemsHeight = itemHeight * col.items.length;\n                    minTranslate = colHeight / 2 - itemsHeight + itemHeight / 2;\n                    maxTranslate = colHeight / 2 - itemHeight / 2;    \n                    if (col.width) {\n                        colWidth = col.width;\n                        if (parseInt(colWidth, 10) === colWidth) colWidth = colWidth + 'px';\n                        col.container.css({width: colWidth});\n                    }\n                    if (p.params.rotateEffect) {\n                        if (!col.width) {\n                            col.items.each(function () {\n                                var item = $(this);\n                                item.css({width:'auto'});\n                                colWidth = Math.max(colWidth, item[0].offsetWidth);\n                                item.css({width:''});\n                            });\n                            col.container.css({width: (colWidth + 2) + 'px'});\n                        }\n                        col.container.addClass('picker-items-col-absolute');\n                    }\n                };\n                col.calcSize();\n                \n                col.wrapper.transform('translate3d(0,' + maxTranslate + 'px,0)').transition(0);\n        \n        \n                var activeIndex = 0;\n                var animationFrameId;\n        \n                // Set Value Function\n                col.setValue = function (newValue, transition, valueCallbacks) {\n                    if (typeof transition === 'undefined') transition = '';\n                    var newActiveIndex = col.wrapper.find('.picker-item[data-picker-value=\"' + newValue + '\"]').index();\n                    if(typeof newActiveIndex === 'undefined' || newActiveIndex === -1) {\n                        return;\n                    }\n                    var newTranslate = -newActiveIndex * itemHeight + maxTranslate;\n                    // Update wrapper\n                    col.wrapper.transition(transition);\n                    col.wrapper.transform('translate3d(0,' + (newTranslate) + 'px,0)');\n                        \n                    // Watch items\n                    if (p.params.updateValuesOnMomentum && col.activeIndex && col.activeIndex !== newActiveIndex ) {\n                        $.cancelAnimationFrame(animationFrameId);\n                        col.wrapper.transitionEnd(function(){\n                            $.cancelAnimationFrame(animationFrameId);\n                        });\n                        updateDuringScroll();\n                    }\n        \n                    // Update items\n                    col.updateItems(newActiveIndex, newTranslate, transition, valueCallbacks);\n                };\n        \n                col.updateItems = function (activeIndex, translate, transition, valueCallbacks) {\n                    if (typeof translate === 'undefined') {\n                        translate = $.getTranslate(col.wrapper[0], 'y');\n                    }\n                    if(typeof activeIndex === 'undefined') activeIndex = -Math.round((translate - maxTranslate)/itemHeight);\n                    if (activeIndex < 0) activeIndex = 0;\n                    if (activeIndex >= col.items.length) activeIndex = col.items.length - 1;\n                    var previousActiveIndex = col.activeIndex;\n                    col.activeIndex = activeIndex;\n                    col.wrapper.find('.picker-selected').removeClass('picker-selected');\n        \n                    col.items.transition(transition);\n                    \n                    var selectedItem = col.items.eq(activeIndex).addClass('picker-selected').transform('');\n                        \n                    // Set 3D rotate effect\n                    if (p.params.rotateEffect) {\n                        var percentage = (translate - (Math.floor((translate - maxTranslate)/itemHeight) * itemHeight + maxTranslate)) / itemHeight;\n                        \n                        col.items.each(function () {\n                            var item = $(this);\n                            var itemOffsetTop = item.index() * itemHeight;\n                            var translateOffset = maxTranslate - translate;\n                            var itemOffset = itemOffsetTop - translateOffset;\n                            var percentage = itemOffset / itemHeight;\n        \n                            var itemsFit = Math.ceil(col.height / itemHeight / 2) + 1;\n                            \n                            var angle = (-18*percentage);\n                            if (angle > 180) angle = 180;\n                            if (angle < -180) angle = -180;\n                            // Far class\n                            if (Math.abs(percentage) > itemsFit) item.addClass('picker-item-far');\n                            else item.removeClass('picker-item-far');\n                            // Set transform\n                            item.transform('translate3d(0, ' + (-translate + maxTranslate) + 'px, ' + (originBug ? -110 : 0) + 'px) rotateX(' + angle + 'deg)');\n                        });\n                    }\n        \n                    if (valueCallbacks || typeof valueCallbacks === 'undefined') {\n                        // Update values\n                        col.value = selectedItem.attr('data-picker-value');\n                        col.displayValue = col.displayValues ? col.displayValues[activeIndex] : col.value;\n                        // On change callback\n                        if (previousActiveIndex !== activeIndex) {\n                            if (col.onChange) {\n                                col.onChange(p, col.value, col.displayValue);\n                            }\n                            p.updateValue();\n                        }\n                    }\n                };\n        \n                function updateDuringScroll() {\n                    animationFrameId = $.requestAnimationFrame(function () {\n                        col.updateItems(undefined, undefined, 0);\n                        updateDuringScroll();\n                    });\n                }\n        \n                // Update items on init\n                if (updateItems) col.updateItems(0, maxTranslate, 0);\n        \n                var allowItemClick = true;\n                var isTouched, isMoved, touchStartY, touchCurrentY, touchStartTime, touchEndTime, startTranslate, returnTo, currentTranslate, prevTranslate, velocityTranslate, velocityTime;\n                function handleTouchStart (e) {\n                    if (isMoved || isTouched) return;\n                    e.preventDefault();\n                    isTouched = true;\n                    touchStartY = touchCurrentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n                    touchStartTime = (new Date()).getTime();\n                    \n                    allowItemClick = true;\n                    startTranslate = currentTranslate = $.getTranslate(col.wrapper[0], 'y');\n                }\n                function handleTouchMove (e) {\n                    if (!isTouched) return;\n                    e.preventDefault();\n                    allowItemClick = false;\n                    touchCurrentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n                    if (!isMoved) {\n                        // First move\n                        $.cancelAnimationFrame(animationFrameId);\n                        isMoved = true;\n                        startTranslate = currentTranslate = $.getTranslate(col.wrapper[0], 'y');\n                        col.wrapper.transition(0);\n                    }\n                    e.preventDefault();\n        \n                    var diff = touchCurrentY - touchStartY;\n                    currentTranslate = startTranslate + diff;\n                    returnTo = undefined;\n        \n                    // Normalize translate\n                    if (currentTranslate < minTranslate) {\n                        currentTranslate = minTranslate - Math.pow(minTranslate - currentTranslate, 0.8);\n                        returnTo = 'min';\n                    }\n                    if (currentTranslate > maxTranslate) {\n                        currentTranslate = maxTranslate + Math.pow(currentTranslate - maxTranslate, 0.8);\n                        returnTo = 'max';\n                    }\n                    // Transform wrapper\n                    col.wrapper.transform('translate3d(0,' + currentTranslate + 'px,0)');\n        \n                    // Update items\n                    col.updateItems(undefined, currentTranslate, 0, p.params.updateValuesOnTouchmove);\n                    \n                    // Calc velocity\n                    velocityTranslate = currentTranslate - prevTranslate || currentTranslate;\n                    velocityTime = (new Date()).getTime();\n                    prevTranslate = currentTranslate;\n                }\n                function handleTouchEnd (e) {\n                    if (!isTouched || !isMoved) {\n                        isTouched = isMoved = false;\n                        return;\n                    }\n                    isTouched = isMoved = false;\n                    col.wrapper.transition('');\n                    if (returnTo) {\n                        if (returnTo === 'min') {\n                            col.wrapper.transform('translate3d(0,' + minTranslate + 'px,0)');\n                        }\n                        else col.wrapper.transform('translate3d(0,' + maxTranslate + 'px,0)');\n                    }\n                    touchEndTime = new Date().getTime();\n                    var velocity, newTranslate;\n                    if (touchEndTime - touchStartTime > 300) {\n                        newTranslate = currentTranslate;\n                    }\n                    else {\n                        velocity = Math.abs(velocityTranslate / (touchEndTime - velocityTime));\n                        newTranslate = currentTranslate + velocityTranslate * p.params.momentumRatio;\n                    }\n        \n                    newTranslate = Math.max(Math.min(newTranslate, maxTranslate), minTranslate);\n        \n                    // Active Index\n                    var activeIndex = -Math.floor((newTranslate - maxTranslate)/itemHeight);\n        \n                    // Normalize translate\n                    if (!p.params.freeMode) newTranslate = -activeIndex * itemHeight + maxTranslate;\n        \n                    // Transform wrapper\n                    col.wrapper.transform('translate3d(0,' + (parseInt(newTranslate,10)) + 'px,0)');\n        \n                    // Update items\n                    col.updateItems(activeIndex, newTranslate, '', true);\n        \n                    // Watch items\n                    if (p.params.updateValuesOnMomentum) {\n                        updateDuringScroll();\n                        col.wrapper.transitionEnd(function(){\n                            $.cancelAnimationFrame(animationFrameId);\n                        });\n                    }\n        \n                    // Allow click\n                    setTimeout(function () {\n                        allowItemClick = true;\n                    }, 100);\n                }\n        \n                function handleClick(e) {\n                    if (!allowItemClick) return;\n                    $.cancelAnimationFrame(animationFrameId);\n                    /*jshint validthis:true */\n                    var value = $(this).attr('data-picker-value');\n                    col.setValue(value);\n                }\n        \n                col.initEvents = function (detach) {\n                    var method = detach ? 'off' : 'on';\n                    col.container[method](app.touchEvents.start, handleTouchStart);\n                    col.container[method](app.touchEvents.move, handleTouchMove);\n                    col.container[method](app.touchEvents.end, handleTouchEnd);\n                    col.items[method]('click', handleClick);\n                };\n                col.destroyEvents = function () {\n                    col.initEvents(true);\n                };\n        \n                col.container[0].f7DestroyPickerCol = function () {\n                    col.destroyEvents();\n                };\n        \n                col.initEvents();\n        \n            };\n            p.destroyPickerCol = function (colContainer) {\n                colContainer = $(colContainer);\n                if ('f7DestroyPickerCol' in colContainer[0]) colContainer[0].f7DestroyPickerCol();\n            };\n            // Resize cols\n            function resizeCols() {\n                if (!p.opened) return;\n                for (var i = 0; i < p.cols.length; i++) {\n                    if (!p.cols[i].divider) {\n                        p.cols[i].calcSize();\n                        p.cols[i].setValue(p.cols[i].value, 0, false);\n                    }\n                }\n            }\n            $(window).on('resize', resizeCols);\n        \n            // HTML Layout\n            p.columnHTML = function (col, onlyItems) {\n                var columnItemsHTML = '';\n                var columnHTML = '';\n                if (col.divider) {\n                    columnHTML += '<div class=\"picker-items-col picker-items-col-divider ' + (col.textAlign ? 'picker-items-col-' + col.textAlign : '') + ' ' + (col.cssClass || '') + '\">' + col.content + '</div>';\n                }\n                else {\n                    for (var j = 0; j < col.values.length; j++) {\n                        columnItemsHTML += '<div class=\"picker-item\" data-picker-value=\"' + col.values[j] + '\">' + (col.displayValues ? col.displayValues[j] : col.values[j]) + '</div>';\n                    }\n                    columnHTML += '<div class=\"picker-items-col ' + (col.textAlign ? 'picker-items-col-' + col.textAlign : '') + ' ' + (col.cssClass || '') + '\"><div class=\"picker-items-col-wrapper\">' + columnItemsHTML + '</div></div>';\n                }\n                return onlyItems ? columnItemsHTML : columnHTML;\n            };\n            p.layout = function () {\n                var pickerHTML = '';\n                var pickerClass = '';\n                var i;\n                p.cols = [];\n                var colsHTML = '';\n                for (i = 0; i < p.params.cols.length; i++) {\n                    var col = p.params.cols[i];\n                    colsHTML += p.columnHTML(p.params.cols[i]);\n                    p.cols.push(col);\n                }\n                pickerClass = 'picker-modal picker-columns ' + (p.params.cssClass || '') + (p.params.rotateEffect ? ' picker-3d' : '');\n                pickerHTML =\n                    '<div class=\"' + (pickerClass) + '\">' +\n                        (p.params.toolbar ? p.params.toolbarTemplate.replace(/{{closeText}}/g, p.params.toolbarCloseText) : '') +\n                        '<div class=\"picker-modal-inner picker-items\">' +\n                            colsHTML +\n                            '<div class=\"picker-center-highlight\"></div>' +\n                        '</div>' +\n                    '</div>';\n                    \n                p.pickerHTML = pickerHTML;    \n            };\n        \n            // Input Events\n            function openOnInput(e) {\n                e.preventDefault();\n                if (p.opened) return;\n                p.open();\n                if (p.params.scrollToInput && !isPopover()) {\n                    var pageContent = p.input.parents('.page-content');\n                    if (pageContent.length === 0) return;\n        \n                    var paddingTop = parseInt(pageContent.css('padding-top'), 10),\n                        paddingBottom = parseInt(pageContent.css('padding-bottom'), 10),\n                        pageHeight = pageContent[0].offsetHeight - paddingTop - p.container.height(),\n                        pageScrollHeight = pageContent[0].scrollHeight - paddingTop - p.container.height(),\n                        newPaddingBottom;\n                    var inputTop = p.input.offset().top - paddingTop + p.input[0].offsetHeight;\n                    if (inputTop > pageHeight) {\n                        var scrollTop = pageContent.scrollTop() + inputTop - pageHeight;\n                        if (scrollTop + pageHeight > pageScrollHeight) {\n                            newPaddingBottom = scrollTop + pageHeight - pageScrollHeight + paddingBottom;\n                            if (pageHeight === pageScrollHeight) {\n                                newPaddingBottom = p.container.height();\n                            }\n                            pageContent.css({'padding-bottom': (newPaddingBottom) + 'px'});\n                        }\n                        pageContent.scrollTop(scrollTop, 300);\n                    }\n                }\n            }\n            function closeOnHTMLClick(e) {\n                if (inPopover()) return;\n                if (p.input && p.input.length > 0) {\n                    if (e.target !== p.input[0] && $(e.target).parents('.picker-modal').length === 0) p.close();\n                }\n                else {\n                    if ($(e.target).parents('.picker-modal').length === 0) p.close();   \n                }\n            }\n        \n            if (p.params.input) {\n                p.input = $(p.params.input);\n                if (p.input.length > 0) {\n                    if (p.params.inputReadOnly) p.input.prop('readOnly', true);\n                    if (!p.inline) {\n                        p.input.on('click', openOnInput);    \n                    }\n                    if (p.params.inputReadOnly) {\n                        p.input.on('focus mousedown', function (e) {\n                            e.preventDefault();\n                        });\n                    }\n                }\n                    \n            }\n            \n            if (!p.inline && p.params.closeByOutsideClick) $('html').on('click', closeOnHTMLClick);\n        \n            // Open\n            function onPickerClose() {\n                p.opened = false;\n                if (p.input && p.input.length > 0) {\n                    p.input.parents('.page-content').css({'padding-bottom': ''});\n                    if (app.params.material) p.input.trigger('blur');\n                }\n                if (p.params.onClose) p.params.onClose(p);\n        \n                // Destroy events\n                p.container.find('.picker-items-col').each(function () {\n                    p.destroyPickerCol(this);\n                });\n            }\n        \n            p.opened = false;\n            p.open = function () {\n                var toPopover = isPopover();\n        \n                if (!p.opened) {\n        \n                    // Layout\n                    p.layout();\n        \n                    // Append\n                    if (toPopover) {\n                        p.pickerHTML = '<div class=\"popover popover-picker-columns\"><div class=\"popover-inner\">' + p.pickerHTML + '</div></div>';\n                        p.popover = app.popover(p.pickerHTML, p.params.input, true);\n                        p.container = $(p.popover).find('.picker-modal');\n                        $(p.popover).on('close', function () {\n                            onPickerClose();\n                        });\n                    }\n                    else if (p.inline) {\n                        p.container = $(p.pickerHTML);\n                        p.container.addClass('picker-modal-inline');\n                        $(p.params.container).append(p.container);\n                    }\n                    else {\n                        p.container = $(app.pickerModal(p.pickerHTML));\n                        $(p.container)\n                        .on('close', function () {\n                            onPickerClose();\n                        });\n                    }\n        \n                    // Store picker instance\n                    p.container[0].f7Picker = p;\n        \n                    // Init Events\n                    p.container.find('.picker-items-col').each(function () {\n                        var updateItems = true;\n                        if ((!p.initialized && p.params.value) || (p.initialized && p.value)) updateItems = false;\n                        p.initPickerCol(this, updateItems);\n                    });\n                    \n                    // Set value\n                    if (!p.initialized) {\n                        if (p.value) p.setValue(p.value, 0);\n                        else if (p.params.value) {\n                            p.setValue(p.params.value, 0);\n                        }\n                    }\n                    else {\n                        if (p.value) p.setValue(p.value, 0);\n                    }\n        \n                    // Material Focus\n                    if (p.input && p.input.length > 0 && app.params.material) {\n                        p.input.trigger('focus');\n                    }\n                }\n        \n                // Set flag\n                p.opened = true;\n                p.initialized = true;\n        \n                if (p.params.onOpen) p.params.onOpen(p);\n            };\n        \n            // Close\n            p.close = function () {\n                if (!p.opened || p.inline) return;\n                if (inPopover()) {\n                    app.closeModal(p.popover);\n                    return;\n                }\n                else {\n                    app.closeModal(p.container);\n                    return;\n                }\n            };\n        \n            // Destroy\n            p.destroy = function () {\n                p.close();\n                if (p.params.input && p.input.length > 0) {\n                    p.input.off('click focus', openOnInput);\n                }\n                $('html').off('click', closeOnHTMLClick);\n                $(window).off('resize', resizeCols);\n            };\n        \n            if (p.inline) {\n                p.open();\n            }\n            else {\n                if (!p.initialized && p.params.value) p.setValue(p.params.value);\n            }\n        \n            return p;\n        };\n        app.picker = function (params) {\n            return new Picker(params);\n        };\n\n        /*======================================================\n        ************   Calendar   ************\n        ======================================================*/\n        var Calendar = function (params) {\n            var p = this;\n            var defaults = {\n                monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August' , 'September' , 'October', 'November', 'December'],\n                monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n                dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n                dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n                firstDay: 1, // First day of the week, Monday\n                weekendDays: [0, 6], // Sunday and Saturday\n                multiple: false,\n                rangePicker: false,\n                dateFormat: 'yyyy-mm-dd',\n                direction: 'horizontal', // or 'vertical'\n                minDate: null,\n                maxDate: null,\n                disabled: null, // dates range of disabled days\n                events: null, // dates range of days with events\n                rangesClasses: null, //array with custom classes date ranges\n                touchMove: true,\n                animate: true,\n                closeOnSelect: false,\n                monthPicker: true,\n                monthPickerTemplate:\n                    '<div class=\"picker-calendar-month-picker\">' +\n                        '<a href=\"#\" class=\"link icon-only picker-calendar-prev-month\"><i class=\"icon icon-prev\"></i></a>' +\n                        '<span class=\"current-month-value\"></span>' +\n                        '<a href=\"#\" class=\"link icon-only picker-calendar-next-month\"><i class=\"icon icon-next\"></i></a>' +\n                    '</div>',\n                yearPicker: true,\n                yearPickerTemplate:\n                    '<div class=\"picker-calendar-year-picker\">' +\n                        '<a href=\"#\" class=\"link icon-only picker-calendar-prev-year\"><i class=\"icon icon-prev\"></i></a>' +\n                        '<span class=\"current-year-value\"></span>' +\n                        '<a href=\"#\" class=\"link icon-only picker-calendar-next-year\"><i class=\"icon icon-next\"></i></a>' +\n                    '</div>',\n                weekHeader: true,\n                // Common settings\n                closeByOutsideClick: true,\n                scrollToInput: true,\n                inputReadOnly: true,\n                convertToPopover: true,\n                onlyInPopover: false,\n                toolbar: true,\n                toolbarCloseText: 'Done',\n                headerPlaceholder: 'Select date',\n                header: app.params.material,\n                footer: app.params.material,\n                toolbarTemplate:\n                    '<div class=\"toolbar\">' +\n                        '<div class=\"toolbar-inner\">' +\n                            '{{monthPicker}}' +\n                            '{{yearPicker}}' +\n                        '</div>' +\n                    '</div>',\n                headerTemplate:\n                    '<div class=\"picker-header\">' +\n                        '<div class=\"picker-calendar-selected-date\">{{placeholder}}</div>' +\n                    '</div>',\n                footerTemplate:\n                    '<div class=\"picker-footer\">' +\n                        '<a href=\"#\" class=\"button close-picker\">{{closeText}}</a>' +\n                    '</div>',\n        \n                /* Callbacks\n                onMonthAdd\n                onChange\n                onOpen\n                onClose\n                onDayClick\n                onMonthYearChangeStart\n                onMonthYearChangeEnd\n                */\n            };\n            params = params || {};\n            for (var def in defaults) {\n                if (typeof params[def] === 'undefined') {\n                    params[def] = defaults[def];\n                }\n            }\n            p.params = params;\n            p.initialized = false;\n        \n            // Inline flag\n            p.inline = p.params.container ? true : false;\n        \n            // Is horizontal\n            p.isH = p.params.direction === 'horizontal';\n        \n            // RTL inverter\n            var inverter = p.isH ? (app.rtl ? -1 : 1) : 1;\n        \n            // Animating flag\n            p.animating = false;\n        \n            // Should be converted to popover\n            function isPopover() {\n                var toPopover = false;\n                if (!p.params.convertToPopover && !p.params.onlyInPopover) return toPopover;\n                if (!p.inline && p.params.input) {\n                    if (p.params.onlyInPopover) toPopover = true;\n                    else {\n                        if (app.device.ios) {\n                            toPopover = app.device.ipad ? true : false;\n                        }\n                        else {\n                            if ($(window).width() >= 768) toPopover = true;\n                        }\n                    }\n                }\n                return toPopover;\n            }\n            function inPopover() {\n                if (p.opened && p.container && p.container.length > 0 && p.container.parents('.popover').length > 0) return true;\n                else return false;\n            }\n        \n            // Format date\n            function formatDate(date) {\n                date = new Date(date);\n                var year = date.getFullYear();\n                var month = date.getMonth();\n                var month1 = month + 1;\n                var day = date.getDate();\n                var weekDay = date.getDay();\n        \n                return p.params.dateFormat\n                    .replace(/yyyy/g, year)\n                    .replace(/yy/g, (year + '').substring(2))\n                    .replace(/mm/g, month1 < 10 ? '0' + month1 : month1)\n                    .replace(/m(\\W+)/g, month1 + '$1')\n                    .replace(/MM/g, p.params.monthNames[month])\n                    .replace(/M(\\W+)/g, p.params.monthNamesShort[month] + '$1')\n                    .replace(/dd/g, day < 10 ? '0' + day : day)\n                    .replace(/d(\\W+)/g, day + '$1')\n                    .replace(/DD/g, p.params.dayNames[weekDay])\n                    .replace(/D(\\W+)/g, p.params.dayNamesShort[weekDay] + '$1');\n            }\n        \n        \n            // Value\n            p.addValue = function (value) {\n                if (p.params.multiple) {\n                    if (!p.value) p.value = [];\n                    var inValuesIndex;\n                    for (var i = 0; i < p.value.length; i++) {\n                        if (new Date(value).getTime() === new Date(p.value[i]).getTime()) {\n                            inValuesIndex = i;\n                        }\n                    }\n                    if (typeof inValuesIndex === 'undefined') {\n                        p.value.push(value);\n                    }\n                    else {\n                        p.value.splice(inValuesIndex, 1);\n                    }\n                    p.updateValue();\n                }\n                else if (p.params.rangePicker) {\n                    if (!p.value) p.value = [];\n                    if (p.value.length === 2 || p.value.length === 0) {\n                        p.value = [];\n                    }\n                    if (p.value[0] !== value) p.value.push(value);\n                    else p.value = [];\n                    p.value.sort(function (a,b) {\n                        return a - b;\n                    });\n                    p.updateValue();\n                }\n                else {\n                    p.value = [value];\n                    p.updateValue();\n                }\n            };\n            p.setValue = function (arrValues) {\n                p.value = arrValues;\n                p.updateValue();\n            };\n            p.updateValue = function (onlyHeader) {\n                var i, inputValue;\n                if (p.container && p.container.length > 0) {\n                    p.wrapper.find('.picker-calendar-day-selected').removeClass('picker-calendar-day-selected');\n                    var valueDate;\n                    if (p.params.rangePicker && p.value.length === 2) {\n                        for (i = p.value[0]; i <= p.value[1]; i += 24*60*60*1000) {\n                            valueDate = new Date(i);\n                            p.wrapper.find('.picker-calendar-day[data-date=\"' + valueDate.getFullYear() + '-' + valueDate.getMonth() + '-' + valueDate.getDate() + '\"]').addClass('picker-calendar-day-selected');\n                        }\n                    }\n                    else {\n                        for (i = 0; i < p.value.length; i++) {\n                            valueDate = new Date(p.value[i]);\n                            p.wrapper.find('.picker-calendar-day[data-date=\"' + valueDate.getFullYear() + '-' + valueDate.getMonth() + '-' + valueDate.getDate() + '\"]').addClass('picker-calendar-day-selected');\n                        }\n                    }\n                }\n        \n                if (p.params.onChange) {\n                    p.params.onChange(p, p.value);\n                }\n                if ((p.input && p.input.length > 0) || (app.params.material && p.params.header)) {\n                    if (p.params.formatValue) inputValue = p.params.formatValue(p, p.value);\n                    else {\n                        inputValue = [];\n                        for (i = 0; i < p.value.length; i++) {\n                            inputValue.push(formatDate(p.value[i]));\n                        }\n                        inputValue = inputValue.join(p.params.rangePicker ? ' - ' : ', ');\n                    }\n                    if (app.params.material && p.params.header && p.container && p.container.length > 0) {\n                        p.container.find('.picker-calendar-selected-date').text(inputValue);\n                    }\n                    if (p.input && p.input.length > 0 && !onlyHeader) {\n                        $(p.input).val(inputValue);\n                        $(p.input).trigger('change');\n                    }\n        \n                }\n            };\n        \n            // Columns Handlers\n            p.initCalendarEvents = function () {\n                var col;\n                var allowItemClick = true;\n                var isTouched, isMoved, touchStartX, touchStartY, touchCurrentX, touchCurrentY, touchStartTime, touchEndTime, startTranslate, currentTranslate, wrapperWidth, wrapperHeight, percentage, touchesDiff, isScrolling;\n                function handleTouchStart (e) {\n                    if (isMoved || isTouched) return;\n                    // e.preventDefault();\n                    isTouched = true;\n                    touchStartX = touchCurrentY = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n                    touchStartY = touchCurrentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n                    touchStartTime = (new Date()).getTime();\n                    percentage = 0;\n                    allowItemClick = true;\n                    isScrolling = undefined;\n                    startTranslate = currentTranslate = p.monthsTranslate;\n                }\n                function handleTouchMove (e) {\n                    if (!isTouched) return;\n        \n                    touchCurrentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n                    touchCurrentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n                    if (typeof isScrolling === 'undefined') {\n                        isScrolling = !!(isScrolling || Math.abs(touchCurrentY - touchStartY) > Math.abs(touchCurrentX - touchStartX));\n                    }\n                    if (p.isH && isScrolling) {\n                        isTouched = false;\n                        return;\n                    }\n                    e.preventDefault();\n                    if (p.animating) {\n                        isTouched = false;\n                        return;\n                    }\n                    allowItemClick = false;\n                    if (!isMoved) {\n                        // First move\n                        isMoved = true;\n                        wrapperWidth = p.wrapper[0].offsetWidth;\n                        wrapperHeight = p.wrapper[0].offsetHeight;\n                        p.wrapper.transition(0);\n                    }\n                    e.preventDefault();\n        \n                    touchesDiff = p.isH ? touchCurrentX - touchStartX : touchCurrentY - touchStartY;\n                    percentage = touchesDiff/(p.isH ? wrapperWidth : wrapperHeight);\n                    currentTranslate = (p.monthsTranslate * inverter + percentage) * 100;\n        \n                    // Transform wrapper\n                    p.wrapper.transform('translate3d(' + (p.isH ? currentTranslate : 0) + '%, ' + (p.isH ? 0 : currentTranslate) + '%, 0)');\n        \n                }\n                function handleTouchEnd (e) {\n                    if (!isTouched || !isMoved) {\n                        isTouched = isMoved = false;\n                        return;\n                    }\n                    isTouched = isMoved = false;\n        \n                    touchEndTime = new Date().getTime();\n                    if (touchEndTime - touchStartTime < 300) {\n                        if (Math.abs(touchesDiff) < 10) {\n                            p.resetMonth();\n                        }\n                        else if (touchesDiff >= 10) {\n                            if (app.rtl) p.nextMonth();\n                            else p.prevMonth();\n                        }\n                        else {\n                            if (app.rtl) p.prevMonth();\n                            else p.nextMonth();\n                        }\n                    }\n                    else {\n                        if (percentage <= -0.5) {\n                            if (app.rtl) p.prevMonth();\n                            else p.nextMonth();\n                        }\n                        else if (percentage >= 0.5) {\n                            if (app.rtl) p.nextMonth();\n                            else p.prevMonth();\n                        }\n                        else {\n                            p.resetMonth();\n                        }\n                    }\n        \n                    // Allow click\n                    setTimeout(function () {\n                        allowItemClick = true;\n                    }, 100);\n                }\n        \n                function handleDayClick(e) {\n                    if (!allowItemClick) return;\n                    var day = $(e.target).parents('.picker-calendar-day');\n                    if (day.length === 0 && $(e.target).hasClass('picker-calendar-day')) {\n                        day = $(e.target);\n                    }\n                    if (day.length === 0) return;\n                    if (day.hasClass('picker-calendar-day-selected') && !(p.params.multiple || p.params.rangePicker)) return;\n                    if (day.hasClass('picker-calendar-day-disabled')) return;\n                    if (!p.params.rangePicker) {\n                        if (day.hasClass('picker-calendar-day-next')) p.nextMonth();\n                        if (day.hasClass('picker-calendar-day-prev')) p.prevMonth();\n                    }\n                    var dateYear = day.attr('data-year');\n                    var dateMonth = day.attr('data-month');\n                    var dateDay = day.attr('data-day');\n                    if (p.params.onDayClick) {\n                        p.params.onDayClick(p, day[0], dateYear, dateMonth, dateDay);\n                    }\n                    p.addValue(new Date(dateYear, dateMonth, dateDay).getTime());\n                    if (p.params.closeOnSelect) {\n                        if (p.params.rangePicker && p.value.length === 2 || !p.params.rangePicker) p.close();\n                    }\n                }\n        \n                p.container.find('.picker-calendar-prev-month').on('click', p.prevMonth);\n                p.container.find('.picker-calendar-next-month').on('click', p.nextMonth);\n                p.container.find('.picker-calendar-prev-year').on('click', p.prevYear);\n                p.container.find('.picker-calendar-next-year').on('click', p.nextYear);\n                p.wrapper.on('click', handleDayClick);\n                if (p.params.touchMove) {\n                    p.wrapper.on(app.touchEvents.start, handleTouchStart);\n                    p.wrapper.on(app.touchEvents.move, handleTouchMove);\n                    p.wrapper.on(app.touchEvents.end, handleTouchEnd);\n                }\n        \n                p.container[0].f7DestroyCalendarEvents = function () {\n                    p.container.find('.picker-calendar-prev-month').off('click', p.prevMonth);\n                    p.container.find('.picker-calendar-next-month').off('click', p.nextMonth);\n                    p.container.find('.picker-calendar-prev-year').off('click', p.prevYear);\n                    p.container.find('.picker-calendar-next-year').off('click', p.nextYear);\n                    p.wrapper.off('click', handleDayClick);\n                    if (p.params.touchMove) {\n                        p.wrapper.off(app.touchEvents.start, handleTouchStart);\n                        p.wrapper.off(app.touchEvents.move, handleTouchMove);\n                        p.wrapper.off(app.touchEvents.end, handleTouchEnd);\n                    }\n                };\n        \n        \n            };\n            p.destroyCalendarEvents = function (colContainer) {\n                if ('f7DestroyCalendarEvents' in p.container[0]) p.container[0].f7DestroyCalendarEvents();\n            };\n        \n            // Scan Dates Range\n            p.dateInRange = function (dayDate, range) {\n                var match = false;\n                var i;\n                if (!range) return false;\n                if ($.isArray(range)) {\n                    for (i = 0; i < range.length; i ++) {\n                        if (range[i].from || range[i].to) {\n                            if (range[i].from && range[i].to) {\n                                if ((dayDate <= new Date(range[i].to).getTime()) && (dayDate >= new Date(range[i].from).getTime())) {\n                                    match = true;\n                                }\n                            }\n                            else if (range[i].from) {\n                                if (dayDate >= new Date(range[i].from).getTime()) {\n                                    match = true;\n                                }\n                            }\n                            else if (range[i].to) {\n                                if (dayDate <= new Date(range[i].to).getTime()) {\n                                    match = true;\n                                }\n                            }\n                        } else if (dayDate === new Date(range[i]).getTime()) {\n                            match = true;\n                        }\n                    }\n                }\n                else if (range.from || range.to) {\n                    if (range.from && range.to) {\n                        if ((dayDate <= new Date(range.to).getTime()) && (dayDate >= new Date(range.from).getTime())) {\n                            match = true;\n                        }\n                    }\n                    else if (range.from) {\n                        if (dayDate >= new Date(range.from).getTime()) {\n                            match = true;\n                        }\n                    }\n                    else if (range.to) {\n                        if (dayDate <= new Date(range.to).getTime()) {\n                            match = true;\n                        }\n                    }\n                }\n                else if (typeof range === 'function') {\n                    match = range(new Date(dayDate));\n                }\n                return match;\n            };\n            // Calendar Methods\n            p.daysInMonth = function (date) {\n                var d = new Date(date);\n                return new Date(d.getFullYear(), d.getMonth() + 1, 0).getDate();\n            };\n            p.monthHTML = function (date, offset) {\n                date = new Date(date);\n                var year = date.getFullYear(),\n                    month = date.getMonth(),\n                    day = date.getDate();\n                if (offset === 'next') {\n                    if (month === 11) date = new Date(year + 1, 0);\n                    else date = new Date(year, month + 1, 1);\n                }\n                if (offset === 'prev') {\n                    if (month === 0) date = new Date(year - 1, 11);\n                    else date = new Date(year, month - 1, 1);\n                }\n                if (offset === 'next' || offset === 'prev') {\n                    month = date.getMonth();\n                    year = date.getFullYear();\n                }\n                var daysInPrevMonth = p.daysInMonth(new Date(date.getFullYear(), date.getMonth()).getTime() - 10 * 24 * 60 * 60 * 1000),\n                    daysInMonth = p.daysInMonth(date),\n                    firstDayOfMonthIndex = new Date(date.getFullYear(), date.getMonth()).getDay();\n                if (firstDayOfMonthIndex === 0) firstDayOfMonthIndex = 7;\n        \n                var dayDate, currentValues = [], i, j, k,\n                    rows = 6, cols = 7,\n                    monthHTML = '',\n                    dayIndex = 0 + (p.params.firstDay - 1),\n                    today = new Date().setHours(0,0,0,0),\n                    minDate = p.params.minDate ? new Date(p.params.minDate).getTime() : null,\n                    maxDate = p.params.maxDate ? new Date(p.params.maxDate).getTime() : null,\n                    disabled,\n                    hasEvent;\n        \n                if (p.value && p.value.length) {\n                    for (i = 0; i < p.value.length; i++) {\n                        currentValues.push(new Date(p.value[i]).setHours(0,0,0,0));\n                    }\n                }\n        \n                for (i = 1; i <= rows; i++) {\n                    var rowHTML = '';\n                    var row = i;\n                    for (j = 1; j <= cols; j++) {\n                        var col = j;\n                        dayIndex ++;\n                        var dayNumber = dayIndex - firstDayOfMonthIndex;\n                        var weekDayIndex = (col - 1 + p.params.firstDay > 6) ? (col - 1 - 7 + p.params.firstDay) : (col - 1 + p.params.firstDay);\n                        var addClass = '';\n                        if (dayNumber < 0) {\n                            dayNumber = daysInPrevMonth + dayNumber + 1;\n                            addClass += ' picker-calendar-day-prev';\n                            dayDate = new Date(month - 1 < 0 ? year - 1 : year, month - 1 < 0 ? 11 : month - 1, dayNumber).getTime();\n                        }\n                        else {\n                            dayNumber = dayNumber + 1;\n                            if (dayNumber > daysInMonth) {\n                                dayNumber = dayNumber - daysInMonth;\n                                addClass += ' picker-calendar-day-next';\n                                dayDate = new Date(month + 1 > 11 ? year + 1 : year, month + 1 > 11 ? 0 : month + 1, dayNumber).getTime();\n                            }\n                            else {\n                                dayDate = new Date(year, month, dayNumber).getTime();\n                            }\n                        }\n                        // Today\n                        if (dayDate === today) addClass += ' picker-calendar-day-today';\n                        // Selected\n                        if (p.params.rangePicker && currentValues.length === 2) {\n                            if (dayDate >= currentValues[0] && dayDate <= currentValues[1]) addClass += ' picker-calendar-day-selected';\n                        }\n                        else {\n                            if (currentValues.indexOf(dayDate) >= 0) addClass += ' picker-calendar-day-selected';\n                        }\n                        // Weekend\n                        if (p.params.weekendDays.indexOf(weekDayIndex) >= 0) {\n                            addClass += ' picker-calendar-day-weekend';\n                        }\n                        // Has Events\n                        hasEvent = false;\n                        if (p.params.events) {\n                            if (p.dateInRange(dayDate, p.params.events)) {\n                                hasEvent = true;\n                            }\n                        }\n                        if (hasEvent) {\n                            addClass += ' picker-calendar-day-has-events';\n                        }\n                        // Custom Ranges\n                        if (p.params.rangesClasses) {\n                            for (k = 0; k < p.params.rangesClasses.length; k++) {\n                                if (p.dateInRange(dayDate, p.params.rangesClasses[k].range)) {\n                                    addClass += ' ' + p.params.rangesClasses[k].cssClass;\n                                }\n                            }\n                        }\n                        // Disabled\n                        disabled = false;\n                        if ((minDate && dayDate < minDate) || (maxDate && dayDate > maxDate)) {\n                            disabled = true;\n                        }\n                        if (p.params.disabled) {\n                            if (p.dateInRange(dayDate, p.params.disabled)) {\n                                disabled = true;\n                            }\n                        }\n                        if (disabled) {\n                            addClass += ' picker-calendar-day-disabled';\n                        }\n        \n        \n                        dayDate = new Date(dayDate);\n                        var dayYear = dayDate.getFullYear();\n                        var dayMonth = dayDate.getMonth();\n                        rowHTML += '<div data-year=\"' + dayYear + '\" data-month=\"' + dayMonth + '\" data-day=\"' + dayNumber + '\" class=\"picker-calendar-day' + (addClass) + '\" data-date=\"' + (dayYear + '-' + dayMonth + '-' + dayNumber) + '\"><span>'+dayNumber+'</span></div>';\n                    }\n                    monthHTML += '<div class=\"picker-calendar-row\">' + rowHTML + '</div>';\n                }\n                monthHTML = '<div class=\"picker-calendar-month\" data-year=\"' + year + '\" data-month=\"' + month + '\">' + monthHTML + '</div>';\n                return monthHTML;\n            };\n            p.animating = false;\n            p.updateCurrentMonthYear = function (dir) {\n                if (typeof dir === 'undefined') {\n                    p.currentMonth = parseInt(p.months.eq(1).attr('data-month'), 10);\n                    p.currentYear = parseInt(p.months.eq(1).attr('data-year'), 10);\n                }\n                else {\n                    p.currentMonth = parseInt(p.months.eq(dir === 'next' ? (p.months.length - 1) : 0).attr('data-month'), 10);\n                    p.currentYear = parseInt(p.months.eq(dir === 'next' ? (p.months.length - 1) : 0).attr('data-year'), 10);\n                }\n                p.container.find('.current-month-value').text(p.params.monthNames[p.currentMonth]);\n                p.container.find('.current-year-value').text(p.currentYear);\n        \n            };\n            p.onMonthChangeStart = function (dir) {\n                p.updateCurrentMonthYear(dir);\n                p.months.removeClass('picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next');\n                var currentIndex = dir === 'next' ? p.months.length - 1 : 0;\n        \n                p.months.eq(currentIndex).addClass('picker-calendar-month-current');\n                p.months.eq(dir === 'next' ? currentIndex - 1 : currentIndex + 1).addClass(dir === 'next' ? 'picker-calendar-month-prev' : 'picker-calendar-month-next');\n        \n                if (p.params.onMonthYearChangeStart) {\n                    p.params.onMonthYearChangeStart(p, p.currentYear, p.currentMonth);\n                }\n            };\n            p.onMonthChangeEnd = function (dir, rebuildBoth) {\n                p.animating = false;\n                var nextMonthHTML, prevMonthHTML, newMonthHTML;\n                p.wrapper.find('.picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)').remove();\n        \n                if (typeof dir === 'undefined') {\n                    dir = 'next';\n                    rebuildBoth = true;\n                }\n                if (!rebuildBoth) {\n                    newMonthHTML = p.monthHTML(new Date(p.currentYear, p.currentMonth), dir);\n                }\n                else {\n                    p.wrapper.find('.picker-calendar-month-next, .picker-calendar-month-prev').remove();\n                    prevMonthHTML = p.monthHTML(new Date(p.currentYear, p.currentMonth), 'prev');\n                    nextMonthHTML = p.monthHTML(new Date(p.currentYear, p.currentMonth), 'next');\n                }\n                if (dir === 'next' || rebuildBoth) {\n                    p.wrapper.append(newMonthHTML || nextMonthHTML);\n                }\n                if (dir === 'prev' || rebuildBoth) {\n                    p.wrapper.prepend(newMonthHTML || prevMonthHTML);\n                }\n                p.months = p.wrapper.find('.picker-calendar-month');\n                p.setMonthsTranslate(p.monthsTranslate);\n                if (p.params.onMonthAdd) {\n                    p.params.onMonthAdd(p, dir === 'next' ? p.months.eq(p.months.length - 1)[0] : p.months.eq(0)[0]);\n                }\n                if (p.params.onMonthYearChangeEnd) {\n                    p.params.onMonthYearChangeEnd(p, p.currentYear, p.currentMonth);\n                }\n            };\n            p.setMonthsTranslate = function (translate) {\n                translate = translate || p.monthsTranslate || 0;\n                if (typeof p.monthsTranslate === 'undefined') p.monthsTranslate = translate;\n                p.months.removeClass('picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next');\n                var prevMonthTranslate = -(translate + 1) * 100 * inverter;\n                var currentMonthTranslate = -translate * 100 * inverter;\n                var nextMonthTranslate = -(translate - 1) * 100 * inverter;\n                p.months.eq(0).transform('translate3d(' + (p.isH ? prevMonthTranslate : 0) + '%, ' + (p.isH ? 0 : prevMonthTranslate) + '%, 0)').addClass('picker-calendar-month-prev');\n                p.months.eq(1).transform('translate3d(' + (p.isH ? currentMonthTranslate : 0) + '%, ' + (p.isH ? 0 : currentMonthTranslate) + '%, 0)').addClass('picker-calendar-month-current');\n                p.months.eq(2).transform('translate3d(' + (p.isH ? nextMonthTranslate : 0) + '%, ' + (p.isH ? 0 : nextMonthTranslate) + '%, 0)').addClass('picker-calendar-month-next');\n            };\n            p.nextMonth = function (transition) {\n                if (typeof transition === 'undefined' || typeof transition === 'object') {\n                    transition = '';\n                    if (!p.params.animate) transition = 0;\n                }\n                var nextMonth = parseInt(p.months.eq(p.months.length - 1).attr('data-month'), 10);\n                var nextYear = parseInt(p.months.eq(p.months.length - 1).attr('data-year'), 10);\n                var nextDate = new Date(nextYear, nextMonth);\n                var nextDateTime = nextDate.getTime();\n                var transitionEndCallback = p.animating ? false : true;\n                if (p.params.maxDate) {\n                    if (nextDateTime > new Date(p.params.maxDate).getTime()) {\n                        return p.resetMonth();\n                    }\n                }\n                p.monthsTranslate --;\n                if (nextMonth === p.currentMonth) {\n                    var nextMonthTranslate = -(p.monthsTranslate) * 100 * inverter;\n                    var nextMonthHTML = $(p.monthHTML(nextDateTime, 'next')).transform('translate3d(' + (p.isH ? nextMonthTranslate : 0) + '%, ' + (p.isH ? 0 : nextMonthTranslate) + '%, 0)').addClass('picker-calendar-month-next');\n                    p.wrapper.append(nextMonthHTML[0]);\n                    p.months = p.wrapper.find('.picker-calendar-month');\n                    if (p.params.onMonthAdd) {\n                        p.params.onMonthAdd(p, p.months.eq(p.months.length - 1)[0]);\n                    }\n                }\n                p.animating = true;\n                p.onMonthChangeStart('next');\n                var translate = (p.monthsTranslate * 100) * inverter;\n        \n                p.wrapper.transition(transition).transform('translate3d(' + (p.isH ? translate : 0) + '%, ' + (p.isH ? 0 : translate) + '%, 0)');\n                if (transitionEndCallback) {\n                    p.wrapper.transitionEnd(function () {\n                        p.onMonthChangeEnd('next');\n                    });\n                }\n                if (!p.params.animate) {\n                    p.onMonthChangeEnd('next');\n                }\n            };\n            p.prevMonth = function (transition) {\n                if (typeof transition === 'undefined' || typeof transition === 'object') {\n                    transition = '';\n                    if (!p.params.animate) transition = 0;\n                }\n                var prevMonth = parseInt(p.months.eq(0).attr('data-month'), 10);\n                var prevYear = parseInt(p.months.eq(0).attr('data-year'), 10);\n                var prevDate = new Date(prevYear, prevMonth + 1, -1);\n                var prevDateTime = prevDate.getTime();\n                var transitionEndCallback = p.animating ? false : true;\n                if (p.params.minDate) {\n                    if (prevDateTime < new Date(p.params.minDate).getTime()) {\n                        return p.resetMonth();\n                    }\n                }\n                p.monthsTranslate ++;\n                if (prevMonth === p.currentMonth) {\n                    var prevMonthTranslate = -(p.monthsTranslate) * 100 * inverter;\n                    var prevMonthHTML = $(p.monthHTML(prevDateTime, 'prev')).transform('translate3d(' + (p.isH ? prevMonthTranslate : 0) + '%, ' + (p.isH ? 0 : prevMonthTranslate) + '%, 0)').addClass('picker-calendar-month-prev');\n                    p.wrapper.prepend(prevMonthHTML[0]);\n                    p.months = p.wrapper.find('.picker-calendar-month');\n                    if (p.params.onMonthAdd) {\n                        p.params.onMonthAdd(p, p.months.eq(0)[0]);\n                    }\n                }\n                p.animating = true;\n                p.onMonthChangeStart('prev');\n                var translate = (p.monthsTranslate * 100) * inverter;\n                p.wrapper.transition(transition).transform('translate3d(' + (p.isH ? translate : 0) + '%, ' + (p.isH ? 0 : translate) + '%, 0)');\n                if (transitionEndCallback) {\n                    p.wrapper.transitionEnd(function () {\n                        p.onMonthChangeEnd('prev');\n                    });\n                }\n                if (!p.params.animate) {\n                    p.onMonthChangeEnd('prev');\n                }\n            };\n            p.resetMonth = function (transition) {\n                if (typeof transition === 'undefined') transition = '';\n                var translate = (p.monthsTranslate * 100) * inverter;\n                p.wrapper.transition(transition).transform('translate3d(' + (p.isH ? translate : 0) + '%, ' + (p.isH ? 0 : translate) + '%, 0)');\n            };\n            p.setYearMonth = function (year, month, transition) {\n                if (typeof year === 'undefined') year = p.currentYear;\n                if (typeof month === 'undefined') month = p.currentMonth;\n                if (typeof transition === 'undefined' || typeof transition === 'object') {\n                    transition = '';\n                    if (!p.params.animate) transition = 0;\n                }\n                var targetDate;\n                if (year < p.currentYear) {\n                    targetDate = new Date(year, month + 1, -1).getTime();\n                }\n                else {\n                    targetDate = new Date(year, month).getTime();\n                }\n                if (p.params.maxDate && targetDate > new Date(p.params.maxDate).getTime()) {\n                    return false;\n                }\n                if (p.params.minDate && targetDate < new Date(p.params.minDate).getTime()) {\n                    return false;\n                }\n                var currentDate = new Date(p.currentYear, p.currentMonth).getTime();\n                var dir = targetDate > currentDate ? 'next' : 'prev';\n                var newMonthHTML = p.monthHTML(new Date(year, month));\n                p.monthsTranslate = p.monthsTranslate || 0;\n                var prevTranslate = p.monthsTranslate;\n                var monthTranslate, wrapperTranslate;\n                var transitionEndCallback = p.animating ? false : true;\n                if (targetDate > currentDate) {\n                    // To next\n                    p.monthsTranslate --;\n                    if (!p.animating) p.months.eq(p.months.length - 1).remove();\n                    p.wrapper.append(newMonthHTML);\n                    p.months = p.wrapper.find('.picker-calendar-month');\n                    monthTranslate = -(prevTranslate - 1) * 100 * inverter;\n                    p.months.eq(p.months.length - 1).transform('translate3d(' + (p.isH ? monthTranslate : 0) + '%, ' + (p.isH ? 0 : monthTranslate) + '%, 0)').addClass('picker-calendar-month-next');\n                }\n                else {\n                    // To prev\n                    p.monthsTranslate ++;\n                    if (!p.animating) p.months.eq(0).remove();\n                    p.wrapper.prepend(newMonthHTML);\n                    p.months = p.wrapper.find('.picker-calendar-month');\n                    monthTranslate = -(prevTranslate + 1) * 100 * inverter;\n                    p.months.eq(0).transform('translate3d(' + (p.isH ? monthTranslate : 0) + '%, ' + (p.isH ? 0 : monthTranslate) + '%, 0)').addClass('picker-calendar-month-prev');\n                }\n                if (p.params.onMonthAdd) {\n                    p.params.onMonthAdd(p, dir === 'next' ? p.months.eq(p.months.length - 1)[0] : p.months.eq(0)[0]);\n                }\n                p.animating = true;\n                p.onMonthChangeStart(dir);\n                wrapperTranslate = (p.monthsTranslate * 100) * inverter;\n                p.wrapper.transition(transition).transform('translate3d(' + (p.isH ? wrapperTranslate : 0) + '%, ' + (p.isH ? 0 : wrapperTranslate) + '%, 0)');\n                if (transitionEndCallback) {\n                   p.wrapper.transitionEnd(function () {\n                        p.onMonthChangeEnd(dir, true);\n                    });\n                }\n                if (!p.params.animate) {\n                    p.onMonthChangeEnd(dir);\n                }\n            };\n            p.nextYear = function () {\n                p.setYearMonth(p.currentYear + 1);\n            };\n            p.prevYear = function () {\n                p.setYearMonth(p.currentYear - 1);\n            };\n        \n        \n            // HTML Layout\n            p.layout = function () {\n                var pickerHTML = '';\n                var pickerClass = '';\n                var i;\n        \n                var layoutDate = p.value && p.value.length ? p.value[0] : new Date().setHours(0,0,0,0);\n                var prevMonthHTML = p.monthHTML(layoutDate, 'prev');\n                var currentMonthHTML = p.monthHTML(layoutDate);\n                var nextMonthHTML = p.monthHTML(layoutDate, 'next');\n                var monthsHTML = '<div class=\"picker-calendar-months\"><div class=\"picker-calendar-months-wrapper\">' + (prevMonthHTML + currentMonthHTML + nextMonthHTML) + '</div></div>';\n                // Week days header\n                var weekHeaderHTML = '';\n                if (p.params.weekHeader) {\n                    for (i = 0; i < 7; i++) {\n                        var weekDayIndex = (i + p.params.firstDay > 6) ? (i - 7 + p.params.firstDay) : (i + p.params.firstDay);\n                        var dayName = p.params.dayNamesShort[weekDayIndex];\n                        weekHeaderHTML += '<div class=\"picker-calendar-week-day ' + ((p.params.weekendDays.indexOf(weekDayIndex) >= 0) ? 'picker-calendar-week-day-weekend' : '') + '\"> ' + dayName + '</div>';\n        \n                    }\n                    weekHeaderHTML = '<div class=\"picker-calendar-week-days\">' + weekHeaderHTML + '</div>';\n                }\n                pickerClass = 'picker-modal picker-calendar' +\n                            (p.params.rangePicker ? ' picker-calendar-range' : '') +\n                            (p.params.cssClass ? ' ' + p.params.cssClass : '');\n                var toolbarHTML = p.params.toolbar ? p.params.toolbarTemplate.replace(/{{closeText}}/g, p.params.toolbarCloseText) : '';\n                if (p.params.toolbar) {\n                    toolbarHTML = p.params.toolbarTemplate\n                        .replace(/{{closeText}}/g, p.params.toolbarCloseText)\n                        .replace(/{{monthPicker}}/g, (p.params.monthPicker ? p.params.monthPickerTemplate : ''))\n                        .replace(/{{yearPicker}}/g, (p.params.yearPicker ? p.params.yearPickerTemplate : ''));\n                }\n                var headerHTML = p.params.header ? p.params.headerTemplate.replace(/{{closeText}}/g, p.params.toolbarCloseText).replace(/{{placeholder}}/g, p.params.headerPlaceholder) : '';\n                var footerHTML = p.params.footer ? p.params.footerTemplate.replace(/{{closeText}}/g, p.params.toolbarCloseText) : '';\n        \n                pickerHTML =\n                    '<div class=\"' + (pickerClass) + '\">' +\n                        headerHTML +\n                        footerHTML +\n                        toolbarHTML +\n                        '<div class=\"picker-modal-inner\">' +\n                            weekHeaderHTML +\n                            monthsHTML +\n                        '</div>' +\n                    '</div>';\n        \n        \n                p.pickerHTML = pickerHTML;\n            };\n        \n            // Input Events\n            function openOnInput(e) {\n                e.preventDefault();\n                if (p.opened) return;\n                p.open();\n                if (p.params.scrollToInput && !isPopover() && !app.params.material) {\n                    var pageContent = p.input.parents('.page-content');\n                    if (pageContent.length === 0) return;\n        \n                    var paddingTop = parseInt(pageContent.css('padding-top'), 10),\n                        paddingBottom = parseInt(pageContent.css('padding-bottom'), 10),\n                        pageHeight = pageContent[0].offsetHeight - paddingTop - p.container.height(),\n                        pageScrollHeight = pageContent[0].scrollHeight - paddingTop - p.container.height(),\n                        newPaddingBottom;\n        \n                    var inputTop = p.input.offset().top - paddingTop + p.input[0].offsetHeight;\n                    if (inputTop > pageHeight) {\n                        var scrollTop = pageContent.scrollTop() + inputTop - pageHeight;\n                        if (scrollTop + pageHeight > pageScrollHeight) {\n                            newPaddingBottom = scrollTop + pageHeight - pageScrollHeight + paddingBottom;\n                            if (pageHeight === pageScrollHeight) {\n                                newPaddingBottom = p.container.height();\n                            }\n                            pageContent.css({'padding-bottom': (newPaddingBottom) + 'px'});\n                        }\n                        pageContent.scrollTop(scrollTop, 300);\n                    }\n                }\n            }\n            function closeOnHTMLClick(e) {\n                if (inPopover()) return;\n                if (p.input && p.input.length > 0) {\n                    if (e.target !== p.input[0] && $(e.target).parents('.picker-modal').length === 0) p.close();\n                }\n                else {\n                    if ($(e.target).parents('.picker-modal').length === 0) p.close();\n                }\n            }\n        \n            if (p.params.input) {\n                p.input = $(p.params.input);\n                if (p.input.length > 0) {\n                    if (p.params.inputReadOnly) p.input.prop('readOnly', true);\n                    if (!p.inline) {\n                        p.input.on('click', openOnInput);\n                    }\n                    if (p.params.inputReadOnly) {\n                        p.input.on('focus mousedown', function (e) {\n                            e.preventDefault();\n                        });\n                    }\n                }\n        \n            }\n        \n            if (!p.inline && p.params.closeByOutsideClick) $('html').on('click', closeOnHTMLClick);\n        \n            // Open\n            function onPickerClose() {\n                p.opened = false;\n                if (p.input && p.input.length > 0) {\n                    p.input.parents('.page-content').css({'padding-bottom': ''});\n                    if (app.params.material) p.input.trigger('blur');\n                }\n                if (p.params.onClose) p.params.onClose(p);\n        \n                // Destroy events\n                p.destroyCalendarEvents();\n            }\n        \n            p.opened = false;\n            p.open = function () {\n                var toPopover = isPopover();\n                var updateValue = false;\n                if (!p.opened) {\n                    // Set date value\n                    if (!p.value) {\n                        if (p.params.value) {\n                            p.value = p.params.value;\n                            updateValue = true;\n                        }\n                    }\n        \n                    // Layout\n                    p.layout();\n        \n                    // Append\n                    if (toPopover) {\n                        p.pickerHTML = '<div class=\"popover popover-picker-calendar\"><div class=\"popover-inner\">' + p.pickerHTML + '</div></div>';\n                        p.popover = app.popover(p.pickerHTML, p.params.input, true);\n                        p.container = $(p.popover).find('.picker-modal');\n                        $(p.popover).on('close', function () {\n                            onPickerClose();\n                        });\n                    }\n                    else if (p.inline) {\n                        p.container = $(p.pickerHTML);\n                        p.container.addClass('picker-modal-inline');\n                        $(p.params.container).append(p.container);\n                    }\n                    else {\n                        p.container = $(app.pickerModal(p.pickerHTML));\n                        $(p.container)\n                        .on('close', function () {\n                            onPickerClose();\n                        });\n                    }\n        \n                    // Store calendar instance\n                    p.container[0].f7Calendar = p;\n                    p.wrapper = p.container.find('.picker-calendar-months-wrapper');\n        \n                    // Months\n                    p.months = p.wrapper.find('.picker-calendar-month');\n        \n                    // Update current month and year\n                    p.updateCurrentMonthYear();\n        \n                    // Set initial translate\n                    p.monthsTranslate = 0;\n                    p.setMonthsTranslate();\n        \n                    // Init events\n                    p.initCalendarEvents();\n        \n                    // Update input value\n                    if (updateValue) p.updateValue();\n                    else if (app.params.material && p.value) p.updateValue(true);\n        \n                    // Material Focus\n                    if (p.input && p.input.length > 0 && app.params.material) {\n                        p.input.trigger('focus');\n                    }\n        \n                }\n        \n                // Set flag\n                p.opened = true;\n                p.initialized = true;\n                if (p.params.onMonthAdd) {\n                    p.months.each(function () {\n                        p.params.onMonthAdd(p, this);\n                    });\n                }\n                if (p.params.onOpen) p.params.onOpen(p);\n            };\n        \n            // Close\n            p.close = function () {\n                if (!p.opened || p.inline) return;\n                if (inPopover()) {\n                    app.closeModal(p.popover);\n                    return;\n                }\n                else {\n                    app.closeModal(p.container);\n                    return;\n                }\n            };\n        \n            // Destroy\n            p.destroy = function () {\n                p.close();\n                if (p.params.input && p.input.length > 0) {\n                    p.input.off('click focus', openOnInput);\n                }\n                $('html').off('click', closeOnHTMLClick);\n            };\n        \n            if (p.inline) {\n                p.open();\n            }\n            else {\n                if (!p.initialized && p.params.value) p.setValue(p.params.value);\n            }\n        \n            return p;\n        };\n        app.calendar = function (params) {\n            return new Calendar(params);\n        };\n        \n\n        /*======================================================\n        ************   Notifications   ************\n        ======================================================*/\n        var _tempNotificationElement;\n        app.addNotification = function (params) {\n            if (!params) return;\n            \n            if (typeof params.media === 'undefined') params.media = app.params.notificationMedia;\n            if (typeof params.title === 'undefined') params.title = app.params.notificationTitle;\n            if (typeof params.subtitle === 'undefined') params.subtitle = app.params.notificationSubtitle;\n            if (typeof params.closeIcon === 'undefined') params.closeIcon = app.params.notificationCloseIcon;\n            if (typeof params.hold === 'undefined') params.hold = app.params.notificationHold;\n            if (typeof params.closeOnClick === 'undefined') params.closeOnClick = app.params.notificationCloseOnClick;\n            if (typeof params.button === 'undefined') params.button = app.params.notificationCloseButtonText && {\n                text: app.params.notificationCloseButtonText,\n                close: true\n            };\n        \n            if (!_tempNotificationElement) _tempNotificationElement = document.createElement('div');\n        \n            params.material = app.params.material;\n        \n            var container = $('.notifications');\n            if (container.length === 0) {\n                $('body').append('<div class=\"notifications list-block' + (params.material ? '' : ' media-list') + '\"><ul></ul></div>');\n                container = $('.notifications');\n            }\n            var list = container.children('ul');\n            \n            var notificationTemplate = app.params.notificationTemplate || \n                '{{#if custom}}' +\n                '<li>{{custom}}</li>' +\n                '{{else}}' +\n                '<li class=\"notification-item notification-hidden\">' +\n                    '<div class=\"item-content\">' +\n                        '{{#if material}}' +\n                            '<div class=\"item-inner\">' +\n                                '<div class=\"item-title\">{{js \"this.message || this.title || this.subtitle\"}}</div>' +\n                                '{{#if ../button}}{{#button}}' +\n                                '<div class=\"item-after\">' +\n                                    '<a href=\"#\" class=\"button {{#if color}}color-{{color}}{{/if}} {{#js_compare \"this.close !== false\"}}close-notification{{/js_compare}}\">{{text}}</a>' +\n                                '</div>' +\n                                '{{/button}}{{/if}}' +\n                            '</div>' +\n                        '{{else}}' +\n                            '{{#if media}}' +\n                            '<div class=\"item-media\">{{media}}</div>' +\n                            '{{/if}}' +\n                            '<div class=\"item-inner\">' +\n                                '<div class=\"item-title-row\">' +\n                                    '{{#if title}}' +\n                                    '<div class=\"item-title\">{{title}}</div>' +\n                                    '{{/if}}' +\n                                    '{{#if closeIcon}}' +\n                                    '<div class=\"item-after\"><a href=\"#\" class=\"close-notification\"><span></span></a></div>' +\n                                    '{{/if}}' +\n                                '</div>' +\n                                '{{#if subtitle}}' +\n                                '<div class=\"item-subtitle\">{{subtitle}}</div>' +\n                                '{{/if}}' +\n                                '{{#if message}}' +\n                                '<div class=\"item-text\">{{message}}</div>' +\n                                '</div>' +\n                            '{{/if}}' +\n                        '{{/if}}' +\n                    '</div>' +\n                '</li>' +\n                '{{/if}}';\n            if (!app._compiledTemplates.notification) {\n                app._compiledTemplates.notification = t7.compile(notificationTemplate);\n            }\n            _tempNotificationElement.innerHTML = app._compiledTemplates.notification(params);\n        \n            var item = $(_tempNotificationElement).children();\n        \n            item.on('click', function (e) {\n                var close = false;\n                var target = $(e.target);\n                if (params.material && target.hasClass('button')) {\n                    if (params.button && params.button.onClick) params.button.onClick.call(target[0], e, item[0]);\n                }\n                if (target.is('.close-notification') || $(e.target).parents('.close-notification').length > 0) {\n                    close = true;\n                }\n                else {\n                    if (params.onClick) params.onClick(e, item[0]);\n                    if (params.closeOnClick) close = true;\n                }\n                if (close) app.closeNotification(item[0]);\n            });\n            if (params.onClose) {\n                item.data('f7NotificationOnClose', function () {\n                    params.onClose(item[0]);\n                });\n            }\n            if (params.additionalClass) {\n                item.addClass(params.additionalClass);\n            }\n            if (params.hold) {\n                setTimeout(function () {\n                    if (item.length > 0) app.closeNotification(item[0]);\n                }, params.hold);\n            }\n        \n            list[params.material ? 'append' : 'prepend'](item[0]);\n            container.show();\n        \n            var itemHeight = item.outerHeight(), clientLeft;\n            if (params.material) {\n                container.transform('translate3d(0, '+itemHeight+'px, 0)');\n                container.transition(0);\n        \n                clientLeft = item[0].clientLeft;\n        \n                container.transform('translate3d(0, 0, 0)');\n                container.transition('');\n            }\n            else {\n                item.css('marginTop', -itemHeight + 'px');\n                item.transition(0);\n        \n                clientLeft = item[0].clientLeft;\n        \n                item.transition('');\n                item.css('marginTop', '0px');\n            }\n        \n            container.transform('translate3d(0, 0,0)');\n            item.removeClass('notification-hidden');\n        \n            return item[0];\n        };\n        app.closeNotification = function (item) {\n            item = $(item);\n            if (item.length === 0) return;\n            if (item.hasClass('notification-item-removing')) return;\n            var container = $('.notifications');\n        \n            var itemHeight = item.outerHeight();\n            item.css('height', itemHeight + 'px').transition(0).addClass('notification-item-removing');\n            var clientLeft = item[0].clientLeft;\n        \n            item.css('height', '0px').transition('');\n            if (item.data('f7NotificationOnClose')) item.data('f7NotificationOnClose')();\n        \n            if (container.find('.notification-item:not(.notification-item-removing)').length === 0) {\n                container.transform('');\n            }\n        \n            item.addClass('notification-hidden').transitionEnd(function () {\n                item.remove();\n                if (container.find('.notification-item').length === 0) {\n                    container.hide();\n                }\n            });\n        };\n\n        /*===========================\n        Compile Template7 Templates On App Init\n        ===========================*/\n        app.initTemplate7Templates = function () {\n            if (!window.Template7) return;\n            Template7.templates = Template7.templates || app.params.templates || {};\n            Template7.data = Template7.data || app.params.template7Data || {};\n            Template7.cache = Template7.cache || {};\n        \n            app.templates = Template7.templates;\n            app.template7Data = Template7.data;\n            app.template7Cache = Template7.cache;\n        \n            // Precompile templates on app init\n            if (!app.params.precompileTemplates) return;\n            $('script[type=\"text/template7\"]').each(function () {\n                var id = $(this).attr('id');\n                if (!id) return;\n                Template7.templates[id] = Template7.compile($(this).html());\n            });\n        };\n        \n\n        /*=======================================\n        ************   Plugins API   ************\n        =======================================*/\n        var _plugins = [];\n        app.initPlugins = function () {\n            // Initialize plugins\n            for (var plugin in app.plugins) {\n                var p = app.plugins[plugin](app, app.params[plugin]);\n                if (p) _plugins.push(p);\n            }\n        };\n        // Plugin Hooks\n        app.pluginHook = function (hook) {\n            for (var i = 0; i < _plugins.length; i++) {\n                if (_plugins[i].hooks && hook in _plugins[i].hooks) {\n                    _plugins[i].hooks[hook](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n                }\n            }\n        };\n        // Prevented by plugin\n        app.pluginPrevent = function (action) {\n            var prevent = false;\n            for (var i = 0; i < _plugins.length; i++) {\n                if (_plugins[i].prevents && action in _plugins[i].prevents) {\n                    if (_plugins[i].prevents[action](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])) prevent = true;\n                }\n            }\n            return prevent;\n        };\n        // Preprocess content by plugin\n        app.pluginProcess = function (process, data) {\n            var processed = data;\n            for (var i = 0; i < _plugins.length; i++) {\n                if (_plugins[i].preprocess && process in _plugins[i].preprocess) {\n                    processed = _plugins[i].preprocess[process](data, arguments[2], arguments[3], arguments[4], arguments[5], arguments[6]);\n                }\n            }\n            return processed;\n        };\n        \n        \n\n        /*======================================================\n        ************   App Init   ************\n        ======================================================*/\n        app.init = function () {\n            // Compile Template7 templates on app load\n            if (app.initTemplate7Templates) app.initTemplate7Templates();\n            \n            // Init Plugins\n            if (app.initPlugins) app.initPlugins();\n            \n            // Init Device\n            if (app.getDeviceInfo) app.getDeviceInfo();\n            \n            // Init Click events\n            if (app.initFastClicks && app.params.fastClicks) app.initFastClicks();\n            if (app.initClickEvents) app.initClickEvents();\n        \n            // Init each page callbacks\n            $('.page:not(.cached)').each(function () {\n                app.initPageWithCallback(this);\n            });\n        \n            // Init each navbar callbacks\n            $('.navbar:not(.cached)').each(function () {\n                app.initNavbarWithCallback(this); \n            });\n            \n            // Init resize events\n            if (app.initResize) app.initResize();\n        \n            // Init push state\n            if (app.initPushState && app.params.pushState) app.initPushState();\n        \n            // Init Live Swipeouts events\n            if (app.initSwipeout && app.params.swipeout) app.initSwipeout();\n        \n            // Init Live Sortable events\n            if (app.initSortable && app.params.sortable) app.initSortable();\n        \n            // Init Live Swipe Panels\n            if (app.initSwipePanels && (app.params.swipePanel || app.params.swipePanelOnlyClose)) app.initSwipePanels();\n            \n            // Init Material Inputs\n            if (app.params.material && app.initMaterialWatchInputs) app.initMaterialWatchInputs();\n            \n            // App Init callback\n            if (app.params.onAppInit) app.params.onAppInit();\n        \n            // Plugin app init hook\n            app.pluginHook('appInit');\n        };\n        if (app.params.init) app.init();\n        \n\n        //Return instance        \n        return app;\n    };\n    \n\n    /*===========================\n    Dom7 Library\n    ===========================*/\n    var Dom7 = (function () {\n        var Dom7 = function (arr) {\n            var _this = this, i = 0;\n            // Create array-like object\n            for (i = 0; i < arr.length; i++) {\n                _this[i] = arr[i];\n            }\n            _this.length = arr.length;\n            // Return collection with methods\n            return this;\n        };\n        var $ = function (selector, context) {\n            var arr = [], i = 0;\n            if (selector && !context) {\n                if (selector instanceof Dom7) {\n                    return selector;\n                }\n            }\n            if (selector) {\n                // String\n                if (typeof selector === 'string') {\n                    var els, tempParent, html;\n                    selector = html = selector.trim();\n                    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n                        var toCreate = 'div';\n                        if (html.indexOf('<li') === 0) toCreate = 'ul';\n                        if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n                        if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n                        if (html.indexOf('<tbody') === 0) toCreate = 'table';\n                        if (html.indexOf('<option') === 0) toCreate = 'select';\n                        tempParent = document.createElement(toCreate);\n                        tempParent.innerHTML = html;\n                        for (i = 0; i < tempParent.childNodes.length; i++) {\n                            arr.push(tempParent.childNodes[i]);\n                        }\n                    }\n                    else {\n                        if (!context && selector[0] === '#' && !selector.match(/[ .<>:~]/)) {\n                            // Pure ID selector\n                            els = [document.getElementById(selector.split('#')[1])];\n                        }\n                        else {\n                            // Other selectors\n                            els = (context || document).querySelectorAll(selector);\n                        }\n                        for (i = 0; i < els.length; i++) {\n                            if (els[i]) arr.push(els[i]);\n                        }\n                    }\n                }\n                // Node/element\n                else if (selector.nodeType || selector === window || selector === document) {\n                    arr.push(selector);\n                }\n                //Array of elements or instance of Dom\n                else if (selector.length > 0 && selector[0].nodeType) {\n                    for (i = 0; i < selector.length; i++) {\n                        arr.push(selector[i]);\n                    }\n                }\n            }\n            return new Dom7(arr);\n        };\n\n        Dom7.prototype = {\n            // Classes and attriutes\n            addClass: function (className) {\n                if (typeof className === 'undefined') {\n                    return this;\n                }\n                var classes = className.split(' ');\n                for (var i = 0; i < classes.length; i++) {\n                    for (var j = 0; j < this.length; j++) {\n                        if (typeof this[j].classList !== 'undefined') this[j].classList.add(classes[i]);\n                    }\n                }\n                return this;\n            },\n            removeClass: function (className) {\n                var classes = className.split(' ');\n                for (var i = 0; i < classes.length; i++) {\n                    for (var j = 0; j < this.length; j++) {\n                        if (typeof this[j].classList !== 'undefined') this[j].classList.remove(classes[i]);\n                    }\n                }\n                return this;\n            },\n            hasClass: function (className) {\n                if (!this[0]) return false;\n                else return this[0].classList.contains(className);\n            },\n            toggleClass: function (className) {\n                var classes = className.split(' ');\n                for (var i = 0; i < classes.length; i++) {\n                    for (var j = 0; j < this.length; j++) {\n                        if (typeof this[j].classList !== 'undefined') this[j].classList.toggle(classes[i]);\n                    }\n                }\n                return this;\n            },\n            attr: function (attrs, value) {\n                if (arguments.length === 1 && typeof attrs === 'string') {\n                    // Get attr\n                    if (this[0]) return this[0].getAttribute(attrs);\n                    else return undefined;\n                }\n                else {\n                    // Set attrs\n                    for (var i = 0; i < this.length; i++) {\n                        if (arguments.length === 2) {\n                            // String\n                            this[i].setAttribute(attrs, value);\n                        }\n                        else {\n                            // Object\n                            for (var attrName in attrs) {\n                                this[i][attrName] = attrs[attrName];\n                                this[i].setAttribute(attrName, attrs[attrName]);\n                            }\n                        }\n                    }\n                    return this;\n                }\n            },\n            removeAttr: function (attr) {\n                for (var i = 0; i < this.length; i++) {\n                    this[i].removeAttribute(attr);\n                }\n                return this;\n            },\n            prop: function (props, value) {\n                if (arguments.length === 1 && typeof props === 'string') {\n                    // Get prop\n                    if (this[0]) return this[0][props];\n                    else return undefined;\n                }\n                else {\n                    // Set props\n                    for (var i = 0; i < this.length; i++) {\n                        if (arguments.length === 2) {\n                            // String\n                            this[i][props] = value;\n                        }\n                        else {\n                            // Object\n                            for (var propName in props) {\n                                this[i][propName] = props[propName];\n                            }\n                        }\n                    }\n                    return this;\n                }\n            },\n            data: function (key, value) {\n                if (typeof value === 'undefined') {\n                    // Get value\n                    if (this[0]) {\n                        if (this[0].dom7ElementDataStorage && (key in this[0].dom7ElementDataStorage)) {\n                            return this[0].dom7ElementDataStorage[key];\n                        }\n                        else {\n                            var dataKey = this[0].getAttribute('data-' + key);    \n                            if (dataKey) {\n                                return dataKey;\n                            }\n                            else return undefined;\n                        }\n                    }\n                    else return undefined;\n                }\n                else {\n                    // Set value\n                    for (var i = 0; i < this.length; i++) {\n                        var el = this[i];\n                        if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n                        el.dom7ElementDataStorage[key] = value;\n                    }\n                    return this;\n                }\n            },\n            removeData: function(key) {\n                for (var i = 0; i < this.length; i++) {\n                    var el = this[i];\n                    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n                        el.dom7ElementDataStorage[key] = null;\n                        delete el.dom7ElementDataStorage[key];\n                    }\n                }\n            },\n            dataset: function () {\n                var el = this[0];\n                if (el) {\n                    var dataset = {};\n                    if (el.dataset) {\n                        for (var dataKey in el.dataset) {\n                            dataset[dataKey] = el.dataset[dataKey];\n                        }\n                    }\n                    else {\n                        for (var i = 0; i < el.attributes.length; i++) {\n                            var attr = el.attributes[i];\n                            if (attr.name.indexOf('data-') >= 0) {\n                                dataset[$.toCamelCase(attr.name.split('data-')[1])] = attr.value;\n                            }\n                        }\n                    }\n                    for (var key in dataset) {\n                        if (dataset[key] === 'false') dataset[key] = false;\n                        else if (dataset[key] === 'true') dataset[key] = true;\n                        else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] = dataset[key] * 1;\n                    }\n                    return dataset;\n                }\n                else return undefined;\n            },\n            val: function (value) {\n                if (typeof value === 'undefined') {\n                    if (this[0]) return this[0].value;\n                    else return undefined;\n                }\n                else {\n                    for (var i = 0; i < this.length; i++) {\n                        this[i].value = value;\n                    }\n                    return this;\n                }\n            },\n            // Transforms\n            transform : function (transform) {\n                for (var i = 0; i < this.length; i++) {\n                    var elStyle = this[i].style;\n                    elStyle.webkitTransform = elStyle.MsTransform = elStyle.msTransform = elStyle.MozTransform = elStyle.OTransform = elStyle.transform = transform;\n                }\n                return this;\n            },\n            transition: function (duration) {\n                if (typeof duration !== 'string') {\n                    duration = duration + 'ms';\n                }\n                for (var i = 0; i < this.length; i++) {\n                    var elStyle = this[i].style;\n                    elStyle.webkitTransitionDuration = elStyle.MsTransitionDuration = elStyle.msTransitionDuration = elStyle.MozTransitionDuration = elStyle.OTransitionDuration = elStyle.transitionDuration = duration;\n                }\n                return this;\n            },\n            //Events\n            on: function (eventName, targetSelector, listener, capture) {\n                function handleLiveEvent(e) {\n                    var target = e.target;\n                    if ($(target).is(targetSelector)) listener.call(target, e);\n                    else {\n                        var parents = $(target).parents();\n                        for (var k = 0; k < parents.length; k++) {\n                            if ($(parents[k]).is(targetSelector)) listener.call(parents[k], e);\n                        }\n                    }\n                }\n                var events = eventName.split(' ');\n                var i, j;\n                for (i = 0; i < this.length; i++) {\n                    if (typeof targetSelector === 'function' || targetSelector === false) {\n                        // Usual events\n                        if (typeof targetSelector === 'function') {\n                            listener = arguments[1];\n                            capture = arguments[2] || false;\n                        }\n                        for (j = 0; j < events.length; j++) {\n                            this[i].addEventListener(events[j], listener, capture);\n                        }\n                    }\n                    else {\n                        //Live events\n                        for (j = 0; j < events.length; j++) {\n                            if (!this[i].dom7LiveListeners) this[i].dom7LiveListeners = [];\n                            this[i].dom7LiveListeners.push({listener: listener, liveListener: handleLiveEvent});\n                            this[i].addEventListener(events[j], handleLiveEvent, capture);\n                        }\n                    }\n                }\n        \n                return this;\n            },\n            off: function (eventName, targetSelector, listener, capture) {\n                var events = eventName.split(' ');\n                for (var i = 0; i < events.length; i++) {\n                    for (var j = 0; j < this.length; j++) {\n                        if (typeof targetSelector === 'function' || targetSelector === false) {\n                            // Usual events\n                            if (typeof targetSelector === 'function') {\n                                listener = arguments[1];\n                                capture = arguments[2] || false;\n                            }\n                            this[j].removeEventListener(events[i], listener, capture);\n                        }\n                        else {\n                            // Live event\n                            if (this[j].dom7LiveListeners) {\n                                for (var k = 0; k < this[j].dom7LiveListeners.length; k++) {\n                                    if (this[j].dom7LiveListeners[k].listener === listener) {\n                                        this[j].removeEventListener(events[i], this[j].dom7LiveListeners[k].liveListener, capture);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n                return this;\n            },\n            once: function (eventName, targetSelector, listener, capture) {\n                var dom = this;\n                if (typeof targetSelector === 'function') {\n                    listener = arguments[1];\n                    capture = arguments[2];\n                    targetSelector = false;\n                }\n                function proxy(e) {\n                    listener.call(e.target, e);\n                    dom.off(eventName, targetSelector, proxy, capture);\n                }\n                return dom.on(eventName, targetSelector, proxy, capture);\n            },\n            trigger: function (eventName, eventData) {\n                var events = eventName.split(' ');\n                for (var i = 0; i < events.length; i++) {\n                    for (var j = 0; j < this.length; j++) {\n                        var evt;\n                        try {\n                            evt = new CustomEvent(events[i], {detail: eventData, bubbles: true, cancelable: true});\n                        }\n                        catch (e) {\n                            evt = document.createEvent('Event');\n                            evt.initEvent(events[i], true, true);\n                            evt.detail = eventData;\n                        }\n                        this[j].dispatchEvent(evt);\n                    }\n                }\n                return this;\n            },\n            transitionEnd: function (callback) {\n                var events = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'],\n                    i, j, dom = this;\n                function fireCallBack(e) {\n                    /*jshint validthis:true */\n                    if (e.target !== this) return;\n                    callback.call(this, e);\n                    for (i = 0; i < events.length; i++) {\n                        dom.off(events[i], fireCallBack);\n                    }\n                }\n                if (callback) {\n                    for (i = 0; i < events.length; i++) {\n                        dom.on(events[i], fireCallBack);\n                    }\n                }\n                return this;\n            },\n            animationEnd: function (callback) {\n                var events = ['webkitAnimationEnd', 'OAnimationEnd', 'MSAnimationEnd', 'animationend'],\n                    i, j, dom = this;\n                function fireCallBack(e) {\n                    callback(e);\n                    for (i = 0; i < events.length; i++) {\n                        dom.off(events[i], fireCallBack);\n                    }\n                }\n                if (callback) {\n                    for (i = 0; i < events.length; i++) {\n                        dom.on(events[i], fireCallBack);\n                    }\n                }\n                return this;\n            },\n            // Sizing/Styles\n            width: function () {\n                if (this[0] === window) {\n                    return window.innerWidth;\n                }\n                else {\n                    if (this.length > 0) {\n                        return parseFloat(this.css('width'));\n                    }\n                    else {\n                        return null;\n                    }\n                }\n            },\n            outerWidth: function (includeMargins) {\n                if (this.length > 0) {\n                    if (includeMargins) {\n                        var styles = this.styles();\n                        return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));    \n                    }\n                    else\n                        return this[0].offsetWidth;\n                }\n                else return null;\n            },\n            height: function () {\n                if (this[0] === window) {\n                    return window.innerHeight;\n                }\n                else {\n                    if (this.length > 0) {\n                        return parseFloat(this.css('height'));\n                    }\n                    else {\n                        return null;\n                    }\n                }\n            },\n            outerHeight: function (includeMargins) {\n                if (this.length > 0) {\n                    if (includeMargins) {\n                        var styles = this.styles();\n                        return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));    \n                    }\n                    else\n                        return this[0].offsetHeight;\n                }\n                else return null;\n            },\n            offset: function () {\n                if (this.length > 0) {\n                    var el = this[0];\n                    var box = el.getBoundingClientRect();\n                    var body = document.body;\n                    var clientTop  = el.clientTop  || body.clientTop  || 0;\n                    var clientLeft = el.clientLeft || body.clientLeft || 0;\n                    var scrollTop  = window.pageYOffset || el.scrollTop;\n                    var scrollLeft = window.pageXOffset || el.scrollLeft;\n                    return {\n                        top: box.top  + scrollTop  - clientTop,\n                        left: box.left + scrollLeft - clientLeft\n                    };\n                }\n                else {\n                    return null;\n                }\n            },\n            hide: function () {\n                for (var i = 0; i < this.length; i++) {\n                    this[i].style.display = 'none';\n                }\n                return this;\n            },\n            show: function () {\n                for (var i = 0; i < this.length; i++) {\n                    this[i].style.display = 'block';\n                }\n                return this;\n            },\n            styles: function () {\n                var i, styles;\n                if (this[0]) return window.getComputedStyle(this[0], null);\n                else return undefined;\n            },\n            css: function (props, value) {\n                var i;\n                if (arguments.length === 1) {\n                    if (typeof props === 'string') {\n                        if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n                    }\n                    else {\n                        for (i = 0; i < this.length; i++) {\n                            for (var prop in props) {\n                                this[i].style[prop] = props[prop];\n                            }\n                        }\n                        return this;\n                    }\n                }\n                if (arguments.length === 2 && typeof props === 'string') {\n                    for (i = 0; i < this.length; i++) {\n                        this[i].style[props] = value;\n                    }\n                    return this;\n                }\n                return this;\n            },\n        \n            //Dom manipulation\n            each: function (callback) {\n                for (var i = 0; i < this.length; i++) {\n                    callback.call(this[i], i, this[i]);\n                }\n                return this;\n            },\n            filter: function (callback) {\n                var matchedItems = [];\n                var dom = this;\n                for (var i = 0; i < dom.length; i++) {\n                    if (callback.call(dom[i], i, dom[i])) matchedItems.push(dom[i]);\n                }\n                return new Dom7(matchedItems);\n            },\n            html: function (html) {\n                if (typeof html === 'undefined') {\n                    return this[0] ? this[0].innerHTML : undefined;\n                }\n                else {\n                    for (var i = 0; i < this.length; i++) {\n                        this[i].innerHTML = html;\n                    }\n                    return this;\n                }\n            },\n            text: function (text) {\n                if (typeof text === 'undefined') {\n                    if (this[0]) {\n                        return this[0].textContent.trim();\n                    }\n                    else return null;\n                }\n                else {\n                    for (var i = 0; i < this.length; i++) {\n                        this[i].textContent = text;\n                    }\n                    return this;\n                }\n            },\n            is: function (selector) {\n                if (!this[0] || typeof selector === 'undefined') return false;\n                var compareWith, i;\n                if (typeof selector === 'string') {\n                    var el = this[0];\n                    if (el === document) return selector === document;\n                    if (el === window) return selector === window;\n        \n                    if (el.matches) return el.matches(selector);\n                    else if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n                    else if (el.mozMatchesSelector) return el.mozMatchesSelector(selector);\n                    else if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n                    else {\n                        compareWith = $(selector);\n                        for (i = 0; i < compareWith.length; i++) {\n                            if (compareWith[i] === this[0]) return true;\n                        }\n                        return false;\n                    }\n                }\n                else if (selector === document) return this[0] === document;\n                else if (selector === window) return this[0] === window;\n                else {\n                    if (selector.nodeType || selector instanceof Dom7) {\n                        compareWith = selector.nodeType ? [selector] : selector;\n                        for (i = 0; i < compareWith.length; i++) {\n                            if (compareWith[i] === this[0]) return true;\n                        }\n                        return false;\n                    }\n                    return false;\n                }\n        \n            },\n            indexOf: function (el) {\n                for (var i = 0; i < this.length; i++) {\n                    if (this[i] === el) return i;\n                }\n            },\n            index: function () {\n                if (this[0]) {\n                    var child = this[0];\n                    var i = 0;\n                    while ((child = child.previousSibling) !== null) {\n                        if (child.nodeType === 1) i++;\n                    }\n                    return i;\n                }\n                else return undefined;\n            },\n            eq: function (index) {\n                if (typeof index === 'undefined') return this;\n                var length = this.length;\n                var returnIndex;\n                if (index > length - 1) {\n                    return new Dom7([]);\n                }\n                if (index < 0) {\n                    returnIndex = length + index;\n                    if (returnIndex < 0) return new Dom7([]);\n                    else return new Dom7([this[returnIndex]]);\n                }\n                return new Dom7([this[index]]);\n            },\n            append: function (newChild) {\n                var i, j;\n                for (i = 0; i < this.length; i++) {\n                    if (typeof newChild === 'string') {\n                        var tempDiv = document.createElement('div');\n                        tempDiv.innerHTML = newChild;\n                        while (tempDiv.firstChild) {\n                            this[i].appendChild(tempDiv.firstChild);\n                        }\n                    }\n                    else if (newChild instanceof Dom7) {\n                        for (j = 0; j < newChild.length; j++) {\n                            this[i].appendChild(newChild[j]);\n                        }\n                    }\n                    else {\n                        this[i].appendChild(newChild);\n                    }\n                }\n                return this;\n            },\n            appendTo: function (parent) {\n                $(parent).append(this);\n                return this;\n            },\n            prepend: function (newChild) {\n                var i, j;\n                for (i = 0; i < this.length; i++) {\n                    if (typeof newChild === 'string') {\n                        var tempDiv = document.createElement('div');\n                        tempDiv.innerHTML = newChild;\n                        for (j = tempDiv.childNodes.length - 1; j >= 0; j--) {\n                            this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n                        }\n                        // this[i].insertAdjacentHTML('afterbegin', newChild);\n                    }\n                    else if (newChild instanceof Dom7) {\n                        for (j = 0; j < newChild.length; j++) {\n                            this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n                        }\n                    }\n                    else {\n                        this[i].insertBefore(newChild, this[i].childNodes[0]);\n                    }\n                }\n                return this;\n            },\n            prependTo: function (parent) {\n                $(parent).prepend(this);\n                return this;\n            },\n            insertBefore: function (selector) {\n                var before = $(selector);\n                for (var i = 0; i < this.length; i++) {\n                    if (before.length === 1) {\n                        before[0].parentNode.insertBefore(this[i], before[0]);\n                    }\n                    else if (before.length > 1) {\n                        for (var j = 0; j < before.length; j++) {\n                            before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n                        }\n                    }\n                }\n            },\n            insertAfter: function (selector) {\n                var after = $(selector);\n                for (var i = 0; i < this.length; i++) {\n                    if (after.length === 1) {\n                        after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n                    }\n                    else if (after.length > 1) {\n                        for (var j = 0; j < after.length; j++) {\n                            after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n                        }\n                    }\n                }\n            },\n            next: function (selector) {\n                if (this.length > 0) {\n                    if (selector) {\n                        if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) return new Dom7([this[0].nextElementSibling]);\n                        else return new Dom7([]);\n                    }\n                    else {\n                        if (this[0].nextElementSibling) return new Dom7([this[0].nextElementSibling]);\n                        else return new Dom7([]);\n                    }\n                }\n                else return new Dom7([]);\n            },\n            nextAll: function (selector) {\n                var nextEls = [];\n                var el = this[0];\n                if (!el) return new Dom7([]);\n                while (el.nextElementSibling) {\n                    var next = el.nextElementSibling;\n                    if (selector) {\n                        if($(next).is(selector)) nextEls.push(next);\n                    }\n                    else nextEls.push(next);\n                    el = next;\n                }\n                return new Dom7(nextEls);\n            },\n            prev: function (selector) {\n                if (this.length > 0) {\n                    if (selector) {\n                        if (this[0].previousElementSibling && $(this[0].previousElementSibling).is(selector)) return new Dom7([this[0].previousElementSibling]);\n                        else return new Dom7([]);\n                    }\n                    else {\n                        if (this[0].previousElementSibling) return new Dom7([this[0].previousElementSibling]);\n                        else return new Dom7([]);\n                    }\n                }\n                else return new Dom7([]);\n            },\n            prevAll: function (selector) {\n                var prevEls = [];\n                var el = this[0];\n                if (!el) return new Dom7([]);\n                while (el.previousElementSibling) {\n                    var prev = el.previousElementSibling;\n                    if (selector) {\n                        if($(prev).is(selector)) prevEls.push(prev);\n                    }\n                    else prevEls.push(prev);\n                    el = prev;\n                }\n                return new Dom7(prevEls);\n            },\n            parent: function (selector) {\n                var parents = [];\n                for (var i = 0; i < this.length; i++) {\n                    if (this[i].parentNode !== null) {\n                        if (selector) {\n                            if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n                        }\n                        else {\n                           parents.push(this[i].parentNode);\n                        }\n                    }\n                }\n                return $($.unique(parents));\n            },\n            parents: function (selector) {\n                var parents = [];\n                for (var i = 0; i < this.length; i++) {\n                    var parent = this[i].parentNode;\n                    while (parent) {\n                        if (selector) {\n                            if ($(parent).is(selector)) parents.push(parent);\n                        }\n                        else {\n                            parents.push(parent);\n                        }\n                        parent = parent.parentNode;\n                    }\n                }\n                return $($.unique(parents));\n            },\n            closest: function (selector) {\n                var closest = this;\n                if (typeof selector === 'undefined') {\n                    return new Dom7([]);\n                }\n                if (!closest.is(selector)) {\n                    closest = closest.parents(selector).eq(0);\n                }\n                return closest;\n            },\n            find : function (selector) {\n                var foundElements = [];\n                for (var i = 0; i < this.length; i++) {\n                    var found = this[i].querySelectorAll(selector);\n                    for (var j = 0; j < found.length; j++) {\n                        foundElements.push(found[j]);\n                    }\n                }\n                return new Dom7(foundElements);\n            },\n            children: function (selector) {\n                var children = [];\n                for (var i = 0; i < this.length; i++) {\n                    var childNodes = this[i].childNodes;\n        \n                    for (var j = 0; j < childNodes.length; j++) {\n                        if (!selector) {\n                            if (childNodes[j].nodeType === 1) children.push(childNodes[j]);\n                        }\n                        else {\n                            if (childNodes[j].nodeType === 1 && $(childNodes[j]).is(selector)) children.push(childNodes[j]);\n                        }\n                    }\n                }\n                return new Dom7($.unique(children));\n            },\n            remove: function () {\n                for (var i = 0; i < this.length; i++) {\n                    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n                }\n                return this;\n            },\n            detach: function () {\n                return this.remove();\n            },\n            add: function () {\n                var dom = this;\n                var i, j;\n                for (i = 0; i < arguments.length; i++) {\n                    var toAdd = $(arguments[i]);\n                    for (j = 0; j < toAdd.length; j++) {\n                        dom[dom.length] = toAdd[j];\n                        dom.length++;\n                    }\n                }\n                return dom;\n            }\n        };\n        \n        // Shortcuts\n        (function () {\n            var shortcuts = ('click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll').split(' ');\n            var notTrigger = ('resize scroll').split(' ');\n            function createMethod(name) {\n                Dom7.prototype[name] = function (targetSelector, listener, capture) {\n                    var i;\n                    if (typeof targetSelector === 'undefined') {\n                        for (i = 0; i < this.length; i++) {\n                            if (notTrigger.indexOf(name) < 0) {\n                                if (name in this[i]) this[i][name]();\n                                else {\n                                    $(this[i]).trigger(name);\n                                }\n                            }\n                        }\n                        return this;\n                    }\n                    else {\n                        return this.on(name, targetSelector, listener, capture);\n                    }\n                };\n            }\n            for (var i = 0; i < shortcuts.length; i++) {\n                createMethod(shortcuts[i]);\n            }\n        })();\n        \n\n        // Global Ajax Setup\n        var globalAjaxOptions = {};\n        $.ajaxSetup = function (options) {\n            if (options.type) options.method = options.type;\n            $.each(options, function (optionName, optionValue) {\n                globalAjaxOptions[optionName]  = optionValue;\n            });\n        };\n        \n        // Ajax\n        var _jsonpRequests = 0;\n        $.ajax = function (options) {\n            var defaults = {\n                method: 'GET',\n                data: false,\n                async: true,\n                cache: true,\n                user: '',\n                password: '',\n                headers: {},\n                xhrFields: {},\n                statusCode: {},\n                processData: true,\n                dataType: 'text',\n                contentType: 'application/x-www-form-urlencoded',\n                timeout: 0\n            };\n            var callbacks = ['beforeSend', 'error', 'complete', 'success', 'statusCode'];\n        \n        \n            //For jQuery guys\n            if (options.type) options.method = options.type;\n        \n            // Merge global and defaults\n            $.each(globalAjaxOptions, function (globalOptionName, globalOptionValue) {\n                if (callbacks.indexOf(globalOptionName) < 0) defaults[globalOptionName] = globalOptionValue;\n            });\n        \n            // Function to run XHR callbacks and events\n            function fireAjaxCallback (eventName, eventData, callbackName) {\n                var a = arguments;\n                if (eventName) $(document).trigger(eventName, eventData);\n                if (callbackName) {\n                    // Global callback\n                    if (callbackName in globalAjaxOptions) globalAjaxOptions[callbackName](a[3], a[4], a[5], a[6]);\n                    // Options callback\n                    if (options[callbackName]) options[callbackName](a[3], a[4], a[5], a[6]);\n                }\n            }\n        \n            // Merge options and defaults\n            $.each(defaults, function (prop, defaultValue) {\n                if (!(prop in options)) options[prop] = defaultValue;\n            });\n        \n            // Default URL\n            if (!options.url) {\n                options.url = window.location.toString();\n            }\n            // Parameters Prefix\n            var paramsPrefix = options.url.indexOf('?') >= 0 ? '&' : '?';\n        \n            // UC method\n            var _method = options.method.toUpperCase();\n            // Data to modify GET URL\n            if ((_method === 'GET' || _method === 'HEAD' || _method === 'OPTIONS' || _method === 'DELETE') && options.data) {\n                var stringData;\n                if (typeof options.data === 'string') {\n                    // Should be key=value string\n                    if (options.data.indexOf('?') >= 0) stringData = options.data.split('?')[1];\n                    else stringData = options.data;\n                }\n                else {\n                    // Should be key=value object\n                    stringData = $.serializeObject(options.data);\n                }\n                if (stringData.length) {\n                    options.url += paramsPrefix + stringData;\n                    if (paramsPrefix === '?') paramsPrefix = '&';\n                }\n            }\n            // JSONP\n            if (options.dataType === 'json' && options.url.indexOf('callback=') >= 0) {\n        \n                var callbackName = 'f7jsonp_' + Date.now() + (_jsonpRequests++);\n                var abortTimeout;\n                var callbackSplit = options.url.split('callback=');\n                var requestUrl = callbackSplit[0] + 'callback=' + callbackName;\n                if (callbackSplit[1].indexOf('&') >= 0) {\n                    var addVars = callbackSplit[1].split('&').filter(function (el) { return el.indexOf('=') > 0; }).join('&');\n                    if (addVars.length > 0) requestUrl += '&' + addVars;\n                }\n        \n                // Create script\n                var script = document.createElement('script');\n                script.type = 'text/javascript';\n                script.onerror = function() {\n                    clearTimeout(abortTimeout);\n                    fireAjaxCallback(undefined, undefined, 'error', null, 'scripterror');\n                };\n                script.src = requestUrl;\n        \n                // Handler\n                window[callbackName] = function (data) {\n                    clearTimeout(abortTimeout);\n                    fireAjaxCallback(undefined, undefined, 'success', data);\n                    script.parentNode.removeChild(script);\n                    script = null;\n                    delete window[callbackName];\n                };\n                document.querySelector('head').appendChild(script);\n        \n                if (options.timeout > 0) {\n                    abortTimeout = setTimeout(function () {\n                        script.parentNode.removeChild(script);\n                        script = null;\n                        fireAjaxCallback(undefined, undefined, 'error', null, 'timeout');\n                    }, options.timeout);\n                }\n        \n                return;\n            }\n        \n            // Cache for GET/HEAD requests\n            if (_method === 'GET' || _method === 'HEAD' || _method === 'OPTIONS' || _method === 'DELETE') {\n                if (options.cache === false) {\n                    options.url += (paramsPrefix + '_nocache=' + Date.now());\n                }\n            }\n        \n            // Create XHR\n            var xhr = new XMLHttpRequest();\n        \n            // Save Request URL\n            xhr.requestUrl = options.url;\n            xhr.requestParameters = options;\n        \n            // Open XHR\n            xhr.open(_method, options.url, options.async, options.user, options.password);\n        \n            // Create POST Data\n            var postData = null;\n        \n            if ((_method === 'POST' || _method === 'PUT' || _method === 'PATCH') && options.data) {\n                if (options.processData) {\n                    var postDataInstances = [ArrayBuffer, Blob, Document, FormData];\n                    // Post Data\n                    if (postDataInstances.indexOf(options.data.constructor) >= 0) {\n                        postData = options.data;\n                    }\n                    else {\n                        // POST Headers\n                        var boundary = '---------------------------' + Date.now().toString(16);\n        \n                        if (options.contentType === 'multipart\\/form-data') {\n                            xhr.setRequestHeader('Content-Type', 'multipart\\/form-data; boundary=' + boundary);\n                        }\n                        else {\n                            xhr.setRequestHeader('Content-Type', options.contentType);\n                        }\n                        postData = '';\n                        var _data = $.serializeObject(options.data);\n                        if (options.contentType === 'multipart\\/form-data') {\n                            boundary = '---------------------------' + Date.now().toString(16);\n                            _data = _data.split('&');\n                            var _newData = [];\n                            for (var i = 0; i < _data.length; i++) {\n                                _newData.push('Content-Disposition: form-data; name=\"' + _data[i].split('=')[0] + '\"\\r\\n\\r\\n' + _data[i].split('=')[1] + '\\r\\n');\n                            }\n                            postData = '--' + boundary + '\\r\\n' + _newData.join('--' + boundary + '\\r\\n') + '--' + boundary + '--\\r\\n';\n                        }\n                        else {\n                            postData = options.contentType === 'application/x-www-form-urlencoded' ? _data : _data.replace(/&/g, '\\r\\n');\n                        }\n                    }\n                }\n                else {\n                    postData = options.data;\n                }\n        \n            }\n        \n            // Additional headers\n            if (options.headers) {\n                $.each(options.headers, function (headerName, headerCallback) {\n                    xhr.setRequestHeader(headerName, headerCallback);\n                });\n            }\n        \n            // Check for crossDomain\n            if (typeof options.crossDomain === 'undefined') {\n                options.crossDomain = /^([\\w-]+:)?\\/\\/([^\\/]+)/.test(options.url) && RegExp.$2 !== window.location.host;\n            }\n        \n            if (!options.crossDomain) {\n                xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n            }\n        \n            if (options.xhrFields) {\n                $.each(options.xhrFields, function (fieldName, fieldValue) {\n                    xhr[fieldName] = fieldValue;\n                });\n            }\n        \n            var xhrTimeout;\n            // Handle XHR\n            xhr.onload = function (e) {\n                if (xhrTimeout) clearTimeout(xhrTimeout);\n                if ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 0) {\n                    var responseData;\n                    if (options.dataType === 'json') {\n                        try {\n                            responseData = JSON.parse(xhr.responseText);\n                            fireAjaxCallback('ajaxSuccess', {xhr: xhr}, 'success', responseData, xhr.status, xhr);\n                        }\n                        catch (err) {\n                            fireAjaxCallback('ajaxError', {xhr: xhr, parseerror: true}, 'error', xhr, 'parseerror');\n                        }\n                    }\n                    else {\n                        responseData = xhr.responseType === 'text' || xhr.responseType === '' ? xhr.responseText : xhr.response;\n                        fireAjaxCallback('ajaxSuccess', {xhr: xhr}, 'success', responseData, xhr.status, xhr);\n                    }\n                }\n                else {\n                    fireAjaxCallback('ajaxError', {xhr: xhr}, 'error', xhr, xhr.status);\n                }\n                if (options.statusCode) {\n                    if (globalAjaxOptions.statusCode && globalAjaxOptions.statusCode[xhr.status]) globalAjaxOptions.statusCode[xhr.status](xhr);\n                    if (options.statusCode[xhr.status]) options.statusCode[xhr.status](xhr);\n                }\n                fireAjaxCallback('ajaxComplete', {xhr: xhr}, 'complete', xhr, xhr.status);\n            };\n        \n            xhr.onerror = function (e) {\n                if (xhrTimeout) clearTimeout(xhrTimeout);\n                fireAjaxCallback('ajaxError', {xhr: xhr}, 'error', xhr, xhr.status);\n            };\n        \n            // Ajax start callback\n            fireAjaxCallback('ajaxStart', {xhr: xhr}, 'start', xhr);\n            fireAjaxCallback(undefined, undefined, 'beforeSend', xhr);\n        \n        \n            // Send XHR\n            xhr.send(postData);\n        \n            // Timeout\n            if (options.timeout > 0) {\n                xhr.onabort = function () {\n                    if (xhrTimeout) clearTimeout(xhrTimeout);\n                };\n                xhrTimeout = setTimeout(function () {\n                    xhr.abort();\n                    fireAjaxCallback('ajaxError', {xhr: xhr, timeout: true}, 'error', xhr, 'timeout');\n                    fireAjaxCallback('ajaxComplete', {xhr: xhr, timeout: true}, 'complete', xhr, 'timeout');\n                }, options.timeout);\n            }\n        \n            // Return XHR object\n            return xhr;\n        };\n        // Shrotcuts\n        (function () {\n            var methods = ('get post getJSON').split(' ');\n            function createMethod(method) {\n                $[method] = function (url, data, success) {\n                    return $.ajax({\n                        url: url,\n                        method: method === 'post' ? 'POST' : 'GET',\n                        data: typeof data === 'function' ? undefined : data,\n                        success: typeof data === 'function' ? data : success,\n                        dataType: method === 'getJSON' ? 'json' : undefined\n                    });\n                };\n            }\n            for (var i = 0; i < methods.length; i++) {\n                createMethod(methods[i]);\n            }\n        })();\n        \n\n        // DOM Library Utilites\n        $.parseUrlQuery = function (url) {\n            var query = {}, i, params, param;\n            if (url.indexOf('?') >= 0) url = url.split('?')[1];\n            else return query;\n            params = url.split('&');\n            for (i = 0; i < params.length; i++) {\n                param = params[i].split('=');\n                query[param[0]] = param[1];\n            }\n            return query;\n        };\n        $.isArray = function (arr) {\n            if (Object.prototype.toString.apply(arr) === '[object Array]') return true;\n            else return false;\n        };\n        $.each = function (obj, callback) {\n            if (typeof obj !== 'object') return;\n            if (!callback) return;\n            var i, prop;\n            if ($.isArray(obj) || obj instanceof Dom7) {\n                // Array\n                for (i = 0; i < obj.length; i++) {\n                    callback(i, obj[i]);\n                }\n            }\n            else {\n                // Object\n                for (prop in obj) {\n                    if (obj.hasOwnProperty(prop)) {\n                        callback(prop, obj[prop]);\n                    }\n                }\n            }\n        };\n        $.unique = function (arr) {\n            var unique = [];\n            for (var i = 0; i < arr.length; i++) {\n                if (unique.indexOf(arr[i]) === -1) unique.push(arr[i]);\n            }\n            return unique;\n        };\n        $.serializeObject = $.param = function (obj, parents) {\n            if (typeof obj === 'string') return obj;\n            var resultArray = [];\n            var separator = '&';\n            parents = parents || [];\n            var newParents;\n            function var_name(name) {\n                if (parents.length > 0) {\n                    var _parents = '';\n                    for (var j = 0; j < parents.length; j++) {\n                        if (j === 0) _parents += parents[j];\n                        else _parents += '[' + encodeURIComponent(parents[j]) + ']';\n                    }\n                    return _parents + '[' + encodeURIComponent(name) + ']';\n                }\n                else {\n                    return encodeURIComponent(name);\n                }\n            }\n            function var_value(value) {\n                return encodeURIComponent(value);\n            }\n            for (var prop in obj) {\n                if (obj.hasOwnProperty(prop)) {\n                    var toPush;\n                    if ($.isArray(obj[prop])) {\n                        toPush = [];\n                        for (var i = 0; i < obj[prop].length; i ++) {\n                            if (!$.isArray(obj[prop][i]) && typeof obj[prop][i] === 'object') {\n                                newParents = parents.slice();\n                                newParents.push(prop);\n                                newParents.push(i + '');\n                                toPush.push($.serializeObject(obj[prop][i], newParents));\n                            }\n                            else {\n                                toPush.push(var_name(prop) + '[]=' + var_value(obj[prop][i]));\n                            }\n                            \n                        }\n                        if (toPush.length > 0) resultArray.push(toPush.join(separator));\n                    }\n                    else if (typeof obj[prop] === 'object') {\n                        // Object, convert to named array\n                        newParents = parents.slice();\n                        newParents.push(prop);\n                        toPush = $.serializeObject(obj[prop], newParents);\n                        if (toPush !== '') resultArray.push(toPush);\n                    }\n                    else if (typeof obj[prop] !== 'undefined' && obj[prop] !== '') {\n                        // Should be string or plain value\n                        resultArray.push(var_name(prop) + '=' + var_value(obj[prop]));\n                    }\n                }\n            }\n            return resultArray.join(separator);\n        };\n        $.toCamelCase = function (string) {\n            return string.toLowerCase().replace(/-(.)/g, function(match, group1) {\n                return group1.toUpperCase();\n            });\n        };\n        $.dataset = function (el) {\n            return $(el).dataset();\n        };\n        $.getTranslate = function (el, axis) {\n            var matrix, curTransform, curStyle, transformMatrix;\n        \n            // automatic axis detection\n            if (typeof axis === 'undefined') {\n                axis = 'x';\n            }\n        \n            curStyle = window.getComputedStyle(el, null);\n            if (window.WebKitCSSMatrix) {\n                curTransform = curStyle.transform || curStyle.webkitTransform;\n                if (curTransform.split(',').length > 6) {\n                    curTransform = curTransform.split(', ').map(function(a){\n                        return a.replace(',','.');\n                    }).join(', ');\n                }\n                // Some old versions of Webkit choke when 'none' is passed; pass\n                // empty string instead in this case\n                transformMatrix = new WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n            }\n            else {\n                transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform  || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n                matrix = transformMatrix.toString().split(',');\n            }\n        \n            if (axis === 'x') {\n                //Latest Chrome and webkits Fix\n                if (window.WebKitCSSMatrix)\n                    curTransform = transformMatrix.m41;\n                //Crazy IE10 Matrix\n                else if (matrix.length === 16)\n                    curTransform = parseFloat(matrix[12]);\n                //Normal Browsers\n                else\n                    curTransform = parseFloat(matrix[4]);\n            }\n            if (axis === 'y') {\n                //Latest Chrome and webkits Fix\n                if (window.WebKitCSSMatrix)\n                    curTransform = transformMatrix.m42;\n                //Crazy IE10 Matrix\n                else if (matrix.length === 16)\n                    curTransform = parseFloat(matrix[13]);\n                //Normal Browsers\n                else\n                    curTransform = parseFloat(matrix[5]);\n            }\n            \n            return curTransform || 0;\n        };\n        \n        $.requestAnimationFrame = function (callback) {\n            if (window.requestAnimationFrame) return window.requestAnimationFrame(callback);\n            else if (window.webkitRequestAnimationFrame) return window.webkitRequestAnimationFrame(callback);\n            else if (window.mozRequestAnimationFrame) return window.mozRequestAnimationFrame(callback);\n            else {\n                return window.setTimeout(callback, 1000 / 60);\n            }\n        };\n        $.cancelAnimationFrame = function (id) {\n            if (window.cancelAnimationFrame) return window.cancelAnimationFrame(id);\n            else if (window.webkitCancelAnimationFrame) return window.webkitCancelAnimationFrame(id);\n            else if (window.mozCancelAnimationFrame) return window.mozCancelAnimationFrame(id);\n            else {\n                return window.clearTimeout(id);\n            }  \n        };\n        $.supportTouch = !!(('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch);\n        \n        // Link to prototype\n        $.fn = Dom7.prototype;\n        \n        // Plugins\n        $.fn.scrollTo = function (left, top, duration, easing, callback) {\n            if (arguments.length === 4 && typeof easing === 'function') {\n                callback = easing;\n                easing = undefined;\n            }\n            return this.each(function () {\n                var el = this;\n                var currentTop, currentLeft, maxTop, maxLeft, newTop, newLeft, scrollTop, scrollLeft;\n                var animateTop = top > 0 || top === 0;\n                var animateLeft = left > 0 || left === 0;\n                if (typeof easing === 'undefined') {\n                    easing = 'swing';\n                }\n                if (animateTop) {\n                    currentTop = el.scrollTop;\n                    if (!duration) {\n                        el.scrollTop = top;\n                    }\n                }\n                if (animateLeft) {\n                    currentLeft = el.scrollLeft;\n                    if (!duration) {\n                        el.scrollLeft = left;\n                    }\n                }\n                if (!duration) return;\n                if (animateTop) {\n                    maxTop = el.scrollHeight - el.offsetHeight;\n                    newTop = Math.max(Math.min(top, maxTop), 0);\n                }\n                if (animateLeft) {\n                    maxLeft = el.scrollWidth - el.offsetWidth;\n                    newLeft = Math.max(Math.min(left, maxLeft), 0);\n                }\n                var startTime = null;\n                if (animateTop && newTop === currentTop) animateTop = false;\n                if (animateLeft && newLeft === currentLeft) animateLeft = false;\n                function render(time) {\n                    if (time === undefined) {\n                        time = new Date().getTime();\n                    }\n                    if (startTime === null) {\n                        startTime = time;\n                    }\n                    var doneLeft, doneTop, done;\n                    var progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n                    var easeProgress = easing === 'linear' ? progress : (0.5 - Math.cos( progress * Math.PI ) / 2);\n                    if (animateTop) scrollTop = currentTop + (easeProgress * (newTop - currentTop));\n                    if (animateLeft) scrollLeft = currentLeft + (easeProgress * (newLeft - currentLeft));\n                    if (animateTop && newTop > currentTop && scrollTop >= newTop)  {\n                        el.scrollTop = newTop;\n                        done = true;\n                    }\n                    if (animateTop && newTop < currentTop && scrollTop <= newTop)  {\n                        el.scrollTop = newTop;\n                        done = true;\n                    }\n        \n                    if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft)  {\n                        el.scrollLeft = newLeft;\n                        done = true;\n                    }\n                    if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft)  {\n                        el.scrollLeft = newLeft;\n                        done = true;\n                    }\n        \n                    if (done) {\n                        if (callback) callback();\n                        return;\n                    }\n                    if (animateTop) el.scrollTop = scrollTop;\n                    if (animateLeft) el.scrollLeft = scrollLeft;\n                    $.requestAnimationFrame(render);\n                }\n                $.requestAnimationFrame(render);\n            });\n        };\n        $.fn.scrollTop = function (top, duration, easing, callback) {\n            if (arguments.length === 3 && typeof easing === 'function') {\n                callback = easing;\n                easing = undefined;\n            }\n            var dom = this;\n            if (typeof top === 'undefined') {\n                if (dom.length > 0) return dom[0].scrollTop;\n                else return null;\n            }\n            return dom.scrollTo(undefined, top, duration, easing, callback);\n        };\n        $.fn.scrollLeft = function (left, duration, easing, callback) {\n            if (arguments.length === 3 && typeof easing === 'function') {\n                callback = easing;\n                easing = undefined;\n            }\n            var dom = this;\n            if (typeof left === 'undefined') {\n                if (dom.length > 0) return dom[0].scrollLeft;\n                else return null;\n            }\n            return dom.scrollTo(left, undefined, duration, easing, callback);\n        };\n\n        return $;\n    })();\n    \n    // Export Dom7 to Framework7\n    Framework7.$ = Dom7;\n    \n    // Export to local scope\n    var $ = Dom7;\n    \n    // Export to Window\n    window.Dom7 = Dom7;\n    \n\n    /*===========================\n    Features Support Detection\n    ===========================*/\n    Framework7.prototype.support = (function () {\n        var support = {\n            touch: !!(('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch)\n        };\n    \n        // Export object\n        return support;\n    })();\n    \n\n    /*===========================\n    Device/OS Detection\n    ===========================*/\n    Framework7.prototype.device = (function () {\n        var device = {};\n        var ua = navigator.userAgent;\n        var $ = Dom7;\n    \n        var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n        var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n        var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n        var iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n    \n        device.ios = device.android = device.iphone = device.ipad = device.androidChrome = false;\n        \n        // Android\n        if (android) {\n            device.os = 'android';\n            device.osVersion = android[2];\n            device.android = true;\n            device.androidChrome = ua.toLowerCase().indexOf('chrome') >= 0;\n        }\n        if (ipad || iphone || ipod) {\n            device.os = 'ios';\n            device.ios = true;\n        }\n        // iOS\n        if (iphone && !ipod) {\n            device.osVersion = iphone[2].replace(/_/g, '.');\n            device.iphone = true;\n        }\n        if (ipad) {\n            device.osVersion = ipad[2].replace(/_/g, '.');\n            device.ipad = true;\n        }\n        if (ipod) {\n            device.osVersion = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n            device.iphone = true;\n        }\n        // iOS 8+ changed UA\n        if (device.ios && device.osVersion && ua.indexOf('Version/') >= 0) {\n            if (device.osVersion.split('.')[0] === '10') {\n                device.osVersion = ua.toLowerCase().split('version/')[1].split(' ')[0];\n            }\n        }\n    \n        // Webview\n        device.webView = (iphone || ipad || ipod) && ua.match(/.*AppleWebKit(?!.*Safari)/i);\n            \n        // Minimal UI\n        if (device.os && device.os === 'ios') {\n            var osVersionArr = device.osVersion.split('.');\n            device.minimalUi = !device.webView &&\n                                (ipod || iphone) &&\n                                (osVersionArr[0] * 1 === 7 ? osVersionArr[1] * 1 >= 1 : osVersionArr[0] * 1 > 7) &&\n                                $('meta[name=\"viewport\"]').length > 0 && $('meta[name=\"viewport\"]').attr('content').indexOf('minimal-ui') >= 0;\n        }\n    \n        // Check for status bar and fullscreen app mode\n        var windowWidth = $(window).width();\n        var windowHeight = $(window).height();\n        device.statusBar = false;\n        if (device.webView && (windowWidth * windowHeight === screen.width * screen.height)) {\n            device.statusBar = true;\n        }\n        else {\n            device.statusBar = false;\n        }\n    \n        // Classes\n        var classNames = [];\n    \n        // Pixel Ratio\n        device.pixelRatio = window.devicePixelRatio || 1;\n        classNames.push('pixel-ratio-' + Math.floor(device.pixelRatio));\n        if (device.pixelRatio >= 2) {\n            classNames.push('retina');\n        }\n    \n        // OS classes\n        if (device.os) {\n            classNames.push(device.os, device.os + '-' + device.osVersion.split('.')[0], device.os + '-' + device.osVersion.replace(/\\./g, '-'));\n            if (device.os === 'ios') {\n                var major = parseInt(device.osVersion.split('.')[0], 10);\n                for (var i = major - 1; i >= 6; i--) {\n                    classNames.push('ios-gt-' + i);\n                }\n            }\n            \n        }\n        // Status bar classes\n        if (device.statusBar) {\n            classNames.push('with-statusbar-overlay');\n        }\n        else {\n            $('html').removeClass('with-statusbar-overlay');\n        }\n    \n        // Add html classes\n        if (classNames.length > 0) $('html').addClass(classNames.join(' '));\n    \n        // Export object\n        return device;\n    })();\n    \n\n    /*===========================\n    Plugins prototype\n    ===========================*/\n    Framework7.prototype.plugins = {};\n    \n\n    /*===========================\n    Template7 Template engine\n    ===========================*/\n    window.Template7 = (function () {\n        function isArray(arr) {\n            return Object.prototype.toString.apply(arr) === '[object Array]';\n        }\n        function isObject(obj) {\n            return obj instanceof Object;\n        }\n        function isFunction(func) {\n            return typeof func === 'function';\n        }\n        var cache = {};\n        function helperToSlices(string) {\n            var helperParts = string.replace(/[{}#}]/g, '').split(' ');\n            var slices = [];\n            var shiftIndex, i, j;\n            for (i = 0; i < helperParts.length; i++) {\n                var part = helperParts[i];\n                if (i === 0) slices.push(part);\n                else {\n                    if (part.indexOf('\"') === 0) {\n                        // Plain String\n                        if (part.match(/\"/g).length === 2) {\n                            // One word string\n                            slices.push(part);\n                        }\n                        else {\n                            // Find closed Index\n                            shiftIndex = 0;\n                            for (j = i + 1; j < helperParts.length; j++) {\n                                part += ' ' + helperParts[j];\n                                if (helperParts[j].indexOf('\"') >= 0) {\n                                    shiftIndex = j;\n                                    slices.push(part);\n                                    break;\n                                }\n                            }\n                            if (shiftIndex) i = shiftIndex;\n                        }\n                    }\n                    else {\n                        if (part.indexOf('=') > 0) {\n                            // Hash\n                            var hashParts = part.split('=');\n                            var hashName = hashParts[0];\n                            var hashContent = hashParts[1];\n                            if (hashContent.match(/\"/g).length !== 2) {\n                                shiftIndex = 0;\n                                for (j = i + 1; j < helperParts.length; j++) {\n                                    hashContent += ' ' + helperParts[j];\n                                    if (helperParts[j].indexOf('\"') >= 0) {\n                                        shiftIndex = j;\n                                        break;\n                                    }\n                                }\n                                if (shiftIndex) i = shiftIndex;\n                            }\n                            var hash = [hashName, hashContent.replace(/\"/g,'')];\n                            slices.push(hash);\n                        }\n                        else {\n                            // Plain variable\n                            slices.push(part);\n                        }\n                    }\n                }\n            }\n            return slices;\n        }\n        function stringToBlocks(string) {\n            var blocks = [], i, j, k;\n            if (!string) return [];\n            var _blocks = string.split(/({{[^{^}]*}})/);\n            for (i = 0; i < _blocks.length; i++) {\n                var block = _blocks[i];\n                if (block === '') continue;\n                if (block.indexOf('{{') < 0) {\n                    blocks.push({\n                        type: 'plain',\n                        content: block\n                    });\n                }\n                else {\n                    if (block.indexOf('{/') >= 0) {\n                        continue;\n                    }\n                    if (block.indexOf('{#') < 0 && block.indexOf(' ') < 0 && block.indexOf('else') < 0) {\n                        // Simple variable\n                        blocks.push({\n                            type: 'variable',\n                            contextName: block.replace(/[{}]/g, '')\n                        });\n                        continue;\n                    }\n                    // Helpers\n                    var helperSlices = helperToSlices(block);\n                    var helperName = helperSlices[0];\n                    var isPartial = helperName === '>';\n                    var helperContext = [];\n                    var helperHash = {};\n                    for (j = 1; j < helperSlices.length; j++) {\n                        var slice = helperSlices[j];\n                        if (isArray(slice)) {\n                            // Hash\n                            helperHash[slice[0]] = slice[1] === 'false' ? false : slice[1];\n                        }\n                        else {\n                            helperContext.push(slice);\n                        }\n                    }\n                    \n                    if (block.indexOf('{#') >= 0) {\n                        // Condition/Helper\n                        var helperStartIndex = i;\n                        var helperContent = '';\n                        var elseContent = '';\n                        var toSkip = 0;\n                        var shiftIndex;\n                        var foundClosed = false, foundElse = false, foundClosedElse = false, depth = 0;\n                        for (j = i + 1; j < _blocks.length; j++) {\n                            if (_blocks[j].indexOf('{{#') >= 0) {\n                                depth ++;\n                            }\n                            if (_blocks[j].indexOf('{{/') >= 0) {\n                                depth --;\n                            }\n                            if (_blocks[j].indexOf('{{#' + helperName) >= 0) {\n                                helperContent += _blocks[j];\n                                if (foundElse) elseContent += _blocks[j];\n                                toSkip ++;\n                            }\n                            else if (_blocks[j].indexOf('{{/' + helperName) >= 0) {\n                                if (toSkip > 0) {\n                                    toSkip--;\n                                    helperContent += _blocks[j];\n                                    if (foundElse) elseContent += _blocks[j];\n                                }\n                                else {\n                                    shiftIndex = j;\n                                    foundClosed = true;\n                                    break;\n                                }\n                            }\n                            else if (_blocks[j].indexOf('else') >= 0 && depth === 0) {\n                                foundElse = true;\n                            }\n                            else {\n                                if (!foundElse) helperContent += _blocks[j];\n                                if (foundElse) elseContent += _blocks[j];\n                            }\n    \n                        }\n                        if (foundClosed) {\n                            if (shiftIndex) i = shiftIndex;\n                            blocks.push({\n                                type: 'helper',\n                                helperName: helperName,\n                                contextName: helperContext,\n                                content: helperContent,\n                                inverseContent: elseContent,\n                                hash: helperHash\n                            });\n                        }\n                    }\n                    else if (block.indexOf(' ') > 0) {\n                        if (isPartial) {\n                            helperName = '_partial';\n                            if (helperContext[0]) helperContext[0] = '\"' + helperContext[0].replace(/\"|'/g, '') + '\"';\n                        }\n                        blocks.push({\n                            type: 'helper',\n                            helperName: helperName,\n                            contextName: helperContext,\n                            hash: helperHash\n                        });\n                    }\n                }\n            }\n            return blocks;\n        }\n        var Template7 = function (template) {\n            var t = this;\n            t.template = template;\n            \n            function getCompileFn(block, depth) {\n                if (block.content) return compile(block.content, depth);\n                else return function () {return ''; };\n            }\n            function getCompileInverse(block, depth) {\n                if (block.inverseContent) return compile(block.inverseContent, depth);\n                else return function () {return ''; };\n            }\n            function getCompileVar(name, ctx) {\n                var variable, parts, levelsUp = 0, initialCtx = ctx;\n                if (name.indexOf('../') === 0) {\n                    levelsUp = name.split('../').length - 1;\n                    var newDepth = ctx.split('_')[1] - levelsUp;\n                    ctx = 'ctx_' + (newDepth >= 1 ? newDepth : 1);\n                    parts = name.split('../')[levelsUp].split('.');\n                }\n                else if (name.indexOf('@global') === 0) {\n                    ctx = 'Template7.global';\n                    parts = name.split('@global.')[1].split('.');\n                }\n                else if (name.indexOf('@root') === 0) {\n                    ctx = 'root';\n                    parts = name.split('@root.')[1].split('.');\n                }\n                else {\n                    parts = name.split('.');\n                }\n                variable = ctx;\n                for (var i = 0; i < parts.length; i++) {\n                    var part = parts[i];\n                    if (part.indexOf('@') === 0) {\n                        if (i > 0) {\n                            variable += '[(data && data.' + part.replace('@', '') + ')]';\n                        }\n                        else {\n                            variable = '(data && data.' + name.replace('@', '') + ')';\n                        }\n                    }\n                    else {\n                        if (isFinite(part)) {\n                            variable += '[' + part + ']';\n                        }\n                        else {\n                            if (part.indexOf('this') === 0) {\n                                variable = part.replace('this', ctx);\n                            }\n                            else {\n                                variable += '.' + part;       \n                            }\n                        }\n                    }\n                }\n    \n                return variable;\n            }\n            function getCompiledArguments(contextArray, ctx) {\n                var arr = [];\n                for (var i = 0; i < contextArray.length; i++) {\n                    if (contextArray[i].indexOf('\"') === 0) arr.push(contextArray[i]);\n                    else {\n                        arr.push(getCompileVar(contextArray[i], ctx));\n                    }\n                }\n    \n                return arr.join(', ');\n            }\n            function compile(template, depth) {\n                depth = depth || 1;\n                template = template || t.template;\n                if (typeof template !== 'string') {\n                    throw new Error('Template7: Template must be a string');\n                }\n                var blocks = stringToBlocks(template);\n                if (blocks.length === 0) {\n                    return function () { return ''; };\n                }\n                var ctx = 'ctx_' + depth;\n                var resultString = '';\n                if (depth === 1) {\n                    resultString += '(function (' + ctx + ', data, root) {\\n';\n                }\n                else {\n                    resultString += '(function (' + ctx + ', data) {\\n';\n                }\n                if (depth === 1) {\n                    resultString += 'function isArray(arr){return Object.prototype.toString.apply(arr) === \\'[object Array]\\';}\\n';\n                    resultString += 'function isFunction(func){return (typeof func === \\'function\\');}\\n';\n                    resultString += 'function c(val, ctx) {if (typeof val !== \"undefined\" && val !== null) {if (isFunction(val)) {return val.call(ctx);} else return val;} else return \"\";}\\n';\n                    resultString += 'root = root || ctx_1 || {};\\n';\n                }\n                resultString += 'var r = \\'\\';\\n';\n                var i, j, context;\n                for (i = 0; i < blocks.length; i++) {\n                    var block = blocks[i];\n                    // Plain block\n                    if (block.type === 'plain') {\n                        resultString += 'r +=\\'' + (block.content).replace(/\\r/g, '\\\\r').replace(/\\n/g, '\\\\n').replace(/'/g, '\\\\' + '\\'') + '\\';';\n                        continue;\n                    }\n                    var variable, compiledArguments;\n                    // Variable block\n                    if (block.type === 'variable') {\n                        variable = getCompileVar(block.contextName, ctx);\n                        resultString += 'r += c(' + variable + ', ' + ctx + ');';\n                    }\n                    // Helpers block\n                    if (block.type === 'helper') {\n                        if (block.helperName in t.helpers) {\n                            compiledArguments = getCompiledArguments(block.contextName, ctx);\n                            \n                            resultString += 'r += (Template7.helpers.' + block.helperName + ').call(' + ctx + ', ' + (compiledArguments && (compiledArguments + ', ')) +'{hash:' + JSON.stringify(block.hash) + ', data: data || {}, fn: ' + getCompileFn(block, depth + 1) + ', inverse: ' + getCompileInverse(block, depth + 1) + ', root: root});';\n                            \n                        }\n                        else {\n                            if (block.contextName.length > 0) {\n                                throw new Error('Template7: Missing helper: \"' + block.helperName + '\"');\n                            }\n                            else {\n                                variable = getCompileVar(block.helperName, ctx);\n                                resultString += 'if (' + variable + ') {';\n                                resultString += 'if (isArray(' + variable + ')) {';\n                                resultString += 'r += (Template7.helpers.each).call(' + ctx + ', ' + variable + ', {hash:' + JSON.stringify(block.hash) + ', data: data || {}, fn: ' + getCompileFn(block, depth+1) + ', inverse: ' + getCompileInverse(block, depth+1) + ', root: root});';\n                                resultString += '}else {';\n                                resultString += 'r += (Template7.helpers.with).call(' + ctx + ', ' + variable + ', {hash:' + JSON.stringify(block.hash) + ', data: data || {}, fn: ' + getCompileFn(block, depth+1) + ', inverse: ' + getCompileInverse(block, depth+1) + ', root: root});';\n                                resultString += '}}';\n                            }\n                        }\n                    }\n                }\n                resultString += '\\nreturn r;})';\n                return eval.call(window, resultString);\n            }\n            t.compile = function (template) {\n                if (!t.compiled) {\n                    t.compiled = compile(template);\n                }\n                return t.compiled;\n            };\n        };\n        Template7.prototype = {\n            options: {},\n            partials: {},\n            helpers: {\n                '_partial' : function (partialName, options) {\n                    var p = Template7.prototype.partials[partialName];\n                    if (!p || (p && !p.template)) return '';\n                    if (!p.compiled) {\n                        p.compiled = t7.compile(p.template);\n                    }\n                    var ctx = this;\n                    for (var hashName in options.hash) {\n                        ctx[hashName] = options.hash[hashName];\n                    }\n                    return p.compiled(ctx, options.data, options.root);\n                },\n                'escape': function (context, options) {\n                    if (typeof context !== 'string') {\n                        throw new Error('Template7: Passed context to \"escape\" helper should be a string');\n                    }\n                    return context\n                            .replace(/&/g, '&amp;')\n                            .replace(/</g, '&lt;')\n                            .replace(/>/g, '&gt;')\n                            .replace(/\"/g, '&quot;');\n                },\n                'if': function (context, options) {\n                    if (isFunction(context)) { context = context.call(this); }\n                    if (context) {\n                        return options.fn(this, options.data);\n                    }\n                    else {\n                        return options.inverse(this, options.data);\n                    }\n                },\n                'unless': function (context, options) {\n                    if (isFunction(context)) { context = context.call(this); }\n                    if (!context) {\n                        return options.fn(this, options.data);\n                    }\n                    else {\n                        return options.inverse(this, options.data);\n                    }\n                },\n                'each': function (context, options) {\n                    var ret = '', i = 0;\n                    if (isFunction(context)) { context = context.call(this); }\n                    if (isArray(context)) {\n                        if (options.hash.reverse) {\n                            context = context.reverse();\n                        }\n                        for (i = 0; i < context.length; i++) {\n                            ret += options.fn(context[i], {first: i === 0, last: i === context.length - 1, index: i});\n                        }\n                        if (options.hash.reverse) {\n                            context = context.reverse();\n                        }\n                    }\n                    else {\n                        for (var key in context) {\n                            i++;\n                            ret += options.fn(context[key], {key: key});\n                        }\n                    }\n                    if (i > 0) return ret;\n                    else return options.inverse(this);\n                },\n                'with': function (context, options) {\n                    if (isFunction(context)) { context = context.call(this); }\n                    return options.fn(context);\n                },\n                'join': function (context, options) {\n                    if (isFunction(context)) { context = context.call(this); }\n                    return context.join(options.hash.delimiter || options.hash.delimeter);\n                },\n                'js': function (expression, options) {\n                    var func;\n                    if (expression.indexOf('return')>=0) {\n                        func = '(function(){'+expression+'})';\n                    }\n                    else {\n                        func = '(function(){return ('+expression+')})';\n                    }\n                    return eval.call(this, func).call(this);\n                },\n                'js_compare': function (expression, options) {\n                    var func;\n                    if (expression.indexOf('return')>=0) {\n                        func = '(function(){'+expression+'})';\n                    }\n                    else {\n                        func = '(function(){return ('+expression+')})';\n                    }\n                    var condition = eval.call(this, func).call(this);\n                    if (condition) {\n                        return options.fn(this, options.data);\n                    }\n                    else {\n                        return options.inverse(this, options.data);   \n                    }\n                }\n            }\n        };\n        var t7 = function (template, data) {\n            if (arguments.length === 2) {\n                var instance = new Template7(template);\n                var rendered = instance.compile()(data);\n                instance = null;\n                return (rendered);\n            }\n            else return new Template7(template);\n        };\n        t7.registerHelper = function (name, fn) {\n            Template7.prototype.helpers[name] = fn;\n        };\n        t7.unregisterHelper = function (name) {\n            Template7.prototype.helpers[name] = undefined;  \n            delete Template7.prototype.helpers[name];\n        };\n        t7.registerPartial = function (name, template) {\n            Template7.prototype.partials[name] = {template: template};\n        };\n        t7.unregisterPartial = function (name, template) {\n            if (Template7.prototype.partials[name]) {\n                Template7.prototype.partials[name] = undefined;\n                delete Template7.prototype.partials[name];\n            }\n        };\n        \n        t7.compile = function (template, options) {\n            var instance = new Template7(template, options);\n            return instance.compile();\n        };\n        \n        t7.options = Template7.prototype.options;\n        t7.helpers = Template7.prototype.helpers;\n        t7.partials = Template7.prototype.partials;\n        return t7;\n    })();\n\n    /*===========================\n    Swiper\n    ===========================*/\n    window.Swiper = function (container, params) {\n        if (!(this instanceof Swiper)) return new Swiper(container, params);\n        var defaults = {\n            direction: 'horizontal',\n            touchEventsTarget: 'container',\n            initialSlide: 0,\n            speed: 300,\n            // autoplay\n            autoplay: false,\n            autoplayDisableOnInteraction: true,\n            autoplayStopOnLast: false,\n            // To support iOS's swipe-to-go-back gesture (when being used in-app, with UIWebView).\n            iOSEdgeSwipeDetection: false,\n            iOSEdgeSwipeThreshold: 20,\n            // Free mode\n            freeMode: false,\n            freeModeMomentum: true,\n            freeModeMomentumRatio: 1,\n            freeModeMomentumBounce: true,\n            freeModeMomentumBounceRatio: 1,\n            freeModeSticky: false,\n            freeModeMinimumVelocity: 0.02,\n            // Autoheight\n            autoHeight: false,\n            // Set wrapper width\n            setWrapperSize: false,\n            // Virtual Translate\n            virtualTranslate: false,\n            // Effects\n            effect: 'slide', // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n            coverflow: {\n                rotate: 50,\n                stretch: 0,\n                depth: 100,\n                modifier: 1,\n                slideShadows : true\n            },\n            flip: {\n                slideShadows : true,\n                limitRotation: true\n            },\n            cube: {\n                slideShadows: true,\n                shadow: true,\n                shadowOffset: 20,\n                shadowScale: 0.94\n            },\n            fade: {\n                crossFade: false\n            },\n            // Parallax\n            parallax: false,\n            // Scrollbar\n            scrollbar: null,\n            scrollbarHide: true,\n            scrollbarDraggable: false,\n            scrollbarSnapOnRelease: false,\n            // Keyboard Mousewheel\n            keyboardControl: false,\n            mousewheelControl: false,\n            mousewheelReleaseOnEdges: false,\n            mousewheelInvert: false,\n            mousewheelForceToAxis: false,\n            mousewheelSensitivity: 1,\n            // Hash Navigation\n            hashnav: false,\n            // Breakpoints\n            breakpoints: undefined,\n            // Slides grid\n            spaceBetween: 0,\n            slidesPerView: 1,\n            slidesPerColumn: 1,\n            slidesPerColumnFill: 'column',\n            slidesPerGroup: 1,\n            centeredSlides: false,\n            slidesOffsetBefore: 0, // in px\n            slidesOffsetAfter: 0, // in px\n            // Round length\n            roundLengths: false,\n            // Touches\n            touchRatio: 1,\n            touchAngle: 45,\n            simulateTouch: true,\n            shortSwipes: true,\n            longSwipes: true,\n            longSwipesRatio: 0.5,\n            longSwipesMs: 300,\n            followFinger: true,\n            onlyExternal: false,\n            threshold: 0,\n            touchMoveStopPropagation: true,\n            // Unique Navigation Elements\n            uniqueNavElements: true,\n            // Pagination\n            pagination: null,\n            paginationElement: 'span',\n            paginationClickable: false,\n            paginationHide: false,\n            paginationBulletRender: null,\n            paginationProgressRender: null,\n            paginationFractionRender: null,\n            paginationCustomRender: null,\n            paginationType: 'bullets', // 'bullets' or 'progress' or 'fraction' or 'custom'\n            // Resistance\n            resistance: true,\n            resistanceRatio: 0.85,\n            // Next/prev buttons\n            nextButton: null,\n            prevButton: null,\n            // Progress\n            watchSlidesProgress: false,\n            watchSlidesVisibility: false,\n            // Cursor\n            grabCursor: false,\n            // Clicks\n            preventClicks: true,\n            preventClicksPropagation: true,\n            slideToClickedSlide: false,\n            // Lazy Loading\n            lazyLoading: false,\n            lazyLoadingInPrevNext: false,\n            lazyLoadingInPrevNextAmount: 1,\n            lazyLoadingOnTransitionStart: false,\n            // Images\n            preloadImages: true,\n            updateOnImagesReady: true,\n            // loop\n            loop: false,\n            loopAdditionalSlides: 0,\n            loopedSlides: null,\n            // Control\n            control: undefined,\n            controlInverse: false,\n            controlBy: 'slide', //or 'container'\n            // Swiping/no swiping\n            allowSwipeToPrev: true,\n            allowSwipeToNext: true,\n            swipeHandler: null, //'.swipe-handler',\n            noSwiping: true,\n            noSwipingClass: 'swiper-no-swiping',\n            // NS\n            slideClass: 'swiper-slide',\n            slideActiveClass: 'swiper-slide-active',\n            slideVisibleClass: 'swiper-slide-visible',\n            slideDuplicateClass: 'swiper-slide-duplicate',\n            slideNextClass: 'swiper-slide-next',\n            slidePrevClass: 'swiper-slide-prev',\n            wrapperClass: 'swiper-wrapper',\n            bulletClass: 'swiper-pagination-bullet',\n            bulletActiveClass: 'swiper-pagination-bullet-active',\n            buttonDisabledClass: 'swiper-button-disabled',\n            paginationCurrentClass: 'swiper-pagination-current',\n            paginationTotalClass: 'swiper-pagination-total',\n            paginationHiddenClass: 'swiper-pagination-hidden',\n            paginationProgressbarClass: 'swiper-pagination-progressbar',\n            // Observer\n            observer: false,\n            observeParents: false,\n            // Accessibility\n            a11y: false,\n            prevSlideMessage: 'Previous slide',\n            nextSlideMessage: 'Next slide',\n            firstSlideMessage: 'This is the first slide',\n            lastSlideMessage: 'This is the last slide',\n            paginationBulletMessage: 'Go to slide {{index}}',\n            // Callbacks\n            runCallbacksOnInit: true\n            /*\n            Callbacks:\n            onInit: function (swiper)\n            onDestroy: function (swiper)\n            onClick: function (swiper, e)\n            onTap: function (swiper, e)\n            onDoubleTap: function (swiper, e)\n            onSliderMove: function (swiper, e)\n            onSlideChangeStart: function (swiper)\n            onSlideChangeEnd: function (swiper)\n            onTransitionStart: function (swiper)\n            onTransitionEnd: function (swiper)\n            onImagesReady: function (swiper)\n            onProgress: function (swiper, progress)\n            onTouchStart: function (swiper, e)\n            onTouchMove: function (swiper, e)\n            onTouchMoveOpposite: function (swiper, e)\n            onTouchEnd: function (swiper, e)\n            onReachBeginning: function (swiper)\n            onReachEnd: function (swiper)\n            onSetTransition: function (swiper, duration)\n            onSetTranslate: function (swiper, translate)\n            onAutoplayStart: function (swiper)\n            onAutoplayStop: function (swiper),\n            onLazyImageLoad: function (swiper, slide, image)\n            onLazyImageReady: function (swiper, slide, image)\n            */\n        \n        };\n        var initialVirtualTranslate = params && params.virtualTranslate;\n        \n        params = params || {};\n        var originalParams = {};\n        for (var param in params) {\n            if (typeof params[param] === 'object' && params[param] !== null && !(params[param].nodeType || params[param] === window || params[param] === document || (typeof Dom7 !== 'undefined' && params[param] instanceof Dom7) || (typeof jQuery !== 'undefined' && params[param] instanceof jQuery))) {\n                originalParams[param] = {};\n                for (var deepParam in params[param]) {\n                    originalParams[param][deepParam] = params[param][deepParam];\n                }\n            }\n            else {\n                originalParams[param] = params[param];\n            }\n        }\n        for (var def in defaults) {\n            if (typeof params[def] === 'undefined') {\n                params[def] = defaults[def];\n            }\n            else if (typeof params[def] === 'object') {\n                for (var deepDef in defaults[def]) {\n                    if (typeof params[def][deepDef] === 'undefined') {\n                        params[def][deepDef] = defaults[def][deepDef];\n                    }\n                }\n            }\n        }\n        \n        // Swiper\n        var s = this;\n        \n        // Params\n        s.params = params;\n        s.originalParams = originalParams;\n        \n        // Classname\n        s.classNames = [];\n        /*=========================\n          Dom Library and plugins\n          ===========================*/\n        if (typeof $ !== 'undefined' && typeof Dom7 !== 'undefined'){\n            $ = Dom7;\n        }\n        if (typeof $ === 'undefined') {\n            if (typeof Dom7 === 'undefined') {\n                $ = window.Dom7 || window.Zepto || window.jQuery;\n            }\n            else {\n                $ = Dom7;\n            }\n            if (!$) return;\n        }\n        // Export it to Swiper instance\n        s.$ = $;\n        \n        /*=========================\n          Breakpoints\n          ===========================*/\n        s.currentBreakpoint = undefined;\n        s.getActiveBreakpoint = function () {\n            //Get breakpoint for window width\n            if (!s.params.breakpoints) return false;\n            var breakpoint = false;\n            var points = [], point;\n            for ( point in s.params.breakpoints ) {\n                if (s.params.breakpoints.hasOwnProperty(point)) {\n                    points.push(point);\n                }\n            }\n            points.sort(function (a, b) {\n                return parseInt(a, 10) > parseInt(b, 10);\n            });\n            for (var i = 0; i < points.length; i++) {\n                point = points[i];\n                if (point >= window.innerWidth && !breakpoint) {\n                    breakpoint = point;\n                }\n            }\n            return breakpoint || 'max';\n        };\n        s.setBreakpoint = function () {\n            //Set breakpoint for window width and update parameters\n            var breakpoint = s.getActiveBreakpoint();\n            if (breakpoint && s.currentBreakpoint !== breakpoint) {\n                var breakPointsParams = breakpoint in s.params.breakpoints ? s.params.breakpoints[breakpoint] : s.originalParams;\n                var needsReLoop = s.params.loop && (breakPointsParams.slidesPerView !== s.params.slidesPerView);\n                for ( var param in breakPointsParams ) {\n                    s.params[param] = breakPointsParams[param];\n                }\n                s.currentBreakpoint = breakpoint;\n                if(needsReLoop && s.destroyLoop) {\n                    s.reLoop(true);\n                }\n            }\n        };\n        // Set breakpoint on load\n        if (s.params.breakpoints) {\n            s.setBreakpoint();\n        }\n        \n        /*=========================\n          Preparation - Define Container, Wrapper and Pagination\n          ===========================*/\n        s.container = $(container);\n        if (s.container.length === 0) return;\n        if (s.container.length > 1) {\n            var swipers = [];\n            s.container.each(function () {\n                var container = this;\n                swipers.push(new Swiper(this, params));\n            });\n            return swipers;\n        }\n        \n        // Save instance in container HTML Element and in data\n        s.container[0].swiper = s;\n        s.container.data('swiper', s);\n        \n        s.classNames.push('swiper-container-' + s.params.direction);\n        \n        if (s.params.freeMode) {\n            s.classNames.push('swiper-container-free-mode');\n        }\n        if (!s.support.flexbox) {\n            s.classNames.push('swiper-container-no-flexbox');\n            s.params.slidesPerColumn = 1;\n        }\n        if (s.params.autoHeight) {\n            s.classNames.push('swiper-container-autoheight');\n        }\n        // Enable slides progress when required\n        if (s.params.parallax || s.params.watchSlidesVisibility) {\n            s.params.watchSlidesProgress = true;\n        }\n        // Coverflow / 3D\n        if (['cube', 'coverflow', 'flip'].indexOf(s.params.effect) >= 0) {\n            if (s.support.transforms3d) {\n                s.params.watchSlidesProgress = true;\n                s.classNames.push('swiper-container-3d');\n            }\n            else {\n                s.params.effect = 'slide';\n            }\n        }\n        if (s.params.effect !== 'slide') {\n            s.classNames.push('swiper-container-' + s.params.effect);\n        }\n        if (s.params.effect === 'cube') {\n            s.params.resistanceRatio = 0;\n            s.params.slidesPerView = 1;\n            s.params.slidesPerColumn = 1;\n            s.params.slidesPerGroup = 1;\n            s.params.centeredSlides = false;\n            s.params.spaceBetween = 0;\n            s.params.virtualTranslate = true;\n            s.params.setWrapperSize = false;\n        }\n        if (s.params.effect === 'fade' || s.params.effect === 'flip') {\n            s.params.slidesPerView = 1;\n            s.params.slidesPerColumn = 1;\n            s.params.slidesPerGroup = 1;\n            s.params.watchSlidesProgress = true;\n            s.params.spaceBetween = 0;\n            s.params.setWrapperSize = false;\n            if (typeof initialVirtualTranslate === 'undefined') {\n                s.params.virtualTranslate = true;\n            }\n        }\n        \n        // Grab Cursor\n        if (s.params.grabCursor && s.support.touch) {\n            s.params.grabCursor = false;\n        }\n        \n        // Wrapper\n        s.wrapper = s.container.children('.' + s.params.wrapperClass);\n        \n        // Pagination\n        if (s.params.pagination) {\n            s.paginationContainer = $(s.params.pagination);\n            if (s.params.uniqueNavElements && typeof s.params.pagination === 'string' && s.paginationContainer.length > 1 && s.container.find(s.params.pagination).length === 1) {\n                s.paginationContainer = s.container.find(s.params.pagination);\n            }\n        \n            if (s.params.paginationType === 'bullets' && s.params.paginationClickable) {\n                s.paginationContainer.addClass('swiper-pagination-clickable');\n            }\n            else {\n                s.params.paginationClickable = false;\n            }\n            s.paginationContainer.addClass('swiper-pagination-' + s.params.paginationType);\n        }\n        // Next/Prev Buttons\n        if (s.params.nextButton || s.params.prevButton) {\n            if (s.params.nextButton) {\n                s.nextButton = $(s.params.nextButton);\n                if (s.params.uniqueNavElements && typeof s.params.nextButton === 'string' && s.nextButton.length > 1 && s.container.find(s.params.nextButton).length === 1) {\n                    s.nextButton = s.container.find(s.params.nextButton);\n                }\n            }\n            if (s.params.prevButton) {\n                s.prevButton = $(s.params.prevButton);\n                if (s.params.uniqueNavElements && typeof s.params.prevButton === 'string' && s.prevButton.length > 1 && s.container.find(s.params.prevButton).length === 1) {\n                    s.prevButton = s.container.find(s.params.prevButton);\n                }\n            }\n        }\n        \n        // Is Horizontal\n        s.isHorizontal = function () {\n            return s.params.direction === 'horizontal';\n        };\n        // s.isH = isH;\n        \n        // RTL\n        s.rtl = s.isHorizontal() && (s.container[0].dir.toLowerCase() === 'rtl' || s.container.css('direction') === 'rtl');\n        if (s.rtl) {\n            s.classNames.push('swiper-container-rtl');\n        }\n        \n        // Wrong RTL support\n        if (s.rtl) {\n            s.wrongRTL = s.wrapper.css('display') === '-webkit-box';\n        }\n        \n        // Columns\n        if (s.params.slidesPerColumn > 1) {\n            s.classNames.push('swiper-container-multirow');\n        }\n        \n        // Check for Android\n        if (s.device.android) {\n            s.classNames.push('swiper-container-android');\n        }\n        \n        // Add classes\n        s.container.addClass(s.classNames.join(' '));\n        \n        // Translate\n        s.translate = 0;\n        \n        // Progress\n        s.progress = 0;\n        \n        // Velocity\n        s.velocity = 0;\n        \n        /*=========================\n          Locks, unlocks\n          ===========================*/\n        s.lockSwipeToNext = function () {\n            s.params.allowSwipeToNext = false;\n        };\n        s.lockSwipeToPrev = function () {\n            s.params.allowSwipeToPrev = false;\n        };\n        s.lockSwipes = function () {\n            s.params.allowSwipeToNext = s.params.allowSwipeToPrev = false;\n        };\n        s.unlockSwipeToNext = function () {\n            s.params.allowSwipeToNext = true;\n        };\n        s.unlockSwipeToPrev = function () {\n            s.params.allowSwipeToPrev = true;\n        };\n        s.unlockSwipes = function () {\n            s.params.allowSwipeToNext = s.params.allowSwipeToPrev = true;\n        };\n        \n        /*=========================\n          Round helper\n          ===========================*/\n        function round(a) {\n            return Math.floor(a);\n        }\n        /*=========================\n          Set grab cursor\n          ===========================*/\n        if (s.params.grabCursor) {\n            s.container[0].style.cursor = 'move';\n            s.container[0].style.cursor = '-webkit-grab';\n            s.container[0].style.cursor = '-moz-grab';\n            s.container[0].style.cursor = 'grab';\n        }\n        /*=========================\n          Update on Images Ready\n          ===========================*/\n        s.imagesToLoad = [];\n        s.imagesLoaded = 0;\n        \n        s.loadImage = function (imgElement, src, srcset, checkForComplete, callback) {\n            var image;\n            function onReady () {\n                if (callback) callback();\n            }\n            if (!imgElement.complete || !checkForComplete) {\n                if (src) {\n                    image = new window.Image();\n                    image.onload = onReady;\n                    image.onerror = onReady;\n                    if (srcset) {\n                        image.srcset = srcset;\n                    }\n                    if (src) {\n                        image.src = src;\n                    }\n                } else {\n                    onReady();\n                }\n        \n            } else {//image already loaded...\n                onReady();\n            }\n        };\n        s.preloadImages = function () {\n            s.imagesToLoad = s.container.find('img');\n            function _onReady() {\n                if (typeof s === 'undefined' || s === null) return;\n                if (s.imagesLoaded !== undefined) s.imagesLoaded++;\n                if (s.imagesLoaded === s.imagesToLoad.length) {\n                    if (s.params.updateOnImagesReady) s.update();\n                    s.emit('onImagesReady', s);\n                }\n            }\n            for (var i = 0; i < s.imagesToLoad.length; i++) {\n                s.loadImage(s.imagesToLoad[i], (s.imagesToLoad[i].currentSrc || s.imagesToLoad[i].getAttribute('src')), (s.imagesToLoad[i].srcset || s.imagesToLoad[i].getAttribute('srcset')), true, _onReady);\n            }\n        };\n        \n        /*=========================\n          Autoplay\n          ===========================*/\n        s.autoplayTimeoutId = undefined;\n        s.autoplaying = false;\n        s.autoplayPaused = false;\n        function autoplay() {\n            s.autoplayTimeoutId = setTimeout(function () {\n                if (s.params.loop) {\n                    s.fixLoop();\n                    s._slideNext();\n                    s.emit('onAutoplay', s);\n                }\n                else {\n                    if (!s.isEnd) {\n                        s._slideNext();\n                        s.emit('onAutoplay', s);\n                    }\n                    else {\n                        if (!params.autoplayStopOnLast) {\n                            s._slideTo(0);\n                            s.emit('onAutoplay', s);\n                        }\n                        else {\n                            s.stopAutoplay();\n                        }\n                    }\n                }\n            }, s.params.autoplay);\n        }\n        s.startAutoplay = function () {\n            if (typeof s.autoplayTimeoutId !== 'undefined') return false;\n            if (!s.params.autoplay) return false;\n            if (s.autoplaying) return false;\n            s.autoplaying = true;\n            s.emit('onAutoplayStart', s);\n            autoplay();\n        };\n        s.stopAutoplay = function (internal) {\n            if (!s.autoplayTimeoutId) return;\n            if (s.autoplayTimeoutId) clearTimeout(s.autoplayTimeoutId);\n            s.autoplaying = false;\n            s.autoplayTimeoutId = undefined;\n            s.emit('onAutoplayStop', s);\n        };\n        s.pauseAutoplay = function (speed) {\n            if (s.autoplayPaused) return;\n            if (s.autoplayTimeoutId) clearTimeout(s.autoplayTimeoutId);\n            s.autoplayPaused = true;\n            if (speed === 0) {\n                s.autoplayPaused = false;\n                autoplay();\n            }\n            else {\n                s.wrapper.transitionEnd(function () {\n                    if (!s) return;\n                    s.autoplayPaused = false;\n                    if (!s.autoplaying) {\n                        s.stopAutoplay();\n                    }\n                    else {\n                        autoplay();\n                    }\n                });\n            }\n        };\n        /*=========================\n          Min/Max Translate\n          ===========================*/\n        s.minTranslate = function () {\n            return (-s.snapGrid[0]);\n        };\n        s.maxTranslate = function () {\n            return (-s.snapGrid[s.snapGrid.length - 1]);\n        };\n        /*=========================\n          Slider/slides sizes\n          ===========================*/\n        s.updateAutoHeight = function () {\n            // Update Height\n            var slide = s.slides.eq(s.activeIndex)[0];\n            if (typeof slide !== 'undefined') {\n                var newHeight = slide.offsetHeight;\n                if (newHeight) s.wrapper.css('height', newHeight + 'px');\n            }\n        };\n        s.updateContainerSize = function () {\n            var width, height;\n            if (typeof s.params.width !== 'undefined') {\n                width = s.params.width;\n            }\n            else {\n                width = s.container[0].clientWidth;\n            }\n            if (typeof s.params.height !== 'undefined') {\n                height = s.params.height;\n            }\n            else {\n                height = s.container[0].clientHeight;\n            }\n            if (width === 0 && s.isHorizontal() || height === 0 && !s.isHorizontal()) {\n                return;\n            }\n        \n            //Subtract paddings\n            width = width - parseInt(s.container.css('padding-left'), 10) - parseInt(s.container.css('padding-right'), 10);\n            height = height - parseInt(s.container.css('padding-top'), 10) - parseInt(s.container.css('padding-bottom'), 10);\n        \n            // Store values\n            s.width = width;\n            s.height = height;\n            s.size = s.isHorizontal() ? s.width : s.height;\n        };\n        \n        s.updateSlidesSize = function () {\n            s.slides = s.wrapper.children('.' + s.params.slideClass);\n            s.snapGrid = [];\n            s.slidesGrid = [];\n            s.slidesSizesGrid = [];\n        \n            var spaceBetween = s.params.spaceBetween,\n                slidePosition = -s.params.slidesOffsetBefore,\n                i,\n                prevSlideSize = 0,\n                index = 0;\n            if (typeof s.size === 'undefined') return;\n            if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n                spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * s.size;\n            }\n        \n            s.virtualSize = -spaceBetween;\n            // reset margins\n            if (s.rtl) s.slides.css({marginLeft: '', marginTop: ''});\n            else s.slides.css({marginRight: '', marginBottom: ''});\n        \n            var slidesNumberEvenToRows;\n            if (s.params.slidesPerColumn > 1) {\n                if (Math.floor(s.slides.length / s.params.slidesPerColumn) === s.slides.length / s.params.slidesPerColumn) {\n                    slidesNumberEvenToRows = s.slides.length;\n                }\n                else {\n                    slidesNumberEvenToRows = Math.ceil(s.slides.length / s.params.slidesPerColumn) * s.params.slidesPerColumn;\n                }\n                if (s.params.slidesPerView !== 'auto' && s.params.slidesPerColumnFill === 'row') {\n                    slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, s.params.slidesPerView * s.params.slidesPerColumn);\n                }\n            }\n        \n            // Calc slides\n            var slideSize;\n            var slidesPerColumn = s.params.slidesPerColumn;\n            var slidesPerRow = slidesNumberEvenToRows / slidesPerColumn;\n            var numFullColumns = slidesPerRow - (s.params.slidesPerColumn * slidesPerRow - s.slides.length);\n            for (i = 0; i < s.slides.length; i++) {\n                slideSize = 0;\n                var slide = s.slides.eq(i);\n                if (s.params.slidesPerColumn > 1) {\n                    // Set slides order\n                    var newSlideOrderIndex;\n                    var column, row;\n                    if (s.params.slidesPerColumnFill === 'column') {\n                        column = Math.floor(i / slidesPerColumn);\n                        row = i - column * slidesPerColumn;\n                        if (column > numFullColumns || (column === numFullColumns && row === slidesPerColumn-1)) {\n                            if (++row >= slidesPerColumn) {\n                                row = 0;\n                                column++;\n                            }\n                        }\n                        newSlideOrderIndex = column + row * slidesNumberEvenToRows / slidesPerColumn;\n                        slide\n                            .css({\n                                '-webkit-box-ordinal-group': newSlideOrderIndex,\n                                '-moz-box-ordinal-group': newSlideOrderIndex,\n                                '-ms-flex-order': newSlideOrderIndex,\n                                '-webkit-order': newSlideOrderIndex,\n                                'order': newSlideOrderIndex\n                            });\n                    }\n                    else {\n                        row = Math.floor(i / slidesPerRow);\n                        column = i - row * slidesPerRow;\n                    }\n                    slide\n                        .css({\n                            'margin-top': (row !== 0 && s.params.spaceBetween) && (s.params.spaceBetween + 'px')\n                        })\n                        .attr('data-swiper-column', column)\n                        .attr('data-swiper-row', row);\n        \n                }\n                if (slide.css('display') === 'none') continue;\n                if (s.params.slidesPerView === 'auto') {\n                    slideSize = s.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n                    if (s.params.roundLengths) slideSize = round(slideSize);\n                }\n                else {\n                    slideSize = (s.size - (s.params.slidesPerView - 1) * spaceBetween) / s.params.slidesPerView;\n                    if (s.params.roundLengths) slideSize = round(slideSize);\n        \n                    if (s.isHorizontal()) {\n                        s.slides[i].style.width = slideSize + 'px';\n                    }\n                    else {\n                        s.slides[i].style.height = slideSize + 'px';\n                    }\n                }\n                s.slides[i].swiperSlideSize = slideSize;\n                s.slidesSizesGrid.push(slideSize);\n        \n        \n                if (s.params.centeredSlides) {\n                    slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n                    if (i === 0) slidePosition = slidePosition - s.size / 2 - spaceBetween;\n                    if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n                    if ((index) % s.params.slidesPerGroup === 0) s.snapGrid.push(slidePosition);\n                    s.slidesGrid.push(slidePosition);\n                }\n                else {\n                    if ((index) % s.params.slidesPerGroup === 0) s.snapGrid.push(slidePosition);\n                    s.slidesGrid.push(slidePosition);\n                    slidePosition = slidePosition + slideSize + spaceBetween;\n                }\n        \n                s.virtualSize += slideSize + spaceBetween;\n        \n                prevSlideSize = slideSize;\n        \n                index ++;\n            }\n            s.virtualSize = Math.max(s.virtualSize, s.size) + s.params.slidesOffsetAfter;\n            var newSlidesGrid;\n        \n            if (\n                s.rtl && s.wrongRTL && (s.params.effect === 'slide' || s.params.effect === 'coverflow')) {\n                s.wrapper.css({width: s.virtualSize + s.params.spaceBetween + 'px'});\n            }\n            if (!s.support.flexbox || s.params.setWrapperSize) {\n                if (s.isHorizontal()) s.wrapper.css({width: s.virtualSize + s.params.spaceBetween + 'px'});\n                else s.wrapper.css({height: s.virtualSize + s.params.spaceBetween + 'px'});\n            }\n        \n            if (s.params.slidesPerColumn > 1) {\n                s.virtualSize = (slideSize + s.params.spaceBetween) * slidesNumberEvenToRows;\n                s.virtualSize = Math.ceil(s.virtualSize / s.params.slidesPerColumn) - s.params.spaceBetween;\n                s.wrapper.css({width: s.virtualSize + s.params.spaceBetween + 'px'});\n                if (s.params.centeredSlides) {\n                    newSlidesGrid = [];\n                    for (i = 0; i < s.snapGrid.length; i++) {\n                        if (s.snapGrid[i] < s.virtualSize + s.snapGrid[0]) newSlidesGrid.push(s.snapGrid[i]);\n                    }\n                    s.snapGrid = newSlidesGrid;\n                }\n            }\n        \n            // Remove last grid elements depending on width\n            if (!s.params.centeredSlides) {\n                newSlidesGrid = [];\n                for (i = 0; i < s.snapGrid.length; i++) {\n                    if (s.snapGrid[i] <= s.virtualSize - s.size) {\n                        newSlidesGrid.push(s.snapGrid[i]);\n                    }\n                }\n                s.snapGrid = newSlidesGrid;\n                if (Math.floor(s.virtualSize - s.size) - Math.floor(s.snapGrid[s.snapGrid.length - 1]) > 1) {\n                    s.snapGrid.push(s.virtualSize - s.size);\n                }\n            }\n            if (s.snapGrid.length === 0) s.snapGrid = [0];\n        \n            if (s.params.spaceBetween !== 0) {\n                if (s.isHorizontal()) {\n                    if (s.rtl) s.slides.css({marginLeft: spaceBetween + 'px'});\n                    else s.slides.css({marginRight: spaceBetween + 'px'});\n                }\n                else s.slides.css({marginBottom: spaceBetween + 'px'});\n            }\n            if (s.params.watchSlidesProgress) {\n                s.updateSlidesOffset();\n            }\n        };\n        s.updateSlidesOffset = function () {\n            for (var i = 0; i < s.slides.length; i++) {\n                s.slides[i].swiperSlideOffset = s.isHorizontal() ? s.slides[i].offsetLeft : s.slides[i].offsetTop;\n            }\n        };\n        \n        /*=========================\n          Slider/slides progress\n          ===========================*/\n        s.updateSlidesProgress = function (translate) {\n            if (typeof translate === 'undefined') {\n                translate = s.translate || 0;\n            }\n            if (s.slides.length === 0) return;\n            if (typeof s.slides[0].swiperSlideOffset === 'undefined') s.updateSlidesOffset();\n        \n            var offsetCenter = -translate;\n            if (s.rtl) offsetCenter = translate;\n        \n            // Visible Slides\n            s.slides.removeClass(s.params.slideVisibleClass);\n            for (var i = 0; i < s.slides.length; i++) {\n                var slide = s.slides[i];\n                var slideProgress = (offsetCenter - slide.swiperSlideOffset) / (slide.swiperSlideSize + s.params.spaceBetween);\n                if (s.params.watchSlidesVisibility) {\n                    var slideBefore = -(offsetCenter - slide.swiperSlideOffset);\n                    var slideAfter = slideBefore + s.slidesSizesGrid[i];\n                    var isVisible =\n                        (slideBefore >= 0 && slideBefore < s.size) ||\n                        (slideAfter > 0 && slideAfter <= s.size) ||\n                        (slideBefore <= 0 && slideAfter >= s.size);\n                    if (isVisible) {\n                        s.slides.eq(i).addClass(s.params.slideVisibleClass);\n                    }\n                }\n                slide.progress = s.rtl ? -slideProgress : slideProgress;\n            }\n        };\n        s.updateProgress = function (translate) {\n            if (typeof translate === 'undefined') {\n                translate = s.translate || 0;\n            }\n            var translatesDiff = s.maxTranslate() - s.minTranslate();\n            var wasBeginning = s.isBeginning;\n            var wasEnd = s.isEnd;\n            if (translatesDiff === 0) {\n                s.progress = 0;\n                s.isBeginning = s.isEnd = true;\n            }\n            else {\n                s.progress = (translate - s.minTranslate()) / (translatesDiff);\n                s.isBeginning = s.progress <= 0;\n                s.isEnd = s.progress >= 1;\n            }\n            if (s.isBeginning && !wasBeginning) s.emit('onReachBeginning', s);\n            if (s.isEnd && !wasEnd) s.emit('onReachEnd', s);\n        \n            if (s.params.watchSlidesProgress) s.updateSlidesProgress(translate);\n            s.emit('onProgress', s, s.progress);\n        };\n        s.updateActiveIndex = function () {\n            var translate = s.rtl ? s.translate : -s.translate;\n            var newActiveIndex, i, snapIndex;\n            for (i = 0; i < s.slidesGrid.length; i ++) {\n                if (typeof s.slidesGrid[i + 1] !== 'undefined') {\n                    if (translate >= s.slidesGrid[i] && translate < s.slidesGrid[i + 1] - (s.slidesGrid[i + 1] - s.slidesGrid[i]) / 2) {\n                        newActiveIndex = i;\n                    }\n                    else if (translate >= s.slidesGrid[i] && translate < s.slidesGrid[i + 1]) {\n                        newActiveIndex = i + 1;\n                    }\n                }\n                else {\n                    if (translate >= s.slidesGrid[i]) {\n                        newActiveIndex = i;\n                    }\n                }\n            }\n            // Normalize slideIndex\n            if (newActiveIndex < 0 || typeof newActiveIndex === 'undefined') newActiveIndex = 0;\n            // for (i = 0; i < s.slidesGrid.length; i++) {\n                // if (- translate >= s.slidesGrid[i]) {\n                    // newActiveIndex = i;\n                // }\n            // }\n            snapIndex = Math.floor(newActiveIndex / s.params.slidesPerGroup);\n            if (snapIndex >= s.snapGrid.length) snapIndex = s.snapGrid.length - 1;\n        \n            if (newActiveIndex === s.activeIndex) {\n                return;\n            }\n            s.snapIndex = snapIndex;\n            s.previousIndex = s.activeIndex;\n            s.activeIndex = newActiveIndex;\n            s.updateClasses();\n        };\n        \n        /*=========================\n          Classes\n          ===========================*/\n        s.updateClasses = function () {\n            s.slides.removeClass(s.params.slideActiveClass + ' ' + s.params.slideNextClass + ' ' + s.params.slidePrevClass);\n            var activeSlide = s.slides.eq(s.activeIndex);\n            // Active classes\n            activeSlide.addClass(s.params.slideActiveClass);\n            // Next Slide\n            var nextSlide = activeSlide.next('.' + s.params.slideClass).addClass(s.params.slideNextClass);\n            if (s.params.loop && nextSlide.length === 0) {\n                s.slides.eq(0).addClass(s.params.slideNextClass);\n            }\n            // Prev Slide\n            var prevSlide = activeSlide.prev('.' + s.params.slideClass).addClass(s.params.slidePrevClass);\n            if (s.params.loop && prevSlide.length === 0) {\n                s.slides.eq(-1).addClass(s.params.slidePrevClass);\n            }\n        \n            // Pagination\n            if (s.paginationContainer && s.paginationContainer.length > 0) {\n                // Current/Total\n                var current,\n                    total = s.params.loop ? Math.ceil((s.slides.length - s.loopedSlides * 2) / s.params.slidesPerGroup) : s.snapGrid.length;\n                if (s.params.loop) {\n                    current = Math.ceil((s.activeIndex - s.loopedSlides)/s.params.slidesPerGroup);\n                    if (current > s.slides.length - 1 - s.loopedSlides * 2) {\n                        current = current - (s.slides.length - s.loopedSlides * 2);\n                    }\n                    if (current > total - 1) current = current - total;\n                    if (current < 0 && s.params.paginationType !== 'bullets') current = total + current;\n                }\n                else {\n                    if (typeof s.snapIndex !== 'undefined') {\n                        current = s.snapIndex;\n                    }\n                    else {\n                        current = s.activeIndex || 0;\n                    }\n                }\n                // Types\n                if (s.params.paginationType === 'bullets' && s.bullets && s.bullets.length > 0) {\n                    s.bullets.removeClass(s.params.bulletActiveClass);\n                    if (s.paginationContainer.length > 1) {\n                        s.bullets.each(function () {\n                            if ($(this).index() === current) $(this).addClass(s.params.bulletActiveClass);\n                        });\n                    }\n                    else {\n                        s.bullets.eq(current).addClass(s.params.bulletActiveClass);\n                    }\n                }\n                if (s.params.paginationType === 'fraction') {\n                    s.paginationContainer.find('.' + s.params.paginationCurrentClass).text(current + 1);\n                    s.paginationContainer.find('.' + s.params.paginationTotalClass).text(total);\n                }\n                if (s.params.paginationType === 'progress') {\n                    var scale = (current + 1) / total,\n                        scaleX = scale,\n                        scaleY = 1;\n                    if (!s.isHorizontal()) {\n                        scaleY = scale;\n                        scaleX = 1;\n                    }\n                    s.paginationContainer.find('.' + s.params.paginationProgressbarClass).transform('translate3d(0,0,0) scaleX(' + scaleX + ') scaleY(' + scaleY + ')').transition(s.params.speed);\n                }\n                if (s.params.paginationType === 'custom' && s.params.paginationCustomRender) {\n                    s.paginationContainer.html(s.params.paginationCustomRender(s, current + 1, total));\n                    s.emit('onPaginationRendered', s, s.paginationContainer[0]);\n                }\n            }\n        \n            // Next/active buttons\n            if (!s.params.loop) {\n                if (s.params.prevButton && s.prevButton && s.prevButton.length > 0) {\n                    if (s.isBeginning) {\n                        s.prevButton.addClass(s.params.buttonDisabledClass);\n                        if (s.params.a11y && s.a11y) s.a11y.disable(s.prevButton);\n                    }\n                    else {\n                        s.prevButton.removeClass(s.params.buttonDisabledClass);\n                        if (s.params.a11y && s.a11y) s.a11y.enable(s.prevButton);\n                    }\n                }\n                if (s.params.nextButton && s.nextButton && s.nextButton.length > 0) {\n                    if (s.isEnd) {\n                        s.nextButton.addClass(s.params.buttonDisabledClass);\n                        if (s.params.a11y && s.a11y) s.a11y.disable(s.nextButton);\n                    }\n                    else {\n                        s.nextButton.removeClass(s.params.buttonDisabledClass);\n                        if (s.params.a11y && s.a11y) s.a11y.enable(s.nextButton);\n                    }\n                }\n            }\n        };\n        \n        /*=========================\n          Pagination\n          ===========================*/\n        s.updatePagination = function () {\n            if (!s.params.pagination) return;\n            if (s.paginationContainer && s.paginationContainer.length > 0) {\n                var paginationHTML = '';\n                if (s.params.paginationType === 'bullets') {\n                    var numberOfBullets = s.params.loop ? Math.ceil((s.slides.length - s.loopedSlides * 2) / s.params.slidesPerGroup) : s.snapGrid.length;\n                    for (var i = 0; i < numberOfBullets; i++) {\n                        if (s.params.paginationBulletRender) {\n                            paginationHTML += s.params.paginationBulletRender(i, s.params.bulletClass);\n                        }\n                        else {\n                            paginationHTML += '<' + s.params.paginationElement+' class=\"' + s.params.bulletClass + '\"></' + s.params.paginationElement + '>';\n                        }\n                    }\n                    s.paginationContainer.html(paginationHTML);\n                    s.bullets = s.paginationContainer.find('.' + s.params.bulletClass);\n                    if (s.params.paginationClickable && s.params.a11y && s.a11y) {\n                        s.a11y.initPagination();\n                    }\n                }\n                if (s.params.paginationType === 'fraction') {\n                    if (s.params.paginationFractionRender) {\n                        paginationHTML = s.params.paginationFractionRender(s, s.params.paginationCurrentClass, s.params.paginationTotalClass);\n                    }\n                    else {\n                        paginationHTML =\n                            '<span class=\"' + s.params.paginationCurrentClass + '\"></span>' +\n                            ' / ' +\n                            '<span class=\"' + s.params.paginationTotalClass+'\"></span>';\n                    }\n                    s.paginationContainer.html(paginationHTML);\n                }\n                if (s.params.paginationType === 'progress') {\n                    if (s.params.paginationProgressRender) {\n                        paginationHTML = s.params.paginationProgressRender(s, s.params.paginationProgressbarClass);\n                    }\n                    else {\n                        paginationHTML = '<span class=\"' + s.params.paginationProgressbarClass + '\"></span>';\n                    }\n                    s.paginationContainer.html(paginationHTML);\n                }\n                if (s.params.paginationType !== 'custom') {\n                    s.emit('onPaginationRendered', s, s.paginationContainer[0]);\n                }\n            }\n        };\n        /*=========================\n          Common update method\n          ===========================*/\n        s.update = function (updateTranslate) {\n            s.updateContainerSize();\n            s.updateSlidesSize();\n            s.updateProgress();\n            s.updatePagination();\n            s.updateClasses();\n            if (s.params.scrollbar && s.scrollbar) {\n                s.scrollbar.set();\n            }\n            function forceSetTranslate() {\n                newTranslate = Math.min(Math.max(s.translate, s.maxTranslate()), s.minTranslate());\n                s.setWrapperTranslate(newTranslate);\n                s.updateActiveIndex();\n                s.updateClasses();\n            }\n            if (updateTranslate) {\n                var translated, newTranslate;\n                if (s.controller && s.controller.spline) {\n                    s.controller.spline = undefined;\n                }\n                if (s.params.freeMode) {\n                    forceSetTranslate();\n                    if (s.params.autoHeight) {\n                        s.updateAutoHeight();\n                    }\n                }\n                else {\n                    if ((s.params.slidesPerView === 'auto' || s.params.slidesPerView > 1) && s.isEnd && !s.params.centeredSlides) {\n                        translated = s.slideTo(s.slides.length - 1, 0, false, true);\n                    }\n                    else {\n                        translated = s.slideTo(s.activeIndex, 0, false, true);\n                    }\n                    if (!translated) {\n                        forceSetTranslate();\n                    }\n                }\n            }\n            else if (s.params.autoHeight) {\n                s.updateAutoHeight();\n            }\n        };\n        \n        /*=========================\n          Resize Handler\n          ===========================*/\n        s.onResize = function (forceUpdatePagination) {\n            //Breakpoints\n            if (s.params.breakpoints) {\n                s.setBreakpoint();\n            }\n        \n            // Disable locks on resize\n            var allowSwipeToPrev = s.params.allowSwipeToPrev;\n            var allowSwipeToNext = s.params.allowSwipeToNext;\n            s.params.allowSwipeToPrev = s.params.allowSwipeToNext = true;\n        \n            s.updateContainerSize();\n            s.updateSlidesSize();\n            if (s.params.slidesPerView === 'auto' || s.params.freeMode || forceUpdatePagination) s.updatePagination();\n            if (s.params.scrollbar && s.scrollbar) {\n                s.scrollbar.set();\n            }\n            if (s.controller && s.controller.spline) {\n                s.controller.spline = undefined;\n            }\n            var slideChangedBySlideTo = false;\n            if (s.params.freeMode) {\n                var newTranslate = Math.min(Math.max(s.translate, s.maxTranslate()), s.minTranslate());\n                s.setWrapperTranslate(newTranslate);\n                s.updateActiveIndex();\n                s.updateClasses();\n        \n                if (s.params.autoHeight) {\n                    s.updateAutoHeight();\n                }\n            }\n            else {\n                s.updateClasses();\n                if ((s.params.slidesPerView === 'auto' || s.params.slidesPerView > 1) && s.isEnd && !s.params.centeredSlides) {\n                    slideChangedBySlideTo = s.slideTo(s.slides.length - 1, 0, false, true);\n                }\n                else {\n                    slideChangedBySlideTo = s.slideTo(s.activeIndex, 0, false, true);\n                }\n            }\n            if (s.params.lazyLoading && !slideChangedBySlideTo && s.lazy) {\n                s.lazy.load();\n            }\n            // Return locks after resize\n            s.params.allowSwipeToPrev = allowSwipeToPrev;\n            s.params.allowSwipeToNext = allowSwipeToNext;\n        };\n        \n        /*=========================\n          Events\n          ===========================*/\n        \n        //Define Touch Events\n        var desktopEvents = ['mousedown', 'mousemove', 'mouseup'];\n        if (window.navigator.pointerEnabled) desktopEvents = ['pointerdown', 'pointermove', 'pointerup'];\n        else if (window.navigator.msPointerEnabled) desktopEvents = ['MSPointerDown', 'MSPointerMove', 'MSPointerUp'];\n        s.touchEvents = {\n            start : s.support.touch || !s.params.simulateTouch  ? 'touchstart' : desktopEvents[0],\n            move : s.support.touch || !s.params.simulateTouch ? 'touchmove' : desktopEvents[1],\n            end : s.support.touch || !s.params.simulateTouch ? 'touchend' : desktopEvents[2]\n        };\n        \n        \n        // WP8 Touch Events Fix\n        if (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) {\n            (s.params.touchEventsTarget === 'container' ? s.container : s.wrapper).addClass('swiper-wp8-' + s.params.direction);\n        }\n        \n        // Attach/detach events\n        s.initEvents = function (detach) {\n            var actionDom = detach ? 'off' : 'on';\n            var action = detach ? 'removeEventListener' : 'addEventListener';\n            var touchEventsTarget = s.params.touchEventsTarget === 'container' ? s.container[0] : s.wrapper[0];\n            var target = s.support.touch ? touchEventsTarget : document;\n        \n            var moveCapture = s.params.nested ? true : false;\n        \n            //Touch Events\n            if (s.browser.ie) {\n                touchEventsTarget[action](s.touchEvents.start, s.onTouchStart, false);\n                target[action](s.touchEvents.move, s.onTouchMove, moveCapture);\n                target[action](s.touchEvents.end, s.onTouchEnd, false);\n            }\n            else {\n                if (s.support.touch) {\n                    touchEventsTarget[action](s.touchEvents.start, s.onTouchStart, false);\n                    touchEventsTarget[action](s.touchEvents.move, s.onTouchMove, moveCapture);\n                    touchEventsTarget[action](s.touchEvents.end, s.onTouchEnd, false);\n                }\n                if (params.simulateTouch && !s.device.ios && !s.device.android) {\n                    touchEventsTarget[action]('mousedown', s.onTouchStart, false);\n                    document[action]('mousemove', s.onTouchMove, moveCapture);\n                    document[action]('mouseup', s.onTouchEnd, false);\n                }\n            }\n            window[action]('resize', s.onResize);\n        \n            // Next, Prev, Index\n            if (s.params.nextButton && s.nextButton && s.nextButton.length > 0) {\n                s.nextButton[actionDom]('click', s.onClickNext);\n                if (s.params.a11y && s.a11y) s.nextButton[actionDom]('keydown', s.a11y.onEnterKey);\n            }\n            if (s.params.prevButton && s.prevButton && s.prevButton.length > 0) {\n                s.prevButton[actionDom]('click', s.onClickPrev);\n                if (s.params.a11y && s.a11y) s.prevButton[actionDom]('keydown', s.a11y.onEnterKey);\n            }\n            if (s.params.pagination && s.params.paginationClickable) {\n                s.paginationContainer[actionDom]('click', '.' + s.params.bulletClass, s.onClickIndex);\n                if (s.params.a11y && s.a11y) s.paginationContainer[actionDom]('keydown', '.' + s.params.bulletClass, s.a11y.onEnterKey);\n            }\n        \n            // Prevent Links Clicks\n            if (s.params.preventClicks || s.params.preventClicksPropagation) touchEventsTarget[action]('click', s.preventClicks, true);\n        };\n        s.attachEvents = function () {\n            s.initEvents();\n        };\n        s.detachEvents = function () {\n            s.initEvents(true);\n        };\n        \n        /*=========================\n          Handle Clicks\n          ===========================*/\n        // Prevent Clicks\n        s.allowClick = true;\n        s.preventClicks = function (e) {\n            if (!s.allowClick) {\n                if (s.params.preventClicks) e.preventDefault();\n                if (s.params.preventClicksPropagation && s.animating) {\n                    e.stopPropagation();\n                    e.stopImmediatePropagation();\n                }\n            }\n        };\n        // Clicks\n        s.onClickNext = function (e) {\n            e.preventDefault();\n            if (s.isEnd && !s.params.loop) return;\n            s.slideNext();\n        };\n        s.onClickPrev = function (e) {\n            e.preventDefault();\n            if (s.isBeginning && !s.params.loop) return;\n            s.slidePrev();\n        };\n        s.onClickIndex = function (e) {\n            e.preventDefault();\n            var index = $(this).index() * s.params.slidesPerGroup;\n            if (s.params.loop) index = index + s.loopedSlides;\n            s.slideTo(index);\n        };\n        \n        /*=========================\n          Handle Touches\n          ===========================*/\n        function findElementInEvent(e, selector) {\n            var el = $(e.target);\n            if (!el.is(selector)) {\n                if (typeof selector === 'string') {\n                    el = el.parents(selector);\n                }\n                else if (selector.nodeType) {\n                    var found;\n                    el.parents().each(function (index, _el) {\n                        if (_el === selector) found = selector;\n                    });\n                    if (!found) return undefined;\n                    else return selector;\n                }\n            }\n            if (el.length === 0) {\n                return undefined;\n            }\n            return el[0];\n        }\n        s.updateClickedSlide = function (e) {\n            var slide = findElementInEvent(e, '.' + s.params.slideClass);\n            var slideFound = false;\n            if (slide) {\n                for (var i = 0; i < s.slides.length; i++) {\n                    if (s.slides[i] === slide) slideFound = true;\n                }\n            }\n        \n            if (slide && slideFound) {\n                s.clickedSlide = slide;\n                s.clickedIndex = $(slide).index();\n            }\n            else {\n                s.clickedSlide = undefined;\n                s.clickedIndex = undefined;\n                return;\n            }\n            if (s.params.slideToClickedSlide && s.clickedIndex !== undefined && s.clickedIndex !== s.activeIndex) {\n                var slideToIndex = s.clickedIndex,\n                    realIndex,\n                    duplicatedSlides;\n                if (s.params.loop) {\n                    if (s.animating) return;\n                    realIndex = $(s.clickedSlide).attr('data-swiper-slide-index');\n                    if (s.params.centeredSlides) {\n                        if ((slideToIndex < s.loopedSlides - s.params.slidesPerView/2) || (slideToIndex > s.slides.length - s.loopedSlides + s.params.slidesPerView/2)) {\n                            s.fixLoop();\n                            slideToIndex = s.wrapper.children('.' + s.params.slideClass + '[data-swiper-slide-index=\"' + realIndex + '\"]:not(.swiper-slide-duplicate)').eq(0).index();\n                            setTimeout(function () {\n                                s.slideTo(slideToIndex);\n                            }, 0);\n                        }\n                        else {\n                            s.slideTo(slideToIndex);\n                        }\n                    }\n                    else {\n                        if (slideToIndex > s.slides.length - s.params.slidesPerView) {\n                            s.fixLoop();\n                            slideToIndex = s.wrapper.children('.' + s.params.slideClass + '[data-swiper-slide-index=\"' + realIndex + '\"]:not(.swiper-slide-duplicate)').eq(0).index();\n                            setTimeout(function () {\n                                s.slideTo(slideToIndex);\n                            }, 0);\n                        }\n                        else {\n                            s.slideTo(slideToIndex);\n                        }\n                    }\n                }\n                else {\n                    s.slideTo(slideToIndex);\n                }\n            }\n        };\n        \n        var isTouched,\n            isMoved,\n            allowTouchCallbacks,\n            touchStartTime,\n            isScrolling,\n            currentTranslate,\n            startTranslate,\n            allowThresholdMove,\n            // Form elements to match\n            formElements = 'input, select, textarea, button',\n            // Last click time\n            lastClickTime = Date.now(), clickTimeout,\n            //Velocities\n            velocities = [],\n            allowMomentumBounce;\n        \n        // Animating Flag\n        s.animating = false;\n        \n        // Touches information\n        s.touches = {\n            startX: 0,\n            startY: 0,\n            currentX: 0,\n            currentY: 0,\n            diff: 0\n        };\n        \n        // Touch handlers\n        var isTouchEvent, startMoving;\n        s.onTouchStart = function (e) {\n            if (e.originalEvent) e = e.originalEvent;\n            isTouchEvent = e.type === 'touchstart';\n            if (!isTouchEvent && 'which' in e && e.which === 3) return;\n            if (s.params.noSwiping && findElementInEvent(e, '.' + s.params.noSwipingClass)) {\n                s.allowClick = true;\n                return;\n            }\n            if (s.params.swipeHandler) {\n                if (!findElementInEvent(e, s.params.swipeHandler)) return;\n            }\n        \n            var startX = s.touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n            var startY = s.touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n        \n            // Do NOT start if iOS edge swipe is detected. Otherwise iOS app (UIWebView) cannot swipe-to-go-back anymore\n            if(s.device.ios && s.params.iOSEdgeSwipeDetection && startX <= s.params.iOSEdgeSwipeThreshold) {\n                return;\n            }\n        \n            isTouched = true;\n            isMoved = false;\n            allowTouchCallbacks = true;\n            isScrolling = undefined;\n            startMoving = undefined;\n            s.touches.startX = startX;\n            s.touches.startY = startY;\n            touchStartTime = Date.now();\n            s.allowClick = true;\n            s.updateContainerSize();\n            s.swipeDirection = undefined;\n            if (s.params.threshold > 0) allowThresholdMove = false;\n            if (e.type !== 'touchstart') {\n                var preventDefault = true;\n                if ($(e.target).is(formElements)) preventDefault = false;\n                if (document.activeElement && $(document.activeElement).is(formElements)) {\n                    document.activeElement.blur();\n                }\n                if (preventDefault) {\n                    e.preventDefault();\n                }\n            }\n            s.emit('onTouchStart', s, e);\n        };\n        \n        s.onTouchMove = function (e) {\n            if (e.originalEvent) e = e.originalEvent;\n            if (isTouchEvent && e.type === 'mousemove') return;\n            if (e.preventedByNestedSwiper) {\n                s.touches.startX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n                s.touches.startY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n                return;\n            }\n            if (s.params.onlyExternal) {\n                // isMoved = true;\n                s.allowClick = false;\n                if (isTouched) {\n                    s.touches.startX = s.touches.currentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n                    s.touches.startY = s.touches.currentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n                    touchStartTime = Date.now();\n                }\n                return;\n            }\n            if (isTouchEvent && document.activeElement) {\n                if (e.target === document.activeElement && $(e.target).is(formElements)) {\n                    isMoved = true;\n                    s.allowClick = false;\n                    return;\n                }\n            }\n            if (allowTouchCallbacks) {\n                s.emit('onTouchMove', s, e);\n            }\n            if (e.targetTouches && e.targetTouches.length > 1) return;\n        \n            s.touches.currentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;\n            s.touches.currentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;\n        \n            if (typeof isScrolling === 'undefined') {\n                var touchAngle = Math.atan2(Math.abs(s.touches.currentY - s.touches.startY), Math.abs(s.touches.currentX - s.touches.startX)) * 180 / Math.PI;\n                isScrolling = s.isHorizontal() ? touchAngle > s.params.touchAngle : (90 - touchAngle > s.params.touchAngle);\n            }\n            if (isScrolling) {\n                s.emit('onTouchMoveOpposite', s, e);\n            }\n            if (typeof startMoving === 'undefined' && s.browser.ieTouch) {\n                if (s.touches.currentX !== s.touches.startX || s.touches.currentY !== s.touches.startY) {\n                    startMoving = true;\n                }\n            }\n            if (!isTouched) return;\n            if (isScrolling)  {\n                isTouched = false;\n                return;\n            }\n            if (!startMoving && s.browser.ieTouch) {\n                return;\n            }\n            s.allowClick = false;\n            s.emit('onSliderMove', s, e);\n            e.preventDefault();\n            if (s.params.touchMoveStopPropagation && !s.params.nested) {\n                e.stopPropagation();\n            }\n        \n            if (!isMoved) {\n                if (params.loop) {\n                    s.fixLoop();\n                }\n                startTranslate = s.getWrapperTranslate();\n                s.setWrapperTransition(0);\n                if (s.animating) {\n                    s.wrapper.trigger('webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd');\n                }\n                if (s.params.autoplay && s.autoplaying) {\n                    if (s.params.autoplayDisableOnInteraction) {\n                        s.stopAutoplay();\n                    }\n                    else {\n                        s.pauseAutoplay();\n                    }\n                }\n                allowMomentumBounce = false;\n                //Grab Cursor\n                if (s.params.grabCursor) {\n                    s.container[0].style.cursor = 'move';\n                    s.container[0].style.cursor = '-webkit-grabbing';\n                    s.container[0].style.cursor = '-moz-grabbin';\n                    s.container[0].style.cursor = 'grabbing';\n                }\n            }\n            isMoved = true;\n        \n            var diff = s.touches.diff = s.isHorizontal() ? s.touches.currentX - s.touches.startX : s.touches.currentY - s.touches.startY;\n        \n            diff = diff * s.params.touchRatio;\n            if (s.rtl) diff = -diff;\n        \n            s.swipeDirection = diff > 0 ? 'prev' : 'next';\n            currentTranslate = diff + startTranslate;\n        \n            var disableParentSwiper = true;\n            if ((diff > 0 && currentTranslate > s.minTranslate())) {\n                disableParentSwiper = false;\n                if (s.params.resistance) currentTranslate = s.minTranslate() - 1 + Math.pow(-s.minTranslate() + startTranslate + diff, s.params.resistanceRatio);\n            }\n            else if (diff < 0 && currentTranslate < s.maxTranslate()) {\n                disableParentSwiper = false;\n                if (s.params.resistance) currentTranslate = s.maxTranslate() + 1 - Math.pow(s.maxTranslate() - startTranslate - diff, s.params.resistanceRatio);\n            }\n        \n            if (disableParentSwiper) {\n                e.preventedByNestedSwiper = true;\n            }\n        \n            // Directions locks\n            if (!s.params.allowSwipeToNext && s.swipeDirection === 'next' && currentTranslate < startTranslate) {\n                currentTranslate = startTranslate;\n            }\n            if (!s.params.allowSwipeToPrev && s.swipeDirection === 'prev' && currentTranslate > startTranslate) {\n                currentTranslate = startTranslate;\n            }\n        \n            if (!s.params.followFinger) return;\n        \n            // Threshold\n            if (s.params.threshold > 0) {\n                if (Math.abs(diff) > s.params.threshold || allowThresholdMove) {\n                    if (!allowThresholdMove) {\n                        allowThresholdMove = true;\n                        s.touches.startX = s.touches.currentX;\n                        s.touches.startY = s.touches.currentY;\n                        currentTranslate = startTranslate;\n                        s.touches.diff = s.isHorizontal() ? s.touches.currentX - s.touches.startX : s.touches.currentY - s.touches.startY;\n                        return;\n                    }\n                }\n                else {\n                    currentTranslate = startTranslate;\n                    return;\n                }\n            }\n            // Update active index in free mode\n            if (s.params.freeMode || s.params.watchSlidesProgress) {\n                s.updateActiveIndex();\n            }\n            if (s.params.freeMode) {\n                //Velocity\n                if (velocities.length === 0) {\n                    velocities.push({\n                        position: s.touches[s.isHorizontal() ? 'startX' : 'startY'],\n                        time: touchStartTime\n                    });\n                }\n                velocities.push({\n                    position: s.touches[s.isHorizontal() ? 'currentX' : 'currentY'],\n                    time: (new window.Date()).getTime()\n                });\n            }\n            // Update progress\n            s.updateProgress(currentTranslate);\n            // Update translate\n            s.setWrapperTranslate(currentTranslate);\n        };\n        s.onTouchEnd = function (e) {\n            if (e.originalEvent) e = e.originalEvent;\n            if (allowTouchCallbacks) {\n                s.emit('onTouchEnd', s, e);\n            }\n            allowTouchCallbacks = false;\n            if (!isTouched) return;\n            //Return Grab Cursor\n            if (s.params.grabCursor && isMoved && isTouched) {\n                s.container[0].style.cursor = 'move';\n                s.container[0].style.cursor = '-webkit-grab';\n                s.container[0].style.cursor = '-moz-grab';\n                s.container[0].style.cursor = 'grab';\n            }\n        \n            // Time diff\n            var touchEndTime = Date.now();\n            var timeDiff = touchEndTime - touchStartTime;\n        \n            // Tap, doubleTap, Click\n            if (s.allowClick) {\n                s.updateClickedSlide(e);\n                s.emit('onTap', s, e);\n                if (timeDiff < 300 && (touchEndTime - lastClickTime) > 300) {\n                    if (clickTimeout) clearTimeout(clickTimeout);\n                    clickTimeout = setTimeout(function () {\n                        if (!s) return;\n                        if (s.params.paginationHide && s.paginationContainer.length > 0 && !$(e.target).hasClass(s.params.bulletClass)) {\n                            s.paginationContainer.toggleClass(s.params.paginationHiddenClass);\n                        }\n                        s.emit('onClick', s, e);\n                    }, 300);\n        \n                }\n                if (timeDiff < 300 && (touchEndTime - lastClickTime) < 300) {\n                    if (clickTimeout) clearTimeout(clickTimeout);\n                    s.emit('onDoubleTap', s, e);\n                }\n            }\n        \n            lastClickTime = Date.now();\n            setTimeout(function () {\n                if (s) s.allowClick = true;\n            }, 0);\n        \n            if (!isTouched || !isMoved || !s.swipeDirection || s.touches.diff === 0 || currentTranslate === startTranslate) {\n                isTouched = isMoved = false;\n                return;\n            }\n            isTouched = isMoved = false;\n        \n            var currentPos;\n            if (s.params.followFinger) {\n                currentPos = s.rtl ? s.translate : -s.translate;\n            }\n            else {\n                currentPos = -currentTranslate;\n            }\n            if (s.params.freeMode) {\n                if (currentPos < -s.minTranslate()) {\n                    s.slideTo(s.activeIndex);\n                    return;\n                }\n                else if (currentPos > -s.maxTranslate()) {\n                    if (s.slides.length < s.snapGrid.length) {\n                        s.slideTo(s.snapGrid.length - 1);\n                    }\n                    else {\n                        s.slideTo(s.slides.length - 1);\n                    }\n                    return;\n                }\n        \n                if (s.params.freeModeMomentum) {\n                    if (velocities.length > 1) {\n                        var lastMoveEvent = velocities.pop(), velocityEvent = velocities.pop();\n        \n                        var distance = lastMoveEvent.position - velocityEvent.position;\n                        var time = lastMoveEvent.time - velocityEvent.time;\n                        s.velocity = distance / time;\n                        s.velocity = s.velocity / 2;\n                        if (Math.abs(s.velocity) < s.params.freeModeMinimumVelocity) {\n                            s.velocity = 0;\n                        }\n                        // this implies that the user stopped moving a finger then released.\n                        // There would be no events with distance zero, so the last event is stale.\n                        if (time > 150 || (new window.Date().getTime() - lastMoveEvent.time) > 300) {\n                            s.velocity = 0;\n                        }\n                    } else {\n                        s.velocity = 0;\n                    }\n        \n                    velocities.length = 0;\n                    var momentumDuration = 1000 * s.params.freeModeMomentumRatio;\n                    var momentumDistance = s.velocity * momentumDuration;\n        \n                    var newPosition = s.translate + momentumDistance;\n                    if (s.rtl) newPosition = - newPosition;\n                    var doBounce = false;\n                    var afterBouncePosition;\n                    var bounceAmount = Math.abs(s.velocity) * 20 * s.params.freeModeMomentumBounceRatio;\n                    if (newPosition < s.maxTranslate()) {\n                        if (s.params.freeModeMomentumBounce) {\n                            if (newPosition + s.maxTranslate() < -bounceAmount) {\n                                newPosition = s.maxTranslate() - bounceAmount;\n                            }\n                            afterBouncePosition = s.maxTranslate();\n                            doBounce = true;\n                            allowMomentumBounce = true;\n                        }\n                        else {\n                            newPosition = s.maxTranslate();\n                        }\n                    }\n                    else if (newPosition > s.minTranslate()) {\n                        if (s.params.freeModeMomentumBounce) {\n                            if (newPosition - s.minTranslate() > bounceAmount) {\n                                newPosition = s.minTranslate() + bounceAmount;\n                            }\n                            afterBouncePosition = s.minTranslate();\n                            doBounce = true;\n                            allowMomentumBounce = true;\n                        }\n                        else {\n                            newPosition = s.minTranslate();\n                        }\n                    }\n                    else if (s.params.freeModeSticky) {\n                        var j = 0,\n                            nextSlide;\n                        for (j = 0; j < s.snapGrid.length; j += 1) {\n                            if (s.snapGrid[j] > -newPosition) {\n                                nextSlide = j;\n                                break;\n                            }\n        \n                        }\n                        if (Math.abs(s.snapGrid[nextSlide] - newPosition) < Math.abs(s.snapGrid[nextSlide - 1] - newPosition) || s.swipeDirection === 'next') {\n                            newPosition = s.snapGrid[nextSlide];\n                        } else {\n                            newPosition = s.snapGrid[nextSlide - 1];\n                        }\n                        if (!s.rtl) newPosition = - newPosition;\n                    }\n                    //Fix duration\n                    if (s.velocity !== 0) {\n                        if (s.rtl) {\n                            momentumDuration = Math.abs((-newPosition - s.translate) / s.velocity);\n                        }\n                        else {\n                            momentumDuration = Math.abs((newPosition - s.translate) / s.velocity);\n                        }\n                    }\n                    else if (s.params.freeModeSticky) {\n                        s.slideReset();\n                        return;\n                    }\n        \n                    if (s.params.freeModeMomentumBounce && doBounce) {\n                        s.updateProgress(afterBouncePosition);\n                        s.setWrapperTransition(momentumDuration);\n                        s.setWrapperTranslate(newPosition);\n                        s.onTransitionStart();\n                        s.animating = true;\n                        s.wrapper.transitionEnd(function () {\n                            if (!s || !allowMomentumBounce) return;\n                            s.emit('onMomentumBounce', s);\n        \n                            s.setWrapperTransition(s.params.speed);\n                            s.setWrapperTranslate(afterBouncePosition);\n                            s.wrapper.transitionEnd(function () {\n                                if (!s) return;\n                                s.onTransitionEnd();\n                            });\n                        });\n                    } else if (s.velocity) {\n                        s.updateProgress(newPosition);\n                        s.setWrapperTransition(momentumDuration);\n                        s.setWrapperTranslate(newPosition);\n                        s.onTransitionStart();\n                        if (!s.animating) {\n                            s.animating = true;\n                            s.wrapper.transitionEnd(function () {\n                                if (!s) return;\n                                s.onTransitionEnd();\n                            });\n                        }\n        \n                    } else {\n                        s.updateProgress(newPosition);\n                    }\n        \n                    s.updateActiveIndex();\n                }\n                if (!s.params.freeModeMomentum || timeDiff >= s.params.longSwipesMs) {\n                    s.updateProgress();\n                    s.updateActiveIndex();\n                }\n                return;\n            }\n        \n            // Find current slide\n            var i, stopIndex = 0, groupSize = s.slidesSizesGrid[0];\n            for (i = 0; i < s.slidesGrid.length; i += s.params.slidesPerGroup) {\n                if (typeof s.slidesGrid[i + s.params.slidesPerGroup] !== 'undefined') {\n                    if (currentPos >= s.slidesGrid[i] && currentPos < s.slidesGrid[i + s.params.slidesPerGroup]) {\n                        stopIndex = i;\n                        groupSize = s.slidesGrid[i + s.params.slidesPerGroup] - s.slidesGrid[i];\n                    }\n                }\n                else {\n                    if (currentPos >= s.slidesGrid[i]) {\n                        stopIndex = i;\n                        groupSize = s.slidesGrid[s.slidesGrid.length - 1] - s.slidesGrid[s.slidesGrid.length - 2];\n                    }\n                }\n            }\n        \n            // Find current slide size\n            var ratio = (currentPos - s.slidesGrid[stopIndex]) / groupSize;\n        \n            if (timeDiff > s.params.longSwipesMs) {\n                // Long touches\n                if (!s.params.longSwipes) {\n                    s.slideTo(s.activeIndex);\n                    return;\n                }\n                if (s.swipeDirection === 'next') {\n                    if (ratio >= s.params.longSwipesRatio) s.slideTo(stopIndex + s.params.slidesPerGroup);\n                    else s.slideTo(stopIndex);\n        \n                }\n                if (s.swipeDirection === 'prev') {\n                    if (ratio > (1 - s.params.longSwipesRatio)) s.slideTo(stopIndex + s.params.slidesPerGroup);\n                    else s.slideTo(stopIndex);\n                }\n            }\n            else {\n                // Short swipes\n                if (!s.params.shortSwipes) {\n                    s.slideTo(s.activeIndex);\n                    return;\n                }\n                if (s.swipeDirection === 'next') {\n                    s.slideTo(stopIndex + s.params.slidesPerGroup);\n        \n                }\n                if (s.swipeDirection === 'prev') {\n                    s.slideTo(stopIndex);\n                }\n            }\n        };\n        /*=========================\n          Transitions\n          ===========================*/\n        s._slideTo = function (slideIndex, speed) {\n            return s.slideTo(slideIndex, speed, true, true);\n        };\n        s.slideTo = function (slideIndex, speed, runCallbacks, internal) {\n            if (typeof runCallbacks === 'undefined') runCallbacks = true;\n            if (typeof slideIndex === 'undefined') slideIndex = 0;\n            if (slideIndex < 0) slideIndex = 0;\n            s.snapIndex = Math.floor(slideIndex / s.params.slidesPerGroup);\n            if (s.snapIndex >= s.snapGrid.length) s.snapIndex = s.snapGrid.length - 1;\n        \n            var translate = - s.snapGrid[s.snapIndex];\n            // Stop autoplay\n            if (s.params.autoplay && s.autoplaying) {\n                if (internal || !s.params.autoplayDisableOnInteraction) {\n                    s.pauseAutoplay(speed);\n                }\n                else {\n                    s.stopAutoplay();\n                }\n            }\n            // Update progress\n            s.updateProgress(translate);\n        \n            // Normalize slideIndex\n            for (var i = 0; i < s.slidesGrid.length; i++) {\n                if (- Math.floor(translate * 100) >= Math.floor(s.slidesGrid[i] * 100)) {\n                    slideIndex = i;\n                }\n            }\n        \n            // Directions locks\n            if (!s.params.allowSwipeToNext && translate < s.translate && translate < s.minTranslate()) {\n                return false;\n            }\n            if (!s.params.allowSwipeToPrev && translate > s.translate && translate > s.maxTranslate()) {\n                if ((s.activeIndex || 0) !== slideIndex ) return false;\n            }\n        \n            // Update Index\n            if (typeof speed === 'undefined') speed = s.params.speed;\n            s.previousIndex = s.activeIndex || 0;\n            s.activeIndex = slideIndex;\n        \n            if ((s.rtl && -translate === s.translate) || (!s.rtl && translate === s.translate)) {\n                // Update Height\n                if (s.params.autoHeight) {\n                    s.updateAutoHeight();\n                }\n                s.updateClasses();\n                if (s.params.effect !== 'slide') {\n                    s.setWrapperTranslate(translate);\n                }\n                return false;\n            }\n            s.updateClasses();\n            s.onTransitionStart(runCallbacks);\n        \n            if (speed === 0) {\n                s.setWrapperTranslate(translate);\n                s.setWrapperTransition(0);\n                s.onTransitionEnd(runCallbacks);\n            }\n            else {\n                s.setWrapperTranslate(translate);\n                s.setWrapperTransition(speed);\n                if (!s.animating) {\n                    s.animating = true;\n                    s.wrapper.transitionEnd(function () {\n                        if (!s) return;\n                        s.onTransitionEnd(runCallbacks);\n                    });\n                }\n        \n            }\n        \n            return true;\n        };\n        \n        s.onTransitionStart = function (runCallbacks) {\n            if (typeof runCallbacks === 'undefined') runCallbacks = true;\n            if (s.params.autoHeight) {\n                s.updateAutoHeight();\n            }\n            if (s.lazy) s.lazy.onTransitionStart();\n            if (runCallbacks) {\n                s.emit('onTransitionStart', s);\n                if (s.activeIndex !== s.previousIndex) {\n                    s.emit('onSlideChangeStart', s);\n                    if (s.activeIndex > s.previousIndex) {\n                        s.emit('onSlideNextStart', s);\n                    }\n                    else {\n                        s.emit('onSlidePrevStart', s);\n                    }\n                }\n        \n            }\n        };\n        s.onTransitionEnd = function (runCallbacks) {\n            s.animating = false;\n            s.setWrapperTransition(0);\n            if (typeof runCallbacks === 'undefined') runCallbacks = true;\n            if (s.lazy) s.lazy.onTransitionEnd();\n            if (runCallbacks) {\n                s.emit('onTransitionEnd', s);\n                if (s.activeIndex !== s.previousIndex) {\n                    s.emit('onSlideChangeEnd', s);\n                    if (s.activeIndex > s.previousIndex) {\n                        s.emit('onSlideNextEnd', s);\n                    }\n                    else {\n                        s.emit('onSlidePrevEnd', s);\n                    }\n                }\n            }\n            if (s.params.hashnav && s.hashnav) {\n                s.hashnav.setHash();\n            }\n        \n        };\n        s.slideNext = function (runCallbacks, speed, internal) {\n            if (s.params.loop) {\n                if (s.animating) return false;\n                s.fixLoop();\n                var clientLeft = s.container[0].clientLeft;\n                return s.slideTo(s.activeIndex + s.params.slidesPerGroup, speed, runCallbacks, internal);\n            }\n            else return s.slideTo(s.activeIndex + s.params.slidesPerGroup, speed, runCallbacks, internal);\n        };\n        s._slideNext = function (speed) {\n            return s.slideNext(true, speed, true);\n        };\n        s.slidePrev = function (runCallbacks, speed, internal) {\n            if (s.params.loop) {\n                if (s.animating) return false;\n                s.fixLoop();\n                var clientLeft = s.container[0].clientLeft;\n                return s.slideTo(s.activeIndex - 1, speed, runCallbacks, internal);\n            }\n            else return s.slideTo(s.activeIndex - 1, speed, runCallbacks, internal);\n        };\n        s._slidePrev = function (speed) {\n            return s.slidePrev(true, speed, true);\n        };\n        s.slideReset = function (runCallbacks, speed, internal) {\n            return s.slideTo(s.activeIndex, speed, runCallbacks);\n        };\n        \n        /*=========================\n          Translate/transition helpers\n          ===========================*/\n        s.setWrapperTransition = function (duration, byController) {\n            s.wrapper.transition(duration);\n            if (s.params.effect !== 'slide' && s.effects[s.params.effect]) {\n                s.effects[s.params.effect].setTransition(duration);\n            }\n            if (s.params.parallax && s.parallax) {\n                s.parallax.setTransition(duration);\n            }\n            if (s.params.scrollbar && s.scrollbar) {\n                s.scrollbar.setTransition(duration);\n            }\n            if (s.params.control && s.controller) {\n                s.controller.setTransition(duration, byController);\n            }\n            s.emit('onSetTransition', s, duration);\n        };\n        s.setWrapperTranslate = function (translate, updateActiveIndex, byController) {\n            var x = 0, y = 0, z = 0;\n            if (s.isHorizontal()) {\n                x = s.rtl ? -translate : translate;\n            }\n            else {\n                y = translate;\n            }\n        \n            if (s.params.roundLengths) {\n                x = round(x);\n                y = round(y);\n            }\n        \n            if (!s.params.virtualTranslate) {\n                if (s.support.transforms3d) s.wrapper.transform('translate3d(' + x + 'px, ' + y + 'px, ' + z + 'px)');\n                else s.wrapper.transform('translate(' + x + 'px, ' + y + 'px)');\n            }\n        \n            s.translate = s.isHorizontal() ? x : y;\n        \n            // Check if we need to update progress\n            var progress;\n            var translatesDiff = s.maxTranslate() - s.minTranslate();\n            if (translatesDiff === 0) {\n                progress = 0;\n            }\n            else {\n                progress = (translate - s.minTranslate()) / (translatesDiff);\n            }\n            if (progress !== s.progress) {\n                s.updateProgress(translate);\n            }\n        \n            if (updateActiveIndex) s.updateActiveIndex();\n            if (s.params.effect !== 'slide' && s.effects[s.params.effect]) {\n                s.effects[s.params.effect].setTranslate(s.translate);\n            }\n            if (s.params.parallax && s.parallax) {\n                s.parallax.setTranslate(s.translate);\n            }\n            if (s.params.scrollbar && s.scrollbar) {\n                s.scrollbar.setTranslate(s.translate);\n            }\n            if (s.params.control && s.controller) {\n                s.controller.setTranslate(s.translate, byController);\n            }\n            s.emit('onSetTranslate', s, s.translate);\n        };\n        \n        s.getTranslate = function (el, axis) {\n            var matrix, curTransform, curStyle, transformMatrix;\n        \n            // automatic axis detection\n            if (typeof axis === 'undefined') {\n                axis = 'x';\n            }\n        \n            if (s.params.virtualTranslate) {\n                return s.rtl ? -s.translate : s.translate;\n            }\n        \n            curStyle = window.getComputedStyle(el, null);\n            if (window.WebKitCSSMatrix) {\n                curTransform = curStyle.transform || curStyle.webkitTransform;\n                if (curTransform.split(',').length > 6) {\n                    curTransform = curTransform.split(', ').map(function(a){\n                        return a.replace(',','.');\n                    }).join(', ');\n                }\n                // Some old versions of Webkit choke when 'none' is passed; pass\n                // empty string instead in this case\n                transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n            }\n            else {\n                transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform  || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n                matrix = transformMatrix.toString().split(',');\n            }\n        \n            if (axis === 'x') {\n                //Latest Chrome and webkits Fix\n                if (window.WebKitCSSMatrix)\n                    curTransform = transformMatrix.m41;\n                //Crazy IE10 Matrix\n                else if (matrix.length === 16)\n                    curTransform = parseFloat(matrix[12]);\n                //Normal Browsers\n                else\n                    curTransform = parseFloat(matrix[4]);\n            }\n            if (axis === 'y') {\n                //Latest Chrome and webkits Fix\n                if (window.WebKitCSSMatrix)\n                    curTransform = transformMatrix.m42;\n                //Crazy IE10 Matrix\n                else if (matrix.length === 16)\n                    curTransform = parseFloat(matrix[13]);\n                //Normal Browsers\n                else\n                    curTransform = parseFloat(matrix[5]);\n            }\n            if (s.rtl && curTransform) curTransform = -curTransform;\n            return curTransform || 0;\n        };\n        s.getWrapperTranslate = function (axis) {\n            if (typeof axis === 'undefined') {\n                axis = s.isHorizontal() ? 'x' : 'y';\n            }\n            return s.getTranslate(s.wrapper[0], axis);\n        };\n        \n        /*=========================\n          Observer\n          ===========================*/\n        s.observers = [];\n        function initObserver(target, options) {\n            options = options || {};\n            // create an observer instance\n            var ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n            var observer = new ObserverFunc(function (mutations) {\n                mutations.forEach(function (mutation) {\n                    s.onResize(true);\n                    s.emit('onObserverUpdate', s, mutation);\n                });\n            });\n        \n            observer.observe(target, {\n                attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n                childList: typeof options.childList === 'undefined' ? true : options.childList,\n                characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n            });\n        \n            s.observers.push(observer);\n        }\n        s.initObservers = function () {\n            if (s.params.observeParents) {\n                var containerParents = s.container.parents();\n                for (var i = 0; i < containerParents.length; i++) {\n                    initObserver(containerParents[i]);\n                }\n            }\n        \n            // Observe container\n            initObserver(s.container[0], {childList: false});\n        \n            // Observe wrapper\n            initObserver(s.wrapper[0], {attributes: false});\n        };\n        s.disconnectObservers = function () {\n            for (var i = 0; i < s.observers.length; i++) {\n                s.observers[i].disconnect();\n            }\n            s.observers = [];\n        };\n        /*=========================\n          Loop\n          ===========================*/\n        // Create looped slides\n        s.createLoop = function () {\n            // Remove duplicated slides\n            s.wrapper.children('.' + s.params.slideClass + '.' + s.params.slideDuplicateClass).remove();\n        \n            var slides = s.wrapper.children('.' + s.params.slideClass);\n        \n            if(s.params.slidesPerView === 'auto' && !s.params.loopedSlides) s.params.loopedSlides = slides.length;\n        \n            s.loopedSlides = parseInt(s.params.loopedSlides || s.params.slidesPerView, 10);\n            s.loopedSlides = s.loopedSlides + s.params.loopAdditionalSlides;\n            if (s.loopedSlides > slides.length) {\n                s.loopedSlides = slides.length;\n            }\n        \n            var prependSlides = [], appendSlides = [], i;\n            slides.each(function (index, el) {\n                var slide = $(this);\n                if (index < s.loopedSlides) appendSlides.push(el);\n                if (index < slides.length && index >= slides.length - s.loopedSlides) prependSlides.push(el);\n                slide.attr('data-swiper-slide-index', index);\n            });\n            for (i = 0; i < appendSlides.length; i++) {\n                s.wrapper.append($(appendSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass));\n            }\n            for (i = prependSlides.length - 1; i >= 0; i--) {\n                s.wrapper.prepend($(prependSlides[i].cloneNode(true)).addClass(s.params.slideDuplicateClass));\n            }\n        };\n        s.destroyLoop = function () {\n            s.wrapper.children('.' + s.params.slideClass + '.' + s.params.slideDuplicateClass).remove();\n            s.slides.removeAttr('data-swiper-slide-index');\n        };\n        s.reLoop = function (updatePosition) {\n            var oldIndex = s.activeIndex - s.loopedSlides;\n            s.destroyLoop();\n            s.createLoop();\n            s.updateSlidesSize();\n            if (updatePosition) {\n                s.slideTo(oldIndex + s.loopedSlides, 0, false);\n            }\n        \n        };\n        s.fixLoop = function () {\n            var newIndex;\n            //Fix For Negative Oversliding\n            if (s.activeIndex < s.loopedSlides) {\n                newIndex = s.slides.length - s.loopedSlides * 3 + s.activeIndex;\n                newIndex = newIndex + s.loopedSlides;\n                s.slideTo(newIndex, 0, false, true);\n            }\n            //Fix For Positive Oversliding\n            else if ((s.params.slidesPerView === 'auto' && s.activeIndex >= s.loopedSlides * 2) || (s.activeIndex > s.slides.length - s.params.slidesPerView * 2)) {\n                newIndex = -s.slides.length + s.activeIndex + s.loopedSlides;\n                newIndex = newIndex + s.loopedSlides;\n                s.slideTo(newIndex, 0, false, true);\n            }\n        };\n        /*=========================\n          Append/Prepend/Remove Slides\n          ===========================*/\n        s.appendSlide = function (slides) {\n            if (s.params.loop) {\n                s.destroyLoop();\n            }\n            if (typeof slides === 'object' && slides.length) {\n                for (var i = 0; i < slides.length; i++) {\n                    if (slides[i]) s.wrapper.append(slides[i]);\n                }\n            }\n            else {\n                s.wrapper.append(slides);\n            }\n            if (s.params.loop) {\n                s.createLoop();\n            }\n            if (!(s.params.observer && s.support.observer)) {\n                s.update(true);\n            }\n        };\n        s.prependSlide = function (slides) {\n            if (s.params.loop) {\n                s.destroyLoop();\n            }\n            var newActiveIndex = s.activeIndex + 1;\n            if (typeof slides === 'object' && slides.length) {\n                for (var i = 0; i < slides.length; i++) {\n                    if (slides[i]) s.wrapper.prepend(slides[i]);\n                }\n                newActiveIndex = s.activeIndex + slides.length;\n            }\n            else {\n                s.wrapper.prepend(slides);\n            }\n            if (s.params.loop) {\n                s.createLoop();\n            }\n            if (!(s.params.observer && s.support.observer)) {\n                s.update(true);\n            }\n            s.slideTo(newActiveIndex, 0, false);\n        };\n        s.removeSlide = function (slidesIndexes) {\n            if (s.params.loop) {\n                s.destroyLoop();\n                s.slides = s.wrapper.children('.' + s.params.slideClass);\n            }\n            var newActiveIndex = s.activeIndex,\n                indexToRemove;\n            if (typeof slidesIndexes === 'object' && slidesIndexes.length) {\n                for (var i = 0; i < slidesIndexes.length; i++) {\n                    indexToRemove = slidesIndexes[i];\n                    if (s.slides[indexToRemove]) s.slides.eq(indexToRemove).remove();\n                    if (indexToRemove < newActiveIndex) newActiveIndex--;\n                }\n                newActiveIndex = Math.max(newActiveIndex, 0);\n            }\n            else {\n                indexToRemove = slidesIndexes;\n                if (s.slides[indexToRemove]) s.slides.eq(indexToRemove).remove();\n                if (indexToRemove < newActiveIndex) newActiveIndex--;\n                newActiveIndex = Math.max(newActiveIndex, 0);\n            }\n        \n            if (s.params.loop) {\n                s.createLoop();\n            }\n        \n            if (!(s.params.observer && s.support.observer)) {\n                s.update(true);\n            }\n            if (s.params.loop) {\n                s.slideTo(newActiveIndex + s.loopedSlides, 0, false);\n            }\n            else {\n                s.slideTo(newActiveIndex, 0, false);\n            }\n        \n        };\n        s.removeAllSlides = function () {\n            var slidesIndexes = [];\n            for (var i = 0; i < s.slides.length; i++) {\n                slidesIndexes.push(i);\n            }\n            s.removeSlide(slidesIndexes);\n        };\n        \n    \n        /*=========================\n          Effects\n          ===========================*/\n        s.effects = {\n            fade: {\n                setTranslate: function () {\n                    for (var i = 0; i < s.slides.length; i++) {\n                        var slide = s.slides.eq(i);\n                        var offset = slide[0].swiperSlideOffset;\n                        var tx = -offset;\n                        if (!s.params.virtualTranslate) tx = tx - s.translate;\n                        var ty = 0;\n                        if (!s.isHorizontal()) {\n                            ty = tx;\n                            tx = 0;\n                        }\n                        var slideOpacity = s.params.fade.crossFade ?\n                                Math.max(1 - Math.abs(slide[0].progress), 0) :\n                                1 + Math.min(Math.max(slide[0].progress, -1), 0);\n                        slide\n                            .css({\n                                opacity: slideOpacity\n                            })\n                            .transform('translate3d(' + tx + 'px, ' + ty + 'px, 0px)');\n        \n                    }\n        \n                },\n                setTransition: function (duration) {\n                    s.slides.transition(duration);\n                    if (s.params.virtualTranslate && duration !== 0) {\n                        var eventTriggered = false;\n                        s.slides.transitionEnd(function () {\n                            if (eventTriggered) return;\n                            if (!s) return;\n                            eventTriggered = true;\n                            s.animating = false;\n                            var triggerEvents = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'];\n                            for (var i = 0; i < triggerEvents.length; i++) {\n                                s.wrapper.trigger(triggerEvents[i]);\n                            }\n                        });\n                    }\n                }\n            },\n            flip: {\n                setTranslate: function () {\n                    for (var i = 0; i < s.slides.length; i++) {\n                        var slide = s.slides.eq(i);\n                        var progress = slide[0].progress;\n                        if (s.params.flip.limitRotation) {\n                            progress = Math.max(Math.min(slide[0].progress, 1), -1);\n                        }\n                        var offset = slide[0].swiperSlideOffset;\n                        var rotate = -180 * progress,\n                            rotateY = rotate,\n                            rotateX = 0,\n                            tx = -offset,\n                            ty = 0;\n                        if (!s.isHorizontal()) {\n                            ty = tx;\n                            tx = 0;\n                            rotateX = -rotateY;\n                            rotateY = 0;\n                        }\n                        else if (s.rtl) {\n                            rotateY = -rotateY;\n                        }\n        \n                        slide[0].style.zIndex = -Math.abs(Math.round(progress)) + s.slides.length;\n        \n                        if (s.params.flip.slideShadows) {\n                            //Set shadows\n                            var shadowBefore = s.isHorizontal() ? slide.find('.swiper-slide-shadow-left') : slide.find('.swiper-slide-shadow-top');\n                            var shadowAfter = s.isHorizontal() ? slide.find('.swiper-slide-shadow-right') : slide.find('.swiper-slide-shadow-bottom');\n                            if (shadowBefore.length === 0) {\n                                shadowBefore = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'left' : 'top') + '\"></div>');\n                                slide.append(shadowBefore);\n                            }\n                            if (shadowAfter.length === 0) {\n                                shadowAfter = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'right' : 'bottom') + '\"></div>');\n                                slide.append(shadowAfter);\n                            }\n                            if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n                            if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n                        }\n        \n                        slide\n                            .transform('translate3d(' + tx + 'px, ' + ty + 'px, 0px) rotateX(' + rotateX + 'deg) rotateY(' + rotateY + 'deg)');\n                    }\n                },\n                setTransition: function (duration) {\n                    s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n                    if (s.params.virtualTranslate && duration !== 0) {\n                        var eventTriggered = false;\n                        s.slides.eq(s.activeIndex).transitionEnd(function () {\n                            if (eventTriggered) return;\n                            if (!s) return;\n                            if (!$(this).hasClass(s.params.slideActiveClass)) return;\n                            eventTriggered = true;\n                            s.animating = false;\n                            var triggerEvents = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'];\n                            for (var i = 0; i < triggerEvents.length; i++) {\n                                s.wrapper.trigger(triggerEvents[i]);\n                            }\n                        });\n                    }\n                }\n            },\n            cube: {\n                setTranslate: function () {\n                    var wrapperRotate = 0, cubeShadow;\n                    if (s.params.cube.shadow) {\n                        if (s.isHorizontal()) {\n                            cubeShadow = s.wrapper.find('.swiper-cube-shadow');\n                            if (cubeShadow.length === 0) {\n                                cubeShadow = $('<div class=\"swiper-cube-shadow\"></div>');\n                                s.wrapper.append(cubeShadow);\n                            }\n                            cubeShadow.css({height: s.width + 'px'});\n                        }\n                        else {\n                            cubeShadow = s.container.find('.swiper-cube-shadow');\n                            if (cubeShadow.length === 0) {\n                                cubeShadow = $('<div class=\"swiper-cube-shadow\"></div>');\n                                s.container.append(cubeShadow);\n                            }\n                        }\n                    }\n                    for (var i = 0; i < s.slides.length; i++) {\n                        var slide = s.slides.eq(i);\n                        var slideAngle = i * 90;\n                        var round = Math.floor(slideAngle / 360);\n                        if (s.rtl) {\n                            slideAngle = -slideAngle;\n                            round = Math.floor(-slideAngle / 360);\n                        }\n                        var progress = Math.max(Math.min(slide[0].progress, 1), -1);\n                        var tx = 0, ty = 0, tz = 0;\n                        if (i % 4 === 0) {\n                            tx = - round * 4 * s.size;\n                            tz = 0;\n                        }\n                        else if ((i - 1) % 4 === 0) {\n                            tx = 0;\n                            tz = - round * 4 * s.size;\n                        }\n                        else if ((i - 2) % 4 === 0) {\n                            tx = s.size + round * 4 * s.size;\n                            tz = s.size;\n                        }\n                        else if ((i - 3) % 4 === 0) {\n                            tx = - s.size;\n                            tz = 3 * s.size + s.size * 4 * round;\n                        }\n                        if (s.rtl) {\n                            tx = -tx;\n                        }\n        \n                        if (!s.isHorizontal()) {\n                            ty = tx;\n                            tx = 0;\n                        }\n        \n                        var transform = 'rotateX(' + (s.isHorizontal() ? 0 : -slideAngle) + 'deg) rotateY(' + (s.isHorizontal() ? slideAngle : 0) + 'deg) translate3d(' + tx + 'px, ' + ty + 'px, ' + tz + 'px)';\n                        if (progress <= 1 && progress > -1) {\n                            wrapperRotate = i * 90 + progress * 90;\n                            if (s.rtl) wrapperRotate = -i * 90 - progress * 90;\n                        }\n                        slide.transform(transform);\n                        if (s.params.cube.slideShadows) {\n                            //Set shadows\n                            var shadowBefore = s.isHorizontal() ? slide.find('.swiper-slide-shadow-left') : slide.find('.swiper-slide-shadow-top');\n                            var shadowAfter = s.isHorizontal() ? slide.find('.swiper-slide-shadow-right') : slide.find('.swiper-slide-shadow-bottom');\n                            if (shadowBefore.length === 0) {\n                                shadowBefore = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'left' : 'top') + '\"></div>');\n                                slide.append(shadowBefore);\n                            }\n                            if (shadowAfter.length === 0) {\n                                shadowAfter = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'right' : 'bottom') + '\"></div>');\n                                slide.append(shadowAfter);\n                            }\n                            if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n                            if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n                        }\n                    }\n                    s.wrapper.css({\n                        '-webkit-transform-origin': '50% 50% -' + (s.size / 2) + 'px',\n                        '-moz-transform-origin': '50% 50% -' + (s.size / 2) + 'px',\n                        '-ms-transform-origin': '50% 50% -' + (s.size / 2) + 'px',\n                        'transform-origin': '50% 50% -' + (s.size / 2) + 'px'\n                    });\n        \n                    if (s.params.cube.shadow) {\n                        if (s.isHorizontal()) {\n                            cubeShadow.transform('translate3d(0px, ' + (s.width / 2 + s.params.cube.shadowOffset) + 'px, ' + (-s.width / 2) + 'px) rotateX(90deg) rotateZ(0deg) scale(' + (s.params.cube.shadowScale) + ')');\n                        }\n                        else {\n                            var shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;\n                            var multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);\n                            var scale1 = s.params.cube.shadowScale,\n                                scale2 = s.params.cube.shadowScale / multiplier,\n                                offset = s.params.cube.shadowOffset;\n                            cubeShadow.transform('scale3d(' + scale1 + ', 1, ' + scale2 + ') translate3d(0px, ' + (s.height / 2 + offset) + 'px, ' + (-s.height / 2 / scale2) + 'px) rotateX(-90deg)');\n                        }\n                    }\n                    var zFactor = (s.isSafari || s.isUiWebView) ? (-s.size / 2) : 0;\n                    s.wrapper.transform('translate3d(0px,0,' + zFactor + 'px) rotateX(' + (s.isHorizontal() ? 0 : wrapperRotate) + 'deg) rotateY(' + (s.isHorizontal() ? -wrapperRotate : 0) + 'deg)');\n                },\n                setTransition: function (duration) {\n                    s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n                    if (s.params.cube.shadow && !s.isHorizontal()) {\n                        s.container.find('.swiper-cube-shadow').transition(duration);\n                    }\n                }\n            },\n            coverflow: {\n                setTranslate: function () {\n                    var transform = s.translate;\n                    var center = s.isHorizontal() ? -transform + s.width / 2 : -transform + s.height / 2;\n                    var rotate = s.isHorizontal() ? s.params.coverflow.rotate: -s.params.coverflow.rotate;\n                    var translate = s.params.coverflow.depth;\n                    //Each slide offset from center\n                    for (var i = 0, length = s.slides.length; i < length; i++) {\n                        var slide = s.slides.eq(i);\n                        var slideSize = s.slidesSizesGrid[i];\n                        var slideOffset = slide[0].swiperSlideOffset;\n                        var offsetMultiplier = (center - slideOffset - slideSize / 2) / slideSize * s.params.coverflow.modifier;\n        \n                        var rotateY = s.isHorizontal() ? rotate * offsetMultiplier : 0;\n                        var rotateX = s.isHorizontal() ? 0 : rotate * offsetMultiplier;\n                        // var rotateZ = 0\n                        var translateZ = -translate * Math.abs(offsetMultiplier);\n        \n                        var translateY = s.isHorizontal() ? 0 : s.params.coverflow.stretch * (offsetMultiplier);\n                        var translateX = s.isHorizontal() ? s.params.coverflow.stretch * (offsetMultiplier) : 0;\n        \n                        //Fix for ultra small values\n                        if (Math.abs(translateX) < 0.001) translateX = 0;\n                        if (Math.abs(translateY) < 0.001) translateY = 0;\n                        if (Math.abs(translateZ) < 0.001) translateZ = 0;\n                        if (Math.abs(rotateY) < 0.001) rotateY = 0;\n                        if (Math.abs(rotateX) < 0.001) rotateX = 0;\n        \n                        var slideTransform = 'translate3d(' + translateX + 'px,' + translateY + 'px,' + translateZ + 'px)  rotateX(' + rotateX + 'deg) rotateY(' + rotateY + 'deg)';\n        \n                        slide.transform(slideTransform);\n                        slide[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;\n                        if (s.params.coverflow.slideShadows) {\n                            //Set shadows\n                            var shadowBefore = s.isHorizontal() ? slide.find('.swiper-slide-shadow-left') : slide.find('.swiper-slide-shadow-top');\n                            var shadowAfter = s.isHorizontal() ? slide.find('.swiper-slide-shadow-right') : slide.find('.swiper-slide-shadow-bottom');\n                            if (shadowBefore.length === 0) {\n                                shadowBefore = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'left' : 'top') + '\"></div>');\n                                slide.append(shadowBefore);\n                            }\n                            if (shadowAfter.length === 0) {\n                                shadowAfter = $('<div class=\"swiper-slide-shadow-' + (s.isHorizontal() ? 'right' : 'bottom') + '\"></div>');\n                                slide.append(shadowAfter);\n                            }\n                            if (shadowBefore.length) shadowBefore[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;\n                            if (shadowAfter.length) shadowAfter[0].style.opacity = (-offsetMultiplier) > 0 ? -offsetMultiplier : 0;\n                        }\n                    }\n        \n                    //Set correct perspective for IE10\n                    if (s.browser.ie) {\n                        var ws = s.wrapper[0].style;\n                        ws.perspectiveOrigin = center + 'px 50%';\n                    }\n                },\n                setTransition: function (duration) {\n                    s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);\n                }\n            }\n        };\n    \n        /*=========================\n          Images Lazy Loading\n          ===========================*/\n        s.lazy = {\n            initialImageLoaded: false,\n            loadImageInSlide: function (index, loadInDuplicate) {\n                if (typeof index === 'undefined') return;\n                if (typeof loadInDuplicate === 'undefined') loadInDuplicate = true;\n                if (s.slides.length === 0) return;\n        \n                var slide = s.slides.eq(index);\n                var img = slide.find('.swiper-lazy:not(.swiper-lazy-loaded):not(.swiper-lazy-loading)');\n                if (slide.hasClass('swiper-lazy') && !slide.hasClass('swiper-lazy-loaded') && !slide.hasClass('swiper-lazy-loading')) {\n                    img = img.add(slide[0]);\n                }\n                if (img.length === 0) return;\n        \n                img.each(function () {\n                    var _img = $(this);\n                    _img.addClass('swiper-lazy-loading');\n                    var background = _img.attr('data-background');\n                    var src = _img.attr('data-src'),\n                        srcset = _img.attr('data-srcset');\n                    s.loadImage(_img[0], (src || background), srcset, false, function () {\n                        if (background) {\n                            _img.css('background-image', 'url(\"' + background + '\")');\n                            _img.removeAttr('data-background');\n                        }\n                        else {\n                            if (srcset) {\n                                _img.attr('srcset', srcset);\n                                _img.removeAttr('data-srcset');\n                            }\n                            if (src) {\n                                _img.attr('src', src);\n                                _img.removeAttr('data-src');\n                            }\n        \n                        }\n        \n                        _img.addClass('swiper-lazy-loaded').removeClass('swiper-lazy-loading');\n                        slide.find('.swiper-lazy-preloader, .preloader').remove();\n                        if (s.params.loop && loadInDuplicate) {\n                            var slideOriginalIndex = slide.attr('data-swiper-slide-index');\n                            if (slide.hasClass(s.params.slideDuplicateClass)) {\n                                var originalSlide = s.wrapper.children('[data-swiper-slide-index=\"' + slideOriginalIndex + '\"]:not(.' + s.params.slideDuplicateClass + ')');\n                                s.lazy.loadImageInSlide(originalSlide.index(), false);\n                            }\n                            else {\n                                var duplicatedSlide = s.wrapper.children('.' + s.params.slideDuplicateClass + '[data-swiper-slide-index=\"' + slideOriginalIndex + '\"]');\n                                s.lazy.loadImageInSlide(duplicatedSlide.index(), false);\n                            }\n                        }\n                        s.emit('onLazyImageReady', s, slide[0], _img[0]);\n                    });\n        \n                    s.emit('onLazyImageLoad', s, slide[0], _img[0]);\n                });\n        \n            },\n            load: function () {\n                var i;\n                if (s.params.watchSlidesVisibility) {\n                    s.wrapper.children('.' + s.params.slideVisibleClass).each(function () {\n                        s.lazy.loadImageInSlide($(this).index());\n                    });\n                }\n                else {\n                    if (s.params.slidesPerView > 1) {\n                        for (i = s.activeIndex; i < s.activeIndex + s.params.slidesPerView ; i++) {\n                            if (s.slides[i]) s.lazy.loadImageInSlide(i);\n                        }\n                    }\n                    else {\n                        s.lazy.loadImageInSlide(s.activeIndex);\n                    }\n                }\n                if (s.params.lazyLoadingInPrevNext) {\n                    if (s.params.slidesPerView > 1 || (s.params.lazyLoadingInPrevNextAmount && s.params.lazyLoadingInPrevNextAmount > 1)) {\n                        var amount = s.params.lazyLoadingInPrevNextAmount;\n                        var spv = s.params.slidesPerView;\n                        var maxIndex = Math.min(s.activeIndex + spv + Math.max(amount, spv), s.slides.length);\n                        var minIndex = Math.max(s.activeIndex - Math.max(spv, amount), 0);\n                        // Next Slides\n                        for (i = s.activeIndex + s.params.slidesPerView; i < maxIndex; i++) {\n                            if (s.slides[i]) s.lazy.loadImageInSlide(i);\n                        }\n                        // Prev Slides\n                        for (i = minIndex; i < s.activeIndex ; i++) {\n                            if (s.slides[i]) s.lazy.loadImageInSlide(i);\n                        }\n                    }\n                    else {\n                        var nextSlide = s.wrapper.children('.' + s.params.slideNextClass);\n                        if (nextSlide.length > 0) s.lazy.loadImageInSlide(nextSlide.index());\n        \n                        var prevSlide = s.wrapper.children('.' + s.params.slidePrevClass);\n                        if (prevSlide.length > 0) s.lazy.loadImageInSlide(prevSlide.index());\n                    }\n                }\n            },\n            onTransitionStart: function () {\n                if (s.params.lazyLoading) {\n                    if (s.params.lazyLoadingOnTransitionStart || (!s.params.lazyLoadingOnTransitionStart && !s.lazy.initialImageLoaded)) {\n                        s.lazy.load();\n                    }\n                }\n            },\n            onTransitionEnd: function () {\n                if (s.params.lazyLoading && !s.params.lazyLoadingOnTransitionStart) {\n                    s.lazy.load();\n                }\n            }\n        };\n        \n    \n        /*=========================\n          Scrollbar\n          ===========================*/\n        s.scrollbar = {\n            isTouched: false,\n            setDragPosition: function (e) {\n                var sb = s.scrollbar;\n                var x = 0, y = 0;\n                var translate;\n                var pointerPosition = s.isHorizontal() ?\n                    ((e.type === 'touchstart' || e.type === 'touchmove') ? e.targetTouches[0].pageX : e.pageX || e.clientX) :\n                    ((e.type === 'touchstart' || e.type === 'touchmove') ? e.targetTouches[0].pageY : e.pageY || e.clientY) ;\n                var position = (pointerPosition) - sb.track.offset()[s.isHorizontal() ? 'left' : 'top'] - sb.dragSize / 2;\n                var positionMin = -s.minTranslate() * sb.moveDivider;\n                var positionMax = -s.maxTranslate() * sb.moveDivider;\n                if (position < positionMin) {\n                    position = positionMin;\n                }\n                else if (position > positionMax) {\n                    position = positionMax;\n                }\n                position = -position / sb.moveDivider;\n                s.updateProgress(position);\n                s.setWrapperTranslate(position, true);\n            },\n            dragStart: function (e) {\n                var sb = s.scrollbar;\n                sb.isTouched = true;\n                e.preventDefault();\n                e.stopPropagation();\n        \n                sb.setDragPosition(e);\n                clearTimeout(sb.dragTimeout);\n        \n                sb.track.transition(0);\n                if (s.params.scrollbarHide) {\n                    sb.track.css('opacity', 1);\n                }\n                s.wrapper.transition(100);\n                sb.drag.transition(100);\n                s.emit('onScrollbarDragStart', s);\n            },\n            dragMove: function (e) {\n                var sb = s.scrollbar;\n                if (!sb.isTouched) return;\n                if (e.preventDefault) e.preventDefault();\n                else e.returnValue = false;\n                sb.setDragPosition(e);\n                s.wrapper.transition(0);\n                sb.track.transition(0);\n                sb.drag.transition(0);\n                s.emit('onScrollbarDragMove', s);\n            },\n            dragEnd: function (e) {\n                var sb = s.scrollbar;\n                if (!sb.isTouched) return;\n                sb.isTouched = false;\n                if (s.params.scrollbarHide) {\n                    clearTimeout(sb.dragTimeout);\n                    sb.dragTimeout = setTimeout(function () {\n                        sb.track.css('opacity', 0);\n                        sb.track.transition(400);\n                    }, 1000);\n        \n                }\n                s.emit('onScrollbarDragEnd', s);\n                if (s.params.scrollbarSnapOnRelease) {\n                    s.slideReset();\n                }\n            },\n            enableDraggable: function () {\n                var sb = s.scrollbar;\n                var target = s.support.touch ? sb.track : document;\n                $(sb.track).on(s.touchEvents.start, sb.dragStart);\n                $(target).on(s.touchEvents.move, sb.dragMove);\n                $(target).on(s.touchEvents.end, sb.dragEnd);\n            },\n            disableDraggable: function () {\n                var sb = s.scrollbar;\n                var target = s.support.touch ? sb.track : document;\n                $(sb.track).off(s.touchEvents.start, sb.dragStart);\n                $(target).off(s.touchEvents.move, sb.dragMove);\n                $(target).off(s.touchEvents.end, sb.dragEnd);\n            },\n            set: function () {\n                if (!s.params.scrollbar) return;\n                var sb = s.scrollbar;\n                sb.track = $(s.params.scrollbar);\n                if (s.params.uniqueNavElements && typeof s.params.scrollbar === 'string' && sb.track.length > 1 && s.container.find(s.params.scrollbar).length === 1) {\n                    sb.track = s.container.find(s.params.scrollbar);\n                }\n                sb.drag = sb.track.find('.swiper-scrollbar-drag');\n                if (sb.drag.length === 0) {\n                    sb.drag = $('<div class=\"swiper-scrollbar-drag\"></div>');\n                    sb.track.append(sb.drag);\n                }\n                sb.drag[0].style.width = '';\n                sb.drag[0].style.height = '';\n                sb.trackSize = s.isHorizontal() ? sb.track[0].offsetWidth : sb.track[0].offsetHeight;\n        \n                sb.divider = s.size / s.virtualSize;\n                sb.moveDivider = sb.divider * (sb.trackSize / s.size);\n                sb.dragSize = sb.trackSize * sb.divider;\n        \n                if (s.isHorizontal()) {\n                    sb.drag[0].style.width = sb.dragSize + 'px';\n                }\n                else {\n                    sb.drag[0].style.height = sb.dragSize + 'px';\n                }\n        \n                if (sb.divider >= 1) {\n                    sb.track[0].style.display = 'none';\n                }\n                else {\n                    sb.track[0].style.display = '';\n                }\n                if (s.params.scrollbarHide) {\n                    sb.track[0].style.opacity = 0;\n                }\n            },\n            setTranslate: function () {\n                if (!s.params.scrollbar) return;\n                var diff;\n                var sb = s.scrollbar;\n                var translate = s.translate || 0;\n                var newPos;\n        \n                var newSize = sb.dragSize;\n                newPos = (sb.trackSize - sb.dragSize) * s.progress;\n                if (s.rtl && s.isHorizontal()) {\n                    newPos = -newPos;\n                    if (newPos > 0) {\n                        newSize = sb.dragSize - newPos;\n                        newPos = 0;\n                    }\n                    else if (-newPos + sb.dragSize > sb.trackSize) {\n                        newSize = sb.trackSize + newPos;\n                    }\n                }\n                else {\n                    if (newPos < 0) {\n                        newSize = sb.dragSize + newPos;\n                        newPos = 0;\n                    }\n                    else if (newPos + sb.dragSize > sb.trackSize) {\n                        newSize = sb.trackSize - newPos;\n                    }\n                }\n                if (s.isHorizontal()) {\n                    if (s.support.transforms3d) {\n                        sb.drag.transform('translate3d(' + (newPos) + 'px, 0, 0)');\n                    }\n                    else {\n                        sb.drag.transform('translateX(' + (newPos) + 'px)');\n                    }\n                    sb.drag[0].style.width = newSize + 'px';\n                }\n                else {\n                    if (s.support.transforms3d) {\n                        sb.drag.transform('translate3d(0px, ' + (newPos) + 'px, 0)');\n                    }\n                    else {\n                        sb.drag.transform('translateY(' + (newPos) + 'px)');\n                    }\n                    sb.drag[0].style.height = newSize + 'px';\n                }\n                if (s.params.scrollbarHide) {\n                    clearTimeout(sb.timeout);\n                    sb.track[0].style.opacity = 1;\n                    sb.timeout = setTimeout(function () {\n                        sb.track[0].style.opacity = 0;\n                        sb.track.transition(400);\n                    }, 1000);\n                }\n            },\n            setTransition: function (duration) {\n                if (!s.params.scrollbar) return;\n                s.scrollbar.drag.transition(duration);\n            }\n        };\n    \n        /*=========================\n          Controller\n          ===========================*/\n        s.controller = {\n            LinearSpline: function (x, y) {\n                this.x = x;\n                this.y = y;\n                this.lastIndex = x.length - 1;\n                // Given an x value (x2), return the expected y2 value:\n                // (x1,y1) is the known point before given value,\n                // (x3,y3) is the known point after given value.\n                var i1, i3;\n                var l = this.x.length;\n        \n                this.interpolate = function (x2) {\n                    if (!x2) return 0;\n        \n                    // Get the indexes of x1 and x3 (the array indexes before and after given x2):\n                    i3 = binarySearch(this.x, x2);\n                    i1 = i3 - 1;\n        \n                    // We have our indexes i1 & i3, so we can calculate already:\n                    // y2 := ((x2x1)  (y3y1))  (x3x1) + y1\n                    return ((x2 - this.x[i1]) * (this.y[i3] - this.y[i1])) / (this.x[i3] - this.x[i1]) + this.y[i1];\n                };\n        \n                var binarySearch = (function() {\n                    var maxIndex, minIndex, guess;\n                    return function(array, val) {\n                        minIndex = -1;\n                        maxIndex = array.length;\n                        while (maxIndex - minIndex > 1)\n                            if (array[guess = maxIndex + minIndex >> 1] <= val) {\n                                minIndex = guess;\n                            } else {\n                                maxIndex = guess;\n                            }\n                        return maxIndex;\n                    };\n                })();\n            },\n            //xxx: for now i will just save one spline function to to\n            getInterpolateFunction: function(c){\n                if(!s.controller.spline) s.controller.spline = s.params.loop ?\n                    new s.controller.LinearSpline(s.slidesGrid, c.slidesGrid) :\n                    new s.controller.LinearSpline(s.snapGrid, c.snapGrid);\n            },\n            setTranslate: function (translate, byController) {\n               var controlled = s.params.control;\n               var multiplier, controlledTranslate;\n               function setControlledTranslate(c) {\n                    // this will create an Interpolate function based on the snapGrids\n                    // x is the Grid of the scrolled scroller and y will be the controlled scroller\n                    // it makes sense to create this only once and recall it for the interpolation\n                    // the function does a lot of value caching for performance\n                    translate = c.rtl && c.params.direction === 'horizontal' ? -s.translate : s.translate;\n                    if (s.params.controlBy === 'slide') {\n                        s.controller.getInterpolateFunction(c);\n                        // i am not sure why the values have to be multiplicated this way, tried to invert the snapGrid\n                        // but it did not work out\n                        controlledTranslate = -s.controller.spline.interpolate(-translate);\n                    }\n        \n                    if(!controlledTranslate || s.params.controlBy === 'container'){\n                        multiplier = (c.maxTranslate() - c.minTranslate()) / (s.maxTranslate() - s.minTranslate());\n                        controlledTranslate = (translate - s.minTranslate()) * multiplier + c.minTranslate();\n                    }\n        \n                    if (s.params.controlInverse) {\n                        controlledTranslate = c.maxTranslate() - controlledTranslate;\n                    }\n                    c.updateProgress(controlledTranslate);\n                    c.setWrapperTranslate(controlledTranslate, false, s);\n                    c.updateActiveIndex();\n               }\n               if (s.isArray(controlled)) {\n                   for (var i = 0; i < controlled.length; i++) {\n                       if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n                           setControlledTranslate(controlled[i]);\n                       }\n                   }\n               }\n               else if (controlled instanceof Swiper && byController !== controlled) {\n        \n                   setControlledTranslate(controlled);\n               }\n            },\n            setTransition: function (duration, byController) {\n                var controlled = s.params.control;\n                var i;\n                function setControlledTransition(c) {\n                    c.setWrapperTransition(duration, s);\n                    if (duration !== 0) {\n                        c.onTransitionStart();\n                        c.wrapper.transitionEnd(function(){\n                            if (!controlled) return;\n                            if (c.params.loop && s.params.controlBy === 'slide') {\n                                c.fixLoop();\n                            }\n                            c.onTransitionEnd();\n        \n                        });\n                    }\n                }\n                if (s.isArray(controlled)) {\n                    for (i = 0; i < controlled.length; i++) {\n                        if (controlled[i] !== byController && controlled[i] instanceof Swiper) {\n                            setControlledTransition(controlled[i]);\n                        }\n                    }\n                }\n                else if (controlled instanceof Swiper && byController !== controlled) {\n                    setControlledTransition(controlled);\n                }\n            }\n        };\n    \n        /*=========================\n          Parallax\n          ===========================*/\n        function setParallaxTransform(el, progress) {\n            el = $(el);\n            var p, pX, pY;\n            var rtlFactor = s.rtl ? -1 : 1;\n        \n            p = el.attr('data-swiper-parallax') || '0';\n            pX = el.attr('data-swiper-parallax-x');\n            pY = el.attr('data-swiper-parallax-y');\n            if (pX || pY) {\n                pX = pX || '0';\n                pY = pY || '0';\n            }\n            else {\n                if (s.isHorizontal()) {\n                    pX = p;\n                    pY = '0';\n                }\n                else {\n                    pY = p;\n                    pX = '0';\n                }\n            }\n        \n            if ((pX).indexOf('%') >= 0) {\n                pX = parseInt(pX, 10) * progress * rtlFactor + '%';\n            }\n            else {\n                pX = pX * progress * rtlFactor + 'px' ;\n            }\n            if ((pY).indexOf('%') >= 0) {\n                pY = parseInt(pY, 10) * progress + '%';\n            }\n            else {\n                pY = pY * progress + 'px' ;\n            }\n        \n            el.transform('translate3d(' + pX + ', ' + pY + ',0px)');\n        }\n        s.parallax = {\n            setTranslate: function () {\n                s.container.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function(){\n                    setParallaxTransform(this, s.progress);\n        \n                });\n                s.slides.each(function () {\n                    var slide = $(this);\n                    slide.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function () {\n                        var progress = Math.min(Math.max(slide[0].progress, -1), 1);\n                        setParallaxTransform(this, progress);\n                    });\n                });\n            },\n            setTransition: function (duration) {\n                if (typeof duration === 'undefined') duration = s.params.speed;\n                s.container.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function(){\n                    var el = $(this);\n                    var parallaxDuration = parseInt(el.attr('data-swiper-parallax-duration'), 10) || duration;\n                    if (duration === 0) parallaxDuration = 0;\n                    el.transition(parallaxDuration);\n                });\n            }\n        };\n        \n    \n        /*=========================\n          Plugins API. Collect all and init all plugins\n          ===========================*/\n        s._plugins = [];\n        for (var plugin in s.plugins) {\n            var p = s.plugins[plugin](s, s.params[plugin]);\n            if (p) s._plugins.push(p);\n        }\n        // Method to call all plugins event/method\n        s.callPlugins = function (eventName) {\n            for (var i = 0; i < s._plugins.length; i++) {\n                if (eventName in s._plugins[i]) {\n                    s._plugins[i][eventName](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n                }\n            }\n        };\n    \n        /*=========================\n          Events/Callbacks/Plugins Emitter\n          ===========================*/\n        function normalizeEventName (eventName) {\n            if (eventName.indexOf('on') !== 0) {\n                if (eventName[0] !== eventName[0].toUpperCase()) {\n                    eventName = 'on' + eventName[0].toUpperCase() + eventName.substring(1);\n                }\n                else {\n                    eventName = 'on' + eventName;\n                }\n            }\n            return eventName;\n        }\n        s.emitterEventListeners = {\n        \n        };\n        s.emit = function (eventName) {\n            // Trigger callbacks\n            if (s.params[eventName]) {\n                s.params[eventName](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n            }\n            var i;\n            // Trigger events\n            if (s.emitterEventListeners[eventName]) {\n                for (i = 0; i < s.emitterEventListeners[eventName].length; i++) {\n                    s.emitterEventListeners[eventName][i](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n                }\n            }\n            // Trigger plugins\n            if (s.callPlugins) s.callPlugins(eventName, arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);\n        };\n        s.on = function (eventName, handler) {\n            eventName = normalizeEventName(eventName);\n            if (!s.emitterEventListeners[eventName]) s.emitterEventListeners[eventName] = [];\n            s.emitterEventListeners[eventName].push(handler);\n            return s;\n        };\n        s.off = function (eventName, handler) {\n            var i;\n            eventName = normalizeEventName(eventName);\n            if (typeof handler === 'undefined') {\n                // Remove all handlers for such event\n                s.emitterEventListeners[eventName] = [];\n                return s;\n            }\n            if (!s.emitterEventListeners[eventName] || s.emitterEventListeners[eventName].length === 0) return;\n            for (i = 0; i < s.emitterEventListeners[eventName].length; i++) {\n                if(s.emitterEventListeners[eventName][i] === handler) s.emitterEventListeners[eventName].splice(i, 1);\n            }\n            return s;\n        };\n        s.once = function (eventName, handler) {\n            eventName = normalizeEventName(eventName);\n            var _handler = function () {\n                handler(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);\n                s.off(eventName, _handler);\n            };\n            s.on(eventName, _handler);\n            return s;\n        };\n    \n        // Accessibility tools\n        s.a11y = {\n            makeFocusable: function ($el) {\n                $el.attr('tabIndex', '0');\n                return $el;\n            },\n            addRole: function ($el, role) {\n                $el.attr('role', role);\n                return $el;\n            },\n        \n            addLabel: function ($el, label) {\n                $el.attr('aria-label', label);\n                return $el;\n            },\n        \n            disable: function ($el) {\n                $el.attr('aria-disabled', true);\n                return $el;\n            },\n        \n            enable: function ($el) {\n                $el.attr('aria-disabled', false);\n                return $el;\n            },\n        \n            onEnterKey: function (event) {\n                if (event.keyCode !== 13) return;\n                if ($(event.target).is(s.params.nextButton)) {\n                    s.onClickNext(event);\n                    if (s.isEnd) {\n                        s.a11y.notify(s.params.lastSlideMessage);\n                    }\n                    else {\n                        s.a11y.notify(s.params.nextSlideMessage);\n                    }\n                }\n                else if ($(event.target).is(s.params.prevButton)) {\n                    s.onClickPrev(event);\n                    if (s.isBeginning) {\n                        s.a11y.notify(s.params.firstSlideMessage);\n                    }\n                    else {\n                        s.a11y.notify(s.params.prevSlideMessage);\n                    }\n                }\n                if ($(event.target).is('.' + s.params.bulletClass)) {\n                    $(event.target)[0].click();\n                }\n            },\n        \n            liveRegion: $('<span class=\"swiper-notification\" aria-live=\"assertive\" aria-atomic=\"true\"></span>'),\n        \n            notify: function (message) {\n                var notification = s.a11y.liveRegion;\n                if (notification.length === 0) return;\n                notification.html('');\n                notification.html(message);\n            },\n            init: function () {\n                // Setup accessibility\n                if (s.params.nextButton && s.nextButton && s.nextButton.length > 0) {\n                    s.a11y.makeFocusable(s.nextButton);\n                    s.a11y.addRole(s.nextButton, 'button');\n                    s.a11y.addLabel(s.nextButton, s.params.nextSlideMessage);\n                }\n                if (s.params.prevButton && s.prevButton && s.prevButton.length > 0) {\n                    s.a11y.makeFocusable(s.prevButton);\n                    s.a11y.addRole(s.prevButton, 'button');\n                    s.a11y.addLabel(s.prevButton, s.params.prevSlideMessage);\n                }\n        \n                $(s.container).append(s.a11y.liveRegion);\n            },\n            initPagination: function () {\n                if (s.params.pagination && s.params.paginationClickable && s.bullets && s.bullets.length) {\n                    s.bullets.each(function () {\n                        var bullet = $(this);\n                        s.a11y.makeFocusable(bullet);\n                        s.a11y.addRole(bullet, 'button');\n                        s.a11y.addLabel(bullet, s.params.paginationBulletMessage.replace(/{{index}}/, bullet.index() + 1));\n                    });\n                }\n            },\n            destroy: function () {\n                if (s.a11y.liveRegion && s.a11y.liveRegion.length > 0) s.a11y.liveRegion.remove();\n            }\n        };\n        \n    \n        /*=========================\n          Init/Destroy\n          ===========================*/\n        s.init = function () {\n            if (s.params.loop) s.createLoop();\n            s.updateContainerSize();\n            s.updateSlidesSize();\n            s.updatePagination();\n            if (s.params.scrollbar && s.scrollbar) {\n                s.scrollbar.set();\n                if (s.params.scrollbarDraggable) {\n                    s.scrollbar.enableDraggable();\n                }\n            }\n            if (s.params.effect !== 'slide' && s.effects[s.params.effect]) {\n                if (!s.params.loop) s.updateProgress();\n                s.effects[s.params.effect].setTranslate();\n            }\n            if (s.params.loop) {\n                s.slideTo(s.params.initialSlide + s.loopedSlides, 0, s.params.runCallbacksOnInit);\n            }\n            else {\n                s.slideTo(s.params.initialSlide, 0, s.params.runCallbacksOnInit);\n                if (s.params.initialSlide === 0) {\n                    if (s.parallax && s.params.parallax) s.parallax.setTranslate();\n                    if (s.lazy && s.params.lazyLoading) {\n                        s.lazy.load();\n                        s.lazy.initialImageLoaded = true;\n                    }\n                }\n            }\n            s.attachEvents();\n            if (s.params.observer && s.support.observer) {\n                s.initObservers();\n            }\n            if (s.params.preloadImages && !s.params.lazyLoading) {\n                s.preloadImages();\n            }\n            if (s.params.autoplay) {\n                s.startAutoplay();\n            }\n            if (s.params.keyboardControl) {\n                if (s.enableKeyboardControl) s.enableKeyboardControl();\n            }\n            if (s.params.mousewheelControl) {\n                if (s.enableMousewheelControl) s.enableMousewheelControl();\n            }\n            if (s.params.hashnav) {\n                if (s.hashnav) s.hashnav.init();\n            }\n            if (s.params.a11y && s.a11y) s.a11y.init();\n            s.emit('onInit', s);\n        };\n        \n        // Cleanup dynamic styles\n        s.cleanupStyles = function () {\n            // Container\n            s.container.removeClass(s.classNames.join(' ')).removeAttr('style');\n        \n            // Wrapper\n            s.wrapper.removeAttr('style');\n        \n            // Slides\n            if (s.slides && s.slides.length) {\n                s.slides\n                    .removeClass([\n                      s.params.slideVisibleClass,\n                      s.params.slideActiveClass,\n                      s.params.slideNextClass,\n                      s.params.slidePrevClass\n                    ].join(' '))\n                    .removeAttr('style')\n                    .removeAttr('data-swiper-column')\n                    .removeAttr('data-swiper-row');\n            }\n        \n            // Pagination/Bullets\n            if (s.paginationContainer && s.paginationContainer.length) {\n                s.paginationContainer.removeClass(s.params.paginationHiddenClass);\n            }\n            if (s.bullets && s.bullets.length) {\n                s.bullets.removeClass(s.params.bulletActiveClass);\n            }\n        \n            // Buttons\n            if (s.params.prevButton) $(s.params.prevButton).removeClass(s.params.buttonDisabledClass);\n            if (s.params.nextButton) $(s.params.nextButton).removeClass(s.params.buttonDisabledClass);\n        \n            // Scrollbar\n            if (s.params.scrollbar && s.scrollbar) {\n                if (s.scrollbar.track && s.scrollbar.track.length) s.scrollbar.track.removeAttr('style');\n                if (s.scrollbar.drag && s.scrollbar.drag.length) s.scrollbar.drag.removeAttr('style');\n            }\n        };\n        \n        // Destroy\n        s.destroy = function (deleteInstance, cleanupStyles) {\n            // Detach evebts\n            s.detachEvents();\n            // Stop autoplay\n            s.stopAutoplay();\n            // Disable draggable\n            if (s.params.scrollbar && s.scrollbar) {\n                if (s.params.scrollbarDraggable) {\n                    s.scrollbar.disableDraggable();\n                }\n            }\n            // Destroy loop\n            if (s.params.loop) {\n                s.destroyLoop();\n            }\n            // Cleanup styles\n            if (cleanupStyles) {\n                s.cleanupStyles();\n            }\n            // Disconnect observer\n            s.disconnectObservers();\n            // Disable keyboard/mousewheel\n            if (s.params.keyboardControl) {\n                if (s.disableKeyboardControl) s.disableKeyboardControl();\n            }\n            if (s.params.mousewheelControl) {\n                if (s.disableMousewheelControl) s.disableMousewheelControl();\n            }\n            // Disable a11y\n            if (s.params.a11y && s.a11y) s.a11y.destroy();\n            // Destroy callback\n            s.emit('onDestroy');\n            // Delete instance\n            if (deleteInstance !== false) s = null;\n        };\n        \n        s.init();\n        \n    \n    \n        // Return swiper instance\n        return s;\n    };\n    \n    /*==================================================\n        Prototype\n    ====================================================*/\n    Swiper.prototype = {\n        isSafari: (function () {\n            var ua = navigator.userAgent.toLowerCase();\n            return (ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0);\n        })(),\n        isUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),\n        isArray: function (arr) {\n            return Object.prototype.toString.apply(arr) === '[object Array]';\n        },\n        /*==================================================\n        Browser\n        ====================================================*/\n        browser: {\n            ie: window.navigator.pointerEnabled || window.navigator.msPointerEnabled,\n            ieTouch: (window.navigator.msPointerEnabled && window.navigator.msMaxTouchPoints > 1) || (window.navigator.pointerEnabled && window.navigator.maxTouchPoints > 1)\n        },\n        /*==================================================\n        Devices\n        ====================================================*/\n        device: (function () {\n            var ua = navigator.userAgent;\n            var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n            var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n            var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n            var iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n            return {\n                ios: ipad || iphone || ipod,\n                android: android\n            };\n        })(),\n        /*==================================================\n        Feature Detection\n        ====================================================*/\n        support: {\n            touch : (window.Modernizr && Modernizr.touch === true) || (function () {\n                return !!(('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch);\n            })(),\n    \n            transforms3d : (window.Modernizr && Modernizr.csstransforms3d === true) || (function () {\n                var div = document.createElement('div').style;\n                return ('webkitPerspective' in div || 'MozPerspective' in div || 'OPerspective' in div || 'MsPerspective' in div || 'perspective' in div);\n            })(),\n    \n            flexbox: (function () {\n                var div = document.createElement('div').style;\n                var styles = ('alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient').split(' ');\n                for (var i = 0; i < styles.length; i++) {\n                    if (styles[i] in div) return true;\n                }\n            })(),\n    \n            observer: (function () {\n                return ('MutationObserver' in window || 'WebkitMutationObserver' in window);\n            })()\n        },\n        /*==================================================\n        Plugins\n        ====================================================*/\n        plugins: {}\n    };\n\n    export default Framework7;\n//# sourceMappingURL=framework7.js.map\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/.npminstall/framework7/1.4.2/framework7/dist/js/framework7.js\n **/","import config from '../config/';\nimport store from '../utils/locaStorage'\n\nclass CustomClass {\n    getKey(api, key, val) {\n        const {cacheKeyMaxLen} = config;\n        let res = `${api}`;\n        Dom7.each(key, (index, k) => {\n            const str = `_${k}_${val[index] || ''}`;\n            res += str;\n        })\n        return res;\n    }\n    getData(key, val){\n    \tlet obj = {};\n    \tDom7.each(key, (index, k) => {\n            obj[k] = val[index] || '';\n        })\n        return obj;\n    }\n    checkMaxLenAndDelete(){\n\n    }\n    /*\n    *   isMandatory: Whether it is mandatory to refresh default:false\n    *   noCache: Local storage is not required, default: false\n    */\n    ajax(obj, callback) {\n        const { api, data, apiCategory, type, isMandatory, noCache, val } = obj;\n        const key = config[apiCategory][api];\n        const {timeout} = config;\n        const saveKey = this.getKey(api, key, data);\n        let url = `${config.url}${apiCategory}/${api}/`;\n        val && (url += `${val.id}`)\n        let newData = data;\n\n        if(!noCache){\n            const cacheData = store.get(saveKey);\n            cacheData &&  !isMandatory && callback(cacheData);\n        }else{\n            newData = this.getData(key, data);\n        }\n        \n        Dom7.ajax({\n        \ttype,\n            url,\n            timeout,\n            data: newData,\n            cache: false,\n            error: function(err){\n                callback(null, err)\n            },\n            success: function(data){\n                !noCache && store.set(saveKey, data);\n                callback(JSON.parse(data),null,true);\n            }\n        })\n    }\n}\n\nconst CustomAjax = new CustomClass();\n\n\n\nexport default CustomAjax;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/middlewares/customAjax.js\n **/","const configs = {\n    url: 'http://api.test.yudada.com/',\n    backgroundImgUrl: '../img/app_icon_108.png',\n    timeout: 30000, //api timeout, unit: ms\n    pageSize: 20,\n    cacheMaxLen: 5,\n    'demandInfo': {\n        'getDemandInfoList': [\n            \"fishTypeId\",\n            \"cityId\",\n            \"type\",\n            \"keyvalue\",\n            \"pageSize\",\n            \"pageNo\",\n            \"keyvalue\"\n        ],\n        'getFishTypeList/5': ['keyvalue'],\n        'getDemandInfo': ['id'],\n        'userAddDemandInfo': []\n    },\n    'fishType': {\n        'getChildrenFishTypeList': ['id','release','type','keyvalue']\n    }\n\n}\nexport default configs;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/config/index.js\n **/","import config from '../config/';\nimport customAjax from '../middlewares/customAjax';\nimport { home } from '../utils/template';\nimport { html } from '../utils/string';\n\nfunction homeInit(f7, view, page) {\n    f7.hideIndicator();\n    const { pageSize } = config;\n    const $$ = Dom7;\n    let catType = 2;\n\n    /*\n     *  When the type is equal to give a value.Execute the following method.\n     */\n\n    const callback = (data, err, type) => {\n        if (err) {\n            f7.alert(',!');\n            return;\n        }\n        //cat sell list\n        if (catType === 2) {\n            let catListHtml = '';\n            $$.each(data.data.list, (index, item) => {\n                catListHtml += home.cat(item);\n            })\n\n            html($$('.cat-list-foreach'), catListHtml, f7);\n            $$('.ajax-content').show(200);\n            $$('.home-loading').hide(100);\n        }\n        //cat buy list\n        if (catType === 1) {\n            let butListHtml = '';\n            $$.each(data.data.list, (index, item) => {\n                butListHtml += home.buy(item);\n            })\n\n            html($$('.buy-list-foreach'), butListHtml, f7);\n        }\n        if (data.data && data.data.list && type && catType === 2) {\n            catType = 1;\n            customAjax.ajax({\n                apiCategory: 'demandInfo',\n                api: 'getDemandInfoList',\n                data: [\"\", \"\", 1, \"\", 10, 1],\n                type: 'get'\n            }, callback);\n        }\n\n        //pull to refresh done.\n        f7.pullToRefreshDone();\n        $$('img.lazy').trigger('lazy');\n    }\n\n    /*\n     * initialization home page and send ajax to get list data.\n     */\n    customAjax.ajax({\n        apiCategory: 'demandInfo',\n        api: 'getDemandInfoList',\n        data: [\"\", \"\", 2, \"\", 10, 1],\n        type: 'get'\n    }, callback);\n\n    // pull to refresh.\n    const ptrContent = $$('.pull-to-refresh-content');\n    ptrContent.on('refresh', function(e) {\n        catType = 2;\n        customAjax.ajax({\n            apiCategory: 'demandInfo',\n            api: 'getDemandInfoList',\n            data: [\"\", \"\", 2, \"\", 10, 1],\n            type: 'get',\n            isMandatory: true\n        }, callback);\n    })\n\n}\n\nmodule.exports = {\n    homeInit\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/home.js\n **/","import { timeDifference } from './time';\nimport config from '../config/';\nconst { backgroundImgUrl } = config;\n\nmodule.exports = {\n    home: {\n        cat: (data) => {\n            const { id, imge_path, price, fish_type_name, specifications, create_time, contact_name, province_name, city_name, personal_authentication_state, enterprise_authentication_state } = data;\n            let res = '';\n            res += '<a class=\"row cat-list-info\" href=\"./views/selldetail.html?id=' + id + '\">' +\n                '<div class=\"col-30\"><img data-src=\"' + `${imge_path || backgroundImgUrl}` + '\" src=\"' + backgroundImgUrl + '\" class=\"lazy-fadeIn lazy lazy-loaded\"></div>' +\n                '<div class=\"col-70\">' +\n                '<div class=\"cat-list-title row\">' +\n                '<div class=\"col-60 goods-name\">' + fish_type_name + '</div>' +\n                '<div class=\"col-40 goods-price\">' + `${price || ''}` + '</div>' +\n                '</div>' +\n                '<div class=\"row cat-list-text\">' +\n                '<div class=\"col-70 goods-weight\">' + specifications + '</div>' +\n                '<div class=\"col-30 goods-create-time\">' + timeDifference(create_time) + '</div>' +\n                '</div>' +\n                '<div class=\"cat-list-address\">' +\n                '<span>' + contact_name + '</span> ' + `${province_name}${city_name}` +\n                '</div>' +\n                '<div class=\"cat-list-tags\">'\n            if (personal_authentication_state === 1 || enterprise_authentication_state === 1) {\n                res += '<span class=\"iconfont icon-v button\"></span>'\n                    //'<span class=\"button\"></span>'\n            }\n            res += '</div></div>';\n            return res;\n        },\n        buy: (data) => {\n            const { id, fish_type_name, stock, specifications, create_time, contact_name, province_name, city_name, personal_authentication_state, enterprise_authentication_state } = data;\n            const isV = personal_authentication_state === 1 || enterprise_authentication_state === 1;\n            let res = '';\n            res += '<a href=\"./views/buydetail.html?id=' + id + '\" class=\"buy-list-info\">' +\n                '<div class=\"row\">' +\n                '<div class=\"col-65 buy-name\">' + fish_type_name + '</div>' +\n                '<div class=\"col-35 buy-price\">' + stock + '</div>' +\n                '</div>' +\n                '<div class=\"row\">' +\n                '<div class=\"col-65 buy-spec\">' + specifications + '</div>' +\n                '<div class=\"col-35 buy-time\">' + timeDifference(create_time) + '</div>' +\n                '</div>' +\n                '<div class=\"home-buy-address\">' +\n                '<span class=\"' + `${isV && \"iconfont icon-v\"}` + '\">' + `${contact_name || ''}` + '</span>' + `${province_name}${city_name}` +\n                '</div>'\n            return res\n        }\n    },\n    search: {\n        link: (data) => {\n            const { name, id } = data;\n            let li = '';\n            li += '<a href=\"' + `views/filter.html?id=${id}` + '\">' + name + '</a>';\n            return li;\n        }\n    },\n    selldetail: {\n        cert: (data) => {\n            const { type, fish_type_name, path, state } = data;\n            let link = '';\n            let className;\n            let text;\n            let label;\n            if(type === 1){\n                className = 'seedling';\n                text = ` - ${fish_type_name}`;\n                label = '';\n            }else if(2 === type){\n                className = 'water';\n                text = ` - ${fish_type_name}`;\n                label = '';\n            }else if(3 === type){\n                className = 'cert';\n                text = ` - ${fish_type_name}`;\n                label = '';\n            }else if(4 === type){\n                className = 'water';\n                text = ` - ${fish_type_name}`;\n                label = '';\n            }else if(5 === type){\n                className = 'water';\n                text = ` - ${fish_type_name}`;\n                label = '';\n            }else if(6 === type){\n                className = 'water';\n                text = ` - ${fish_type_name}`;\n                label = '';\n            }\n            link += '<a class=\"iconfont icon-right open-cert-button\">' +\n                        '<span class=\"cert-label '+ className +'\">'+ label +'</span>' + text +\n                    '</a>'\n            return link;\n        }\n    },\n    filter: {\n        fishType: (data, classes) => {\n            const {\n                name, id, parant_id, parant_name\n            } = data;\n            return `<span class=\"${classes || ''}\" data-id=\"${id}\" data-parent-id=\"${parant_id}\" data-parent-name=\"${parant_name}\">${name}</span>`;\n        },\n        searchResultNull: () => {\n\n        },\n        districtRender: (data, classes) => {\n            const {\n                name, postcode\n            } = data;\n            return `<span class=\"${classes || ''}\" data-postcode=\"${postcode}\">${name}</span>`;\n        },\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/template.js\n **/","module.exports = {\n    timeDifference: (unix) => {\n        if (unix == \"\" || unix == null) {\n            return;\n        }\n        var today = new Date();\n        var unixs = new Date((unix * 1000));\n\n        var year = today.getFullYear();\n        var month = today.getMonth() + 1;\n        var day = today.getDate();\n        var hour = today.getHours();\n        var min = today.getMinutes();\n        var second = today.getSeconds();\n\n        var unixMonth = parseInt(unixs.getMonth() + 1);\n        var unixday = unixs.getDate();\n        //console.log(unixs + \"\" +unixMonth + \"**\" + unixday);\n\n\n        var todayZero = year + \"/\" + month + \"/\" + day;\n        //console.log(todayZero);\n\n        var currentUnix = Date.parse(new Date(today)) / 1000; //\n        var todayZeroUnix = Date.parse(new Date(todayZero)) / 1000; //\n        var yestedayZeroUnix = parseInt(todayZeroUnix - 24 * 60 * 60); //\n        var qiantianZeroUnix = parseInt(yestedayZeroUnix - 24 * 60 * 60); //\n        var unixDefi = parseInt(currentUnix - unix); //\n        var todayZero = \"\";\n        var temp = \"\";\n        var mint = \"\";\n        var hourt = \"\";\n        //\n        if (unixDefi <= 60) {\n            temp = \"\";\n        } else if (unixDefi > 60 && unixDefi <= 60 * 60) { //\n            min = parseInt(unixDefi / 60);\n            temp = min + \"\";\n        } else if (unix < currentUnix && unix > todayZeroUnix) { //\n            hourt = parseInt((currentUnix - unix) / (60 * 60));\n            temp = hourt + \"\";\n        } else if (unix > yestedayZeroUnix && unix <= todayZeroUnix) { //\n            temp = \"\";\n        } else if (unix < yestedayZeroUnix && unix >= qiantianZeroUnix) { //\n            temp = \"\";\n        } else {\n            temp = unixMonth + \"\" + unixday + \"\";\n        }\n        return temp;\n    },\n    centerShowTime: (unix) => {\n        if (unix == \"\" || unix == null) {\n            return;\n        }\n        var today = new Date();\n        var unixs = new Date((unix * 1000));\n\n        var year = today.getFullYear();\n        var month = today.getMonth() + 1;\n        var day = today.getDate();\n        var hour = today.getHours();\n        var min = today.getMinutes();\n        var second = today.getSeconds();\n\n        var unixYear = unixs.getFullYear();\n        var unixMonth = parseInt(unixs.getMonth() + 1);\n        var unixday = unixs.getDate();\n        //console.log(unixs + \"\" +unixMonth + \"**\" + unixday);\n\n\n        var todayZero = year + \"/\" + month + \"/\" + day;\n        //console.log(todayZero);\n\n        var currentUnix = Date.parse(new Date(today)) / 1000; //\n        var todayZeroUnix = Date.parse(new Date(todayZero)) / 1000; //\n        var sevenZeroUnix = todayZeroUnix - 24 * 60 * 60 * 6;\n        var unixDefi = parseInt(currentUnix - unix); //\n        var todayZero = \"\";\n        var temp = \"\";\n        var mint = \"\";\n        var hourt = \"\";\n\n        if (unixDefi <= 60 * 60) { //1\n            min = parseInt(unixDefi / 60);\n            temp = \"\";\n        } else if (unix < currentUnix && unix > todayZeroUnix) { //\n            hourt = parseInt((currentUnix - unix) / (60 * 60));\n            temp = hourt + \"\";\n        } else if (unix < todayZeroUnix && unix >= sevenZeroUnix) {\n            mint = parseInt((unix - sevenZeroUnix) / (60 * 60 * 24));\n            temp = mint + \"\";\n        } else {\n            temp = \"\";\n        }\n        return temp;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/time.js\n **/","module.exports = {\n    trim: (str) => {\n        if(!str){\n            return;\n        }\n        return str.replace(/(^\\s*)|(\\s*$)/g, \"\");\n    },\n    /*\n\t* Prevent script injection attacks.\n    */\n    html: (dom, str, f7) => {\n        if (str && str.indexOf('<script') > -1) {\n            f7.alert(',!')\n            return;\n        }\n        dom.html(str);\n    }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/string.js\n **/","import config from '../config/';\nimport customAjax from '../middlewares/customAjax';\nimport { trim, html } from '../utils/string';\nimport { search } from '../utils/template';\n\n\nfunction searchInit(f7, view, page) {\n    const $$ = Dom7;\n    const {pageSize} = config;\n    const input = $$('.search-page-input');\n    const clear = $$('b.searchbar-clear');\n    const hideVal = $$('.search-val');\n    const searchButton = $$('span.search-button');\n    const list = $$('.search-return-list');\n    let searchVal = '';\n    trim(input.val()) &&  hideVal.addClass('on');\n\n    const callback = (data) => {\n        let listHtml = '';\n        if (!data.data.length) {\n            html(list, listHtml, f7);\n            return;\n        }\n\n        $$.each(data.data, (index, item) => {\n            listHtml += search.link(item);\n        })\n        html(list, listHtml, f7);\n    }\n\n    clear.on('click', () => {\n        input.val('');\n        clear.removeClass('on');\n        hideVal.removeClass('on').find('span').html('');\n    })\n\n    setTimeout(function() {\n        input.focus();\n    }, 500);\n    input[0].oninput = () => {\n        const val = input.val();\n        if (trim(val) === '') {\n            hideVal.removeClass('on').find('span').html('');\n            clear.removeClass('on');\n            html(list, '', f7);\n        } else {\n            hideVal.addClass('on').find('span').html(`${val}`);\n            clear.addClass('on');\n        }\n\n        if (trim(searchVal) !== trim(val) && trim(val) !== '') {\n            searchVal = val;\n\n            customAjax.ajax({\n                apiCategory: 'demandInfo',\n                api: 'getFishTypeList/5',\n                data: [val],\n                type: 'get',\n                noCache: true\n            }, callback)\n        }\n    }\n    // input.on('propertychange', () => {\n        \n    // })\n\n    const hrefFilterPage = () => {\n        const val = hideVal.removeClass('on').find('span').html();\n\n        const query = val ? `?keyvalue=${val}&type=2&pageSize=${pageSize}` : '';\n        view.router.load({\n            url: '../views/filter.html' + query,\n            animatePages: true,\n        }) \n    }\n\n    //load filter; \n    hideVal.click(hrefFilterPage);\n\n    searchButton.click(hrefFilterPage)\n}\n\nmodule.exports = {\n    searchInit\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/search.js\n **/","import { trim, html } from '../utils/string';\nimport { home, filter } from '../utils/template';\nimport customAjax from '../middlewares/customAjax';\nimport district from '../utils/district';\nimport config from '../config';\n\n\nfunction filterInit(f7, view, page) {\n    const $$ = Dom7;\n    const { keyvalue, release, type, id, cityId } = page.query;\n    const searchBtn = $$('.filter-searchbar input');\n    const { pageSize } = config;\n    let allFishTypeChild;\n    let searchValue = keyvalue ? keyvalue.replace(/[^\\u4E00-\\u9FA5]/g, '') : keyvalue;\n    let currentFishId = id || '';\n    let currentCityId = cityId || '';\n    let pageNo = 1;\n    let _type = type || 2;\n    let isInfinite = false;\n    let loading = false;\n    let pullToRefresh = false;\n    let releaseFishName;\n    let parentFishInfo = {};\n    /*\n     * Three cases into the filter page.\n     * 1: home -> filter. query: type\n     * 2: search -> filter. query: searchVal or category id.\n     * 3: releaseSelectType -> filter. query: release and type\n     */\n    trim(searchValue) && searchBtn.val(searchValue);\n\n\n    /*\n     * Ajax callback.\n     */\n    const listCallback = (data) => {\n        let listHtml = '';\n        if (_type === 1) {\n            $$.each(data.data.list, (index, item) => {\n                listHtml += home.buy(item);\n            })\n        } else {\n            $$.each(data.data.list, (index, item) => {\n                listHtml += home.cat(item);\n            })\n        }\n        if (!listHtml) {\n            listHtml += '';\n        }\n        if (isInfinite && !pullToRefresh) {\n            $$('.filter-list').append(listHtml);\n            loading = false;\n        } else {\n            html($$('.filter-list'), listHtml, f7);\n\n        }\n        //pull to refresh done.\n        f7.pullToRefreshDone();\n        pullToRefresh = false;\n        $$('img.lazy').trigger('lazy');\n    }\n\n    const fishTypeRootCallback = (data) => {\n        let typeHtml = `<span data-id=\"0\" class=\"active-ele\"></span>`;\n        $$.each(data.data.list, (index, item) => {\n            typeHtml += filter.fishType(item);\n        })\n        html($$('.filter-fish-type>.col-35'), typeHtml, f7);\n    }\n\n    const fishTypeChildCallback = (data) => {\n        allFishTypeChild = data.data.list;\n        let typeHtml = '';\n        if(!release){\n        \ttypeHtml += `<span data-postcode=\"\" class=\"first active-ele\"></span>`;\n        }\n        $$.each(data.data.list, (index, item) => {\n            const classes = index % 3 === 0 && 'on' || '';\n            typeHtml += filter.fishType(item, classes);\n        })\n        html($$('.filter-fish-type>.col-65'), typeHtml, f7);\n    }\n\n\n    /*\n     * Ajax.\n     */\n    // get root fish type;\n    customAjax.ajax({\n        apiCategory: 'fishType',\n        api: 'getChildrenFishTypeList',\n        data: [0, release || '', _type, searchValue],\n        val: {\n            id: 0\n        },\n        type: 'get',\n        noCache: true,\n    }, fishTypeRootCallback);\n\n    // get all fish type;\n    customAjax.ajax({\n        apiCategory: 'fishType',\n        api: 'getChildrenFishTypeList',\n        data: [id, release || '', _type, searchValue],\n        type: 'get',\n        noCache: true,\n    }, fishTypeChildCallback);\n\n\n    /*\n     * Bind event to dom.\n     */\n    // select fish type child.\n    $$('.filter-fish-type>.col-35').on('click', (e) => {\n        const event = e || window.event;\n        const ele = e.target;\n        const rootId = ele.getAttribute('data-id');\n        let categoryFish = [];\n        let typeHtml = '';\n\n        if (rootId === '0') {\n            categoryFish = allFishTypeChild;\n            typeHtml = release ? '' : `<span data-postcode=\"${rootId}\" class=\"first\">${ele.innerText}</span>`;\n        } else {\n            $$.each(allFishTypeChild, (index, item) => {\n                item.parant_id === rootId && categoryFish.push(item);\n            })\n            typeHtml = release ? '' : `<span data-postcode=\"${rootId}\" class=\"first\">${ele.innerText}</span>`;\n        }\n        $$('.filter-fish-type span').removeClass('active-ele');\n        ele.className = 'active-ele';\n        $$.each(categoryFish, (index, item) => {\n            const classes = index % 3 === 0 && 'on' || '';\n            const select = `${classes}${item.id == currentFishId ? ' active-ele' : ''}`;\n            typeHtml += filter.fishType(item, classes);\n        })\n        html($$('.filter-fish-type>.col-65'), typeHtml, f7)\n    })\n\n    // filter tab event;\n    $$('.filter-tab').on('click', (e) => {\n        const event = e || window.event;\n        let ele = event.target;\n        let classes = ele.className;\n        const clickTab = () => {\n            if (classes.indexOf('active-ele') > -1) {\n                ele.className = classes.replace('active-ele', '');\n                $$('.winodw-mask').removeClass('on');\n                $$('.filter-tabs-content').removeClass('on');\n            } else {\n                $$('.filter-tab>div').removeClass('active-ele');\n                ele.className += ' active-ele';\n                $$('.winodw-mask').addClass('on');\n                $$('.filter-tabs-content').addClass('on');\n                $$('.filter-tabs-content>div').removeClass('active');\n                classes.indexOf('tab1') > -1 && $$('.filter-tabs-content>div').eq(0).addClass('active');\n                classes.indexOf('tab2') > -1 && $$('.filter-tabs-content>div').eq(1).addClass('active');\n                classes.indexOf('tab3') > -1 && $$('.filter-tabs-content>div').eq(2).addClass('active');\n            }\n        }\n        if (ele.parentNode.className.indexOf('filter-tab-title') > -1) {\n            ele = ele.parentNode;\n            classes = ele.className;\n            clickTab();\n        } else if (classes.indexOf('filter-tab-title') > -1) {\n            clickTab();\n        }\n    })\n\n    // filter category and release infomation.\n    if (!release) {\n\n        // sell or buy active; default type = 1\n        const type_ = _type == 2 ? 0 : 1;\n        $$('.filter-info-type>p').eq(type_).addClass('active-ele');\n        if (type_ == 1) {\n            $$('.filter-list').removeClass('cat-list-info').addClass('buy-list-info');\n        } else {\n            $$('.filter-list').removeClass('buy-list-info').addClass('cat-list-info');\n        }\n        /*\n         * initialization home page and send ajax to get list data.\n         */\n        customAjax.ajax({\n            apiCategory: 'demandInfo',\n            api: 'getDemandInfoList',\n            data: [currentFishId, currentCityId, _type, searchValue, pageSize, pageNo, searchValue],\n            type: 'get',\n        }, listCallback);\n        //root district render;\n        let rootDistrict = '<span class=\"active-ele\" data-postcode=\"0\"></span>';\n        $$.each(district.root.province, (index, item) => {\n            rootDistrict += filter.districtRender(item);\n        })\n        html($$('.filter-district>.col-35'), rootDistrict, f7);\n        html($$('.filter-district>.col-65'), '<span class=\"active-ele\" data-postcode=\"\"></span>', f7);\n        //child district render\n        $$('.filter-district>.col-35').on('click', (e) => {\n                const event = e || window.event;\n                const ele = e.target;\n                const postcode = ele.getAttribute('data-postcode');\n                $$('.filter-district span').removeClass('active-ele');\n                ele.className = 'active-ele';\n                let districtHtml = '';\n                if (postcode !== '0') {\n                \tdistrictHtml += `<span data-postcode=\"${postcode}\">${ele.innerText}</span>`;\n                    $$.each(district.root.province, (index, item) => {\n                        if (item.postcode === postcode) {\n                            $$.each(item.city, (index_, districtItem) => {\n                                const select = item.postcode == currentCityId ? 'active-ele' : '';\n                                districtHtml += filter.districtRender(districtItem, select);\n                            })\n                        }\n                    })\n                }else{\n                \tdistrictHtml += `<span data-postcode=\"\">${ele.innerText}</span>`;\n                }\n                html($$('.filter-district>.col-65'), districtHtml, f7);\n            })\n        //change release type;\n        $$('.filter-info-type').on('click', (e) => {\n            const event = e || window.event;\n            let ele = event.target;\n            let classes = ele.className;\n            if (classes.indexOf('active-ele') <= -1) {\n                $$('.filter-info-type>p').removeClass('active-ele');\n                ele.className += ' active-ele';\n                const type_ = ele.getAttribute('data-type');\n                const tabText = type_ == 1 ? '' : '';\n                _type = _type == 2 ? 1 : 2;\n                html($$('.filter-need-release span'), type_ == 1 ? '' : '', f7);\n                pageNo = 1;\n                isInfinite = false;\n                html($$('.filter-tab>.tab3>span'), tabText, f7)\n                customAjax.ajax({\n                    apiCategory: 'demandInfo',\n                    api: 'getDemandInfoList',\n                    data: [currentFishId, currentCityId, _type, searchValue, pageSize, pageNo, searchValue],\n                    type: 'get'\n                }, listCallback);\n            }\n            $$('.winodw-mask').removeClass('on');\n            $$('.filter-tabs-content').removeClass('on');\n            $$('.filter-tab>div').removeClass('active-ele');\n        })\n\n        // select city\n        $$('.filter-district>.col-65').on('click', (e) => {\n            const event = e || window.event;\n            const ele = event.target;\n            const classes = ele.className;\n            const postcode = ele.getAttribute('data-postcode');\n            $$('.filter-district>.col-65>span').removeClass('active-ele');\n            if (classes.indexOf('active-ele') <= -1 && ele.parentNode.className === 'col-65') {\n                const tabText = ele.innerText;\n                html($$('.filter-tab>.tab2>span'), tabText, f7);\n                ele.className += ' active-ele';\n            }\n            pageNo = 1;\n            isInfinite = false;\n            currentCityId = postcode;\n            $$('.winodw-mask').removeClass('on');\n            $$('.filter-tabs-content').removeClass('on');\n            $$('.filter-tab>div').removeClass('active-ele');\n            customAjax.ajax({\n                apiCategory: 'demandInfo',\n                api: 'getDemandInfoList',\n                data: [currentFishId, currentCityId, _type, searchValue, pageSize, pageNo, searchValue],\n                type: 'get'\n            }, listCallback);\n        })\n\n        // Attach 'infinite' event handler\n        $$('.infinite-scroll').on('infinite', function() {\n            isInfinite = true;\n            // Exit, if loading in progress\n            if (loading) return;\n\n            // Set loading flag\n            loading = true;\n            pageNo++;\n            customAjax.ajax({\n                apiCategory: 'demandInfo',\n                api: 'getDemandInfoList',\n                data: [currentFishId, currentCityId, _type, searchValue, pageSize, pageNo, searchValue],\n                type: 'get',\n                isMandatory: true\n            }, listCallback);\n        });\n\n        // pull to refresh.\n        const ptrContent = $$('.pull-to-refresh-content');\n        ptrContent.on('refresh', function(e) {\n            pullToRefresh = true;\n            customAjax.ajax({\n                apiCategory: 'demandInfo',\n                api: 'getDemandInfoList',\n                data: [currentFishId, currentCityId, _type, searchValue, pageSize, pageNo, searchValue],\n                type: 'get',\n                isMandatory: true\n            }, listCallback);\n        })\n\n    } else {\n        $$('.filter-navbar').addClass('filter-release-info');\n        $$('.page-filter').addClass('filter-release-info');\n        $$('.filter-tabs-content').addClass('on active');\n        $$('.filter-fish-type').addClass('active');\n        $$('.winodw-mask').addClass('on');\n        $$('.filter-release-next').on('click', () => {\n        \tconst text = _type == 1 ? '' : '';\n        \tif(!currentFishId){\n        \t\tf7.alert(`${text}`);\n        \t\treturn;\n        \t}\n\n            view.router.load({\n                url: '../views/releaseInfo.html?' +\n                `type=${_type}&fishId=${currentFishId}&fishName=${releaseFishName}&parentFishId=${parentFishInfo.id}&parentFishName=${parentFishInfo.name}`,\n                animatePages: true,\n            })\n        })\n    }\n\n    // select fish category;\n    $$('.filter-fish-type>.col-65').on('click', (e) => {\n        const event = e || window.event;\n        const ele = event.target;\n        const classes = ele.className;\n        const childId = ele.getAttribute('data-id');\n        $$('.filter-fish-type>.col-65>span').removeClass('active-ele');\n        const tabText = ele.innerText;\n        releaseFishName = ele.innerText;\n        ele.className += ' active-ele';\n        parentFishInfo['id'] = ele.getAttribute('data-parent-id');\n        parentFishInfo['name'] = ele.getAttribute('data-parent-name');\n        currentFishId = childId;\n        if (!release) {\n            html($$('.filter-tab>.tab1>span'), tabText, f7);\n            $$('.winodw-mask').removeClass('on');\n            $$('.filter-tabs-content').removeClass('on');\n            $$('.filter-tab>div').removeClass('active-ele');\n            searchValue = '';\n            searchBtn.val('');\n            isInfinite = false;\n            pageNo = 1;\n            customAjax.ajax({\n                apiCategory: 'demandInfo',\n                api: 'getDemandInfoList',\n                data: [currentFishId, currentCityId, _type, searchValue, pageSize, pageNo, searchValue],\n                type: 'get'\n            }, listCallback);\n\n        }\n    })\n}\n\nmodule.exports = {\n    filterInit\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/filter.js\n **/","module.exports = {\n    \"root\": {\n        \"name\": \"\",\n        \"province\": [\n            {\n                \"name\": \"\",\n                \"postcode\": \"110000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110101\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110102\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110103\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110104\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110105\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110106\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110107\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110108\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110109\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110111\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110112\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110113\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110114\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110115\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110116\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110117\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110228\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"110229\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"120000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120101\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120102\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120103\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120104\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120105\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120106\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120107\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120108\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120109\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120110\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120111\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120112\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120113\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120114\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120115\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120221\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120223\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"120225\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"130000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"130100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"130200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"130300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"130400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"130500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"130600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"130700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"130800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"130900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"131000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"131100\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"140000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"140100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"140200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"140300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"140400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"140500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"140600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"140700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"140800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"140900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"141000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"141100\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"150000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"150100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"150200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"150300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"150400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"150500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"150600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"150700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"150800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"150900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"152200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"152500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"152900\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"210000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"210100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"210200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"210300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"210400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"210500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"210600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"210700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"210800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"210900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"211000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"211100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"211200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"211300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"211400\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"220000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"220100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"220200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"220300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"220400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"220500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"220600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"220700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"220800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"222400\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"230000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"230100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"230200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"230300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"230400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"230500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"230600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"230700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"230800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"230900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"231000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"231100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"231200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"232700\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"310000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310101\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310103\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310104\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310105\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310106\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310107\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310108\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310109\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310110\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310112\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310113\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310114\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310115\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310116\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310117\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310118\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310119\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310120\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"310230\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"320000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"320100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"320200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"320300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"320400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"320500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"320600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"320700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"320800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"320900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"321000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"321100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"321200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"321300\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"330000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"330100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"330200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"330300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"330400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"330500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"330600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"330700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"330800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"330900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"331000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"331100\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"340000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"340100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"340200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"340300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"340400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"340500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"340600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"340700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"340800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"341000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"341100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"341200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"341300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"341400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"341500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"341600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"341700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"341800\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"350000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"350100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"350200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"350300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"350400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"350500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"350600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"350700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"350800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"350900\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"360000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"360100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"360200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"360300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"360400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"360500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"360600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"360700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"360800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"360900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"361000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"361100\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"370000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"370100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"370200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"370300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"370400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"370500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"370600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"370700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"370800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"370900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"371000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"371100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"371200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"371300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"371400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"371500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"371600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"371700\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"410000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"410100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"410200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"410300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"410400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"410500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"410600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"410700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"410800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"410900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"411000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"411100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"411200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"411300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"411400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"411500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"411600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"411700\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"420000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"420100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"420200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"420300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"420500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"420600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"420700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"420800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"420900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"421000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"421100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"421200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"421300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"422800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"429004\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"429005\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"429006\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"429021\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"430000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"430100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"430200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"430300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"430400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"430500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"430600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"430700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"430800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"430900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"431000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"431100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"431200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"431300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"433100\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"440000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"440100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"440200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"440300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"440400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"440500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"440600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"440700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"440800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"440900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"441200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"441300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"441400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"441500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"441600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"441700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"441800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"441900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"442000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"445100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"445200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"445300\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"450000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"450100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"450200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"450300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"450400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"450500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"450600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"450700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"450800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"450900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"451000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"451100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"451200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"451300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"451400\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"460000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"460100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"460200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"460300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"469000\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"500000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500101\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500102\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500103\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500104\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500105\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500106\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500107\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500108\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500109\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500110\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500111\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500112\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500113\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500114\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500115\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500116\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500117\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500118\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500119\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500222\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500223\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500224\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500225\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500226\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500227\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500228\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500229\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500230\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500231\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500232\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500233\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500234\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500235\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500236\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500237\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500238\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500240\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500241\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500242\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"500243\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"510000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"510100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"510300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"510400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"510500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"510600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"510700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"510800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"510900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"511000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"511100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"511300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"511400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"511500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"511600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"511700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"511800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"511900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"512000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"513200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"513300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"513400\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"520000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"520100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"520200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"520300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"520400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"522200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"522300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"522400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"522600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"522700\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"530000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"530100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"530300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"530400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"530500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"530600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"530700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"530800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"530900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"532300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"532500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"532600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"532800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"532900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"533100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"533300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"533400\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"540000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"540100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"542100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"542200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"542300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"542400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"542500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"542600\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"610000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"610100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"610200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"610300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"610400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"610500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"610600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"610700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"610800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"610900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"611000\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"620000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"620100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"620200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"620300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"620400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"620500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"620600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"620700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"620800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"620900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"621000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"621100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"621200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"622900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"623000\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"630000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"630100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"632100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"632200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"632300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"632500\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"632600\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"632700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"632800\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"640000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"640100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"640200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"640300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"640400\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"640500\"\n                    }\n                ]\n            },\n            {\n                \"name\": \"\",\n                \"postcode\": \"650000\",\n                \"city\": [\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"650100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"650200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"652100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"652200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"652300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"652700\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"652800\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"652900\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"653000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"653100\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"653200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"654000\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"654200\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"654300\"\n                    },\n                    {\n                        \"name\": \"\",\n                        \"postcode\": \"659000\"\n                    }\n                ]\n            }\n        ]\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/district.js\n **/","import config from '../config';\nimport customAjax from '../middlewares/customAjax';\nimport store from '../utils/locaStorage';\nimport { selldetail } from '../utils/template';\nimport { timeDifference, centerShowTime } from '../utils/time';\nimport { home } from '../utils/template';\nimport { html } from '../utils/string';\n\nfunction selldetailInit(f7, view, page) {\n    const $$ = Dom7;\n    const { id } = page.query;\n    let isReleaseForMe = false;\n    const certList = $$('.selldetail-cert-list');\n    // let certUrl;\n    const callback = (data) => {\n        if (data.data) {\n            const {\n                userInfo,\n                business_license_url,\n                demandInfo,\n                user_ishCertificate_list\n            } = data.data;\n            const locaUserId = store.get('userId');\n            const {\n                specifications,\n                stock,\n                provinceName,\n                describe,\n                cityName,\n                fishTypeName,\n                price,\n                createTime,\n                imgePath,\n                contactName,\n                requirementPhone\n            } = demandInfo;\n            const {\n                id,\n                enterpriseAuthenticationTime,\n                personalAuthenticationState,\n                enterpriseAuthenticationState,\n                imgUrl\n            } = userInfo;\n            if (id === locaUserId) {\n                isReleaseForMe = true;\n                $$('.selldetail-call-delete')\n                    .removeClass('icon-share')\n                    .html('')\n                    .addClass('icon-delete');\n            }\n            // ajax back, edit html.\n            $$('.selldetail-info>.first img').attr('src', imgePath);\n            html($$('.page-selldetail .goods-name'), fishTypeName, f7);\n            html($$('.page-selldetail .goods-create-time'), timeDifference(createTime), f7);\n            html($$('.selldetail-price'), price || '', f7);\n            specifications ? html($$('.selldetail-spec'), specifications, f7) : $$('.selldetail-spec').parent().remove();\n            stock ? html($$('.selldetail-stock'), stock, f7) : $$('.selldetail-stock').parent().remove();\n            provinceName ? html($$('.selldetail-address'), `${provinceName} ${cityName}`, f7) : $$('.selldetail-address').parent().remove();\n            describe ? html($$('.selldetail-description'), describe, f7) : $$('.selldetail-description').parent().remove();\n            let certHtml = '';\n            $$.each(user_ishCertificate_list.list, (index, item) => {\n                const { fish_type_name } = item;\n                fishTypeName === fish_type_name && (certHtml += selldetail.cert(item));\n            })\n            certHtml ? html(certList, certHtml, f7) : certList.parent().remove();\n            html($$('.page-selldetail .user-name'), contactName || '', f7);\n            html($$('.page-selldetail .user-tell>b'), requirementPhone, f7);\n            html($$('.page-selldetail .user-time'), centerShowTime(enterpriseAuthenticationTime), f7);\n            personalAuthenticationState !== 1 && enterpriseAuthenticationState !== 1 && $$('.user-cert').remove();\n            imgUrl && $$('.selldetail-userinfo img').attr('src', imgUrl);\n            html($$('.tabbar-price'), price || '', f7);\n        }\n        f7.hideIndicator();\n    }\n\n    customAjax.ajax({\n        apiCategory: 'demandInfo',\n        api: 'getDemandInfo',\n        data: [id],\n        val: {\n            id\n        },\n        type: 'get'\n    }, callback);\n\n    // dom event;\n    $$('.selldetail-call-delete').click(() => {\n        if (isReleaseForMe) {\n            console.log('deleter info!');\n            return;\n        }\n        console.log('call number!')\n    })\n\n\n    // const popupWindow = f7.photoBrowser({\n    //     photos: [{\n    //         url: 'http://yumaimai.img-cn-qingdao.aliyuncs.com/img/enterprise_authentication/20160727/1469585379903_8431.jpg',\n    //         caption: ''\n    //     }],\n    //     theme: 'dark',\n    //     type: 'popup'\n\n    // })\n    // $$('.open-cert-button').on('click', () => {\n    //     certUrl = 'http://yumaimai.img-cn-qingdao.aliyuncs.com/img/enterprise_authentication/20160727/1469585379903_8431.jpg';\n    //     popupWindow.open();\n    // })\n}\n\nmodule.exports = {\n    selldetailInit,\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/selldetail.js\n **/","import config from '../config';\nimport customAjax from '../middlewares/customAjax';\nimport store from '../utils/locaStorage';\nimport { selldetail } from '../utils/template';\nimport { timeDifference, centerShowTime } from '../utils/time';\nimport { home } from '../utils/template';\nimport { html } from '../utils/string';\n\nfunction buydetailInit(f7, view, page) {\n    const $$ = Dom7;\n    const { id } = page.query;\n    let isReleaseForMe = false;\n    const callback = (data) => {\n        if (data.data) {\n            const {\n                userInfo,\n                demandInfo,\n            } = data.data;\n            const locaUserId = store.get('userId');\n            const {\n                specifications,\n                stock,\n                provinceName,\n                describe,\n                cityName,\n                fishTypeName,\n                price,\n                createTime,\n                contactName,\n                requirementPhone\n            } = demandInfo;\n            const {\n                id,\n                enterpriseAuthenticationTime,\n                personalAuthenticationState,\n                enterpriseAuthenticationState,\n                imgUrl\n            } = userInfo;\n            if (id === locaUserId) {\n                isReleaseForMe = true;\n                $$('.selldetail-call-delete')\n                    .removeClass('icon-share')\n                    .html('')\n                    .addClass('icon-delete');\n            }\n            html($$('.page-buydetail .goods-name'), fishTypeName, f7);\n            html($$('.page-buydetail .goods-create-time'), timeDifference(createTime), f7);\n            html($$('.page-buydetail .selldetail-price'), price || '', f7);\n            specifications ? html($$('.selldetail-spec'), specifications, f7) : $$('.selldetail-spec').parent().remove();\n            stock ? html($$('.selldetail-stock'), stock, f7) : $$('.selldetail-stock').parent().remove();\n            provinceName ? html($$('.selldetail-address'), `${provinceName} ${cityName}`, f7) : $$('.selldetail-address').parent().remove();\n            describe ? html($$('.selldetail-description'), describe, f7) : $$('.selldetail-description').parent().remove();\n            html($$('.page-buydetail .user-name'), contactName || '', f7);\n            html($$('.page-buydetail .user-tell>b'), requirementPhone, f7);\n            html($$('.page-buydetail .user-time'), centerShowTime(enterpriseAuthenticationTime), f7);\n            personalAuthenticationState !== 1 && enterpriseAuthenticationState !== 1 && $$('.user-cert').remove();\n            imgUrl && $$('.selldetail-userinfo img').attr('src', imgUrl);\n            html($$('.tabbar-price'), price || '', f7);\n        }\n        f7.hideIndicator(300);\n    }\n\n    customAjax.ajax({\n        apiCategory: 'demandInfo',\n        api: 'getDemandInfo',\n        data: [id],\n        val: {\n            id\n        },\n        type: 'get'\n    }, callback);\n\n    $$('.buydetail-call-delete').click(() => {\n        if (isReleaseForMe) {\n            console.log('deleter info!');\n            return;\n        }\n        console.log('call number!')\n    })\n}\n\nmodule.exports = {\n    buydetailInit,\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/buydetail.js\n **/","import nativeEvent from '../utils/nativeEvent';\n\nfunction releaseInit(f7, view, page){\n\tconst $$ = Dom7;\n\tnativeEvent.init();\n\n\t$$('.release-sound').on('click', () => {\n\t\tnativeEvent.apiCount();\n\t})\n\n\t$$('.service-contact-us').on('click', () => {\n\t\tnativeEvent.contactUs();\n\t})\n}\n\nmodule.exports = {\n\treleaseInit,\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/release.js\n **/","class CustomClass {\n    init() {\n        this.$$ = Dom7;\n        this.device = window.currentDevice;\n    }\n\n    //The third party statistics.\n    apiCount(id) {\n        const { ios, android } = this.device;\n        ios && JS_UMengToCount(id);\n        android && window.yudada.JS_UMengToCount(id);\n    }\n\n    // contact us \n    contactUs(id) {\n        const { ios, android } = this.device;\n        ios && JS_MakeCall(id);\n        android && window.yudada.JS_MakeCall(id);\n    }\n\n    eventChooseAddress(){\n        const { ios, android } = this.device;\n        ios && JS_ChooseAddress();\n        android && window.yudada.JS_ChooseAddress();\n    }\n}\n\nconst nativeEvent = new CustomClass;\nexport default nativeEvent;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils/nativeEvent.js\n **/","function releaseSelectTypeInit(f7, view, page){\n\t\n}\n\nmodule.exports = {\n\treleaseSelectTypeInit\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/releaseSelectType.js\n **/","import config from '../config/';\nimport customAjax from '../middlewares/customAjax';\nimport { trim, html } from '../utils/string';\nimport { search } from '../utils/template';\nimport nativeEvent from '../utils/nativeEvent';\nimport {get, set } from '../utils/locaStorage';\nimport district from '../utils/district';\n\nfunction releaseInfoInit(f7, view, page) {\n    nativeEvent.init();\n    const $$ = Dom7;\n    const { type, fishId, fishName, parentFishId, parentFishName } = page.query;\n    let coordinate;\n    let title;\n    let provinceName;\n    let cityName;\n    const phoneNumber = get('phoneNumber');\n\n    if (type == 1) {\n        title = `${fishName}`;\n        html($$('.release-info-title'), '', f7);\n        html($$('.release-sub-info'), '', f7);\n    } else {\n        title = `${fishName}`;\n        html($$('.release-info-title'), '', f7);\n        html($$('.release-sub-info'), '', f7);\n    }\n    html($$('.release-info-name'), title, f7);\n\n    //take address ,longitude,latitude for native location.\n    window.getAdreesSys = (province, city, longitude, latitude) => {\n        if (province == \"\" || province == null) {\n            return;\n        }\n        const address = province + city;\n        provinceName = province;\n        cityName = city;\n        $(\".release-write-address>input\").val(address);\n        coordinate = { longitude, latitude }\n    }\n    $$(\".release-write-address\").on('click', () => {\n        // get address.\n        nativeEvent.eventChooseAddress();\n    })\n    if (phoneNumber) {\n        $$('.release-write-tell input').val(phoneNumber);\n    }\n\n\n    const callback = (data) => {\n\n    }\n    const getCityId = (provinceName, cityName) => {\n        const res = {};\n        $$.each(district.province, (index, item) => {\n            if (item.name == provinceName) {\n                res['provinceId'] = item.postcode;\n                $$.each(item.city, (_index, cityItem) => {\n                    if (cityItem.name == cityName) {\n                        res['cityId'] = cityItem.postcode;\n                    }\n                })\n            }\n        })\n        return res;\n    }\n\n    const subInfoTest = () => {\n            const price = trim($$('.release-write-price input').val());\n            const spec = trim($$('.release-write-spec input').val());\n            const stock = trim($$('.release-write-stock input').val());\n            const address = trim($$('.release-write-address input').val());\n            const description = trim($$('.release-info-discription textarea').val());\n            const name = trim($$('.release-write-contact input').val());\n            const phone = trim($$('.release-write-tell input').val());\n            const { provinceId, cityId } = getCityId(provinceName, cityName);\n            let error;\n            if (!/^1[3|4|5|7|8]\\d{9}$/.test(phone)) {\n                error = '';\n            } else if (!trim(address)) {\n                error = '';\n            }\n\n            return {\n                error,\n                fishParentTypeId: parentFishId,\n                fishParentTypeName: parentFishName,\n                fishTypeId: fishId,\n                fishTypeName: fishName,\n                requirementPhone: phone,\n                specifications: spec,\n                contactName: name,\n                longitude: coordinate && coordinate['longitude'],\n                latitude: coordinate && coordinate['latitude'],\n                address,\n                price,\n                stock,\n                provinceId,\n                cityId,\n                provinceName,\n                cityName,\n                type\n            }\n        }\n    // submit release infomation to server;\n    $$('.release-sub-info').click(() => {\n        const data = subInfoTest();\n        if (data.error) {\n            f7.alert(data.error);\n        } else {\n            customAjax.ajax({\n                apiCategory: 'demandInfo',\n                api: 'userAddDemandInfo',\n                data: data,\n                type: 'post',\n                isMandatory: true,\n                noCache: true\n            }, callback);\n        }\n    })\n}\nmodule.exports = {\n    releaseInfoInit,\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/releaseInfo.js\n **/"],"sourceRoot":""}